> *延遲在決定分散式服務/應用程式的整體效能中扮演關鍵角色，呼叫會在主機間進行，以服務使用者。*

RTT（往返時間）是從 A 發送封包到 B，並返回到 A 所需的時間，單位為毫秒。這個指標在決定服務效能時發揮作用。它的影響能在不同伺服器／服務之間的呼叫中看到，以服務使用者，以及可達成的 TCP 吞吐量。

服務通常會對叢集內的多個伺服器或其他服務（如驗證、日誌、資料庫等）進行多次呼叫，以回應每個使用者／客戶端請求。這些伺服器可能分佈於不同的機櫃，有時甚至位於同區域內不同的資料中心。在雲端解決方案中，部署跨多個站點於區域內的情況相當常見。隨著 RTT 增加，每次呼叫的回應時間變長，因此對送給使用者的最終回應產生連鎖效應。

### RTT 與吞吐量的關係

RTT 與 TCP 吞吐量成反比。當 RTT 增加時，TCP 吞吐量會降低，像封包遺失一樣。以下為根據 TCP MSS、RTT 與封包遺失率估算 TCP 吞吐量的公式。

![Diagram, schematic Description automatically generated](./media/RTT.png)

與資料中心內部相同，這些計算也對透過網際網路的通訊十分重要。因為使用者端可能透過不同電信網路連接資料中心所架設的服務，而 RTT 經常不穩定，這是因為網際網路路由政策的不可預測性所致。
