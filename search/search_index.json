{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"SRE\u5b78\u9662","text":"<p>\u7ad9\u9ede\u53ef\u9760\u6027\u5de5\u7a0b\u5e2b\uff08SREs\uff09\u4f4d\u65bc\u8edf\u9ad4\u5de5\u7a0b\u8207\u7cfb\u7d71\u5de5\u7a0b\u7684\u4ea4\u53c9\u9ede\u3002\u96d6\u7136\u57fa\u790e\u67b6\u69cb\u8207\u8edf\u9ad4\u7d44\u4ef6\u53ef\u900f\u904e\u7121\u9650\u591a\u7d44\u5408\u9054\u6210\u76ee\u6a19\uff0c\u4f46\u5c08\u6ce8\u65bc\u57fa\u790e\u6280\u80fd\uff0c\u80fd\u8b93 SREs \u64cd\u4f5c\u8907\u96dc\u7cfb\u7d71\u8207\u8edf\u9ad4\uff0c\u7121\u8ad6\u9019\u4e9b\u7cfb\u7d71\u662f\u5c08\u6709\u3001\u7b2c\u4e09\u65b9\u3001\u958b\u653e\u7cfb\u7d71\uff0c\u6216\u904b\u884c\u65bc\u96f2\u7aef/\u672c\u5730\u57fa\u790e\u67b6\u69cb\u7b49\u3002\u5c24\u5176\u91cd\u8981\u7684\u662f\u6df1\u5165\u4e86\u89e3\u7cfb\u7d71\u548c\u57fa\u790e\u67b6\u69cb\u7684\u9019\u4e9b\u9818\u57df\u5982\u4f55\u76f8\u4e92\u95dc\u806f\u8207\u4e92\u52d5\u3002\u8edf\u9ad4\u5de5\u7a0b\u8207\u7cfb\u7d71\u5de5\u7a0b\u6280\u80fd\u7684\u7d50\u5408\u76f8\u7576\u7f55\u898b\uff0c\u901a\u5e38\u9700\u7d93\u6b77\u9577\u6642\u9593\u63a5\u89f8\u591a\u7a2e\u57fa\u790e\u67b6\u69cb\u3001\u7cfb\u7d71\u8207\u8edf\u9ad4\u800c\u5efa\u7acb\u3002</p> <p>SREs \u5f15\u5165\u5de5\u7a0b\u5be6\u8e10\u4ee5\u7dad\u6301\u7db2\u7ad9\u904b\u4f5c\u3002\u6bcf\u500b\u5206\u6563\u5f0f\u7cfb\u7d71\u90fd\u7531\u8a31\u591a\u7d44\u4ef6\u96c6\u7d50\u800c\u6210\u3002SREs \u9a57\u8b49\u696d\u52d9\u9700\u6c42\uff0c\u5c07\u5176\u8f49\u6210\u5206\u6563\u5f0f\u7cfb\u7d71\u5404\u7d44\u4ef6\u7684 SLA\uff08\u670d\u52d9\u7b49\u7d1a\u5354\u8b70\uff09\uff0c\u76e3\u63a7\u8207\u8861\u91cf SLA \u9075\u5faa\u60c5\u6cc1\uff0c\u91cd\u65b0\u67b6\u69cb\u6216\u64f4\u5145\u4ee5\u7de9\u89e3\u6216\u907f\u514d SLA \u9055\u7d04\uff0c\u4e26\u5c07\u9019\u4e9b\u5b78\u7fd2\u6210\u679c\u53cd\u994b\u81f3\u65b0\u7cfb\u7d71\u6216\u5c08\u6848\uff0c\u5f9e\u800c\u6e1b\u5c11\u71df\u904b\u7169\u52de\u3002\u56e0\u6b64\uff0cSREs \u5f9e\u7cfb\u7d71\u7684 Day 0 \u8a2d\u8a08\u968e\u6bb5\u8d77\u5c31\u626e\u6f14\u95dc\u9375\u89d2\u8272\u3002</p> <p>2019 \u5e74\u521d\uff0c\u6211\u5011\u958b\u59cb\u9020\u8a2a\u5370\u5ea6\u5404\u5927\u5b78\u6821\u5712\uff0c\u62db\u8058\u6700\u512a\u79c0\u5353\u8d8a\u7684\u4eba\u624d\uff0c\u78ba\u4fdd LinkedIn \u53ca\u5176\u7d44\u6210\u8907\u96dc\u6280\u8853\u5806\u758a\u7684\u6240\u6709\u670d\u52d9\u7686\u53ef\u96a8\u6642\u70ba\u7528\u6236\u63d0\u4f9b\u670d\u52d9\u3002LinkedIn \u6b64\u95dc\u9375\u8077\u80fd\u96b8\u5c6c\u65bc\u7ad9\u9ede\u5de5\u7a0b\u5718\u968a\u53ca\u5c08\u7cbe\u53ef\u9760\u6027\u7684\u8edf\u9ad4\u5de5\u7a0b\u5e2b\u2500\u2500\u7ad9\u9ede\u53ef\u9760\u6027\u5de5\u7a0b\u5e2b\uff08SREs\uff09\u3002</p> <p>\u96a8\u8457\u65c5\u7a0b\u63a8\u9032\uff0c\u5404\u6821\u5712\u5b78\u751f\u7d1b\u7d1b\u63d0\u554f\u7ad9\u9ede\u53ef\u9760\u6027\u5de5\u7a0b\u5e2b\u7684\u5de5\u4f5c\u5167\u5bb9\u70ba\u4f55\uff1f\u5982\u4f55\u5b78\u7fd2\u6210\u70ba\u6210\u529f\u7684 SRE \u6240\u9700\u7684\u6280\u80fd\u8207\u7d00\u5f8b\uff1f\u5e7e\u500b\u6708\u5f8c\uff0c\u90e8\u5206\u6821\u5712\u5b78\u751f\u4f5c\u70ba\u5be6\u7fd2\u751f\u6216\u6b63\u5f0f\u5de5\u7a0b\u5e2b\u52a0\u5165 LinkedIn \u6210\u70ba\u7ad9\u9ede\u5de5\u7a0b\u5718\u968a\u4e00\u54e1\uff1b\u4e5f\u6709\u90e8\u5206\u8f49\u8077\u8005\u52a0\u5165\uff0c\u80cc\u666f\u975e\u50b3\u7d71 SRE\u3002\u56e0\u800c\u6578\u4f4d\u540c\u4e8b\u958b\u59cb\u601d\u8003\uff0c\u5982\u4f55\u5354\u52a9\u65b0\u9032\u7562\u696d\u5de5\u7a0b\u5e2b\u9806\u5229\u52a0\u5165\u7ad9\u9ede\u5de5\u7a0b\u5718\u968a\u3002</p> <p>\u5e02\u9762\u4e0a\u5f88\u5c11\u6709\u8cc7\u6e90\u6307\u5c0e\u521d\u5b78\u8005\u958b\u767c SRE \u57fa\u672c\u6280\u80fd\u3002\u7f3a\u4e4f\u9019\u4e9b\u8cc7\u6e90\u8b93\u8a31\u591a\u4eba\u96e3\u4ee5\u9032\u5165\u696d\u754c\u76f8\u95dc\u8077\u7f3a\u3002\u56e0\u6b64\uff0c\u6211\u5011\u5275\u5efa\u4e86 SRE \u5b78\u9662\uff0c\u4f5c\u70ba\u6709\u5fd7\u5efa\u7acb SRE \u8077\u6daf\u8005\u7684\u51fa\u767c\u9ede\u3002</p> <p>\u672c\u8ab2\u7a0b\u8457\u91cd\u65bc\u6253\u7a69\u57fa\u790e\u6280\u80fd\uff0c\u7d50\u69cb\u5b89\u6392\u5f37\u8abf\u5be6\u969b\u6848\u4f8b\uff0c\u8aaa\u660e\u5b78\u7fd2\u5404\u4e3b\u984c\u5982\u4f55\u767c\u63ee\u65bc SRE \u65e5\u5e38\u5de5\u4f5c\u3002\u76ee\u524d SRE \u5b78\u9662\u6db5\u84cb\u4ee5\u4e0b\u4e3b\u984c\uff1a</p> <ul> <li> <p>\u6bb5\u968e 101</p> <ul> <li>\u57fa\u790e\u7cfb\u5217<ul> <li>Linux \u57fa\u790e</li> <li>Git</li> <li>Linux \u7db2\u8def</li> </ul> </li> <li>Python \u8207\u7db2\u9801</li> <li>\u8cc7\u6599<ul> <li>\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\uff08MySQL\uff09</li> <li>NoSQL \u6982\u5ff5</li> <li>\u5927\u6578\u64da</li> </ul> </li> <li>\u7cfb\u7d71\u8a2d\u8a08</li> <li>\u6307\u6a19\u8207\u76e3\u63a7</li> <li>\u5b89\u5168</li> </ul> </li> <li> <p>\u6bb5\u968e 102</p> <ul> <li>Linux \u9032\u968e</li> <li>Linux \u9ad8\u968e<ul> <li>\u5bb9\u5668\u8207\u7de8\u6392</li> <li>\u7cfb\u7d71\u547c\u53eb\u8207\u8a0a\u865f</li> </ul> </li> <li>\u7db2\u8def</li> <li>\u7cfb\u7d71\u8a2d\u8a08</li> <li>\u7cfb\u7d71\u6545\u969c\u6392\u9664\u8207\u6548\u80fd\u512a\u5316</li> <li>\u6301\u7e8c\u6574\u5408\u8207\u6301\u7e8c\u90e8\u7f72</li> </ul> </li> </ul> <p>\u6211\u5011\u76f8\u4fe1\u6301\u7e8c\u5b78\u7fd2\u6709\u52a9\u65bc\u6df1\u5165\u77e5\u8b58\u8207\u6280\u80fd\u64f4\u5145\u3002\u6bcf\u500b\u55ae\u5143\u9644\u6709\u53c3\u8003\u8cc7\u6599\uff0c\u4f9b\u66f4\u6df1\u5165\u7684\u5b78\u7fd2\u6307\u5f15\u3002\u6211\u5011\u671f\u671b\u900f\u904e\u9019\u4e9b\u55ae\u5143\uff0c\u80fd\u69cb\u7bc9\u7ad9\u9ede\u53ef\u9760\u6027\u5de5\u7a0b\u5e2b\u6240\u9700\u7684\u6838\u5fc3\u6280\u80fd\u3002</p> <p>\u5728 LinkedIn\uff0c\u6211\u5011\u5df2\u63a1\u7528\u6b64\u8ab2\u7a0b\u5354\u52a9\u975e\u50b3\u7d71\u80cc\u666f\u65b0\u9032\u4eba\u54e1\u8207\u525b\u7562\u696d\u5de5\u7a0b\u5e2b\u9806\u5229\u929c\u63a5 SRE \u89d2\u8272\u3002\u591a\u6b21\u6210\u529f\u5c0e\u5165\u65b0\u54e1\u5de5\uff0c\u52a0\u901f\u5176\u5feb\u901f\u7522\u51fa\uff0c\u4fc3\u4f7f\u6211\u5011\u6c7a\u5b9a\u5c07\u5167\u5bb9\u958b\u6e90\uff0c\u5354\u52a9\u5176\u4ed6\u7d44\u7e54\u57f9\u80b2\u65b0\u5de5\u7a0b\u5e2b\uff0c\u4e26\u70ba\u6709\u5fd7\u8005\u63d0\u4f9b\u6307\u5c0e\u3002\u6211\u5011\u4e86\u89e3\u73fe\u6709\u5167\u5bb9\u53ea\u662f\u8d77\u9ede\uff0c\u671f\u76fc\u793e\u7fa4\u5171\u540c\u5354\u52a9\u512a\u5316\u8207\u64f4\u5145\u3002\u6b61\u8fce\u53c3\u8003\u4e26\u52a0\u5165\u8ca2\u737b\u6307\u5357\uff1aCONTRIBUTING.md\u3002</p>"},{"location":"CODE_OF_CONDUCT/","title":"Code of Conduct","text":"<p>\u6b64\u884c\u70ba\u6e96\u5247\u6982\u8ff0\u4e86\u53c3\u8207 LinkedIn \u7ba1\u7406\u7684\u958b\u6e90\u793e\u7fa4\u7684\u671f\u671b\uff0c\u4ee5\u53ca\u8209\u5831\u4e0d\u53ef\u63a5\u53d7\u884c\u70ba\u7684\u6b65\u9a5f\u3002\u6211\u5011\u81f4\u529b\u65bc\u70ba\u6240\u6709\u4eba\u63d0\u4f9b\u4e00\u500b\u53cb\u5584\u4e14\u6fc0\u52f5\u4eba\u5fc3\u7684\u793e\u7fa4\u3002\u9055\u53cd\u672c\u884c\u70ba\u6e96\u5247\u7684\u4eba\u53ef\u80fd\u6703\u88ab\u7981\u6b62\u9032\u5165\u793e\u7fa4\u3002</p> <p>\u6211\u5011\u7684\u958b\u6e90\u793e\u7fa4\u52aa\u529b\u505a\u5230\uff1a</p> <ul> <li>\u53cb\u5584\u4e14\u6709\u8010\u5fc3\uff1a \u8acb\u8a18\u5f97\u60a8\u53ef\u80fd\u4e26\u975e\u5728\u8207\u4ed6\u4eba\u7684\u4e3b\u8981\u8a9e\u8a00\uff08\u53e3\u8a9e\u6216\u7a0b\u5f0f\u8a9e\u8a00\uff09\u6e9d\u901a\uff0c\u4e14\u4ed6\u4eba\u53ef\u80fd\u6c92\u6709\u60a8\u7684\u7406\u89e3\u7a0b\u5ea6\u3002</li> <li>\u71b1\u60c5\u6b61\u8fce\uff1a \u6211\u5011\u7684\u793e\u7fa4\u6b61\u8fce\u4e26\u652f\u6301\u5404\u7a2e\u80cc\u666f\u53ca\u8eab\u4efd\u7684\u4eba\u58eb\u3002\u9019\u5305\u62ec\u4f46\u4e0d\u9650\u65bc\u4efb\u4f55\u7a2e\u65cf\u3001\u65cf\u88d4\u3001\u6587\u5316\u3001\u570b\u7c4d\u3001\u819a\u8272\u3001\u79fb\u6c11\u8eab\u4efd\u3001\u793e\u6703\u53ca\u7d93\u6fdf\u968e\u5c64\u3001\u6559\u80b2\u7a0b\u5ea6\u3001\u6027\u5225\u3001\u6027\u53d6\u5411\u3001\u6027\u5225\u8a8d\u540c\u8207\u8868\u9054\u3001\u5e74\u9f61\u3001\u9ad4\u578b\u3001\u5bb6\u5ead\u72c0\u6cc1\u3001\u653f\u6cbb\u4fe1\u4ef0\u3001\u5b97\u6559\uff0c\u4ee5\u53ca\u5fc3\u7406\u548c\u8eab\u9ad4\u80fd\u529b\u7684\u6210\u54e1\u3002</li> <li>\u5c0a\u91cd\u4ed6\u4eba\uff1a \u6211\u5011\u662f\u5168\u7403\u7684\u5c08\u696d\u4eba\u58eb\u793e\u7fa4\uff0c\u884c\u70ba\u8209\u6b62\u4ea6\u61c9\u5c08\u696d\u3002\u610f\u898b\u4e0d\u5408\u4e0d\u662f\u7c97\u9b6f\u6216\u7121\u79ae\u7684\u7406\u7531\u3002\u4e0d\u5c0a\u91cd\u53ca\u4e0d\u53ef\u63a5\u53d7\u7684\u884c\u70ba\u5305\u62ec\u4f46\u4e0d\u9650\u65bc\uff1a<ul> <li>\u66b4\u529b\u5a01\u8105\u6216\u8a00\u8ad6\u3002</li> <li>\u6b67\u8996\u6027\u6216\u8cb6\u4f4e\u6027\u7684\u7b11\u8a71\u53ca\u8a00\u8a9e\u3002</li> <li>\u767c\u4f48\u8272\u60c5\u6216\u66b4\u529b\u5167\u5bb9\u3002</li> <li>\u767c\u4f48\u6216\u5a01\u8105\u767c\u4f48\u500b\u4eba\u8b58\u5225\u8cc7\u8a0a\uff08\u300cdoxing\u300d\uff09\u3002</li> <li>\u4fae\u8fb1\uff0c\u5c24\u5176\u662f\u4f7f\u7528\u6b67\u8996\u6027\u7528\u8a9e\u6216\u7f75\u4eba\u5b57\u773c\u3002</li> <li>\u53ef\u80fd\u88ab\u8996\u70ba\u6027\u9a37\u64fe\u7684\u884c\u70ba\u3002</li> <li>\u9f13\u5439\u6216\u9f13\u52f5\u4e0a\u8ff0\u4efb\u4f55\u884c\u70ba\u3002</li> </ul> </li> <li>\u7406\u89e3\u610f\u898b\u5206\u6b67\uff1a \u793e\u4ea4\u53ca\u6280\u8853\u4e0a\u7684\u5206\u6b67\u662f\u6709\u50f9\u503c\u7684\u5b78\u7fd2\u6a5f\u6703\u3002\u8a66\u8457\u7406\u89e3\u4ed6\u4eba\u7684\u89c0\u9ede\uff0c\u4e26\u5efa\u8a2d\u6027\u5730\u89e3\u6c7a\u5206\u6b67\u3002</li> <li>\u672c\u6e96\u5247\u4e26\u975e\u8a73\u76e1\u7121\u907a\uff0c\u800c\u662f\u53cd\u6620\u6211\u5011\u5c0d\u6709\u5efa\u8a2d\u6027\u3001\u5354\u4f5c\u74b0\u5883\u7684\u5171\u540c\u7406\u89e3\u3002\u6211\u5011\u671f\u671b\u6210\u54e1\u7cbe\u795e\u4e0a\u53ca\u6587\u5b57\u4e0a\u7686\u9075\u5b88\u672c\u6e96\u5247\u3002</li> </ul>"},{"location":"CODE_OF_CONDUCT/#_1","title":"\u7bc4\u570d","text":"<p>\u672c\u884c\u70ba\u6e96\u5247\u9069\u7528\u65bc\u6240\u6709 LinkedIn \u7ba1\u7406\u4e4b\u958b\u6e90\u5c08\u6848\u7684\u5009\u5eab\u53ca\u793e\u7fa4\uff0c\u7121\u8ad6\u8a72\u5009\u5eab\u662f\u5426\u660e\u78ba\u5ba3\u7a31\u4f7f\u7528\u672c\u6e96\u5247\u3002\u7576\u500b\u4eba\u4ee3\u8868\u5c08\u6848\u6216\u793e\u7fa4\u6642\uff0c\u516c\u5171\u5834\u5408\u4e5f\u61c9\u9075\u5b88\u672c\u6e96\u5247\u3002\u4f8b\u5982\u4f7f\u7528\u5b98\u65b9\u5c08\u6848\u96fb\u5b50\u90f5\u4ef6\u5730\u5740\u3001\u900f\u904e\u5b98\u65b9\u793e\u7fa4\u5a92\u9ad4\u5e33\u865f\u767c\u5e16\uff0c\u6216\u5728\u7dda\u4e0a\u6216\u7dda\u4e0b\u6d3b\u52d5\u4e2d\u64d4\u4efb\u6307\u5b9a\u4ee3\u8868\u3002\u5c08\u6848\u7dad\u8b77\u8005\u53ef\u9032\u4e00\u6b65\u5b9a\u7fa9\u53ca\u8aaa\u660e\u4ee3\u8868\u884c\u70ba\u3002</p> <p>\u6ce8\u610f\uff1a\u90e8\u5206 LinkedIn \u7ba1\u7406\u7684\u793e\u7fa4\u64c1\u6709\u65e9\u65bc\u6b64\u6587\u4ef6\u53ca\u4e8b\u4ef6\u8655\u7406\u89e3\u6c7a\u6d41\u7a0b\u7684\u884c\u70ba\u6e96\u5247\u3002\u96d6\u7136\u793e\u7fa4\u7121\u9808\u4fee\u6539\u5176\u6e96\u5247\uff0c\u4f46\u9810\u671f\u6703\u4f7f\u7528\u672c\u6587\u4ef6\u6240\u8ff0\u7684\u89e3\u6c7a\u6d41\u7a0b\u3002\u5be9\u67e5\u5718\u968a\u5c07\u8207\u76f8\u95dc\u793e\u7fa4\u5354\u8abf\u8655\u7406\u60a8\u7684\u554f\u984c\u3002</p>"},{"location":"CODE_OF_CONDUCT/#_2","title":"\u8209\u5831\u884c\u70ba\u6e96\u5247\u554f\u984c","text":"<p>\u6211\u5011\u9f13\u52f5\u6240\u6709\u793e\u7fa4\u76e1\u53ef\u80fd\u81ea\u884c\u89e3\u6c7a\u554f\u984c\u3002\u9019\u6709\u52a9\u65bc\u5efa\u7acb\u66f4\u6df1\u5165\u53ca\u5ee3\u6cdb\u7684\u7406\u89e3\uff0c\u6700\u7d42\u4fc3\u9032\u66f4\u5065\u5eb7\u7684\u4e92\u52d5\u3002\u5982\u7121\u6cd5\u5728\u672c\u5730\u89e3\u6c7a\u554f\u984c\uff0c\u6b61\u8fce\u901a\u904eoss@linkedin.com\u8209\u5831\u60a8\u7684\u7591\u616e\u3002</p> <p>\u8acb\u5728\u5831\u544a\u4e2d\u5305\u542b\uff1a</p> <ul> <li>\u60a8\u7684\u806f\u7d61\u8cc7\u8a0a\u3002</li> <li>\u6d89\u53ca\u4e8b\u4ef6\u7684\u4efb\u4f55\u500b\u4eba\u540d\u7a31\uff08\u771f\u5be6\u59d3\u540d\u3001\u7528\u6236\u540d\u6216\u5316\u540d\uff09\u3002\u5982\u6709\u5176\u4ed6\u76ee\u64ca\u8005\uff0c\u4e5f\u8acb\u4e00\u4f75\u63d0\u4f9b\u3002</li> <li>\u60a8\u5c0d\u4e8b\u4ef6\u7684\u63cf\u8ff0\uff0c\u4ee5\u53ca\u60a8\u662f\u5426\u8a8d\u70ba\u4e8b\u4ef6\u4ecd\u5728\u6301\u7e8c\u767c\u751f\u3002\u5982\u6709\u516c\u958b\u7d00\u9304\uff08\u4f8b\u5982\u90f5\u4ef6\u5217\u8868\u5b58\u6a94\u6216\u516c\u958b\u804a\u5929\u5ba4\u8a18\u9304\uff09\uff0c\u8acb\u9644\u4e0a\u9023\u7d50\u6216\u9644\u4ef6\u3002</li> <li>\u4efb\u4f55\u53ef\u80fd\u6709\u5e6b\u52a9\u7684\u5176\u4ed6\u8cc7\u8a0a\u3002</li> </ul> <p>\u6240\u6709\u5831\u544a\u5c07\u7531\u591a\u4eba\u7d44\u6210\u7684\u5718\u968a\u5be9\u6838\uff0c\u4e26\u6839\u64da\u60c5\u6cc1\u63a1\u53d6\u5fc5\u8981\u4e14\u9069\u7576\u7684\u56de\u61c9\u3002\u82e5\u9700\u66f4\u591a\u89c0\u9ede\uff0c\u5718\u968a\u53ef\u80fd\u6703\u5c0b\u6c42\u5177\u76f8\u95dc\u5c08\u696d\u6216\u7d93\u9a57\u8005\u7684\u610f\u898b\u3002\u5831\u544a\u8005\u8eab\u4efd\u6703\u5168\u7a0b\u4fdd\u5bc6\u3002\u6d89\u4e8b\u96d9\u65b9\u4e0d\u6703\u53c3\u8207\u5be9\u67e5\u5718\u968a\u3002</p> <p>\u4efb\u4f55\u88ab\u8981\u6c42\u505c\u6b62\u4e0d\u53ef\u63a5\u53d7\u884c\u70ba\u7684\u4eba\u58eb\uff0c\u61c9\u7acb\u5373\u9075\u5f9e\u3002\u5982\u6709\u4eba\u6301\u7e8c\u5f9e\u4e8b\u4e0d\u53ef\u63a5\u53d7\u884c\u70ba\uff0c\u5be9\u67e5\u5718\u968a\u53ef\u63a1\u53d6\u5305\u62ec\u6c38\u4e45\u7981\u6b62\u9032\u5165\u793e\u7fa4\u7b49\u9069\u7576\u63aa\u65bd\u3002</p> <p>\u672c\u884c\u70ba\u6e96\u5247\u57fa\u65bcMicrosoft\u958b\u6e90\u884c\u70ba\u5b88\u5247\uff0c\u8a72\u5b88\u5247\u53c8\u57fa\u65bc\u7531TODO Group\u5236\u5b9a\u7684\u7bc4\u672c\uff0c\u4e26\u7531\u591a\u500b\u5927\u578b\u793e\u7fa4\u63a1\u7528\uff08\u4f8b\u5982\uff0cFacebook\u3001Yahoo\u3001Twitter\u3001GitHub\uff09\uff0c\u4ee5\u53caContributor Covenant 1.4 \u7248\u672c\u7684\u7bc4\u570d\u7ae0\u7bc0\u3002</p>"},{"location":"CONTRIBUTING/","title":"Contribute","text":"<p>\u6211\u5011\u4e86\u89e3\u6700\u521d\u5efa\u7acb\u7684\u5167\u5bb9\u53ea\u662f\u8d77\u9ede\uff0c\u6211\u5011\u5e0c\u671b\u793e\u7fa4\u80fd\u5920\u5728\u9019\u6bb5\u65c5\u7a0b\u4e2d\u5354\u52a9\u7cbe\u7149\u8207\u64f4\u5145\u5167\u5bb9\u3002</p> <p>\u4f5c\u70ba\u8ca2\u737b\u8005\uff0c\u60a8\u4fdd\u8b49\u60a8\u63d0\u4ea4\u7684\u5167\u5bb9\u4e26\u975e\u6284\u8972\u3002\u63d0\u4ea4\u5167\u5bb9\u5373\u8868\u793a\u60a8\uff08\u4ee5\u53ca\u5728\u9069\u7528\u60c5\u6cc1\u4e0b\u60a8\u7684\u96c7\u4e3b\uff09\u540c\u610f\u5c07\u63d0\u4ea4\u7684\u5167\u5bb9\u4f9d\u64da\u300c\u5275\u7528 CC \u59d3\u540d\u6a19\u793a 4.0 \u570b\u969b\u516c\u5171\u6388\u6b0a\u300d\u6388\u6b0a\u7d66 LinkedIn \u8207\u958b\u6e90\u793e\u7fa4\u3002</p> <p>\u5009\u5eab\u7db2\u5740: https://github.com/linkedin/school-of-sre</p>"},{"location":"CONTRIBUTING/#_1","title":"\u8ca2\u737b\u6307\u5357","text":"<p>\u8acb\u78ba\u4fdd\u60a8\u9075\u5b88\u4ee5\u4e0b\u6307\u5357\uff1a</p> <ul> <li>\u5167\u5bb9\u61c9\u95dc\u65bc\u53ef\u61c9\u7528\u65bc\u4efb\u4f55\u516c\u53f8\u6216\u500b\u4eba\u5c08\u6848\u7684\u539f\u5247\u8207\u6982\u5ff5\uff0c\u4e0d\u61c9\u805a\u7126\u65bc\u7279\u5b9a\u5de5\u5177\u6216\u6280\u8853\u68e7\uff08\u9019\u4e9b\u901a\u5e38\u6703\u96a8\u6642\u9593\u6539\u8b8a\uff09\u3002</li> <li>\u9075\u5b88 \u884c\u70ba\u6e96\u5247\u3002</li> <li>\u5167\u5bb9\u61c9\u8207 SRE \u7684\u89d2\u8272\u8207\u8077\u8cac\u76f8\u95dc\u3002</li> <li>\u5167\u5bb9\u61c9\u5728\u672c\u5730\u6e2c\u8a66\uff08\u8acb\u53c3\u7167\u6e2c\u8a66\u6b65\u9a5f\uff09\u4e26\u4e14\u683c\u5f0f\u826f\u597d\u3002</li> <li>\u6700\u4f73\u5be6\u52d9\u662f\u5148\u958b\u555f\u8b70\u984c\u4e26\u8a0e\u8ad6\u60a8\u7684\u66f4\u6539\uff0c\u518d\u63d0\u4ea4\u62c9\u53d6\u8acb\u6c42\u3002\u5982\u6b64\u60a8\u53ef\u4ee5\u5728\u958b\u59cb\u524d\u878d\u5408\u4ed6\u4eba\u7684\u5efa\u8b70\u3002</li> </ul>"},{"location":"CONTRIBUTING/#_2","title":"\u672c\u5730\u69cb\u5efa\u8207\u6e2c\u8a66","text":"<p>\u5728\u958b\u555f PR \u524d\uff0c\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4\u4ee5\u5728\u672c\u5730\u69cb\u5efa\u4e26\u6aa2\u8996\u7db2\u7ad9\u3002</p> <pre><code>python3 -m venv .venv\nsource .venv/bin/activate\npip install -r requirements.txt\nmkdocs build\nmkdocs serve\n</code></pre>"},{"location":"CONTRIBUTING/#pr","title":"\u958b\u555f PR","text":"<p>\u8acb\u4f9d\u7167 GitHub PR \u5de5\u4f5c\u6d41\u7a0b \u9032\u884c\u60a8\u7684\u8ca2\u737b\u3002</p> <p>\u5c07\u672c\u5009\u5eab\u5206\u53c9\uff08fork\uff09\uff0c\u5efa\u7acb\u529f\u80fd\u5206\u652f\uff0c\u63d0\u4ea4\u66f4\u6539\uff0c\u7136\u5f8c\u958b\u555f\u6307\u5411\u672c\u5009\u5eab\u7684\u62c9\u53d6\u8acb\u6c42\uff08PR\uff09\u3002</p>"},{"location":"sre_community/","title":"SRE Community","text":"<p>\u6211\u5011\u64c1\u6709\u4e00\u500b\u6d3b\u8e8d\u7684 LinkedIn \u793e\u7fa4\uff0c\u5c08\u70ba SRE \u5b78\u6821\u8a2d\u8a08\u3002</p> <p>\u8acb\u900f\u904e\u4ee5\u4e0b\u9023\u7d50\u52a0\u5165\u7fa4\u7d44\uff1ahttps://www.linkedin.com/groups/12493545/</p> <p>\u8a72\u7fa4\u7d44\u6210\u54e1\u4f86\u81ea\u4e0d\u540c\u7d93\u9a57\u5c64\u7d1a\u7684\u7db2\u7ad9\u53ef\u9760\u6027\u5de5\u7a0b\u5e2b\uff0c\u8a0e\u8ad6\u5167\u5bb9\u6db5\u84cb\u5404\u7a2e\u8207\u7db2\u7ad9\u53ef\u9760\u6027\u5de5\u7a0b\u76f8\u95dc\u7684\u6280\u8853\u8a71\u984c\u3002\u6211\u5011\u9f13\u52f5\u6bcf\u4f4d\u6210\u54e1\u7a4d\u6975\u53c3\u8207\u8a0e\u8ad6\uff0c\u5f7c\u6b64\u5b78\u7fd2\uff0c\u5171\u540c\u5728 SRE \u9818\u57df\u5efa\u7acb\u6210\u529f\u7684\u8077\u6daf\u3002</p>"},{"location":"level101/big_data/evolution/","title":"Hadoop \u7684\u6f14\u9032","text":""},{"location":"level101/big_data/evolution/#hadoop_1","title":"Hadoop \u7684\u67b6\u69cb","text":"<ol> <li> <p>HDFS</p> <ol> <li>Hadoop \u5206\u6563\u5f0f\u6a94\u6848\u7cfb\u7d71\uff08HDFS\uff09\u662f\u4e00\u500b\u8a2d\u8a08\u7528\u65bc\u5728\u666e\u901a\u786c\u9ad4\u4e0a\u904b\u884c\u7684\u5206\u6563\u5f0f\u6a94\u6848\u7cfb\u7d71\u3002\u5b83\u8207\u73fe\u6709\u7684\u5206\u6563\u5f0f\u6a94\u6848\u7cfb\u7d71\u6709\u8a31\u591a\u76f8\u4f3c\u4e4b\u8655\uff0c\u4e0d\u904e\u8207\u5176\u4ed6\u5206\u6563\u5f0f\u6a94\u6848\u7cfb\u7d71\u7684\u5dee\u7570\u4e5f\u76f8\u7576\u660e\u986f\u3002</li> <li>HDFS \u5177\u9ad8\u5ea6\u5bb9\u932f\u80fd\u529b\uff0c\u4e26\u8a2d\u8a08\u70ba\u80fd\u90e8\u7f72\u65bc\u4f4e\u6210\u672c\u786c\u9ad4\u3002HDFS \u63d0\u4f9b\u5c0d\u61c9\u7528\u7a0b\u5f0f\u8cc7\u6599\u7684\u9ad8\u541e\u5410\u91cf\u8a2a\u554f\uff0c\u9069\u5408\u5177\u6709\u5927\u898f\u6a21\u8cc7\u6599\u96c6\u7684\u61c9\u7528\u3002</li> <li>HDFS \u662f Apache Hadoop Core \u5c08\u6848 \u7684\u4e00\u90e8\u5206\u3002</li> </ol> <p></p> <p>HDFS \u7684\u4e3b\u8981\u7d44\u4ef6\u5305\u62ec\uff1a 1. NameNode\uff1a\u70ba\u96c6\u7fa4\u4e2d\u6a94\u6848\u547d\u540d\u7a7a\u9593\u7684\u4ef2\u88c1\u8005\u8207\u4e2d\u592e\u5132\u5b58\u5eab\u3002NameNode \u8655\u7406\u6253\u958b\u3001\u95dc\u9589\u53ca\u91cd\u547d\u540d\u6a94\u6848\u548c\u76ee\u9304\u7b49\u64cd\u4f5c\u3002 2. DataNode\uff1a\u7ba1\u7406\u9644\u52a0\u65bc\u8a72\u7bc0\u9ede\u7684\u5132\u5b58\u7a7a\u9593\uff0c\u8ca0\u8cac\u8655\u7406\u6240\u6709\u8b80\u5beb\u8acb\u6c42\u3002\u6839\u64da NameNode \u6307\u4ee4\u57f7\u884c\u64cd\u4f5c\uff0c\u5982\u5340\u584a\u7684\u5efa\u7acb\u3001\u522a\u9664\u548c\u8907\u88fd\u3002 3. Client\uff1a\u8ca0\u8cac\u5f9e NameNode \u53d6\u5f97\u6240\u9700\u7684\u5143\u8cc7\u6599\uff0c\u63a5\u8457\u8207 DataNode \u6e9d\u901a\u4ee5\u5b8c\u6210\u8b80\u53d6\u548c\u5beb\u5165\u4f5c\u696d\u3002 </p> </li> <li> <p>YARN     YARN \u662f \u201cYet Another Resource Negotiator\u201d\uff08\u53e6\u4e00\u500b\u8cc7\u6e90\u5354\u8abf\u5668\uff09\u7684\u7e2e\u5beb\u3002\u5b83\u5728 Hadoop 2.0 \u4e2d\u5f15\u5165\uff0c\u4ee5\u89e3\u6c7a Hadoop 1.0 \u4e2d Job Tracker \u7684\u74f6\u9838\u554f\u984c\u3002\u7576\u6642 YARN \u88ab\u63cf\u8ff0\u70ba\u201c\u91cd\u65b0\u8a2d\u8a08\u7684\u8cc7\u6e90\u7ba1\u7406\u5668\u201d\uff0c\u76ee\u524d\u5df2\u6f14\u8b8a\u70ba\u7528\u65bc\u5927\u6578\u64da\u8655\u7406\u7684\u5927\u898f\u6a21\u5206\u6563\u5f0f\u4f5c\u696d\u7cfb\u7d71\u3002</p> <p></p> <p>YARN \u67b6\u69cb\u7684\u4e3b\u8981\u7d44\u4ef6\u5305\u62ec\uff1a 1. Client\uff1a\u63d0\u4ea4 MapReduce\uff08MR\uff09\u5de5\u4f5c\u7d66\u8cc7\u6e90\u7ba1\u7406\u5668\u3002 2. Resource Manager\uff1aYARN \u7684\u4e3b\u63a7\u5b88\u8b77\u7a0b\u5e8f\uff0c\u8ca0\u8cac\u6240\u6709\u61c9\u7528\u7684\u8cc7\u6e90\u5206\u914d\u8207\u7ba1\u7406\u3002\u7576\u63a5\u6536\u8655\u7406\u8acb\u6c42\u6642\uff0c\u6703\u5c07\u5176\u8f49\u9001\u7d66\u76f8\u61c9\u7684\u7bc0\u9ede\u7ba1\u7406\u5668\uff0c\u4e26\u4f9d\u9700\u6c42\u5206\u914d\u8cc7\u6e90\u3002\u5176\u5167\u542b\u5169\u5927\u7d44\u4ef6\uff1a     1. Scheduler\uff1a\u6839\u64da\u5df2\u5206\u914d\u7684\u61c9\u7528\u548c\u53ef\u7528\u8cc7\u6e90\u9032\u884c\u6392\u7a0b\u3002\u5b83\u7d14\u7cb9\u662f\u6392\u7a0b\u5668\uff0c\u7121\u76e3\u63a7\u6216\u8ffd\u8e64\u529f\u80fd\uff0c\u4e5f\u7121\u4fdd\u8b49\u5931\u6557\u4efb\u52d9\u6703\u91cd\u555f\u3002YARN \u6392\u7a0b\u5668\u652f\u6301 Capacity Scheduler \u548c Fair Scheduler \u7b49\u63d2\u4ef6\u4ee5\u5206\u5272\u53e2\u96c6\u8cc7\u6e90\u3002     2. Application manager\uff1a\u8ca0\u8cac\u63a5\u53d7\u61c9\u7528\u4e26\u5f9e\u8cc7\u6e90\u7ba1\u7406\u5668\u5354\u5546\u7b2c\u4e00\u500b\u5bb9\u5668\u3002\u4efb\u52d9\u5931\u6557\u6642\uff0c\u4ea6\u6703\u91cd\u555f Application Manager \u5bb9\u5668\u3002 3. Node Manager\uff1a\u7ba1\u7406 Hadoop \u53e2\u96c6\u4e2d\u500b\u5225\u7bc0\u9ede\u548c\u8a72\u7bc0\u9ede\u4e0a\u7684\u61c9\u7528\u7a0b\u5f0f\u53ca\u5de5\u4f5c\u6d41\u7a0b\u3002\u4e3b\u8981\u5de5\u4f5c\u662f\u8207 Node Manager \u4fdd\u6301\u540c\u6b65\uff0c\u76e3\u63a7\u8cc7\u6e90\u4f7f\u7528\uff0c\u7ba1\u7406\u65e5\u8a8c\uff0c\u4e26\u4f9d\u8cc7\u6e90\u7ba1\u7406\u5668\u6307\u793a\u7d42\u6b62\u5bb9\u5668\u3002\u5b83\u4e5f\u8ca0\u8cac\u5efa\u7acb\u4e26\u555f\u52d5\u5bb9\u5668\u9032\u7a0b\uff0c\u6839\u64da Application Master \u7684\u8acb\u6c42\u3002 4. Application Master\uff1a\u61c9\u7528\u7a0b\u5e8f\u662f\u63d0\u4ea4\u7d66\u6846\u67b6\u7684\u55ae\u4e00\u5de5\u4f5c\u3002Application Master \u8ca0\u8cac\u8207\u8cc7\u6e90\u7ba1\u7406\u5668\u5354\u5546\u8cc7\u6e90\uff0c\u8ffd\u8e64\u72c0\u614b\u4e26\u76e3\u63a7\u55ae\u4e00\u61c9\u7528\u7684\u9032\u5c55\u3002\u5b83\u900f\u904e\u9001\u51fa Container Launch Context (CLC) \u5411 Node Manager \u8acb\u6c42\u5bb9\u5668\uff0c\u8a72 CLC \u5305\u62ec\u61c9\u7528\u57f7\u884c\u6240\u9700\u6240\u6709\u8cc7\u8a0a\u3002\u61c9\u7528\u555f\u52d5\u5f8c\uff0c\u6703\u4e0d\u5b9a\u6642\u5411\u8cc7\u6e90\u7ba1\u7406\u5668\u5831\u544a\u72c0\u614b\u3002 5. Container\uff1a\u70ba\u55ae\u4e00\u7bc0\u9ede\u4e0a\u7684\u7269\u7406\u8cc7\u6e90\u96c6\u5408\uff0c\u5982 RAM\u3001CPU \u6838\u5fc3\u53ca\u78c1\u789f\u3002\u5bb9\u5668\u7531 Container Launch Context (CLC) \u547c\u53eb\uff0cCLC \u5305\u542b\u74b0\u5883\u8b8a\u6578\u3001\u6b0a\u9650\u4ee4\u724c\u3001\u4f9d\u8cf4\u7a0b\u5f0f\u7b49\u8cc7\u8a0a\u3002 </p> </li> </ol>"},{"location":"level101/big_data/evolution/#mapreduce","title":"MapReduce \u6846\u67b6","text":"<ol> <li>MapReduce \u4e00\u8a5e\u4ee3\u8868 Hadoop \u7a0b\u5f0f\u6240\u57f7\u884c\u7684\u5169\u500b\u4e0d\u540c\u4efb\u52d9\u2014\u2014Map \u5de5\u4f5c\u8207 Reduce \u5de5\u4f5c\u3002Map \u5de5\u4f5c\u4ee5\u8cc7\u6599\u96c6\u70ba\u8f38\u5165\u4e26\u8655\u7406\u7522\u751f\u9375\u503c\u5c0d\uff1bReduce \u5de5\u4f5c\u5247\u63a5\u53d7 Map \u5de5\u4f5c\u7684\u8f38\u51fa\uff08\u9375\u503c\u5c0d\uff09\u9032\u884c\u805a\u5408\u4ee5\u7522\u751f\u6240\u9700\u7d50\u679c\u3002</li> <li>Hadoop MapReduce\uff08Hadoop Map/Reduce\uff09\u662f\u4e00\u500b\u9069\u7528\u65bc\u8a08\u7b97\u53e2\u96c6\u7684\u5927\u898f\u6a21\u8cc7\u6599\u5206\u6563\u5f0f\u8655\u7406\u8edf\u9ad4\u6846\u67b6\u3002MapReduce \u5354\u52a9\u5c07\u8f38\u5165\u8cc7\u6599\u96c6\u62c6\u5206\u6210\u591a\u500b\u90e8\u5206\uff0c\u4e26\u80fd\u540c\u6642\u5e73\u884c\u57f7\u884c\u5c0d\u5404\u90e8\u5206\u8cc7\u6599\u7684\u7a0b\u5f0f\u3002</li> <li>\u4ee5\u4e0b\u70ba Word Count \u7bc4\u4f8b\uff0c\u5c55\u793a MapReduce \u6846\u67b6\u7684\u4f7f\u7528\uff1a</li> </ol>"},{"location":"level101/big_data/evolution/#hadoop_2","title":"Hadoop \u5468\u908a\u5176\u4ed6\u5de5\u5177","text":"<ol> <li>Hive<ol> <li>\u4f7f\u7528\u7a31\u70ba HQL \u7684\u8a9e\u8a00\uff0c\u6975\u70ba\u985e\u4f3c SQL\u3002\u8ce6\u4e88\u975e\u7a0b\u5f0f\u8a2d\u8a08\u5e2b\u67e5\u8a62\u8207\u5206\u6790 Hadoop \u8cc7\u6599\u7684\u80fd\u529b\uff0c\u57fa\u672c\u4e0a\u662f\u5efa\u7acb\u5728 MapReduce \u4e4b\u4e0a\u7684\u62bd\u8c61\u5c64\u3002</li> <li>\u4f8b\u5982 HQL \u67e5\u8a62\uff1a<ol> <li><code>SELECT pet.name, comment FROM pet JOIN event ON (pet.name = event.name);</code></li> </ol> </li> <li>\u5728 MySQL \u4e2d\uff1a<ol> <li><code>SELECT pet.name, comment FROM pet, event WHERE pet.name = event.name;</code></li> </ol> </li> </ol> </li> <li> <p>Pig</p> <ol> <li>\u4f7f\u7528\u7a31\u70ba Pig Latin \u7684\u6307\u4ee4\u8a9e\u8a00\uff0c\u5f37\u8abf\u5de5\u4f5c\u6d41\u7a0b\u5c0e\u5411\u3002\u4e0d\u9700\u6210\u70ba Java \u5c08\u5bb6\uff0c\u4f46\u9700\u5177\u5099\u5c11\u8a31\u7de8\u78bc\u80fd\u529b\u3002\u4e5f\u662f\u5efa\u7acb\u5728 MapReduce \u4e4b\u4e0a\u7684\u62bd\u8c61\u5c64\u3002</li> <li>\u9019\u88e1\u6709\u500b\u5c0f\u554f\u984c\u7d66\u4f60\uff1a \u57f7\u884c\u4e0b\u5716\u4e2d\u53f3\u6b04 Pig \u67e5\u8a62\u8a9e\u53e5\uff0c\u91dd\u5c0d\u5de6\u6b04\u7684\u8cc7\u6599\uff0c\u8f93\u51fa\u7d50\u679c\u70ba\u4f55\uff1f</li> </ol> <p></p> <p>\u8f38\u51fa\uff1a <pre><code>\n7,Komal,Nayak,24,9848022334,trivendram\n8,Bharathi,Nambiayar,24,9848022333,Chennai\n5,Trupthi,Mohanthy,23,9848022336,Bhuwaneshwar\n6,Archana,Mishra,23,9848022335,Chennai\n</code></pre></p> </li> <li> <p>Spark</p> <ol> <li>Spark \u63d0\u4f9b\u57fa\u790e\u7528\u65bc\u53e2\u96c6\u4e2d\u7684\u8a18\u61b6\u9ad4\u904b\u7b97\uff0c\u4f7f\u4f7f\u7528\u8005\u7a0b\u5f0f\u53ef\u5c07\u8cc7\u6599\u8f09\u5165\u53e2\u96c6\u8a18\u61b6\u9ad4\u4e26\u53cd\u8986\u67e5\u8a62\uff0c\u975e\u5e38\u9069\u5408\u6a5f\u5668\u5b78\u7fd2\u6f14\u7b97\u6cd5\u3002</li> </ol> </li> <li>Presto<ol> <li>Presto \u662f\u4e00\u500b\u9ad8\u6548\u80fd\u3001\u5206\u6563\u5f0f\u7684\u5927\u6578\u64da SQL \u67e5\u8a62\u5f15\u64ce\u3002</li> <li>\u5176\u67b6\u69cb\u5141\u8a31\u4f7f\u7528\u8005\u67e5\u8a62\u591a\u7a2e\u8cc7\u6599\u4f86\u6e90\uff0c\u5305\u542b Hadoop\u3001AWS S3\u3001Alluxio\u3001MySQL\u3001Cassandra\u3001Kafka \u53ca MongoDB\u3002</li> <li>\u7bc4\u4f8b Presto \u67e5\u8a62\uff1a <pre><code>\nUSE studentDB;\nSHOW TABLES;\nSELECT roll_no, name FROM studentDB.studentDetails WHERE section=\u2019A\u2019 LIMIT 5;\n</code></pre> </li> </ol> </li> </ol> <p></p>"},{"location":"level101/big_data/evolution/#_1","title":"\u8cc7\u6599\u5e8f\u5217\u5316\u8207\u5132\u5b58","text":"<ol> <li>\u70ba\u4e86\u900f\u904e\u7db2\u8def\u50b3\u8f38\u8cc7\u6599\u6216\u5b58\u653e\u65bc\u6c38\u4e45\u5132\u5b58\u88dd\u7f6e\uff0c\u9700\u8981\u5c07\u8cc7\u6599\u7d50\u69cb\u6216\u7269\u4ef6\u72c0\u614b\u8f49\u63db\u70ba\u4e8c\u9032\u4f4d\u6216\u6587\u5b57\u5f62\u5f0f\u7684\u904e\u7a0b\uff0c\u6211\u5011\u7a31\u4e4b\u70ba\u5e8f\u5217\u5316\u3002</li> <li>Avro \u8cc7\u6599\u5b58\u653e\u65bc\u5bb9\u5668\u6a94\u6848\uff08\u4e00\u500b <code>.avro</code> \u6a94\u6848\uff09\uff0c\u5176\u7d50\u69cb\u63cf\u8ff0\u6a94\uff08<code>.avsc</code> \u6a94\u6848\uff09\u8207\u8cc7\u6599\u6a94\u4e00\u8d77\u5132\u5b58\u3002</li> <li>Apache Hive \u652f\u63f4\u5c07\u8cc7\u6599\u8868\u4ee5 Avro \u5f62\u5f0f\u5132\u5b58\uff0c\u4e26\u53ef\u91dd\u5c0d\u6b64\u5e8f\u5217\u5316\u683c\u5f0f\u7684\u8cc7\u6599\u9032\u884c\u67e5\u8a62\u3002</li> </ol>"},{"location":"level101/big_data/intro/","title":"\u5927\u6578\u64da","text":""},{"location":"level101/big_data/intro/#_2","title":"\u524d\u7f6e\u77e5\u8b58","text":"<ul> <li>Linux \u6a94\u6848\u7cfb\u7d71\u7684\u57fa\u790e\u3002</li> <li>\u7cfb\u7d71\u8a2d\u8a08\u7684\u57fa\u672c\u4e86\u89e3\u3002</li> </ul>"},{"location":"level101/big_data/intro/#_3","title":"\u8ab2\u7a0b\u671f\u671b","text":"<p>\u672c\u8ab2\u7a0b\u6db5\u84cb\u5927\u6578\u64da\u7684\u57fa\u790e\u77e5\u8b58\u53ca\u5176\u6f14\u9032\u6b77\u7a0b\u3002\u6211\u5011\u5c07\u63a2\u8a0e\u5e7e\u500b\u73fe\u5be6\u5834\u666f\uff0c\u8aaa\u660e\u5927\u6578\u64da\u5982\u4f55\u6210\u70ba\u9019\u4e9b\u5834\u666f\u7684\u5b8c\u7f8e\u89e3\u6c7a\u65b9\u6848\u3002\u8ab2\u7a0b\u4e2d\u6703\u6709\u4e00\u9805\u95dc\u65bc\u8a2d\u8a08\u5927\u6578\u64da\u7cfb\u7d71\u7684\u6709\u8da3\u4f5c\u696d\uff0c\u4e4b\u5f8c\u5c07\u4ecb\u7d39 Hadoop \u7684\u67b6\u69cb\u53ca\u5176\u76f8\u95dc\u5de5\u5177\u3002</p>"},{"location":"level101/big_data/intro/#_4","title":"\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u5167\u5bb9","text":"<p>\u64b0\u5beb\u7a0b\u5f0f\u4ee5\u5f9e\u8cc7\u6599\u4e2d\u63d0\u53d6\u5206\u6790\u3002</p>"},{"location":"level101/big_data/intro/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ol> <li>\u5927\u6578\u64da\u6982\u89bd</li> <li>\u5927\u6578\u64da\u6280\u8853\u7684\u61c9\u7528</li> <li>Hadoop \u7684\u6f14\u9032</li> <li>Hadoop \u67b6\u69cb<ol> <li>HDFS</li> <li>Yarn</li> </ol> </li> <li>MapReduce \u6846\u67b6</li> <li>Hadoop \u76f8\u95dc\u5de5\u5177<ol> <li>Hive</li> <li>Pig</li> <li>Spark</li> <li>Presto</li> </ol> </li> <li>\u8cc7\u6599\u5e8f\u5217\u5316\u8207\u5132\u5b58</li> </ol>"},{"location":"level101/big_data/intro/#_6","title":"\u5927\u6578\u64da\u6982\u89bd","text":"<ol> <li>\u5927\u6578\u64da\u662f\u4e00\u500b\u9f90\u5927\u8cc7\u6599\u96c6\u7684\u96c6\u5408\uff0c\u7121\u6cd5\u4f7f\u7528\u50b3\u7d71\u8a08\u7b97\u6280\u8853\u8655\u7406\u3002\u5b83\u4e0d\u662f\u55ae\u4e00\u6280\u8853\u6216\u5de5\u5177\uff0c\u800c\u662f\u4e00\u9580\u5b8c\u6574\u7684\u5b78\u79d1\uff0c\u6d89\u53ca\u5404\u7a2e\u5de5\u5177\u3001\u6280\u8853\u8207\u6846\u67b6\u3002</li> <li>\u5927\u6578\u64da\u53ef\u80fd\u5305\u542b\uff1a<ol> <li>\u7d50\u69cb\u5316\u8cc7\u6599</li> <li>\u975e\u7d50\u69cb\u5316\u8cc7\u6599</li> <li>\u534a\u7d50\u69cb\u5316\u8cc7\u6599</li> </ol> </li> <li>\u5927\u6578\u64da\u7684\u7279\u6027\uff1a<ol> <li>\u8cc7\u6599\u91cf\uff08Volume\uff09</li> <li>\u7a2e\u985e\u591a\u6a23\u6027\uff08Variety\uff09</li> <li>\u8cc7\u6599\u6d41\u901f\uff08Velocity\uff09</li> <li>\u8b8a\u7570\u6027\uff08Variability\uff09</li> </ol> </li> <li>\u5927\u6578\u64da\u7522\u751f\u7684\u4f8b\u5b50\u5305\u62ec\u80a1\u7968\u4ea4\u6613\u6240\u3001\u793e\u4ea4\u5a92\u9ad4\u7db2\u7ad9\u3001\u5674\u5c04\u5f15\u64ce\u7b49\u3002</li> </ol>"},{"location":"level101/big_data/intro/#_7","title":"\u5927\u6578\u64da\u6280\u8853\u7684\u61c9\u7528","text":"<ol> <li>\u4ee5\u7d05\u7da0\u71c8\u554f\u984c\u70ba\u4f8b\uff1a<ol> <li>\u622a\u81f32018\u5e74\uff0c\u7f8e\u570b\u6709\u8d85\u904e30\u842c\u500b\u7d05\u7da0\u71c8\u3002</li> <li>\u5047\u8a2d\u6211\u5011\u5728\u6bcf\u500b\u7d05\u7da0\u71c8\u4e0a\u5b89\u88dd\u4e00\u500b\u88dd\u7f6e\u4f86\u6536\u96c6\u6307\u6a19\u4e26\u767c\u9001\u81f3\u4e2d\u592e\u6307\u6a19\u6536\u96c6\u7cfb\u7d71\u3002</li> <li>\u82e5\u6bcf\u500b\u7269\u806f\u7db2\u88dd\u7f6e\u6bcf\u5206\u9418\u767c\u900110\u500b\u4e8b\u4ef6\uff0c\u5247\u6bcf\u5929\u6211\u5011\u6703\u6536\u5230 <code>300000 x 10 x 60 x 24 = 432 x 10 ^ 7</code> \u500b\u4e8b\u4ef6\u3002</li> <li>\u4f60\u6703\u5982\u4f55\u8655\u7406\u9019\u4e9b\u8cc7\u6599\uff0c\u4e26\u544a\u8a34\u6211\u5728\u7279\u5b9a\u67d0\u5929\u4e0a\u534810:45\u6709\u591a\u5c11\u4fe1\u865f\u662f\u300c\u7da0\u71c8\u300d\uff1f</li> </ol> </li> <li>\u518d\u4ee5\u7d71\u4e00\u652f\u4ed8\u4ecb\u9762\uff08UPI\uff09\u4ea4\u6613\u70ba\u4f8b\uff1a<ol> <li>2019\u5e7410\u6708\uff0c\u5370\u5ea6\u7d04\u670911.5\u5104\u7b46UPI\u4ea4\u6613\u3002</li> <li>\u82e5\u5c07\u6b64\u8cc7\u6599\u63a8\u4f30\u81f3\u4e00\u6574\u5e74\uff0c\u4e26\u60f3\u627e\u51fa\u67d0\u500b\u7279\u5b9aUPI ID\u7d93\u5e38\u4f7f\u7528\u7684\u4ed8\u6b3e\u65b9\u5f0f\uff0c\u4f60\u5efa\u8b70\u5982\u4f55\u9032\u884c\uff1f</li> </ol> </li> </ol>"},{"location":"level101/big_data/tasks/","title":"\u4efb\u52d9\u8207\u7d50\u8ad6","text":""},{"location":"level101/big_data/tasks/#_2","title":"\u57f9\u8a13\u5f8c\u4efb\u52d9\uff1a","text":"<ol> <li>\u5617\u8a66\u5efa\u7acb\u60a8\u81ea\u5df1\u7684\u4e09\u7bc0\u9ede Hadoop \u53e2\u96c6\u3002<ol> <li>\u53ef\u53c3\u8003\u57fa\u65bc\u865b\u64ec\u6a5f\u7684\u89e3\u6c7a\u65b9\u6848\u6b64\u8655</li> </ol> </li> <li>\u7de8\u5beb\u4e00\u500b\u60a8\u9078\u64c7\u7684\u7c21\u55ae Spark/MR \u5de5\u4f5c\uff0c\u4e26\u4e86\u89e3\u5982\u4f55\u5f9e\u6578\u64da\u4e2d\u7522\u751f\u5206\u6790\u3002<ol> <li>\u7bc4\u4f8b\u6578\u64da\u96c6\u53ef\u53c3\u8003\u6b64\u8655</li> </ol> </li> </ol>"},{"location":"level101/big_data/tasks/#_3","title":"\u53c3\u8003\u8cc7\u6599\uff1a","text":"<ol> <li>Hadoop \u6587\u4ef6</li> <li>HDFS \u67b6\u69cb</li> <li>YARN \u67b6\u69cb</li> <li>Google GFS \u8ad6\u6587</li> </ol>"},{"location":"level101/databases_nosql/further_reading/","title":"\u7d50\u8ad6","text":"<p>\u6211\u5011\u5df2\u7d93\u6db5\u84cb\u4e86 NoSQL \u8cc7\u6599\u5eab\u7684\u57fa\u672c\u6982\u5ff5\u3002\u9084\u6709\u66f4\u591a\u5167\u5bb9\u7b49\u5f85\u5b78\u7fd2\u548c\u5be6\u8e10\u3002\u5e0c\u671b\u672c\u8ab2\u7a0b\u80fd\u70ba\u4f60\u6253\u4e0b\u826f\u597d\u7684\u57fa\u790e\uff0c\u4e26\u6fc0\u767c\u4f60\u9032\u4e00\u6b65\u63a2\u7d22\u7684\u71b1\u60c5\u3002</p>"},{"location":"level101/databases_nosql/further_reading/#_2","title":"\u5ef6\u4f38\u95b1\u8b80","text":"<p>NoSQL:</p> <p>https://hostingdata.co.uk/nosql-database/</p> <p>https://www.mongodb.com/nosql-explained</p> <p>https://www.mongodb.com/nosql-explained/nosql-vs-sql</p> <p>CAP \u5b9a\u7406</p> <p>http://www.julianbrowne.com/article/brewers-cap-theorem</p> <p>\u53ef\u64f4\u5c55\u6027</p> <p>http://www.slideshare.net/jboner/scalability-availability-stability-patterns</p> <p>\u6700\u7d42\u4e00\u81f4\u6027</p> <p>https://www.allthingsdistributed.com/2008/12/eventually_consistent.html</p> <p>https://www.toptal.com/big-data/consistent-hashing</p> <p>https://web.stanford.edu/class/cs244/papers/chord_TON_2003.pdf</p>"},{"location":"level101/databases_nosql/intro/","title":"NoSQL \u6982\u5ff5","text":""},{"location":"level101/databases_nosql/intro/#_1","title":"\u9810\u5099\u77e5\u8b58","text":"<ul> <li>\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab</li> </ul>"},{"location":"level101/databases_nosql/intro/#_2","title":"\u8ab2\u7a0b\u9810\u671f","text":"<p>\u5b8c\u6210\u6b64\u57f9\u8a13\u5f8c\uff0c\u60a8\u5c07\u4e86\u89e3\u4ec0\u9ebc\u662f NoSQL \u8cc7\u6599\u5eab\uff0cNoSQL \u76f8\u8f03\u65bc\u50b3\u7d71\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u7684\u512a\u7f3a\u9ede\uff0c\u5b78\u7fd2\u4e0d\u540c\u985e\u578b\u7684 NoSQL \u8cc7\u6599\u5eab\uff0c\u4e26\u7406\u89e3 NoSQL \u80cc\u5f8c\u7684\u4e00\u4e9b\u57fa\u672c\u6982\u5ff5\u8207\u6b0a\u8861\u3002</p>"},{"location":"level101/databases_nosql/intro/#_3","title":"\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u4e0d\u6703\u6df1\u5165\u63a2\u8a0e\u4efb\u4f55\u7279\u5b9a\u7684 NoSQL \u8cc7\u6599\u5eab\u3002</p>"},{"location":"level101/databases_nosql/intro/#_4","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ul> <li>NoSQL \u7c21\u4ecb</li> <li>CAP \u7406\u8ad6</li> <li>\u8cc7\u6599\u7248\u672c\u63a7\u5236</li> <li>\u5206\u5340 (Partitioning)</li> <li>\u96dc\u6e4a (Hashing)</li> <li>\u6cd5\u5b9a\u4eba\u6578 (Quorum)</li> </ul>"},{"location":"level101/databases_nosql/intro/#_5","title":"\u4ecb\u7d39","text":"<p>\u7576\u4eba\u5011\u63d0\u5230\u300cNoSQL \u8cc7\u6599\u5eab\u300d\uff0c\u901a\u5e38\u6307\u975e\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u3002\u6709\u4e9b\u4eba\u8a8d\u70ba NoSQL \u4ee3\u8868\u300cnon SQL\uff08\u975e SQL\uff09\u300d\u800c\u6709\u4e9b\u4eba\u5247\u8aaa\u5b83\u4ee3\u8868\u300cnot only SQL\uff08\u4e0d\u50c5\u662f SQL\uff09\u300d\u3002\u7121\u8ad6\u5982\u4f55\uff0c\u591a\u6578\u4eba\u540c\u610f NoSQL \u8cc7\u6599\u5eab\u662f\u4ee5\u975e\u95dc\u806f\u5f0f\u8868\u683c\u5916\u7684\u683c\u5f0f\u4f86\u5b58\u5132\u8cc7\u6599\u7684\u8cc7\u6599\u5eab\u3002</p> <p>\u4e00\u500b\u5e38\u898b\u8aa4\u89e3\u662f NoSQL \u6216\u975e\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u4e0d\u64c5\u9577\u5b58\u5132\u95dc\u806f\u8cc7\u6599\uff0c\u4f46\u5be6\u969b\u4e0a NoSQL \u8cc7\u6599\u5eab\u53ef\u4ee5\u5b58\u5132\u95dc\u806f\u8cc7\u6599\u2014\u53ea\u662f\u5b58\u6cd5\u4e0d\u540c\u65bc\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u3002\u4e8b\u5be6\u4e0a\uff0c\u8207 SQL \u8cc7\u6599\u5eab\u76f8\u6bd4\uff0c\u8a31\u591a\u4eba\u89ba\u5f97\u5728 NoSQL \u8cc7\u6599\u5eab\u4e2d\u5efa\u6a21\u95dc\u806f\u8cc7\u6599\u66f4\u300c\u5bb9\u6613\u300d\uff0c\u56e0\u70ba\u76f8\u95dc\u8cc7\u6599\u4e0d\u5fc5\u62c6\u5206\u5230\u591a\u500b\u8868\u683c\u4e2d\u3002</p> <p>\u6b64\u985e\u8cc7\u6599\u5eab\u81ea 1960 \u5e74\u4ee3\u672b\u5373\u5df2\u5b58\u5728\uff0c\u4f46\u300cNoSQL\u300d\u6b64\u540d\u7a31\u76f4\u5230 21 \u4e16\u7d00\u521d\u624d\u88ab\u63d0\u51fa\u3002NASA \u66fe\u4f7f\u7528 NoSQL \u8cc7\u6599\u5eab\u4f86\u8ffd\u8e64\u963f\u6ce2\u7f85\u4efb\u52d9\u7684\u8a2d\u5099\u5eab\u5b58\u3002\u96a8\u8457 2000 \u5e74\u4ee3\u672b\u5b58\u5132\u6210\u672c\u5927\u5e45\u4e0b\u964d\uff0cNoSQL \u8cc7\u6599\u5eab\u958b\u59cb\u5d1b\u8d77\u3002\u904e\u53bb\u70ba\u4e86\u907f\u514d\u8cc7\u6599\u91cd\u8907\uff0c\u5e38\u9700\u8981\u5275\u5efa\u8907\u96dc\u96e3\u7ba1\u7684\u8cc7\u6599\u6a21\u578b\uff0c\u5982\u4eca\u5247\u4e0d\u9700\u8981\u4e86\u3002\u8edf\u9ad4\u958b\u767c\u4e2d\u4e3b\u8981\u6210\u672c\u6f38\u5f9e\u5b58\u5132\u8f49\u5411\u958b\u767c\u8005\uff0cNoSQL \u8cc7\u6599\u5eab\u56e0\u800c\u512a\u5316\u4e86\u958b\u767c\u8005\u6548\u7387\u3002\u96a8\u8457\u654f\u6377\u958b\u767c\u65b9\u6cd5\u7684\u8208\u8d77\uff0cNoSQL \u8cc7\u6599\u5eab\u5c08\u6ce8\u65bc\u53ef\u64f4\u5c55\u6027\u3001\u9ad8\u901f\u6027\u80fd\uff0c\u540c\u6642\u5141\u8a31\u983b\u7e41\u7684\u61c9\u7528\u7a0b\u5f0f\u8b8a\u66f4\u4e26\u7c21\u5316\u7a0b\u5f0f\u8a2d\u8a08\u3002</p>"},{"location":"level101/databases_nosql/intro/#nosql_1","title":"NoSQL \u8cc7\u6599\u5eab\u985e\u578b","text":"<p>\u96a8\u8457\u4e0d\u540c\u516c\u53f8\u9700\u6c42\u7684\u591a\u6a23\u5316\uff0cNoSQL \u8cc7\u6599\u5eab\u767c\u5c55\u51fa\u4e86\u591a\u7a2e\u985e\u578b\uff0c\u4f46\u53ef\u5927\u81f4\u5206\u70ba\u4ee5\u4e0b 4 \u7a2e\uff0c\u6709\u4e9b\u8cc7\u6599\u5eab\u985e\u578b\u9593\u6703\u6709\u91cd\u758a\uff1a</p> <ol> <li> <p>\u6587\u4ef6\u578b\u8cc7\u6599\u5eab (Document databases)\uff1a     \u4ee5\u985e\u4f3c JSON\uff08JavaScript \u7269\u4ef6\u8868\u793a\u6cd5\uff09\u7684\u6587\u4ef6\u5b58\u5132\u8cc7\u6599\u3002\u6bcf\u500b\u6587\u4ef6\u5305\u542b\u6b04\u4f4d\u548c\u503c\u7684\u9375\u503c\u5c0d\uff0c\u503c\u5e38\u898b\u985e\u578b\u5305\u62ec\u5b57\u4e32\u3001\u6578\u5b57\u3001\u5e03\u6797\u9663\u5217\u6216\u7269\u4ef6\uff0c\u5176\u7d50\u69cb\u901a\u5e38\u8207\u7a0b\u5f0f\u78bc\u4e2d\u7684\u7269\u4ef6\u5c0d\u61c9\u3002\u512a\u9ede\u662f\u76f4\u89ba\u7684\u6570\u636e\u6a21\u578b\u8207\u9748\u6d3b\u7684\u67b6\u69cb\u3002\u7531\u65bc\u652f\u6301\u591a\u7a2e\u6b04\u4f4d\u503c\u985e\u578b\u53ca\u5f37\u5927\u67e5\u8a62\u8a9e\u8a00\uff0c\u6587\u4ef6\u578b\u8cc7\u6599\u5eab\u9069\u5408\u591a\u7a2e\u7528\u4f8b\uff0c\u53ef\u7528\u4f5c\u901a\u7528\u8cc7\u6599\u5eab\uff0c\u4e14\u53ef\u6c34\u5e73\u64f4\u5c55\u4ee5\u652f\u6301\u5927\u91cf\u8cc7\u6599\u3002\u4f8b\u5b50\uff1aMongoDB\u3001Couchbase\u3002</p> </li> <li> <p>\u9375\u503c\u8cc7\u6599\u5eab (Key-Value databases)\uff1a     \u7c21\u55ae\u7684\u8cc7\u6599\u5eab\u985e\u578b\uff0c\u6bcf\u7b46\u8cc7\u6599\u5305\u542b\u9375\u548c\u503c\u3002\u503c\u901a\u5e38\u53ea\u80fd\u85c9\u7531\u9375\u67e5\u8a62\uff0c\u67e5\u8a62\u9375\u503c\u5c0d\u7684\u65b9\u5f0f\u7c21\u55ae\u3002\u9069\u5408\u5927\u91cf\u8cc7\u6599\u5b58\u5132\u4f46\u4e0d\u9700\u8907\u96dc\u67e5\u8a62\u7684\u4f7f\u7528\u5834\u666f\u3002\u5e38\u898b\u7528\u9014\u5305\u62ec\u5b58\u5132\u7528\u6236\u504f\u597d\u8a2d\u5b9a\u6216\u5feb\u53d6\u3002\u4f8b\u5b50\uff1aRedis\u3001DynamoDB\u3001Voldemort / Venice\uff08LinkedIn\uff09\u3002</p> </li> <li> <p>\u5bec\u6b04\u4f4d\u5132\u5b58 (Wide-Column stores)\uff1a     \u4ee5\u8cc7\u6599\u8868\u3001\u5217\u8207\u52d5\u614b\u6b04\u4f4d\u5b58\u5132\u8cc7\u6599\u3002\u76f8\u8f03\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\uff0c\u5bec\u6b04\u4f4d\u5132\u5b58\u63d0\u4f9b\u9ad8\u5ea6\u5f48\u6027\uff0c\u56e0\u70ba\u6bcf\u5217\u4e0d\u5fc5\u5305\u542b\u76f8\u540c\u6b04\u4f4d\u3002\u8a31\u591a\u4eba\u8996\u5176\u70ba\u4e8c\u7dad\u9375\u503c\u8cc7\u6599\u5eab\u3002\u9069\u5408\u5132\u5b58\u5927\u91cf\u8cc7\u6599\u4e26\u80fd\u9810\u6e2c\u67e5\u8a62\u6a21\u5f0f\u7684\u9700\u6c42\u3002\u5e38\u7528\u65bc\u7269\u806f\u7db2\u8cc7\u6599\u8207\u4f7f\u7528\u8005\u8cc7\u6599\u3002\u4ee3\u8868\u8cc7\u6599\u5eab\u6709 Cassandra \u8207 HBase\u3002</p> </li> <li> <p>\u5716\u5f62\u8cc7\u6599\u5eab (Graph Databases)\uff1a     \u4ee5\u7bc0\u9ede\u8207\u908a\u4f86\u5b58\u5132\u8cc7\u6599\u3002\u7bc0\u9ede\u901a\u5e38\u7528\u65bc\u5b58\u653e\u4eba\u3001\u5730\u9ede\u6216\u4e8b\u7269\u8cc7\u8a0a\uff0c\u908a\u5247\u5b58\u63cf\u8ff0\u7bc0\u9ede\u9593\u95dc\u806f\u3002\u5716\u5f62\u8cc7\u6599\u5eab\u5e95\u5c64\u5b58\u5132\u65b9\u5f0f\u5404\u7570\uff0c\u90e8\u5206\u4f9d\u8cf4\u95dc\u806f\u5f15\u64ce\u4e26\u5728\u8868\u683c\u4e2d\u300c\u5132\u5b58\u300d\u5716\u5f62\u8cc7\u6599\uff08\u6b64\u70ba\u908f\u8f2f\u62bd\u8c61\u5c64\uff09\uff0c\u5176\u4ed6\u5247\u4f7f\u7528\u9375\u503c\u5eab\u6216\u6587\u4ef6\u5c0e\u5411\u8cc7\u6599\u5eab\uff0c\u5929\u7136\u5c6c\u65bc NoSQL \u7d50\u69cb\u3002\u5716\u5f62\u8cc7\u6599\u5eab\u64c5\u9577\u65bc\u9700\u8981\u904d\u6b77\u95dc\u806f\u4ee5\u5c0b\u627e\u6a21\u5f0f\u7684\u61c9\u7528\uff0c\u5982\u793e\u4ea4\u7db2\u7d61\u3001\u8a50\u6b3a\u5075\u6e2c\u548c\u63a8\u85a6\u5f15\u64ce\u3002\u4f8b\u5b50\uff1aNeo4j</p> </li> </ol>"},{"location":"level101/databases_nosql/intro/#_6","title":"\u6bd4\u8f03","text":"\u6548\u80fd     \u53ef\u64f4\u5c55\u6027     \u5f48\u6027     \u8907\u96dc\u5ea6     \u529f\u80fd\u6027     \u9375\u503c\u578b     \u9ad8     \u9ad8     \u9ad8     \u7121     \u53ef\u8b8a     \u6587\u4ef6\u578b     \u9ad8     \u53ef\u8b8a\uff08\u9ad8\uff09     \u9ad8     \u4f4e     \u53ef\u8b8a\uff08\u4f4e\uff09     \u5bec\u6b04\u4f4d     \u9ad8     \u9ad8     \u4e2d\u7b49     \u4f4e     \u6700\u5c11     \u5716\u5f62     \u53ef\u8b8a     \u53ef\u8b8a     \u9ad8     \u9ad8     \u5716\u8ad6"},{"location":"level101/databases_nosql/intro/#sql-nosql","title":"SQL \u8207 NoSQL \u5dee\u7570\u6bd4\u8f03","text":"<p>\u4e0b\u8868\u5f59\u6574\u4e86 SQL \u8207 NoSQL \u8cc7\u6599\u5eab\u7684\u4e3b\u8981\u5dee\u7570\u3002</p> SQL \u8cc7\u6599\u5eab     NoSQL \u8cc7\u6599\u5eab     \u8cc7\u6599\u5b58\u5132\u6a21\u578b     \u56fa\u5b9a\u5217\u8207\u6b04\u7684\u8868\u683c     \u6587\u4ef6\uff1aJSON \u6587\u4ef6\uff0c\u9375\u503c\uff1a\u9375\u503c\u5c0d\uff0c\u5bec\u6b04\u4f4d\uff1a\u5177\u52d5\u614b\u6b04\u4f4d\u7684\u8868\u683c\uff0c\u5716\u5f62\uff1a\u7bc0\u9ede\u8207\u908a     \u4e3b\u8981\u7528\u9014     \u901a\u7528\u76ee\u7684     \u6587\u4ef6\uff1a\u901a\u7528\u76ee\u7684\uff0c\u9375\u503c\uff1a\u5927\u91cf\u7c21\u55ae\u67e5\u8a62\u8cc7\u6599\uff0c\u5bec\u6b04\u4f4d\uff1a\u5927\u91cf\u4e14\u53ef\u9810\u6e2c\u67e5\u8a62\u8cc7\u6599\uff0c\u5716\u5f62\uff1a\u5206\u6790\u904d\u6b77\u8cc7\u6599\u95dc\u806f     \u67b6\u69cb\u898f\u7bc4     \u56b4\u683c     \u5f48\u6027     \u64f4\u5c55\u65b9\u5f0f     \u5782\u76f4\u64f4\u5c55\uff08\u4f7f\u7528\u66f4\u5f37\u5927\u7684\u4f3a\u670d\u5668\uff09     \u6c34\u5e73\u64f4\u5c55\uff08\u8de8\u5e73\u50f9\u4f3a\u670d\u5668\u64f4\u5c55\uff09     \u591a\u7b46\u8cc7\u6599 ACID \u4ea4\u6613     \u652f\u6301     \u591a\u6578\u4e0d\u652f\u6301\u591a\u7b46 ACID \u4ea4\u6613\uff0c\u90e8\u5206\u5982 MongoDB \u652f\u6301     \u806f\u7d50 (Joins)     \u901a\u5e38\u9700\u8981     \u901a\u5e38\u4e0d\u9700\u8981     \u8cc7\u6599\u8207\u7269\u4ef6\u6620\u5c04     \u9700\u8981 ORM (\u7269\u4ef6\u95dc\u806f\u6620\u5c04)     \u591a\u6578\u4e0d\u9700 ORM\uff0c\u6587\u4ef6\u578b\u8cc7\u6599\u5eab\u6587\u4ef6\u53ef\u76f4\u63a5\u6620\u5c04\u81f3\u4e3b\u6d41\u7a0b\u5f0f\u8a9e\u8a00\u4e2d\u7684\u8cc7\u6599\u7d50\u69cb"},{"location":"level101/databases_nosql/intro/#_7","title":"\u512a\u9ede","text":"<ul> <li> <p>\u9748\u6d3b\u7684\u8cc7\u6599\u6a21\u578b</p> <p>\u591a\u6578 NoSQL \u7cfb\u7d71\u64c1\u6709\u5f48\u6027\u67b6\u69cb\uff0c\u5141\u8a31\u60a8\u8f15\u9b06\u4fee\u6539\u8cc7\u6599\u5eab\u7d50\u69cb\u4ee5\u65b0\u589e\u6216\u522a\u9664\u6b04\u4f4d\uff0c\u652f\u63f4\u61c9\u7528\u7a0b\u5f0f\u4e0d\u65b7\u6f14\u9032\u7684\u9700\u6c42\u3002\u4fc3\u9032\u6301\u7e8c\u958b\u767c\u65b0\u529f\u80fd\u800c\u4e0d\u9700\u7e41\u91cd\u7684\u8cc7\u6599\u5eab\u64cd\u4f5c\u5de5\u4f5c\u3002</p> </li> <li> <p>\u6c34\u5e73\u64f4\u5c55</p> <p>\u591a\u6578 NoSQL \u7cfb\u7d71\u652f\u6301\u6c34\u5e73\u64f4\u5c55\uff0c\u5373\u53ef\u96a8\u6642\u52a0\u5165\u8f03\u4fbf\u5b9c\u4e14\u901a\u7528\u7684\u786c\u9ad4\u4ee5\u64f4\u5145\u7cfb\u7d71\u3002\u53cd\u89c0 SQL \u7cfb\u7d71\u591a\u6578\u63a1\u5782\u76f4\u64f4\u5c55\uff08\u5347\u7d1a\u66f4\u5f37\u4f3a\u670d\u5668\uff09\u3002\u8207\u50b3\u7d71 SQL \u7cfb\u7d71\u76f8\u6bd4\uff0cNoSQL \u7cfb\u7d71\u53ef\u8655\u7406\u66f4\u5927\u91cf\u7684\u8cc7\u6599\u3002</p> </li> <li> <p>\u5feb\u901f\u67e5\u8a62</p> <p>\u7531\u65bc\u8cc7\u6599\u975e\u6b63\u898f\u5316\u8207\u652f\u6301\u6c34\u5e73\u64f4\u5c55\uff0cNoSQL \u901a\u5e38\u6bd4\u50b3\u7d71 SQL \u66f4\u5feb\u3002\u591a\u6578 NoSQL \u7cfb\u7d71\u9084\u50be\u5411\u5c07\u76f8\u4f3c\u8cc7\u6599\u805a\u96c6\uff0c\u6709\u52a9\u65bc\u52a0\u901f\u67e5\u8a62\u56de\u61c9\u3002</p> </li> <li> <p>\u63d0\u5347\u958b\u767c\u8005\u751f\u7522\u529b</p> <p>NoSQL \u7cfb\u7d71\u7684\u8cc7\u6599\u6620\u5c04\u901a\u5e38\u6839\u64da\u7a0b\u5f0f\u8a2d\u8a08\u4e2d\u7684\u8cc7\u6599\u7d50\u69cb\uff0c\u4f7f\u958b\u767c\u8005\u6240\u9700\u7684\u8cc7\u6599\u8f49\u63db\u8f03\u5c11\uff0c\u9032\u800c\u63d0\u9ad8\u751f\u7522\u529b\u4e26\u6e1b\u5c11\u932f\u8aa4\u3002</p> </li> </ul>"},{"location":"level101/databases_nosql/key_concepts/","title":"\u91cd\u8981\u6982\u5ff5","text":"<p>\u8b93\u6211\u5011\u4f86\u770b\u770b\u5728\u8a0e\u8ad6 NoSQL \u6216\u5206\u6563\u5f0f\u7cfb\u7d71\u6642\u7684\u4e00\u4e9b\u91cd\u8981\u6982\u5ff5\u3002</p>"},{"location":"level101/databases_nosql/key_concepts/#cap","title":"CAP \u5b9a\u7406","text":"<p>\u5728 2000 \u5e74 ACM \u7684 PODC \u7814\u8a0e\u6703\u4e3b\u984c\u6f14\u8b1b\u300aTowards Robust Distributed Systems\u300b\u4e2d\uff0cEric Brewer \u63d0\u51fa\u4e86\u73fe\u4eca\u88ab\u5927\u578b\u7db2\u8def\u516c\u53f8\u53ca NoSQL \u793e\u7fa4\u5ee3\u6cdb\u63a1\u7528\u7684\u6240\u8b02 CAP \u5b9a\u7406\u3002CAP \u662f Consistency\uff08\u4e00\u81f4\u6027\uff09\u3001Availability\uff08\u53ef\u7528\u6027\uff09\u8207 Partition Tolerance\uff08\u5206\u5272\u5bb9\u5fcd\u6027\uff09\u7684\u7e2e\u5beb\u3002</p> <ul> <li> <p>\u4e00\u81f4\u6027\uff08Consistency\uff09</p> <p>\u6307\u7cfb\u7d71\u57f7\u884c\u5f8c\u7684\u8cc7\u6599\u4e00\u81f4\u7a0b\u5ea6\u3002\u5206\u6563\u5f0f\u7cfb\u7d71\u7a31\u70ba\u4e00\u81f4\u6027\u7cfb\u7d71\uff0c\u7576\u4e00\u500b\u4f86\u6e90\u5beb\u5165\u8cc7\u6599\u5f8c\uff0c\u8a72\u8cc7\u6599\u6703\u5c0d\u6240\u6709\u8b80\u8005\u53ef\u898b\u3002\u4e0d\u540c NoSQL \u7cfb\u7d71\u652f\u63f4\u4e0d\u540c\u5c64\u7d1a\u7684\u4e00\u81f4\u6027\u3002</p> </li> <li> <p>\u53ef\u7528\u6027\uff08Availability\uff09</p> <p>\u6307\u7cfb\u7d71\u5728\u786c\u9ad4\u6216\u8edf\u9ad4\u6545\u969c\u6642\u5c0d\u529f\u80fd\u55aa\u5931\u7684\u53cd\u61c9\u80fd\u529b\u3002\u9ad8\u53ef\u7528\u6027\u610f\u5473\u8457\u7cfb\u7d71\u5373\u4f7f\u90e8\u5206\u7cfb\u7d71\u56e0\u6545\u969c\u6216\u5347\u7d1a\u800c\u505c\u6b62\u670d\u52d9\uff0c\u4ecd\u80fd\u6301\u7e8c\u8655\u7406\u64cd\u4f5c\uff08\u8b80\u53d6\u8207\u5beb\u5165\uff09\u3002</p> </li> <li> <p>\u5206\u5272\u5bb9\u5fcd\u6027\uff08Partition Tolerance\uff09</p> <p>\u662f\u6307\u7cfb\u7d71\u5728\u7db2\u8def\u5206\u5272\u4e8b\u4ef6\u767c\u751f\u6642\u4ecd\u80fd\u6301\u7e8c\u904b\u4f5c\u7684\u80fd\u529b\u3002\u7db2\u8def\u5206\u5272\u767c\u751f\u6642\uff0c\u7cfb\u7d71\u6703\u5f62\u6210\u5169\u500b\u6216\u591a\u500b\u7121\u6cd5\u8de8\u7db2\u57df\u901a\u8a0a\u7684\u7db2\u8def\u5340\u584a\uff0c\u4e14\u9019\u7a2e\u9694\u96e2\u53ef\u80fd\u662f\u66ab\u6642\u6216\u6c38\u4e45\u7684\u3002</p> </li> </ul> <p>Brewer \u4e3b\u5f35\u5728\u5171\u4eab\u8cc7\u6599\u7cfb\u7d71\u4e2d\uff0c\u6700\u591a\u53ea\u80fd\u9078\u64c7\u4e0a\u8ff0\u4e09\u500b\u7279\u6027\u4e2d\u7684\u5169\u500b\u3002CAP \u5b9a\u7406\u4e5f\u8aaa\u660e\u53ea\u80fd\u5f9e\u4e00\u81f4\u6027\u3001\u53ef\u7528\u6027\u548c\u5206\u5272\u5bb9\u5fcd\u6027\u4e2d\u64c7\u4e8c\u6c42\u3002\u96a8\u8457\u5927\u578b\u61c9\u7528\u6848\u4f8b\u589e\u52a0\uff0c\u504f\u597d\u5f37\u8abf\u53ef\u9760\u6027\uff0c\u56e0\u6b64\u53ef\u7528\u6027\u8207\u5197\u9918\u6bd4\u4e00\u81f4\u6027\u66f4\u88ab\u91cd\u8996\u3002\u7d50\u679c\u662f\u9019\u4e9b\u7cfb\u7d71\u96e3\u4ee5\u7b26\u5408 ACID \u6027\u8cea\uff0c\u900f\u904e\u653e\u5bec\u4e00\u81f4\u6027\u9700\u6c42\u4f86\u9054\u6210\uff0c\u5373\u6240\u8b02\u7684\u6700\u7d42\u4e00\u81f4\u6027\u3002</p> <p>\u6700\u7d42\u4e00\u81f4\u6027\uff08Eventual Consistency\uff09\u610f\u6307\u96a8\u8457\u6642\u9593\u63a8\u79fb\uff0c\u6240\u6709\u8b80\u8005\u6700\u7d42\u6703\u770b\u5230\u5beb\u5165\u7684\u8cc7\u6599\uff1a\u300c\u7cfb\u7d71\u5728\u7a69\u614b\u4e0b\u6703\u56de\u50b3\u6700\u5f8c\u5beb\u5165\u7684\u503c\u300d\u3002\u56e0\u6b64\uff0c\u5ba2\u6236\u7aef\u53ef\u80fd\u6703\u56e0\u70ba\u66f4\u65b0\u9032\u884c\u4e2d\u800c\u9047\u5230\u8cc7\u6599\u4e0d\u4e00\u81f4\u7684\u72c0\u614b\u3002\u4f8b\u5982\uff0c\u5728\u8907\u5beb\u7684\u8cc7\u6599\u5eab\u4e2d\uff0c\u66f4\u65b0\u767c\u751f\u65bc\u67d0\u4e00\u7bc0\u9ede\uff0c\u8a72\u7bc0\u9ede\u518d\u5c07\u6700\u65b0\u8cc7\u6599\u540c\u6b65\u7d66\u5176\u4ed6\u8907\u672c\u7bc0\u9ede\uff0c\u4f7f\u5f97\u8907\u672c\u7bc0\u9ede\u6700\u7d42\u64c1\u6709\u6700\u65b0\u7248\u672c\u3002</p> <p>NoSQL \u7cfb\u7d71\u652f\u63f4\u4e0d\u540c\u7b49\u7d1a\u7684\u6700\u7d42\u4e00\u81f4\u6027\u6a21\u578b\uff0c\u4f8b\u5982\uff1a</p> <ul> <li> <p>\u8b80\u53d6\u81ea\u5df1\u7684\u5beb\u5165\uff08Read Your Own Writes Consistency\uff09</p> <p>\u5ba2\u6236\u7aef\u5728\u5beb\u5165\u5f8c\u53ef\u7acb\u5373\u770b\u5230\u66f4\u65b0\u7684\u5167\u5bb9\u3002\u8b80\u53d6\u53ef\u4ee5\u5f9e\u975e\u5beb\u5165\u7bc0\u9ede\u53d6\u5f97\uff0c\u4f46\u53ef\u80fd\u7121\u6cd5\u7acb\u523b\u770b\u5230\u5176\u4ed6\u7528\u6236\u7aef\u7684\u66f4\u65b0\u3002</p> </li> <li> <p>Session \u4e00\u81f4\u6027\uff08Session Consistency\uff09</p> <p>\u5728\u540c\u4e00\u500b\u5de5\u4f5c\u968e\u6bb5\uff08session\uff09\u7bc4\u570d\u5167\uff0c\u5ba2\u6236\u7aef\u53ef\u4ee5\u770b\u5230\u5176\u8cc7\u6599\u7684\u66f4\u65b0\u3002\u901a\u5e38\u610f\u6307\u8b80\u5beb\u64cd\u4f5c\u767c\u751f\u5728\u540c\u4e00\u4f3a\u670d\u5668\u4e0a\uff0c\u4f7f\u7528\u76f8\u540c\u7bc0\u9ede\u7684\u5176\u4ed6\u5ba2\u6236\u7aef\u4e5f\u6703\u6536\u5230\u76f8\u540c\u66f4\u65b0\u3002</p> </li> <li> <p>\u56e0\u679c\u4e00\u81f4\u6027\uff08Causal Consistency\uff09</p> <p>\u7576\u5beb\u5165\u64cd\u4f5c\u5f7c\u6b64\u5b58\u5728\u6f5b\u5728\u56e0\u679c\u95dc\u4fc2\u6642\uff0c\u7cfb\u7d71\u6703\u4fdd\u8b49\u6bcf\u500b\u8655\u7406\u7a0b\u5e8f\uff08process\uff09\u770b\u5230\u7684\u9806\u5e8f\u4e00\u81f4\u3002\u4e0d\u904e\uff0c\u4e0d\u540c\u8655\u7406\u7a0b\u5e8f\u5c0d\u540c\u6642\u767c\u751f\u7684\u5beb\u5165\u53ef\u80fd\u6703\u4ee5\u4e0d\u540c\u6b21\u5e8f\u89c0\u5bdf\u3002</p> </li> </ul> <p>\u7576\u540c\u4e00\u5206\u5272\u5340\u4e26\u767c\u66f4\u65b0\u6a5f\u7387\u8f03\u4f4e\uff0c\u6216\u5ba2\u6236\u7aef\u4e0d\u9700\u7acb\u5373\u4f9d\u8cf4\u81ea\u8eab\u6216\u5176\u4ed6\u7528\u6236\u7684\u5373\u6642\u66f4\u65b0\u72c0\u6cc1\uff0c\u6700\u7d42\u4e00\u81f4\u6027\u5341\u5206\u5be6\u7528\u3002</p> <p>\u7cfb\u7d71\u6216\u7cfb\u7d71\u90e8\u5206\u6240\u9078\u64c7\u7684\u4e00\u81f4\u6027\u6a21\u578b\uff0c\u6703\u6c7a\u5b9a\u8acb\u6c42\u5c0e\u5411\u7684\u4f4d\u7f6e\uff0c\u4f8b\u5982\u8907\u672c\u7bc0\u9ede\u3002</p> <p>CAP \u9078\u64c7\u793a\u610f</p> \u9078\u64c7     \u7279\u6027     \u7bc4\u4f8b     \u4e00\u81f4\u6027 + \u53ef\u7528\u6027 <p> \uff08\u653e\u68c4\u5206\u5272\u5bb9\u5fcd\u6027\uff09     \u5169\u968e\u6bb5\u63d0\u4ea4 <p> \u5feb\u53d6\u5931\u6548\u5354\u8b70     \u55ae\u4e00\u7ad9\u9ede\u8cc7\u6599\u5eab <p> \u53e2\u96c6\u8cc7\u6599\u5eab <p> LDAP <p> xFS \u6a94\u6848\u7cfb\u7d71     \u4e00\u81f4\u6027 + \u5206\u5272\u5bb9\u5fcd\u6027 <p> \uff08\u653e\u68c4\u53ef\u7528\u6027\uff09     \u60b2\u89c0\u9396\u5b9a <p> \u4f7f\u5c11\u6578\u5206\u5272\u5340\u4e0d\u53ef\u7528     \u5206\u6563\u5f0f\u8cc7\u6599\u5eab <p> \u5206\u6563\u5f0f\u9396\u5b9a <p> \u591a\u6578\u6c7a\u5354\u8b70     \u53ef\u7528\u6027 + \u5206\u5272\u5bb9\u5fcd\u6027 <p> \uff08\u653e\u68c4\u4e00\u81f4\u6027\uff09     \u904e\u671f\uff0f\u79df\u7d04 <p> \u6a02\u89c0\u5f0f\u885d\u7a81\u89e3\u6c7a     DNS <p> \u7db2\u8def\u5feb\u53d6"},{"location":"level101/databases_nosql/key_concepts/#_2","title":"\u5206\u6563\u5f0f\u7cfb\u7d71\u4e2d\u7684\u8cc7\u6599\u7248\u672c\u63a7\u5236","text":"<p>\u7576\u8cc7\u6599\u5206\u6563\u65bc\u591a\u7bc0\u9ede\uff0c\u4e14\u53ef\u540c\u6642\u5728\u4e0d\u540c\u7bc0\u9ede\u4fee\u6539\u6642\uff08\u5047\u8a2d\u56b4\u683c\u4e00\u81f4\u6027\u88ab\u5f37\u5236\u57f7\u884c\uff09\uff0c\u6703\u7522\u751f\u4e26\u767c\u66f4\u65b0\u885d\u7a81\u9700\u8981\u89e3\u6c7a\u3002\u4e00\u4e9b\u6d41\u884c\u7684\u885d\u7a81\u89e3\u6c7a\u6a5f\u5236\u5305\u62ec\uff1a</p> <ul> <li> <p>\u6642\u9593\u6233\u8a18\uff08Timestamps\uff09</p> <p>\u6700\u76f4\u89c0\u7684\u65b9\u6848\u3002\u4f9d\u6642\u9593\u5148\u5f8c\u6392\u5e8f\u66f4\u65b0\uff0c\u9078\u64c7\u6700\u65b0\u7684\u66f4\u65b0\u3002\u4f46\u9019\u4ef0\u8cf4\u57fa\u790e\u67b6\u69cb\u4e2d\u6642\u9418\u7684\u540c\u6b65\uff0c\u7576\u7cfb\u7d71\u8de8\u5730\u7406\u4f4d\u7f6e\u6642\u66f4\u70ba\u8907\u96dc\u3002</p> </li> <li> <p>\u6a02\u89c0\u9396\u5b9a\uff08Optimistic Locking\uff09</p> <p>\u7d66\u6bcf\u7b46\u8cc7\u6599\u66f4\u65b0\u6307\u5b9a\u552f\u4e00\u503c\uff08\u5982\u6642\u9418\u6216\u8a08\u6578\u5668\uff09\uff0c\u5ba2\u6236\u7aef\u66f4\u65b0\u6642\u5fc5\u9808\u6a19\u660e\u8981\u66f4\u65b0\u7684\u8cc7\u6599\u7248\u672c\uff0c\u5fc5\u9808\u8a18\u9304\u8cc7\u6599\u7248\u672c\u7684\u6b77\u53f2\u3002</p> </li> <li> <p>\u5411\u91cf\u6642\u9418\uff08Vector Clocks\uff09</p> <p>\u5411\u91cf\u6642\u9418\u662f\u7531\u6bcf\u500b\u7bc0\u9ede\u7684\u6642\u9418\u503c\u7d44\u6210\u7684\u5143\u7d44\u3002\u5728\u5206\u6563\u5f0f\u74b0\u5883\u4e2d\uff0c\u6bcf\u500b\u7bc0\u9ede\u6703\u7dad\u8b77\u6b64\u5143\u7d44\u4ee3\u8868\u5176\u81ea\u5df1\u8207\u5c0d\u7b49\u8907\u672c\u7684\u72c0\u614b\u3002\u6642\u9418\u503c\u53ef\u70ba\u7576\u5730\u6642\u9418\u7684\u5be6\u969b\u6642\u9593\u6233\u6216\u7248\u672c\u865f\u3002</p> </li> </ul> <p> </p> <p></p> <p>\u5411\u91cf\u6642\u9418\u793a\u610f\u5716</p> <p>\u5411\u91cf\u6642\u9418\u7684\u512a\u9ede\uff1a</p> <ol> <li>\u4e0d\u4f9d\u8cf4\u6642\u9418\u540c\u6b65</li> <li>\u4e0d\u9700\u5c0d\u4fee\u8a02\u865f\u505a\u6574\u9ad4\u6392\u5e8f\u4f86\u63a8\u8ad6\u56e0\u679c\u95dc\u4fc2</li> </ol> <p>\u4e0d\u9700\u5728\u4e0d\u540c\u7bc0\u9ede\u5b58\u653e\u8207\u7dad\u8b77\u591a\u7248\u672c\u8cc7\u6599\u3002**</p>"},{"location":"level101/databases_nosql/key_concepts/#partitioning","title":"\u5206\u5272\uff08Partitioning\uff09","text":"<p>\u7576\u8cc7\u6599\u91cf\u8d85\u904e\u55ae\u4e00\u7bc0\u9ede\u5bb9\u91cf\u6642\uff0c\u9700\u601d\u8003\u62c6\u5206\u8cc7\u6599\u3001\u5efa\u7acb\u8907\u672c\u7528\u65bc\u8ca0\u8f09\u5e73\u8861\u8207\u707d\u96e3\u5fa9\u539f\u3002\u4f9d\u57fa\u790e\u8a2d\u65bd\u7684\u52d5\u614b\u7a0b\u5ea6\uff0c\u5e38\u898b\u505a\u6cd5\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u8a18\u61b6\u9ad4\u5feb\u53d6</p> <p>\u9019\u985e\u70ba\u5206\u5272\u7684\u8a18\u61b6\u9ad4\u8cc7\u6599\u5eab\uff0c\u4e3b\u8981\u7528\u65bc\u77ed\u66ab\u8cc7\u6599\u3002\u5e38\u4f5c\u70ba\u50b3\u7d71\u95dc\u806f\u8cc7\u6599\u5eab\uff08RDBMS\uff09\u7684\u524d\u7aef\u5feb\u53d6\u3002\u6700\u5e38\u7528\u7684\u8cc7\u6599\u6703\u5f9e RDBMS \u8907\u88fd\u5230\u8a18\u61b6\u9ad4\u8cc7\u6599\u5eab\u52a0\u901f\u67e5\u8a62\uff0c\u4e26\u6e1b\u8f15\u5f8c\u7aef\u8cc7\u6599\u5eab\u8ca0\u64d4\u3002\u5e38\u898b\u4f8b\u5b50\u6709 Memcached \u6216 Couchbase\u3002</p> </li> <li> <p>\u53e2\u96c6\uff08Clustering\uff09</p> <p>\u50b3\u7d71\u53e2\u96c6\u5c07\u53e2\u96c6\u62d3\u64b2\u5f9e\u7528\u6236\u7aef\u62bd\u8c61\u5316\uff0c\u7528\u6236\u7aef\u7121\u9700\u77e5\u9053\u8cc7\u6599\u6240\u5728\u7bc0\u9ede\u4f4d\u7f6e\u5373\u53ef\u64cd\u4f5c\u3002\u53e2\u96c6\u5e38\u7528\u65bc\u50b3\u7d71 RDBMS\uff0c\u53ef\u64f4\u5c55\u6301\u4e45\u5c64\u81f3\u4e00\u5b9a\u7bc4\u570d\u3002</p> </li> <li> <p>\u8b80\u5beb\u5206\u96e2</p> <p>\u591a\u500b\u8907\u672c\u7bc0\u9ede\u5b58\u653e\u76f8\u540c\u8cc7\u6599\uff0c\u5beb\u5165\u96c6\u4e2d\u6307\u5b9a\u7bc0\u9ede\uff08\u55ae\u4e00\u9818\u5c0e\u8005 Leader\uff09\u6216\u591a\u7bc0\u9ede\uff08\u591a\u9818\u5c0e\u8005 multi-Leader\uff09\u3002\u5176\u9918\u8907\u672c\u7bc0\u9ede\uff08\u8ffd\u96a8\u8005 Follower\uff09\u8ca0\u8cac\u8b80\u53d6\u8981\u6c42\u3002\u9818\u5c0e\u8005\u6703\u975e\u540c\u6b65\u5730\u8907\u5beb\u8cc7\u6599\u7d66\u6240\u6709\u8ffd\u96a8\u8005\uff0c\u4f46\u53ef\u80fd\u7522\u751f\u5beb\u5165\u5ef6\u9072\uff0c\u82e5\u9818\u5c0e\u8005\u6545\u969c\u672a\u540c\u6b65\u5b8c\u6210\uff0c\u8ffd\u96a8\u8005\u53ef\u8f49\u70ba\u9818\u5c0e\u8005\u3002\u8a72\u6a21\u578b\u96e3\u4ee5\u5f37\u5236\u5b8c\u5168\u4e00\u81f4\u6027\uff0c\u4e14\u9808\u8003\u616e\u8b80\u5beb\u6d41\u91cf\u6bd4\u4f8b\uff0c\u7576\u5beb\u5165\u91cf\u9ad8\u65bc\u8b80\u53d6\u6642\u4e0d\u9069\u7528\u3002\u8907\u5beb\u65b9\u5f0f\u4e0d\u4e00\uff0c\u6709\u7cfb\u7d71\u5b9a\u671f\u5168\u91cf\u540c\u6b65\uff0c\u4e5f\u6709\u5dee\u91cf\u540c\u6b65\u6216\u50b3\u905e\u64cd\u4f5c\u5f8c\u8ffd\u8d95\u7248\u672c\u3002</p> </li> <li> <p>\u5206\u7247\uff08Sharding\uff09</p> <p>\u5206\u7247\u6307\u5c07\u8cc7\u6599\u5747\u52fb\u5206\u6563\uff08\u5132\u5b58\u8207\u8655\u7406\u80fd\u529b\uff09\u65bc\u591a\u7bc0\u9ede\u53e2\u96c6\u4e2d\u3002\u4ea6\u610f\u6db5\u8cc7\u6599\u5c40\u90e8\u6027\uff0c\u5373\u76f8\u4f3c\u6216\u95dc\u806f\u8cc7\u6599\u7fa4\u805a\uff0c\u6709\u52a9\u52a0\u901f\u5b58\u53d6\u3002\u5206\u7247\u53ef\u518d\u8907\u5beb\u4ee5\u652f\u63f4\u8ca0\u8f09\u5e73\u8861\u8207\u707d\u5099\u3002\u55ae\u4e00\u5206\u7247\u8907\u672c\u53ef\u96c6\u4e2d\u63a5\u53d7\u5beb\u5165\uff08\u55ae\u9818\u5c0e\u8005\uff09\uff0c\u6216\u591a\u8907\u672c\u7686\u63a5\u53d7\u5beb\u5165\uff08\u591a\u9818\u5c0e\u8005\uff09\u3002\u8b80\u53d6\u5247\u5206\u6563\u65bc\u591a\u8907\u672c\u3002\u56e0\u8cc7\u6599\u5206\u6563\u591a\u7bc0\u9ede\uff0c\u5ba2\u6236\u7aef\u9700\u4e00\u81f4\u6027\u4e86\u89e3\u8cc7\u6599\u6240\u5728\u7bc0\u9ede\u3002\u4ee5\u4e0b\u5c07\u4ecb\u7d39\u5e38\u7528\u6280\u8853\u3002\u5206\u7247\u7f3a\u9ede\u662f\u7121\u6cd5\u8de8\u5206\u7247\u505a JOIN\uff0c\u9700\u7531\u4e0a\u6e38\u6216\u4e0b\u6e38\u7cfb\u7d71\u532f\u7e3d\u591a\u5206\u7247\u7d50\u679c\u3002</p> </li> </ol> <p></p> <p></p> <p>\u5206\u7247\u793a\u610f\u5716 </p>"},{"location":"level101/databases_nosql/key_concepts/#hashing","title":"\u96dc\u6e4a\uff08Hashing\uff09","text":"<p>\u96dc\u6e4a\u51fd\u6578\u5c07\u4e00\u6bb5\u8cc7\u6599\uff0c\u901a\u5e38\u63cf\u8ff0\u67d0\u7269\u4ef6\u4e14\u5927\u5c0f\u4e0d\u56fa\u5b9a\uff0c\u6620\u5c04\u70ba\u53e6\u4e00\u6bb5\u8cc7\u6599\uff0c\u901a\u5e38\u70ba\u6574\u6578\uff0c\u7a31\u70ba \u96dc\u6e4a\u78bc\uff08hash code\uff09\u6216 \u96dc\u6e4a\u503c\uff08hash\uff09\u3002\u5728\u5206\u5272\u8cc7\u6599\u5eab\u4e2d\uff0c\u4e00\u500b\u91cd\u8981\u76ee\u6a19\u662f\u5c07\u9375\u7a69\u5b9a\u5730\u6620\u5c04\u81f3\u4f3a\u670d\u5668\u6216\u8907\u672c\u3002</p> <p>\u4f8b\u5982\uff1a\u7c21\u55ae\u4f7f\u7528\u6a21\u9664\uff08mod\uff09\u51fd\u6578\u4f5c\u70ba\u96dc\u6e4a\uff1a</p> <pre><code>_p = k mod n_\n</code></pre> <p>\u5176\u4e2d</p> <pre><code>p -&gt; \u5206\u5272\u5340\n\nk -&gt; \u4e3b\u9375\n\nn -&gt; \u7bc0\u9ede\u6578\u91cf\n</code></pre> <p>\u6b64\u7c21\u55ae\u96dc\u6e4a\u7684\u7f3a\u9ede\u662f\u53e2\u96c6\u62d3\u64b2\u8b8a\u5316\u6642\uff0c\u8cc7\u6599\u5206\u5e03\u4e5f\u6703\u6539\u8b8a\u3002\u8a18\u61b6\u9ad4\u5feb\u53d6\u53ef\u63a5\u53d7\u7bc0\u9ede\u52a0\u5165/\u96e2\u958b\u5f8c\u91cd\u65b0\u5206\u5e03\u4e26\u5feb\u53d6\u91cd\u5efa\u3002\u4f46\u6301\u4e45\u5316\u8cc7\u6599\u7121\u6cd5\u5982\u6b64\u5f48\u6027\uff0c\u56e0\u65b0\u7bc0\u9ede\u7121\u6cd5\u670d\u52d9\u5176\u8cc7\u6599\u5206\u5272\uff0c\u9019\u5c31\u5f15\u51fa\u4e00\u81f4\u6027\u96dc\u6e4a\u3002</p>"},{"location":"level101/databases_nosql/key_concepts/#consistent-hashing","title":"\u4e00\u81f4\u6027\u96dc\u6e4a\uff08Consistent Hashing\uff09","text":"<p>\u4e00\u81f4\u6027\u96dc\u6e4a\u662f\u4e00\u7a2e\u5206\u6563\u5f0f\u96dc\u6e4a\u65b9\u6848\uff0c\u7368\u7acb\u65bc\u4f3a\u670d\u5668\u6578\u91cf\u6216\u7269\u4ef6\u6578\u91cf\uff0c\u5c07\u4f3a\u670d\u5668\u8207\u7269\u4ef6\u5728\u62bd\u8c61\u5713\u74b0\uff08hash ring\uff09\u4e0a\u5b9a\u4f4d\u3002\u6b64\u8a2d\u8a08\u5141\u8a31\u4f3a\u670d\u5668\u53ca\u7269\u4ef6\u64f4\u5c55\u6642\u4e0d\u5f71\u97ff\u6574\u9ad4\u7cfb\u7d71\u3002</p> <p>\u5047\u8a2d\u96dc\u6e4a\u51fd\u6578 h() \u7522\u751f 32 \u4f4d\u5143\u6574\u6578\uff0c\u8981\u6c7a\u5b9a\u9375 k \u6703\u9001\u5230\u54ea\u81fa\u4f3a\u670d\u5668\uff0c\u5c0b\u627e\u54c8\u5e0c\u503c h(s) \u70ba\u6700\u5c0f\u4e14\u5927\u65bc h(k) \u7684\u4f3a\u670d\u5668 s\u3002\u5713\u74b0\u8a2d\u8a08\u610f\u6307\u627e\u4e0d\u5230\u6bd4\u54c8\u5e0c\u503c\u5927\u7684\u4f3a\u670d\u5668\u6642\uff0c\u5f9e\u982d\u958b\u59cb\u5c0b\u627e\u3002</p> <p> </p> <p></p> <p>\u4e00\u81f4\u6027\u96dc\u6e4a\u793a\u610f\u5716</p> <p>\u4e00\u81f4\u6027\u96dc\u6e4a\u4e2d\uff0c\u589e\u52a0\u6216\u79fb\u9664\u4f3a\u670d\u5668\u6642\uff0c\u50c5\u8a72\u4f3a\u670d\u5668\u7684\u9375\u9700\u91cd\u65b0\u5206\u914d\u3002\u4f8b\u5982\u79fb\u9664\u4f3a\u670d\u5668 S<sub>3</sub>\uff0cS<sub>3</sub> \u4e0a\u6240\u6709\u9375\u6703\u79fb\u81f3 S<sub>4</sub>\uff0c\u4e14 S<sub>4</sub> \u8207 S<sub>2</sub> \u4e0a\u7684\u9375\u4e0d\u6703\u79fb\u52d5\u3002\u4f46\u554f\u984c\u662f\u9375\u4e26\u672a\u5e73\u5747\u5206\u914d\u81f3\u5269\u9918\u4f3a\u670d\u5668\uff0c\u5168\u90e8\u90fd\u6307\u6d3e\u5230 S<sub>4</sub>\uff0c\u52a0\u91cd\u8ca0\u8f09\u3002</p> <p>\u70ba\u5747\u52fb\u5206\u6563\u8ca0\u8f09\uff0c\u6703\u70ba\u6bcf\u53f0\u4f3a\u670d\u5668\u5efa\u7acb\u56fa\u5b9a\u6578\u91cf\u8907\u672c\uff08\u865b\u64ec\u7bc0\u9ede\uff09\uff0c\u4e26\u5206\u5e03\u65bc\u5713\u74b0\u3002\u4f8b\u5982\u4e0d\u518d\u53ea\u6709 S<sub>1</sub>, S<sub>2</sub>, S<sub>3</sub>\uff0c\u800c\u662f\u6709 S<sub>10</sub>, S<sub>11</sub>, \u2026, S<sub>19</sub>\uff0cS<sub>20</sub>, S<sub>21</sub>, \u2026, S<sub>29</sub> \u548c S<sub>30</sub>, S<sub>31</sub>, \u2026, S<sub>39</sub>\u3002\u8907\u672c\u6578\u76ee\u7a31\u70ba \u6b0a\u91cd\uff08weight\uff09\uff0c\u8996\u60c5\u6cc1\u800c\u5b9a\u3002</p> <p>\u6240\u6709\u6620\u5c04\u5230\u8907\u672c S<sub>ij</sub> \u7684\u9375\u90fd\u5b58\u65bc\u4f3a\u670d\u5668 S<sub>i</sub>\u3002\u641c\u5c0b\u9375\u6642\u540c\u6a23\u627e\u5713\u74b0\u4e0a\u9375\u7684\u4f4d\u7f6e\uff0c\u518d\u9806\u6642\u91dd\u79fb\u52d5\u627e\u5230\u4e00\u4f3a\u670d\u5668\u8907\u672c\uff0c\u9375\u5373\u5b58\u65bc\u5176\u6bcd\u4f3a\u670d\u5668\u3002</p> <p>\u6bd4\u5982\u79fb\u9664\u4f3a\u670d\u5668 S<sub>3</sub>\uff0c\u5fc5\u9808\u522a\u9664\u5176\u6a19\u7c64 S<sub>30</sub>,S<sub>31</sub>,\u2026S<sub>39</sub>\uff0c\u76f8\u9130\u9375\u6703\u81ea\u52d5\u91cd\u5206\u914d\u5230 S<sub>1X</sub>, S<sub>2X</sub> \u548c S<sub>4X</sub>\u3002\u539f\u672c\u5206\u914d\u7d66 S<sub>1</sub>, S<sub>2</sub> \u8207 S<sub>4</sub> \u7684\u9375\u4e0d\u8b8a\u3002</p> <p>\u6dfb\u52a0\u4f3a\u670d\u5668\u4e5f\u985e\u4f3c\u3002\u52a0\u5165 S<sub>5</sub>\uff08\u53d6\u4ee3 S<sub>3</sub>\uff09\u9700\u65b0\u589e\u6a19\u7c64 S<sub>50</sub>,S<sub>51</sub>,\u2026S<sub>59</sub>\u3002\u7406\u60f3\u72c0\u6cc1\u4e0b\uff0c\u7d04\u56db\u5206\u4e4b\u4e00\u4f86\u81ea S<sub>1</sub>, S<sub>2</sub> \u8207 S<sub>4</sub> \u7684\u9375\u6703\u5206\u914d\u81f3 S<sub>5</sub>\u3002</p> <p>\u61c9\u7528\u65bc\u6c38\u4e45\u6027\u5132\u5b58\u6642\uff0c\u4ecd\u6709\u554f\u984c\uff1a\u7bc0\u9ede\u79fb\u9664\u6642\uff0c\u5b58\u65bc\u8a72\u7bc0\u9ede\u7684\u8cc7\u6599\u7576\u7121\u6cd5\u8907\u88fd\u81f3\u4ed6\u4eba\u524d\u5c07\u907a\u5931\uff1b\u65b0\u589e\u7bc0\u9ede\u6642\uff0c\u539f\u76f8\u9130\u7bc0\u9ede\u5c0d\u67d0\u4e9b\u8cc7\u6599\u4ecd\u4fdd\u6709\u5b58\u53d6\u6b0a\u4f46\u4e0d\u518d\u88ab\u67e5\u8a62\uff0c\u6b64\u7a31\u70ba\u300c\u8cc7\u6599\u5b64\u5cf6\u300d\u3002\u70ba\u89e3\u6c7a\u6b64\u554f\u984c\uff0c\u6703\u5f15\u5165\u8907\u672c\u56e0\u5b50 (r)\u3002</p> <p>\u5f15\u5165\u8907\u672c\u9664\u63d0\u5347\u53ef\u9760\u6027\u5916\uff0c\u4e5f\u5e73\u8861\u4e86\u8b80\u8acb\u6c42\u8ca0\u8f09\uff0c\u80fd\u7531\u4efb\u4f55\u8ca0\u8cac\u8a72\u8cc7\u6599\u7684\u7bc0\u9ede\u8655\u7406\u3002\u82e5\u7528\u6236\u7aef\u9808\u5f9e\u591a\u81fa\u4f3a\u670d\u5668\u8b80\u53d6\u4e0d\u540c\u7248\u672c\u8cc7\u6599\uff0c\u8ca0\u8cac\u6295\u7968\u4ee5\u9054\u6210\u5171\u8b58\uff0c\u6703\u964d\u4f4e\u8ca0\u8f09\u5e73\u8861\u6548\u7387\uff0c\u7121\u6cd5\u64f4\u5c55\u3002</p>"},{"location":"level101/databases_nosql/key_concepts/#quorum","title":"\u6cd5\u5b9a\u4eba\u6578\uff08Quorum\uff09","text":"<p>\u6cd5\u5b9a\u4eba\u6578\u662f\u53e2\u96c6\u4e2d\u5fc5\u9808\u5728\u7dda\u4e14\u80fd\u4e92\u76f8\u901a\u8a0a\u7684\u7bc0\u9ede\u6578\u91cf\u4e0b\u9650\u3002\u82e5\u6545\u969c\u7bc0\u9ede\u6578\u8d85\u904e\u6b64\u6578\uff0c\u53e2\u96c6\u6703\u505c\u6b62\u904b\u4f5c\u3002</p> <p>\u53d6\u5f97\u6cd5\u5b9a\u4eba\u6578\u9700\u64c1\u6709\u591a\u6578\u7bc0\u9ede\uff0c\u901a\u5e38\u70ba (N/2 + 1)\uff0c\u5176\u4e2d N \u70ba\u7cfb\u7d71\u7bc0\u9ede\u7e3d\u6578\u3002\u4f8b\u5982\uff1a</p> <ul> <li> <p>\u4e09\u7bc0\u9ede\u53e2\u96c6\u9700 2 \u500b\u7bc0\u9ede\u4f5c\u70ba\u591a\u6578\u3002</p> </li> <li> <p>\u4e94\u7bc0\u9ede\u53e2\u96c6\u9700 3 \u500b\u7bc0\u9ede\u3002</p> </li> <li> <p>\u516d\u7bc0\u9ede\u53e2\u96c6\u9700 4 \u500b\u7bc0\u9ede\u3002</p> </li> </ul> <p> </p> <p></p> <p> \u6cd5\u5b9a\u4eba\u6578\u7bc4\u4f8b </p> <p>\u7db2\u8def\u554f\u984c\u53ef\u80fd\u5c0e\u81f4\u53e2\u96c6\u7bc0\u9ede\u9593\u901a\u8a0a\u4e2d\u65b7\u3002\u4e00\u7fa4\u7bc0\u9ede\u53ef\u4e92\u76f8\u901a\u8a0a\uff0c\u537b\u8207\u53e6\u4e00\u7fa4\u7121\u6cd5\u806f\u7e6b\uff0c\u7a31\u70ba\u53e2\u96c6\u5206\u5272\uff08split brain\uff09\u3002</p> <p>\u5177\u6709\u6cd5\u5b9a\u4eba\u6578\u7684\u5206\u5272\u5340\u53ef\u7e7c\u7e8c\u64cd\u4f5c\uff0c\u5176\u4ed6\u5340\u584a\u5247\u88ab\u79fb\u9664\u51fa\u53e2\u96c6\u3002</p> <p>\u4f8b\u5982\uff1a\u5728\u4e94\u7bc0\u9ede\u53e2\u96c6\u4e2d\uff0c\u7bc0\u9ede 1\u30012\u30013 \u80fd\u4e92\u901a\uff0c\u4f46\u7121\u6cd5\u8207\u7bc0\u9ede 4\u30015 \u9023\u7dda\u3002\u7bc0\u9ede 1\u30012\u30013 \u70ba\u591a\u6578\uff0c\u6301\u7e8c\u904b\u4f5c\u70ba\u53e2\u96c6\uff1b\u7bc0\u9ede 4\u30015\u56e0\u70ba\u662f\u5c11\u6578\u505c\u6b62\u4f5c\u70ba\u53e2\u96c6\u3002\u82e5\u7bc0\u9ede3\u5931\u806f\uff0c\u6240\u6709\u7bc0\u9ede\u7686\u505c\u6b62\u53e2\u96c6\u904b\u4f5c\u3002\u4f46\u4ecd\u6703\u7e7c\u7e8c\u76e3\u807d\u901a\u8a0a\uff0c\u7db2\u8def\u6062\u5fa9\u6642\u53e2\u96c6\u53ef\u91cd\u7d44\u4e26\u91cd\u65b0\u904b\u884c\u3002</p> <p>\u4e0b\u5716\u5c55\u793a\u5283\u5206\u70ba\u5169\u7fa4\u7d44\u7684\u53e2\u96c6\u4e2d\u6cd5\u5b9a\u4eba\u6578\u6c7a\u7b56\u3002</p> <p> </p> <p></p> <p><p>\u53e2\u96c6\u6cd5\u5b9a\u4eba\u6578\u793a\u4f8b</p></p>"},{"location":"level101/databases_sql/backup_recovery/","title":"Backup and Recovery","text":""},{"location":"level101/databases_sql/backup_recovery/#_1","title":"\u5099\u4efd\u8207\u9084\u539f","text":"<p>\u5099\u4efd\u662f\u4efb\u4f55\u8cc7\u6599\u5eab\u8a2d\u5b9a\u4e2d\u975e\u5e38\u95dc\u9375\u7684\u90e8\u5206\u3002\u5b83\u5011\u901a\u5e38\u662f\u8cc7\u6599\u7684\u8907\u88fd\u54c1\uff0c\u53ef\u7528\u65bc\u5728\u8cc7\u6599\u5eab\u767c\u751f\u91cd\u5927\u6216\u5c0f\u578b\u5371\u6a5f\u6642\u91cd\u5efa\u8cc7\u6599\u3002\u4e00\u822c\u800c\u8a00\uff0c\u5099\u4efd\u53ef\u5206\u70ba\u5169\u7a2e\uff1a</p> <ul> <li>\u5be6\u9ad4\u5099\u4efd - \u78c1\u789f\u4e0a\u7684\u8cc7\u6599\u76ee\u9304\u539f\u6a23\u5099\u4efd</li> <li>\u908f\u8f2f\u5099\u4efd - \u8868\u7d50\u69cb\u53ca\u5176\u5167\u7684\u7d00\u9304</li> </ul> <p>\u4e0a\u8ff0\u5169\u7a2e\u5099\u4efd\u985e\u578b\u5747\u7531 MySQL \u4f7f\u7528\u4e0d\u540c\u5de5\u5177\u652f\u63f4\u3002\u7531 SRE \u5224\u65b7\u4f55\u6642\u4f7f\u7528\u4f55\u7a2e\u5099\u4efd\u5de5\u5177\u3002</p>"},{"location":"level101/databases_sql/backup_recovery/#mysqldump","title":"Mysqldump","text":"<p>\u6b64\u5de5\u5177\u96a8 MySQL \u5b89\u88dd\u63d0\u4f9b\uff0c\u5354\u52a9\u53d6\u5f97\u8cc7\u6599\u5eab\u7684\u908f\u8f2f\u5099\u4efd\u3002\u5b83\u8f38\u51fa\u4e00\u7d44 SQL \u8a9e\u53e5\u4f86\u91cd\u5efa\u8cc7\u6599\u3002\u4e0d\u5efa\u8b70\u5c0d\u5927\u578b\u8868\u4f7f\u7528 <code>mysqldump</code>\uff0c\u56e0\u8017\u6642\u4e14\u6a94\u6848\u9ad4\u7a4d\u9f90\u5927\uff1b\u5c0d\u65bc\u5c0f\u578b\u8868\u5247\u70ba\u6700\u4f73\u4e14\u6700\u5feb\u7684\u9078\u64c7\u3002</p> <pre><code>mysqldump [options] &gt; dump_output.sql\n</code></pre> <p>\u4ee5\u4e0b\u70ba\u4f7f\u7528 <code>mysqldump</code> \u53ef\u642d\u914d\u7684\u9078\u9805\u4ee5\u53d6\u5f97\u5408\u9069\u7684\u8cc7\u6599\u5eab\u5099\u4efd\u3002</p> <p>\u5099\u4efd\u6240\u6709\u8cc7\u6599\u5eab\uff1a</p> <pre><code>mysqldump -u&lt;user&gt; -p&lt;pwd&gt; --all-databases &gt; all_dbs.sql\n</code></pre> <p>\u5099\u4efd\u7279\u5b9a\u8cc7\u6599\u5eab\uff1a</p> <pre><code>mysqldump -u&lt;user&gt; -p&lt;pwd&gt; --databases db1 db2 db3 &gt; dbs.sql\n</code></pre> <p>\u5099\u4efd\u55ae\u4e00\u8cc7\u6599\u5eab\uff1a</p> <pre><code>mysqldump -u&lt;user&gt; -p&lt;pwd&gt; --databases db1 &gt; db1.sql\n</code></pre> <p>\u6216</p> <pre><code>mysqldump -u&lt;user&gt; -p&lt;pwd&gt; db1 &gt; db1.sql\n</code></pre> <p>\u4e0a\u8ff0\u5169\u8005\u7684\u5dee\u5225\u662f\u5f8c\u8005\u5099\u4efd\u8f38\u51fa\u4e2d\u4e0d\u5305\u542b <code>CREATE DATABASE</code> \u6307\u4ee4\u3002</p> <p>\u5099\u4efd\u8cc7\u6599\u5eab\u4e2d\u7279\u5b9a\u8868\uff1a</p> <pre><code>mysqldump -u&lt;user&gt; -p&lt;pwd&gt; db1 table1 table2 &gt; db1_tables.sql\n</code></pre> <p>\u53ea\u5099\u4efd\u8868\u7d50\u69cb\uff08\u4e0d\u542b\u8cc7\u6599\uff09\uff1a</p> <pre><code>mysqldump -u&lt;user&gt; -p&lt;pwd&gt; --no-data db1 &gt; db1_structure.sql\n</code></pre> <p>\u53ea\u5099\u4efd\u8868\u8cc7\u6599\uff08\u4e0d\u542b <code>CREATE</code> \u6307\u4ee4\uff09\uff1a</p> <pre><code>mysqldump -u&lt;user&gt; -p&lt;pwd&gt; --no-create-info db1 &gt; db1_data.sql\n</code></pre> <p>\u5099\u4efd\u8868\u4e2d\u7279\u5b9a\u7d00\u9304\uff1a</p> <pre><code>mysqldump -u&lt;user&gt; -p&lt;pwd&gt; --no-create-info db1 table1 --where=\u201dsalary&gt;80000\u201d &gt; db1_table1_80000.sql\n</code></pre> <p><code>mysqldump</code> \u4e5f\u53ef\u4ee5\u8f38\u51fa\u70ba CSV\u3001\u5176\u4ed6\u5206\u9694\u6587\u5b57\u6216 XML \u683c\u5f0f\u4ee5\u652f\u63f4\u7279\u5b9a\u9700\u6c42\u3002<code>mysqldump</code> \u7684\u5099\u4efd\u70ba\u96e2\u7dda\u5099\u4efd\uff0c\u5373\u5099\u4efd\u5b8c\u6210\u6642\u4e0d\u5305\u542b\u5099\u4efd\u671f\u9593\u8cc7\u6599\u5eab\u7684\u8b8a\u66f4\u3002\u4f8b\u5982\uff0c\u82e5\u5099\u4efd\u65bc\u4e0b\u53483\u9ede\u958b\u59cb\uff0c4\u9ede\u5b8c\u6210\uff0c\u5247\u4e0d\u5305\u542b\u4e0b\u53483\u9ede\u81f34\u9ede\u9593\u7684\u8cc7\u6599\u8b8a\u66f4\u3002</p> <p>\u5f9e <code>mysqldump</code> \u9084\u539f \u6709\u4ee5\u4e0b\u5169\u7a2e\u65b9\u5f0f\uff1a</p> <p>\u5f9e shell \u9084\u539f</p> <pre><code>mysql -u&lt;user&gt; -p&lt;pwd&gt; &lt; all_dbs.sql\n</code></pre> <p>\u6216</p> <p>\u82e5\u8cc7\u6599\u5eab\u5df2\u5efa\uff0c\u5f9e shell \u9084\u539f\uff1a</p> <pre><code>mysql -u&lt;user&gt; -p&lt;pwd&gt; db1 &lt; db1.sql\n</code></pre> <p>MySQL \u4ea4\u8ac7\u4ecb\u9762\u4e2d\u9084\u539f\uff1a</p> <pre><code>mysql&gt; source all_dbs.sql\n</code></pre>"},{"location":"level101/databases_sql/backup_recovery/#percona-xtrabackup","title":"Percona XtraBackup","text":"<p>\u6b64\u5de5\u5177\u9700\u8207 MySQL \u4f3a\u670d\u5668\u7368\u7acb\u5b89\u88dd\uff0c\u70ba Percona \u63d0\u4f9b\u7684\u958b\u6e90\u5de5\u5177\u3002\u53ef\u7528\u65bc\u53d6\u5f97\u5b8c\u6574\u6216\u90e8\u5206\u7684\u7269\u7406\u5099\u4efd\u3002\u63d0\u4f9b\u7dda\u4e0a\u5099\u4efd\uff0c\u5373\u5099\u4efd\u9032\u884c\u6642\u7684\u8cc7\u6599\u8b8a\u52d5\u4e5f\u6703\u5305\u542b\u5728\u5099\u4efd\u4e2d\uff0c\u5982\u524d\u6587\u6240\u793a\u3002</p> <ul> <li>\u5b8c\u6574\u5099\u4efd - \u8cc7\u6599\u5eab\u5b8c\u6574\u5099\u4efd</li> <li>\u90e8\u5206\u5099\u4efd - \u589e\u91cf\u5099\u4efd</li> <li>\u7d2f\u7a4d\u5f0f - \u5b8c\u6574\u5099\u4efd\u5f8c\uff0c\u63a5\u7e8c\u5099\u4efd\u5305\u542b\u5f9e\u5b8c\u6574\u5099\u4efd\u5f8c\u81f3\u4eca\u6240\u6709\u8b8a\u66f4\u3002\u4f8b\u5982\uff0c\u9031\u65e5\u505a\u5b8c\u6574\u5099\u4efd\uff0c\u5f9e\u9031\u4e00\u8d77\u7684\u6bcf\u6b21\u5099\u4efd\u90fd\u5305\u542b\u5f9e\u9031\u65e5\u4ee5\u5f8c\u7684\u8b8a\u66f4\uff1b\u9031\u4e8c\u7684\u5099\u4efd\u5305\u542b\u9031\u4e00\u7684\u8b8a\u66f4\uff0c\u9031\u4e09\u5099\u4efd\u5305\u542b\u9031\u4e00\u548c\u9031\u4e8c\u7684\u8b8a\u66f4\uff0c\u4ee5\u6b64\u985e\u63a8\u3002</li> <li>\u5dee\u7570\u5f0f - \u5b8c\u6574\u5099\u4efd\u5f8c\uff0c\u4e0b\u4e00\u6b21\u5099\u4efd\u5305\u542b\u81ea\u4e0a\u6b21\u589e\u91cf\u5099\u4efd\u5f8c\u7684\u8b8a\u66f4\u3002\u4f8b\u5982\uff0c\u9031\u65e5\u5b8c\u6210\u5b8c\u6574\u5099\u4efd\uff0c\u9031\u4e00\u5099\u4efd\u542b\u9031\u65e5\u5f8c\u8b8a\u66f4\uff0c\u9031\u4e8c\u5099\u4efd\u542b\u9031\u4e00\u5f8c\u8b8a\u66f4\uff0c\u4f9d\u6b64\u985e\u63a8\u3002</li> </ul> <p></p> <p>Percona XtraBackup \u53ef\u4f9d\u9700\u6c42\u53d6\u5f97\u5b8c\u6574\u6216\u589e\u91cf\u5099\u4efd\u3002\u589e\u91cf\u5099\u4efd\u6bd4\u5b8c\u6574\u5099\u4efd\uff08\u6bcf\u65e5\u8a08\uff09\u4f54\u7528\u7a7a\u9593\u5c0f\uff0c\u4f46\u9084\u539f\u6642\u9593\u8f03\u9577\u3002</p> <p>\u5efa\u7acb\u5b8c\u6574\u5099\u4efd</p> <pre><code>xtrabackup --defaults-file=&lt;my.cnf\u8def\u5f91&gt; --user=&lt;mysql\u7528\u6236&gt; --password=&lt;mysql\u5bc6\u78bc&gt; --backup --target-dir=&lt;\u76ee\u6a19\u76ee\u9304\u8def\u5f91&gt;\n</code></pre> <p>\u7bc4\u4f8b\uff1a</p> <pre><code>xtrabackup --defaults-file=/etc/my.cnf --user=some_user --password=XXXX --backup --target-dir=/mnt/data/backup/\n</code></pre> <p>\u5176\u4ed6\u9078\u9805</p> <ul> <li><code>--stream</code> - \u7528\u65bc\u4ee5\u6307\u5b9a\u683c\u5f0f\u4e32\u6d41\u8f38\u51fa\u5099\u4efd\u6a94\u6848\u3002\u76ee\u524d\u50c5\u652f\u63f4 <code>xbstream</code>\u3002</li> <li><code>--tmp-dir</code> - \u6307\u5b9a\u66ab\u5b58\u5099\u4efd\u6a94\u7528\u7684\u81e8\u6642\u76ee\u9304\u3002</li> <li><code>--parallel</code> - \u8a2d\u5b9a\u53ef\u7528\u65bc\u4e26\u884c\u8907\u88fd\u6a94\u6848\u6578\u76ee\u3002</li> <li><code>--compress</code> - \u9810\u8a2d\u4f7f\u7528 <code>quicklz</code>\uff0c\u555f\u7528\u6b64\u9078\u9805\u5247\u5099\u4efd\u6703\u4ee5\u58d3\u7e2e\u683c\u5f0f\u4fdd\u5b58\uff0c\u6bcf\u500b\u6a94\u6848\u70ba <code>.qp</code> \u683c\u5f0f\uff0c\u53ef\u7528 <code>qpress</code> \u89e3\u58d3\u7e2e\u3002</li> <li><code>--decompress</code> - \u89e3\u58d3\u6240\u6709 <code>.qp</code> \u58d3\u7e2e\u6a94\uff0c\u57f7\u884c\u5f8c\u4e0d\u6703\u522a\u9664\u539f\u59cb\u58d3\u7e2e\u6a94\uff0c\u82e5\u9700\u522a\u9664\uff0c\u642d\u914d <code>--remove-original</code> \u4f7f\u7528\u3002\u8acb\u6ce8\u610f\uff0c\u89e3\u58d3\u7e2e\u9078\u9805\u9700\u8207\u7528\u65bc\u58d3\u7e2e\u7684 <code>xtrabackup</code> \u547d\u4ee4\u5206\u5225\u57f7\u884c\u3002</li> </ul> <p>\u5099\u4efd\u6e96\u5099</p> <p>\u5b8c\u6210 <code>--backup</code> \u5f8c\uff0c\u9700\u6e96\u5099\u5099\u4efd\u4ee5\u4f7f\u8cc7\u6599\u6a94\u6848\u4e00\u81f4\u4e14\u7b26\u5408\u6642\u9593\u9ede\u3002\u5099\u4efd\u57f7\u884c\u6642\u9014\u4e2d\u53ef\u80fd\u6709\u4ea4\u6613\u4fee\u6539\u8cc7\u6599\u6a94\uff0c\u6e96\u5099\u6b65\u9a5f\u6703\u5c07\u9019\u4e9b\u4ea4\u6613\u5957\u7528\u65bc\u8cc7\u6599\u6a94\u3002</p> <pre><code>xtrabackup --prepare --target-dir=&lt;\u5099\u4efd\u76ee\u9304&gt;\n</code></pre> <p>\u7bc4\u4f8b\uff1a</p> <pre><code>xtrabackup --prepare --target-dir=/mnt/data/backup/\n</code></pre> <p>\u4e0d\u5efa\u8b70\u4e2d\u65b7\u5099\u4efd\u6e96\u5099\u7a0b\u5e8f\uff0c\u5426\u5247\u53ef\u80fd\u5c0e\u81f4\u8cc7\u6599\u6a94\u640d\u58de\uff0c\u5099\u4efd\u7121\u6cd5\u4f7f\u7528\u800c\u9808\u91cd\u505a\u3002</p> <p>\u9084\u539f\u5b8c\u6574\u5099\u4efd</p> <p>\u5c07\u5099\u4efd\u4e2d <code>target-dir</code> \u5167\u6240\u6709\u6a94\u6848\u8907\u88fd\u5230 MySQL \u4f3a\u670d\u5668\u7684 <code>data-dir</code>\uff0c\u4e26\u8b8a\u66f4\u6a94\u6848\u64c1\u6709\u6b0a\u70ba MySQL \u7528\u6236\uff08Linux \u57f7\u884c MySQL \u4f3a\u670d\u5668\u7684\u7528\u6236\uff09\uff0c\u7136\u5f8c\u555f\u52d5 MySQL\u3002</p> <p>\u4ea6\u53ef\u7528\u4ee5\u4e0b\u6307\u4ee4\uff1a</p> <pre><code>xtrabackup --defaults-file=/etc/my.cnf --copy-back --target-dir=/mnt/data/backups/\n</code></pre> <p>\u6ce8\u610f - \u9084\u539f\u524d\u5099\u4efd\u5fc5\u9808\u5148\u6e96\u5099\u3002</p> <p>\u5efa\u7acb\u589e\u91cf\u5099\u4efd</p> <p>Percona XtraBackup \u652f\u63f4\u589e\u91cf\u5099\u4efd\uff0c\u5373\u53ea\u5099\u4efd\u81ea\u4e0a\u6b21\u5099\u4efd\u5f8c\u7684\u8b8a\u66f4\u3002\u6bcf\u500b InnoDB \u9801\u9762\u5305\u542b\u4e00\u500b\u65e5\u8a8c\u5e8f\u865f\uff08LSN\uff09\uff0c\u4e5f\u6703\u5728\u5099\u4efd\u548c\u6e96\u5099\u547d\u4ee4\u7d50\u5c3e\u986f\u793a\u3002</p> <pre><code>xtrabackup: Transaction log of lsn &lt;LSN&gt; to &lt;LSN&gt; was copied.\n</code></pre> <p>\u6216</p> <pre><code>InnoDB: Shutdown completed; log sequence number &lt;LSN&gt;\n&lt;timestamp&gt; completed OK!\n</code></pre> <p>\u4e0a\u8ff0\u986f\u793a\u5099\u4efd\u5305\u542b\u81f3\u8a72 LSN\uff0c\u6b64\u70ba\u589e\u91cf\u5099\u4efd\u6838\u5fc3\u8cc7\u8a0a\u3002\u589e\u91cf\u5099\u4efd\u4e0d\u6bd4\u8f03\u8cc7\u6599\u6a94\u8b8a\u66f4\uff0c\u800c\u662f\u6aa2\u67e5 InnoDB \u9801\u9762 LSN \u662f\u5426\u8d85\u904e\u4e0a\u6b21\u5099\u4efd LSN\u3002\u552f\u6709\u5b8c\u6574\u5099\u4efd\u5f8c\uff0c\u589e\u91cf\u5099\u4efd\u65b9\u6709\u610f\u7fa9\u3002</p> <p><code>xtrabackup</code> \u6703\u7522\u751f <code>xtrabackup_checkpoint</code> \u6a94\u6848\uff0c\u5167\u542b\u5099\u4efd LSN \u8cc7\u8a0a\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a</p> <pre><code>backup_type = full-backuped | incremental\nfrom_lsn = 0 (\u5b8c\u6574\u5099\u4efd) | \u4e0a\u6b21\u5099\u4efd\u7684 to_lsn &lt;LSN&gt;\nto_lsn = &lt;LSN&gt;\nlast_lsn = &lt;LSN&gt;\n</code></pre> <p><code>to_lsn</code> \u8207 <code>last_lsn</code> \u4e0d\u540c\uff1a\u82e5 <code>last_lsn</code> \u5927\u65bc <code>to_lsn</code>\uff0c\u4ee3\u8868\u5099\u4efd\u6642\u5c1a\u6709\u4ea4\u6613\u5c1a\u672a\u5957\u7528\uff0c\u6b64\u6642\u9700\u57f7\u884c <code>--prepare</code>\u3002</p> <p>\u5efa\u7acb\u5b8c\u6574\u5099\u4efd\uff1a</p> <pre><code>xtrabackup --defaults-file=/etc/my.cnf --user=some_user --password=XXXX --backup --target-dir=/mnt/data/backup/full/\n</code></pre> <p>\u5047\u8a2d <code>xtrabackup_checkpoint</code> \u5167\u5bb9\u70ba\uff1a</p> <pre><code>backup_type = full-backuped\nfrom_lsn = 0\nto_lsn = 1000\nlast_lsn = 1000\n</code></pre> <p>\u6709\u4e86\u5b8c\u6574\u5099\u4efd\uff0c\u63a5\u8457\u5efa\u7acb\u589e\u91cf\u5099\u4efd\uff08\u5dee\u7570\u5f0f\uff09\uff1a</p> <pre><code>xtrabackup --defaults-file=/etc/my.cnf --user=some_user --password=XXXX --backup --target-dir=/mnt/data/backup/incr1/ --incremental-basedir=/mnt/data/backup/full/\n</code></pre> <p>\u5728 <code>incr1</code> \u76ee\u9304\u6703\u6709 delta \u6a94\u6848\uff0c\u5982 <code>ibdata1.delta</code>\u3001<code>db1/tbl1.ibd.delta</code>\uff0c\u4ee3\u8868\u5f9e\u5b8c\u6574\u5099\u4efd\u8907\u88fd\u7684\u8b8a\u66f4\u3002<code>xtrabackup_checkpoint</code> \u66f4\u65b0\u5982\u4e0b\uff1a</p> <pre><code>backup_type = incremental\nfrom_lsn = 1000\nto_lsn = 1500\nlast_lsn = 1500\n</code></pre> <p><code>from_lsn</code> \u8207\u4e0a\u6b21\u5099\u4efd <code>to_lsn</code> \u76f8\u7b26\uff0c\u5c07\u6b64\u589e\u91cf\u5099\u4efd\u4f5c\u70ba\u57fa\u5e95\u7e7c\u7e8c\u5efa\u4e0b\u4e00\u6b21\u589e\u91cf\u5099\u4efd\uff1a</p> <pre><code>xtrabackup --defaults-file=/etc/my.cnf --user=some_user --password=XXXX --backup --target-dir=/mnt/data/backup/incr2/ --incremental-basedir=/mnt/data/backup/incr1/\n</code></pre> <p><code>xtrabackup_checkpoint</code> \u66f4\u65b0\u70ba\uff1a</p> <pre><code>backup_type = incremental\nfrom_lsn = 1500\nto_lsn = 2000\nlast_lsn = 2200\n</code></pre> <p>\u589e\u91cf\u5099\u4efd\u6e96\u5099</p> <p>\u589e\u91cf\u5099\u4efd\u6e96\u5099\u8207\u5b8c\u6574\u5099\u4efd\u4e0d\u540c\u3002\u6e96\u5099\u7a0b\u5e8f\u6703\u57f7\u884c\u5169\u500b\u52d5\u4f5c\uff1a\u5957\u7528\u5df2\u63d0\u4ea4\u4ea4\u6613\u81f3\u8cc7\u6599\u6a94\uff0c\u4e26\u56de\u6efe\u672a\u63d0\u4ea4\u4ea4\u6613\u3002\u5c0d\u589e\u91cf\u5099\u4efd\uff0c\u5fc5\u9808\u8df3\u904e\u56de\u6efe\u672a\u63d0\u4ea4\u4ea4\u6613\uff0c\u56e0\u5b83\u5011\u53ef\u80fd\u5728\u4e0b\u4e00\u500b\u589e\u91cf\u5099\u4efd\u88ab\u63d0\u4ea4\uff1b\u82e5\u5148\u56de\u6efe\u5c07\u5c0e\u81f4\u5f8c\u7e8c\u589e\u91cf\u5099\u4efd\u7121\u6cd5\u5957\u7528\u3002</p> <p>\u6545\u5099\u4efd\u6e96\u5099\u6642\u642d\u914d <code>--apply-log-only</code> \u9078\u9805\u8df3\u904e\u56de\u6efe\u968e\u6bb5\u3002</p> <p>\u6839\u64da\u524d\u8ff0\u4e09\u500b\u76ee\u9304\uff1a</p> <pre><code>/mnt/data/backup/full\n/mnt/data/backup/incr1\n/mnt/data/backup/incr2\n</code></pre> <p>\u5148\u6e96\u5099\u5b8c\u6574\u5099\u4efd\uff1a</p> <pre><code>xtrabackup --prepare --apply-log-only --target-dir=/mnt/data/backup/full\n</code></pre> <p>\u8f38\u51fa\u5c3e\u7aef\u6703\u986f\u793a\uff1a</p> <pre><code>InnoDB: Shutdown complete; log sequence number 1000\n&lt;timestamp&gt; Completed OK!\n</code></pre> <p>\u8a72 LSN \u8207\u5b8c\u6574\u5099\u4efd\u7684 <code>to_lsn</code> \u76f8\u7b26\u3002</p> <p>\u63a5\u8457\u5c07\u7b2c\u4e00\u500b\u589e\u91cf\u5099\u4efd\u5957\u7528\u5230\u5b8c\u6574\u5099\u4efd\uff1a</p> <pre><code>xtrabackup --prepare --apply-log-only --target-dir=/mnt/data/backup/full --incremental-dir=/mnt/data/backup/incr1\n</code></pre> <p>\u6700\u5f8c\u5957\u7528\u7b2c\u4e8c\u500b\u589e\u91cf\u5099\u4efd\uff08\u4e0d\u4f7f\u7528 <code>--apply-log-only</code>\uff09\uff1a</p> <pre><code>xtrabackup --prepare --target-dir=/mnt/data/backup/full --incremental-dir=/mnt/data/backup/incr1\n</code></pre> <p>\u6b64\u6b65\u9a5f\u6703\u5c07 incr2 \u7684 delta \u6a94\u6848\u5957\u7528\u5230\u5b8c\u6574\u5099\u4efd\u8cc7\u6599\u4e2d\uff0c\u5957\u7528 redo \u65e5\u8a8c\u4e26\u56de\u6efe\u672a\u63d0\u4ea4\u4ea4\u6613\uff0c\u5b8c\u6210\u6700\u7d42\u8cc7\u6599\u72c0\u614b\u3002\u6b64\u76ee\u9304\u5373\u70ba\u9084\u539f\u7528\u8cc7\u6599\u3002</p> <p>\u6ce8\u610f\uff1a\u7d2f\u7a4d\u5f0f\u589e\u91cf\u5099\u4efd\uff0c\u6bcf\u6b21 <code>incremental-basedir</code> \u90fd\u6307\u5411\u5b8c\u6574\u5099\u4efd\u76ee\u9304\u3002\u6e96\u5099\u9700\u5148\u4ee5 <code>--apply-log-only</code> \u8655\u7406\u5b8c\u6574\u5099\u4efd\uff0c\u6700\u5f8c\u50c5\u5c0d\u6700\u5f8c\u4e00\u6b21\u589e\u91cf\u5099\u4efd\u505a\u6b63\u5e38 <code>--prepare</code>\u3002</p> <p>\u9084\u539f\u589e\u91cf\u5099\u4efd</p> <p>\u5b8c\u6210\u4e0a\u8ff0\u6b65\u9a5f\u5f8c\uff0c\u9084\u539f\u65b9\u5f0f\u540c\u5b8c\u6574\u5099\u4efd\u9084\u539f\u3002</p>"},{"location":"level101/databases_sql/backup_recovery/#_2","title":"\u5ef6\u4f38\u95b1\u8b80","text":"<ul> <li>MySQL \u6642\u9ede\u9084\u539f</li> <li>\u53e6\u4e00\u500b MySQL \u5099\u4efd\u5de5\u5177 - mysqlpump</li> <li>\u53e6\u4e00\u500b MySQL \u5099\u4efd\u5de5\u5177 - mydumper</li> <li>mysqldump\u3001mysqlpump \u8207 mydumper \u6bd4\u8f03</li> <li>\u5099\u4efd\u6700\u4f73\u5be6\u52d9</li> </ul>"},{"location":"level101/databases_sql/concepts/","title":"Key Concepts","text":"<ul> <li>\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\uff08Relational DB\uff09\u7528\u65bc\u6578\u64da\u5b58\u5132\u3002\u5373\u4f7f\u6a94\u6848\u4e5f\u53ef\u4ee5\u7528\u4f86\u5b58\u5132\u8cc7\u6599\uff0c\u4f46\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u662f\u70ba\u4e86\u7279\u5b9a\u76ee\u6a19\u800c\u8a2d\u8a08\uff1a<ul> <li>\u6548\u7387</li> <li>\u6613\u65bc\u5b58\u53d6\u8207\u7ba1\u7406</li> <li>\u7d44\u7e54\u5316</li> <li>\u8655\u7406\u8cc7\u6599\u9593\u7684\u95dc\u806f\uff08\u4ee5\u8868\u683c\u65b9\u5f0f\u5448\u73fe\uff09</li> </ul> </li> <li>\u4ea4\u6613\uff08Transaction\uff09\uff1a\u4e00\u500b\u5de5\u4f5c\u55ae\u5143\uff0c\u53ef\u4ee5\u5305\u542b\u591a\u500b\u8a9e\u53e5\uff0c\u4e00\u8d77\u57f7\u884c</li> <li> <p>ACID \u5c6c\u6027</p> <p>\u4e00\u7d44\u4fdd\u8b49\u8cc7\u6599\u5eab\u4ea4\u6613\u6578\u64da\u5b8c\u6574\u6027\u7684\u5c6c\u6027</p> <ul> <li>\u539f\u5b50\u6027\uff08Atomicity\uff09\uff1a\u6bcf\u500b\u4ea4\u6613\u662f\u539f\u5b50\u7684\uff08\u5b8c\u5168\u6210\u529f\u6216\u5b8c\u5168\u5931\u6557\uff09</li> <li>\u4e00\u81f4\u6027\uff08Consistency\uff09\uff1a\u4ea4\u6613\u53ea\u6703\u5c0e\u81f4\u6709\u6548\u7684\u72c0\u614b\uff08\u5305\u542b\u898f\u5247\u3001\u7d04\u675f\u3001\u89f8\u767c\u5668\u7b49\uff09</li> <li>\u9694\u96e2\u6027\uff08Isolation\uff09\uff1a\u6bcf\u500b\u4ea4\u6613\u5728\u4e26\u884c\u7cfb\u7d71\u4e2d\u5f7c\u6b64\u7368\u7acb\u4e14\u5b89\u5168\u5730\u57f7\u884c</li> <li>\u6301\u4e45\u6027\uff08Durability\uff09\uff1a\u5b8c\u6210\u7684\u4ea4\u6613\u4e0d\u6703\u56e0\u4efb\u4f55\u5f8c\u7e8c\u6545\u969c\u800c\u907a\u5931</li> </ul> <p>\u8b93\u6211\u5011\u85c9\u7531\u4e00\u4e9b\u7bc4\u4f8b\u8aaa\u660e\u4e0a\u8ff0\u5c6c\u6027\u3002</p> <ul> <li>\u5e33\u6236 A \u9918\u984d\u70ba \u20b9200\uff0c\u5e33\u6236 B \u70ba \u20b9400\u3002A \u8f49\u5e33 \u20b9100 \u7d66 B\u3002\u6b64\u4ea4\u6613\u5305\u62ec\u5f9e\u767c\u9001\u65b9\u6263\u6b3e\u8207\u63a5\u6536\u65b9\u5165\u5e33\u3002\u5982\u679c\u7b2c\u4e00\u7b46\u64cd\u4f5c\u6210\u529f\uff0c\u7b2c\u4e8c\u7b46\u5931\u6557\uff0cA \u5247\u6703\u5269 \u20b9100\uff0c\u4f46 B \u9084\u662f\u7dad\u6301 \u20b9400 \u800c\u975e \u20b9500\u3002\u8cc7\u6599\u5eab\u7684 \u539f\u5b50\u6027 \u78ba\u4fdd\u90e8\u5206\u5931\u6557\u7684\u4ea4\u6613\u6703\u56de\u6efe\u3002</li> <li>\u82e5\u7b2c\u4e8c\u500b\u64cd\u4f5c\u5931\u6557\uff0c\u6703\u9020\u6210\u8cc7\u6599\u5eab\u4e0d\u4e00\u81f4\uff08\u4ea4\u6613\u524d\u5f8c\u5e33\u6236\u9918\u984d\u7e3d\u548c\u4e0d\u76f8\u540c\uff09\u3002\u4e00\u81f4\u6027 \u78ba\u4fdd\u4e0d\u6703\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\u3002</li> <li>\u6709\u4e09\u500b\u64cd\u4f5c\uff1a\u4e00\u500b\u8a08\u7b97 A \u5e33\u6236\u5229\u606f\u3001\u53e6\u4e00\u500b\u5c07\u5229\u606f\u52a0\u5165 A \u5e33\u6236\u3001\u6700\u5f8c\u4e00\u500b\u5f9e B \u8f49\u5e33 \u20b9100 \u7d66 A\u3002\u82e5\u7121 \u9694\u96e2\u6027 \u4fdd\u8b49\uff0c\u4e09\u500b\u64cd\u4f5c\u540c\u6642\u57f7\u884c\u53ef\u80fd\u6bcf\u6b21\u7d50\u679c\u4e0d\u540c\u3002</li> <li>\u82e5\u7cfb\u7d71\u5728\u4ea4\u6613\u5b8c\u6210\u5beb\u5165\u78c1\u789f\u524d\u7576\u6a5f\uff0c\u6301\u4e45\u6027 \u78ba\u4fdd\u5728\u6062\u5fa9\u904e\u7a0b\u4e2d\u6b63\u78ba\u61c9\u7528\u8b8a\u66f4\u3002</li> <li>\u95dc\u806f\u5f0f\u8cc7\u6599</li> <li>\u8868\u683c\u4ee3\u8868\u95dc\u806f</li> <li>\u6b04\u4f4d\uff08\u6b04\uff09\u4ee3\u8868\u5c6c\u6027</li> <li>\u5217\u8868\u793a\u500b\u5225\u8a18\u9304</li> <li>\u67b6\u69cb\u63cf\u8ff0\u8cc7\u6599\u5eab\u7d50\u69cb</li> <li>SQL</li> </ul> <p>\u4e00\u7a2e\u7528\u65bc\u5b58\u53d6\u8207\u7ba1\u7406\u6578\u64da\u7684\u67e5\u8a62\u8a9e\u8a00\u3002</p> <p>CRUD \u64cd\u4f5c \u2014 \u5275\u5efa\uff08create\uff09\u3001\u8b80\u53d6\uff08read\uff09\u3001\u66f4\u65b0\uff08update\uff09\u3001\u522a\u9664\uff08delete\uff09\u67e5\u8a62</p> <p>\u7ba1\u7406\u64cd\u4f5c \u2014 \u5efa\u7acb\u8cc7\u6599\u5eab/\u8868\u683c/\u7d22\u5f15\u3001\u5099\u4efd\u3001\u532f\u5165/\u532f\u51fa\u3001\u4f7f\u7528\u8005\u3001\u5b58\u53d6\u63a7\u5236\u7b49</p> <p>\u7df4\u7fd2: \u5c07\u4ee5\u4e0b\u8a9e\u53e5\u5206\u985e\u70ba\u56db\u7a2e\u578b\u614b \u2014 DDL\uff08\u5b9a\u7fa9\uff09\u3001DML\uff08\u64cd\u4f5c\uff09\u3001DCL\uff08\u63a7\u5236\uff09\u548c TCL\uff08\u4ea4\u6613\uff09\uff0c\u4e26\u8a73\u7d30\u8aaa\u660e\u3002</p> <pre><code>insert, create, drop, delete, update, commit, rollback, truncate, alter, grant, revoke\n</code></pre> <p>\u4f60\u53ef\u4ee5\u5728\u5be6\u9a57\u5ba4\u5340\u57df\u7df4\u7fd2\u9019\u4e9b\u8a9e\u53e5\u3002</p> </li> <li> <p>\u7d04\u675f\u689d\u4ef6\uff08Constraints\uff09</p> <p>\u5b9a\u7fa9\u53ef\u5b58\u5165\u8cc7\u6599\u7684\u898f\u5247\u3002\u82e5\u9055\u53cd\u5c0d\u8868\u6240\u5b9a\u7fa9\u7684\u7d04\u675f\uff0c\u67e5\u8a62\u6703\u5931\u6557\u3002</p> <p>\u4e3b\u9375\uff1a\u4e00\u500b\u6216\u591a\u500b\u6b04\u4f4d\u5305\u542b\u552f\u4e00\u503c\uff0c\u4e0d\u5f97\u70ba NULL\u3002\u6bcf\u500b\u8868\u53ea\u80fd\u6709\u4e00\u500b\u4e3b\u9375\u3002\u7cfb\u7d71\u6703\u81ea\u52d5\u70ba\u4e3b\u9375\u5efa\u7acb\u7d22\u5f15\u3002</p> <p>\u5916\u9375\uff1a\u9023\u7d50\u5169\u500b\u8868\uff0c\u503c\u5fc5\u9808\u8207\u53e6\u4e00\u8868\u7684\u4e3b\u9375\u76f8\u7b26\u3002</p> <p>\u975e\u7a7a\uff08Not null\uff09\uff1a\u4e0d\u5141\u8a31\u70ba NULL \u503c\u3002</p> <p>\u552f\u4e00\uff08Unique\uff09\uff1a\u6b04\u4f4d\u503c\u5fc5\u9808\u5728\u6240\u6709\u5217\u4e2d\u552f\u4e00\u3002</p> <p>\u9810\u8a2d\u503c\uff08Default\uff09\uff1a\u82e5\u63d2\u5165\u8cc7\u6599\u6642\u672a\u6307\u5b9a\uff0c\u6703\u81ea\u52d5\u63d0\u4f9b\u9810\u8a2d\u503c\u3002</p> <p>\u6aa2\u67e5\uff08Check\uff09\uff1a\u53ea\u5141\u8a31\u7279\u5b9a\u503c\uff08\u4f8b\u5982\u9918\u984d\u5fc5\u9808\u5927\u65bc\u7b49\u65bc 0\uff09</p> </li> <li> <p>\u7d22\u5f15</p> <p>\u5927\u591a\u6578\u7d22\u5f15\u4f7f\u7528 B+ \u6a39\u7d50\u69cb\u3002</p> <p>\u70ba\u4f55\u4f7f\u7528\u7d22\u5f15\uff1a\u52a0\u901f\u67e5\u8a62\uff08\u7279\u5225\u662f\u5728\u5927\u578b\u8868\u683c\u4e2d\u53ea\u6293\u53d6\u5c11\u6578\u5217\u7684\u60c5\u6cc1\u3001\u6700\u5c0f/\u6700\u5927\u503c\u67e5\u8a62\uff0c\u900f\u904e\u6392\u9664\u4e0d\u5fc5\u8981\u7684\u5217\u7b49\uff09</p> <p>\u7d22\u5f15\u985e\u578b\uff1a\u552f\u4e00\u7d22\u5f15\u3001\u4e3b\u9375\u7d22\u5f15\u3001\u5168\u6587\u7d22\u5f15\u3001\u6b21\u8981\u7d22\u5f15</p> <p>\u5927\u91cf\u5beb\u5165\u8ca0\u8f09\u3001\u4e3b\u8981\u70ba\u5168\u8868\u6383\u63cf\u6216\u5b58\u53d6\u5927\u91cf\u5217\u7684\u64cd\u4f5c\u4e0d\u9069\u5408\u7d22\u5f15\u3002</p> </li> <li> <p>\u9023\u63a5\uff08Joins\uff09</p> <p>\u5141\u8a31\u5f9e\u591a\u500b\u8868\u6839\u64da\u5171\u901a\u6b04\u4f4d\u53d6\u51fa\u95dc\u806f\u8cc7\u6599\u3002\u529f\u80fd\u5f37\u5927\u4f46\u4e5f\u8cc7\u6e90\u8017\u8cbb\u5927\uff0c\u4e14\u4f7f\u8cc7\u6599\u5eab\u64f4\u5c55\u56f0\u96e3\u3002\u5927\u91cf\u4f7f\u7528 Join \u662f\u5c0e\u81f4\u5927\u898f\u6a21\u67e5\u8a62\u7de9\u6162\u7684\u4e3b\u8981\u539f\u56e0\uff0c\u89e3\u6c7a\u65b9\u6cd5\u5e7e\u4e4e\u7e3d\u662f\u5c0b\u627e\u80fd\u6e1b\u5c11 Join \u7684\u7b56\u7565\u3002</p> </li> <li> <p>\u5b58\u53d6\u63a7\u5236</p> <p>\u8cc7\u6599\u5eab\u8a2d\u6709\u5177\u7ba1\u7406\u6b0a\u9650\u7684\u5e33\u865f\u53ca\u4e00\u822c\u5ba2\u6236\u5e33\u865f\uff0c\u7cbe\u7d30\u63a7\u7ba1\u9019\u4e9b\u5e33\u865f\u53ef\u57f7\u884c\u7684\u64cd\u4f5c\uff08\u5982\u524d\u8ff0 DDL\u3001DML \u7b49\uff09\u3002</p> <p>\u8cc7\u6599\u5eab\u5148\u9a57\u8b49\u4f7f\u7528\u8005\u8eab\u4efd\uff08\u8a8d\u8b49\uff09\uff0c\u518d\u67e5\u8a62\u5167\u90e8\u8868\u5224\u65b7\u8a72\u4f7f\u7528\u8005\u662f\u5426\u6709\u6b0a\u57f7\u884c\u8acb\u6c42\uff08\u6388\u6b0a\uff09\u3002</p> <p>\u5176\u4ed6\u63a7\u5236\u5305\u62ec\u6d3b\u52d5\u5be9\u6838\uff0c\u53ef\u6aa2\u8996\u4f7f\u7528\u8005\u57f7\u884c\u904e\u7684\u64cd\u4f5c\u6b77\u53f2\uff0c\u4ee5\u53ca\u8cc7\u6e90\u9650\u5236\uff0c\u5b9a\u7fa9\u5141\u8a31\u7684\u67e5\u8a62\u6578\u3001\u9023\u7dda\u6578\u7b49\u3002</p> </li> </ul>"},{"location":"level101/databases_sql/concepts/#_1","title":"\u5e38\u898b\u8cc7\u6599\u5eab","text":"<p>\u5546\u7528\u3001\u9589\u6e90\uff1aOracle\u3001Microsoft SQL Server\u3001IBM DB2</p> <p>\u958b\u6e90\u4e26\u6709\u4ed8\u8cbb\u652f\u63f4\u9078\u9805\uff1aMySQL\u3001MariaDB\u3001PostgreSQL</p> <p>\u500b\u4eba\u548c\u5c0f\u578b\u516c\u53f8\u4e00\u5411\u504f\u597d\u958b\u6e90\u8cc7\u6599\u5eab\uff0c\u56e0\u70ba\u5546\u7528\u8edf\u9ad4\u6210\u672c\u9f90\u5927\u3002</p> <p>\u8fd1\u5e74\u4f86\uff0c\u8a31\u591a\u5927\u578b\u7d44\u7e54\u4e5f\u9010\u6f38\u8f49\u5411\u958b\u6e90\u66ff\u4ee3\u65b9\u6848\uff0c\u56e0\u70ba\u5177\u5099\u5f48\u6027\u4e14\u7bc0\u7701\u6210\u672c\u3002</p> <p>\u4e0d\u518d\u64d4\u5fc3\u7f3a\u4e4f\u652f\u63f4\uff0c\u56e0\u70ba\u958b\u767c\u8005\u8207\u7b2c\u4e09\u65b9\u63d0\u4f9b\u5546\u6709\u4ed8\u8cbb\u652f\u63f4\u670d\u52d9\u3002</p> <p>MySQL \u662f\u6700\u5ee3\u6cdb\u4f7f\u7528\u7684\u958b\u6e90\u8cc7\u6599\u5eab\uff0c\u4e14\u5f97\u5230\u773e\u591a\u8a17\u7ba1\u670d\u52d9\u5546\u652f\u6301\uff0c\u8b93\u4efb\u4f55\u4eba\u90fd\u5bb9\u6613\u4f7f\u7528\u3002\u5b83\u662f\u6d41\u884c\u7684 Linux-Apache-MySQL-PHP \uff08LAMP\uff09\u6846\u67b6\u7684\u4e00\u90e8\u5206\uff0c\u8a72\u6846\u67b6\u57282000\u5e74\u4ee3\u76db\u884c\u3002\u96d6\u7136\u73fe\u4ee3\u6709\u66f4\u591a\u7a0b\u5f0f\u8a9e\u8a00\u9078\u64c7\uff0c\u4f46 LAMP \u6846\u67b6\u5176\u4ed6\u90e8\u5206\u4f9d\u7136\u5ee3\u6cdb\u904b\u7528\u3002</p>"},{"location":"level101/databases_sql/conclusion/","title":"\u7d50\u8ad6","text":"<p>\u6211\u5011\u5df2\u7d93\u6db5\u84cb\u4e86 SQL \u8cc7\u6599\u5eab\u7684\u57fa\u672c\u6982\u5ff5\u3002\u6211\u5011\u4e5f\u4ecb\u7d39\u4e86\u4e00\u4e9b SRE \u53ef\u80fd\u8ca0\u8cac\u7684\u4efb\u52d9\u2014\u2014\u9084\u6709\u66f4\u591a\u9700\u8981\u5b78\u7fd2\u548c\u5b8c\u6210\u7684\u5de5\u4f5c\u3002\u5e0c\u671b\u9019\u9580\u8ab2\u7a0b\u80fd\u7d66\u4f60\u4e00\u500b\u826f\u597d\u7684\u958b\u59cb\uff0c\u4e26\u6fc0\u52f5\u4f60\u9032\u4e00\u6b65\u63a2\u7d22\u3002</p>"},{"location":"level101/databases_sql/conclusion/#_2","title":"\u9032\u4e00\u6b65\u95b1\u8b80","text":"<ul> <li>\u7df4\u7fd2\u66f4\u591a\u7dda\u4e0a\u8cc7\u6e90\uff0c\u4f8b\u5982 \u9019\u500b</li> <li>\u6b63\u898f\u5316</li> <li>\u7a0b\u5e8f\u3001\u89f8\u767c\u5668</li> <li>\u8996\u5716</li> <li>\u4ea4\u6613\u9694\u96e2\u7d1a\u5225</li> <li>\u8cc7\u6599\u5206\u7247</li> <li>\u8a2d\u5b9a\u9ad8\u53ef\u7528\u6027\u3001\u76e3\u63a7\u3001\u5099\u4efd</li> </ul>"},{"location":"level101/databases_sql/innodb/","title":"InnoDB","text":""},{"location":"level101/databases_sql/innodb/#_1","title":"\u70ba\u4ec0\u9ebc\u4f60\u61c9\u8a72\u4f7f\u7528\u5b83\uff1f","text":"<p>\u901a\u7528\u76ee\u7684\u3001\u884c\u7d1a\u9396\u5b9a\u3001ACID \u652f\u63f4\u3001\u4ea4\u6613\u3001\u5d29\u6f70\u6062\u5fa9\u53ca\u591a\u7248\u672c\u4f75\u767c\u63a7\u5236\u7b49\u3002</p>"},{"location":"level101/databases_sql/innodb/#_2","title":"\u67b6\u69cb","text":""},{"location":"level101/databases_sql/innodb/#_3","title":"\u4e3b\u8981\u7d44\u4ef6\uff1a","text":"<ul> <li> <p>\u8a18\u61b6\u9ad4\uff1a</p> <ul> <li>\u7de9\u885d\u6c60\uff08Buffer pool\uff09\uff1a\u7528\u65bc\u7de9\u5b58\u5e38\u7528\u8cc7\u6599\uff08\u8cc7\u6599\u8868\u548c\u7d22\u5f15\uff09\u7684 LRU \u5feb\u53d6\uff0c\u8b93\u8cc7\u6599\u53ef\u76f4\u63a5\u5f9e\u8a18\u61b6\u9ad4\u8655\u7406\uff0c\u63d0\u9ad8\u8655\u7406\u901f\u5ea6\uff0c\u662f\u6027\u80fd\u8abf\u512a\u7684\u91cd\u8981\u90e8\u5206\u3002</li> <li>\u8b8a\u66f4\u7de9\u885d\uff08Change buffer\uff09\uff1a\u7576\u4e8c\u7d1a\u7d22\u5f15\u9801\u9762\u4e0d\u5728\u7de9\u885d\u6c60\u4e2d\u6642\uff0c\u7de9\u5b58\u5c0d\u8a72\u9801\u9762\u7684\u8b8a\u66f4\uff0c\u9801\u9762\u8b80\u53d6\u6642\u5c07\u9032\u884c\u5408\u4f75\u3002\u5408\u4f75\u904e\u7a0b\u53ef\u80fd\u5f88\u9577\u4e14\u6703\u5f71\u97ff\u7dda\u4e0a\u67e5\u8a62\uff0c\u4e5f\u4f54\u7528\u90e8\u5206\u7de9\u885d\u6c60\u7a7a\u9593\u3002\u6709\u6548\u907f\u514d\u4e86\u8b80\u53d6\u4e8c\u7d1a\u7d22\u5f15\u6642\u7684\u984d\u5916 I/O\u3002</li> <li>\u81ea\u9069\u61c9\u54c8\u5e0c\u7d22\u5f15\uff08Adaptive hash index\uff09\uff1a\u4ee5\u5feb\u901f\u54c8\u5e0c\u67e5\u627e\u8868\u4f5c\u70ba\u5feb\u53d6\uff0c\u88dc\u5145 InnoDB \u7684 B-Tree \u7d22\u5f15\u3002\u672a\u547d\u4e2d\u6642\u6709\u8f15\u5fae\u7684\u6027\u80fd\u61f2\u7f70\uff0c\u4e14\u7dad\u8b77\u66f4\u65b0\u9700\u984d\u5916\u958b\u92b7\u3002\u54c8\u5e0c\u78b0\u649e\u6703\u5c0e\u81f4\u5927\u578b\u8cc7\u6599\u5eab\u7684 AHI \u91cd\u5efa\u3002</li> <li> <p>\u65e5\u8a8c\u7de9\u885d\uff08Log buffer\uff09\uff1a\u7528\u65bc\u5728\u5beb\u5165\u78c1\u76e4\u524d\u66ab\u5b58\u65e5\u8a8c\u8cc7\u6599\u3002</p> <p>\u4e0a\u8ff0\u6bcf\u90e8\u5206\u8a18\u61b6\u9ad4\u5927\u5c0f\u7686\u53ef\u914d\u7f6e\uff0c\u5c0d\u6027\u80fd\u5f71\u97ff\u6975\u5927\u3002\u9700\u8981\u4ed4\u7d30\u5206\u6790\u5de5\u4f5c\u8ca0\u8f09\u3001\u53ef\u7528\u8cc7\u6e90\u3001\u9032\u884c\u57fa\u6e96\u6e2c\u8a66\u53ca\u8abf\u512a\uff0c\u4ee5\u9054\u5230\u6700\u4f73\u6027\u80fd\u3002</p> </li> </ul> </li> <li> <p>\u78c1\u789f\uff1a</p> <ul> <li>\u8cc7\u6599\u8868\uff1a\u4ee5\u884c\u548c\u5217\u5f62\u5f0f\u5b58\u5132\u8cc7\u6599\u3002</li> <li>\u7d22\u5f15\uff1a\u8fc5\u901f\u5b9a\u4f4d\u5177\u6709\u7279\u5b9a\u6b04\u4f4d\u503c\u7684\u5217\uff0c\u907f\u514d\u5168\u8868\u6383\u63cf\u3002</li> <li>\u91cd\u505a\u65e5\u8a8c\uff08Redo Logs\uff09\uff1a\u6240\u6709\u4ea4\u6613\u7686\u5beb\u5165\u6b64\u65e5\u8a8c\uff0c\u5d29\u6f70\u5f8c\u6062\u5fa9\u7a0b\u5e8f\u6703\u4fee\u6b63\u672a\u5b8c\u6210\u4ea4\u6613\u6240\u5beb\u7684\u8cc7\u6599\u4e26\u91cd\u653e\u5f85\u8655\u7406\u4ea4\u6613\u3002</li> <li>\u56de\u6efe\u65e5\u8a8c\uff08Undo Logs\uff09\uff1a\u8a18\u9304\u55ae\u7b46\u4ea4\u6613\u76f8\u95dc\u8a0a\u606f\uff0c\u7528\u65bc\u64a4\u92b7\u8a72\u4ea4\u6613\u7684\u6700\u65b0\u66f4\u6539\u3002</li> </ul> </li> </ul>"},{"location":"level101/databases_sql/intro/","title":"\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab","text":""},{"location":"level101/databases_sql/intro/#_2","title":"\u5148\u5099\u77e5\u8b58","text":"<ul> <li>\u5b8c\u6210 Linux \u8ab2\u7a0b</li> <li>\u5b89\u88dd Docker\uff08\u7528\u65bc\u5be6\u9a57\u90e8\u5206\uff09</li> </ul>"},{"location":"level101/databases_sql/intro/#_3","title":"\u9019\u9580\u8ab2\u7a0b\u7684\u671f\u671b","text":"<p>\u4f60\u5c07\u4e86\u89e3\u4ec0\u9ebc\u662f\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u3001\u5b83\u5011\u7684\u512a\u9ede\uff0c\u4ee5\u53ca\u4e00\u4e9b MySQL \u7684\u7279\u5b9a\u6982\u5ff5\u3002</p>"},{"location":"level101/databases_sql/intro/#_4","title":"\u672c\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u7684\u5167\u5bb9","text":"<ul> <li> <p>\u6df1\u5165\u7684\u5be6\u4f5c\u7d30\u7bc0</p> </li> <li> <p>\u9032\u968e\u4e3b\u984c\u5982\u6b63\u898f\u5316\u3001\u5206\u7247</p> </li> <li> <p>\u7279\u5b9a\u7684\u7ba1\u7406\u5de5\u5177</p> </li> </ul>"},{"location":"level101/databases_sql/intro/#_5","title":"\u4ecb\u7d39","text":"<p>\u8cc7\u6599\u5eab\u7cfb\u7d71\u7684\u4e3b\u8981\u76ee\u7684\u662f\u7ba1\u7406\u8cc7\u6599\u3002\u9019\u5305\u62ec\u8cc7\u6599\u7684\u5b58\u5132\u3001\u65b0\u589e\u8cc7\u6599\u3001\u522a\u9664\u4e0d\u518d\u4f7f\u7528\u7684\u8cc7\u6599\u3001\u66f4\u65b0\u73fe\u6709\u8cc7\u6599\u3001\u5728\u5408\u7406\u53cd\u61c9\u6642\u9593\u5167\u64f7\u53d6\u8cc7\u6599\uff0c\u4ee5\u53ca\u7dad\u8b77\u7cfb\u7d71\u904b\u4f5c\u7684\u5176\u4ed6\u7dad\u8b77\u4efb\u52d9\u7b49\u3002</p>"},{"location":"level101/databases_sql/intro/#_6","title":"\u9810\u5148\u95b1\u8b80","text":"<p>RDBMS \u6982\u5ff5</p>"},{"location":"level101/databases_sql/intro/#_7","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ul> <li>\u95dc\u9375\u6982\u5ff5</li> <li>MySQL \u67b6\u69cb</li> <li>InnoDB</li> <li>\u5099\u4efd\u8207\u9084\u539f</li> <li>MySQL \u8907\u5beb</li> <li>\u904b\u4f5c\u6982\u5ff5<ul> <li>SELECT \u67e5\u8a62</li> <li>\u67e5\u8a62\u6548\u80fd</li> </ul> </li> <li>\u5be6\u9a57</li> <li>\u9032\u4e00\u6b65\u95b1\u8b80</li> </ul>"},{"location":"level101/databases_sql/lab/","title":"Lab","text":"<p>\u5148\u6c7a\u689d\u4ef6</p> <p>\u5b89\u88dd Docker</p> <p>\u8a2d\u5b9a</p> <p>\u5efa\u7acb\u4e00\u500b\u5de5\u4f5c\u76ee\u9304\uff0c\u547d\u540d\u70ba <code>sos</code> \u6216\u5176\u4ed6\u76f8\u4f3c\u540d\u7a31\uff0c\u7136\u5f8c\u9032\u5165\u8a72\u76ee\u9304 (<code>cd</code>)\u3002</p> <p>\u5728 <code>custom</code> \u8cc7\u6599\u593e\u4e0b\u5efa\u7acb\u4e00\u500b\u540d\u70ba <code>my.cnf</code> \u7684\u6a94\u6848\uff0c\u5167\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>sos $ cat custom/my.cnf\n[mysqld]\n\n# \u9019\u4e9b\u8a2d\u5b9a\u9069\u7528\u65bc MySQL \u4f3a\u670d\u5668\n# \u53ef\u4ee5\u8a2d\u5b9a\u9023\u63a5\u57e0\u3001socket \u8def\u5f91\u3001\u7de9\u885d\u5340\u5927\u5c0f\u7b49\n# \u4ee5\u4e0b\u6211\u5011\u8a2d\u5b9a\u6162\u67e5\u8a62\u76f8\u95dc\u53c3\u6578\n\nslow_query_log=1\nslow_query_log_file=/var/log/mysqlslow.log\nlong_query_time=1\n</code></pre> <p>\u555f\u52d5\u5bb9\u5668\u4e26\u555f\u7528\u6162\u67e5\u8a62\u65e5\u8a8c\uff1a</p> <pre><code>sos $ docker run --name db -v custom:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=realsecret -d mysql:8\nsos $ docker cp custom/my.cnf $(docker ps -qf \"name=db\"):/etc/mysql/conf.d/custom.cnf\nsos $ docker restart $(docker ps -qf \"name=db\")\n</code></pre> <p>\u532f\u5165\u793a\u7bc4\u8cc7\u6599\u5eab\uff1a</p> <pre><code>sos $ git clone git@github.com:datacharmer/test_db.git\nsos $ docker cp test_db $(docker ps -qf \"name=db\"):/home/test_db/\nsos $ docker exec -it $(docker ps -qf \"name=db\") bash\nroot@3ab5b18b0c7d:/# cd /home/test_db/\nroot@3ab5b18b0c7d:/# mysql -uroot -prealsecret mysql &lt; employees.sql\nroot@3ab5b18b0c7d:/etc# touch /var/log/mysqlslow.log\nroot@3ab5b18b0c7d:/etc# chown mysql:mysql /var/log/mysqlslow.log\n</code></pre> <p>\u5de5\u4f5c\u574a 1\uff1a\u57f7\u884c\u4e00\u4e9b\u7bc4\u4f8b\u67e5\u8a62</p> <p>\u8acb\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4\uff1a</p> <pre><code>$ mysql -uroot -prealsecret mysql\nmysql&gt;\n\n# \u67e5\u770b\u8cc7\u6599\u5eab\u8207\u8cc7\u6599\u8868\n# \u6700\u5f8c 4 \u500b\u662f MySQL \u7cfb\u7d71\u5167\u90e8\u8cc7\u6599\u5eab\n\nmysql&gt; SHOW DATABASES;\n+--------------------+\n| Database           |\n+--------------------+\n| employees          |\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n\nmysql&gt; USE employees;\nmysql&gt; SHOW TABLES;\n+----------------------+\n| Tables_in_employees  |\n+----------------------+\n| current_dept_emp     |\n| departments          |\n| dept_emp             |\n| dept_emp_latest_date |\n| dept_manager         |\n| employees            |\n| salaries             |\n| titles               |\n+----------------------+\n\n# \u8b80\u53d6\u5e7e\u7b46\u8cc7\u6599\nmysql&gt; SELECT * FROM employees LIMIT 5;\n\n# \u4f9d\u689d\u4ef6\u7be9\u9078\u8cc7\u6599\nmysql&gt; SELECT COUNT(*) FROM employees WHERE gender = 'M' LIMIT 5;\n\n# \u8a08\u7b97\u7279\u5b9a\u8cc7\u6599\u6578\u91cf\nmysql&gt; SELECT COUNT(*) FROM employees WHERE first_name = 'Sachin'; \n</code></pre> <p>\u5de5\u4f5c\u574a 2\uff1a\u4f7f\u7528 explain \u548c explain analyze \u5206\u6790\u67e5\u8a62\uff0c\u8b58\u5225\u4e26\u52a0\u5165\u7d22\u5f15\u4ee5\u63d0\u5347\u6548\u80fd</p> <pre><code># \u67e5\u770b\u8cc7\u6599\u8868\u4e0a\u7684\u6240\u6709\u7d22\u5f15\n# (\\G \u6703\u6c34\u5e73\u8f38\u51fa\uff0c\u6539\u7528 ; \u53ef\u53d6\u5f97\u8868\u683c\u683c\u5f0f\u8f38\u51fa)\n\nmysql&gt; SHOW INDEX FROM employees FROM employees\\G\n*************************** 1. row ***************************\n        Table: employees\n   Non_unique: 0\n     Key_name: PRIMARY\n Seq_in_index: 1\n  Column_name: emp_no\n    Collation: A\n  Cardinality: 299113\n     Sub_part: NULL\n       Packed: NULL\n         Null:\n   Index_type: BTREE\n      Comment:\nIndex_comment:\n      Visible: YES\n   Expression: NULL\n\n# \u9019\u500b\u67e5\u8a62\u4f7f\u7528\u7d22\u5f15\uff0c\u7531 'key' \u6b04\u4f4d\u8868\u793a\n# \u52a0\u4e0a explain \u95dc\u9375\u5b57\u524d\u7f6e\u5f8c\uff0c\n# \u53ef\u770b\u5230\u67e5\u8a62\u8a08\u756b\uff08\u5305\u542b\u6240\u7528\u7d22\u5f15\uff09\n\nmysql&gt; EXPLAIN SELECT * FROM employees WHERE emp_no &lt; 10005\\G\n*************************** 1. row ***************************\n           id: 1\n  select_type: SIMPLE\n        table: employees\n   partitions: NULL\n         type: range\npossible_keys: PRIMARY\n          key: PRIMARY\n      key_len: 4\n          ref: NULL\n         rows: 4\n     filtered: 100.00\n        Extra: Using where\n\n# \u8207\u4e0b\u65b9\u4e0d\u4f7f\u7528\u7d22\u5f15\u7684\u67e5\u8a62\u505a\u6bd4\u8f03\n\nmysql&gt; EXPLAIN SELECT first_name, last_name FROM employees WHERE first_name = 'Sachin'\\G\n*************************** 1. row ***************************\n           id: 1\n  select_type: SIMPLE\n        table: employees\n   partitions: NULL\n         type: ALL\npossible_keys: NULL\n          key: NULL\n      key_len: NULL\n          ref: NULL\n         rows: 299113\n     filtered: 10.00\n        Extra: Using where\n\n# \u67e5\u770b\u8a72\u67e5\u8a62\u8017\u6642\n\nmysql&gt; EXPLAIN ANALYZE SELECT first_name, last_name FROM employees WHERE first_name = 'Sachin'\\G\n*************************** 1. row ***************************\nEXPLAIN: -&gt; Filter: (employees.first_name = 'Sachin')  (cost=30143.55 rows=29911) (actual time=28.284..3952.428 rows=232 loops=1)\n    -&gt; Table scan on employees  (cost=30143.55 rows=299113) (actual time=0.095..1996.092 rows=300024 loops=1)\n\n\n# \u8a08\u756b\u6210\u672c (query planner \u9810\u4f30) \u70ba 30143.55\n# \u5be6\u969b\u6642\u9593\u70ba\u9996\u7b46 28.284 \u6beb\u79d2\uff0c\u5168\u90e8 3952.428 \u6beb\u79d2\n# \u73fe\u5728\u65b0\u589e\u7d22\u5f15\u4e26\u91cd\u65b0\u57f7\u884c\u67e5\u8a62\n\nmysql&gt; CREATE INDEX idx_firstname ON employees(first_name);\nQuery OK, 0 rows affected (1.25 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql&gt; EXPLAIN ANALYZE SELECT first_name, last_name FROM employees WHERE first_name = 'Sachin';\n+--------------------------------------------------------------------------------------------------------------------------------------------+\n| EXPLAIN                                                                                                                                    |\n+--------------------------------------------------------------------------------------------------------------------------------------------+\n| -&gt; Index lookup on employees using idx_firstname (first_name='Sachin')  (cost=81.20 rows=232) (actual time=0.551..2.934 rows=232 loops=1)\n |\n+--------------------------------------------------------------------------------------------------------------------------------------------+\n1 row in set (0.01 sec)\n\n# \u5be6\u969b\u6642\u9593\u70ba\u7b2c\u4e00\u7b46 0.551 \u6beb\u79d2\uff0c\u5168\u7b46 2.934 \u6beb\u79d2\uff0c\u6548\u80fd\u5927\u5e45\u63d0\u5347\uff01\n# \u540c\u6642\u53ef\u898b\u8a72\u67e5\u8a62\u50c5\u4f7f\u7528\u7d22\u5f15\u641c\u5c0b\uff0c\u7121\u9700\u6383\u63cf\u6574\u5f35\u8cc7\u6599\u8868\uff0c\n# \u5927\u5e45\u6e1b\u5c11\u5c0d\u8cc7\u6599\u5eab\u7684\u8ca0\u64d4\u3002\n</code></pre> <p>\u5de5\u4f5c\u574a 3\uff1a\u5728 MySQL \u4f3a\u670d\u5668\u4e0a\u627e\u51fa\u6162\u67e5\u8a62</p> <pre><code># \u5728\u5169\u500b\u7d42\u7aef\u6a5f\u8996\u7a97\u5404\u57f7\u884c\u4e0b\u9762\u7684\u6307\u4ee4\uff0c\u958b\u555f\u5169\u500b shell \u9032\u5165\u5bb9\u5668\n\n$ docker exec -it $(docker ps -qf \"name=db\") bash\n\n# \u5728\u5176\u4e2d\u4e00\u500b shell \u4e2d\u958b\u555f `mysql` \u4e92\u52d5\u4ecb\u9762\u4e26\u57f7\u884c\u6307\u4ee4\n# \u6211\u5011\u8a2d\u5b9a\u53ea\u7d00\u9304\u8017\u6642\u8d85\u904e 1 \u79d2\u7684\u67e5\u8a62\uff0c\n# \u56e0\u6b64\u9019\u500b `sleep(3)` \u6703\u88ab\u8a18\u9304\u4e0b\u4f86\n\n$ mysql -uroot -prealsecret mysql\nmysql&gt; select sleep(3);\n\n# \u63a5\u8457\u5728\u53e6\u4e00\u500b\u7d42\u7aef\u6a5f\u4e2d\uff0c\u4f7f\u7528 tail \u6307\u4ee4\u67e5\u770b\u6162\u67e5\u65e5\u8a8c\u7d30\u7bc0\n\nroot@62c92c89234d:/etc# tail -f /var/log/mysqlslow.log\n/usr/sbin/mysqld, Version: 8.0.21 (MySQL Community Server - GPL). started with:\nTcp port: 3306  Unix socket: /var/run/mysqld/mysqld.sock\nTime                 Id Command    Argument\n\n# Time: 2020-11-26T14:53:44.822348Z\n# User@Host: root[root] @ localhost []  Id:     9\n# Query_time: 5.404938  Lock_time: 0.000000 Rows_sent: 1  Rows_examined: 1\nuse employees;\n# Time: 2020-11-26T14:53:58.015736Z\n# User@Host: root[root] @ localhost []  Id:     9\n# Query_time: 10.000225  Lock_time: 0.000000 Rows_sent: 1  Rows_examined: 1\n\nSET timestamp=1606402428;\nselect sleep(3);\n</code></pre> <p>\u4ee5\u4e0a\u70ba\u6a21\u64ec\u4e14\u7c21\u5316\u7684\u7bc4\u4f8b\uff0c\u5be6\u52d9\u4e2d\u67e5\u8a62\u901a\u5e38\u6703\u66f4\u8907\u96dc\uff0c\u5229\u7528 explain/analyze \u8207\u6162\u67e5\u8a62\u65e5\u8a8c\u53ef\u5e36\u4f86\u66f4\u8c50\u5bcc\u7684\u7d30\u7bc0\u8207\u5206\u6790\u4f9d\u64da\u3002</p>"},{"location":"level101/databases_sql/mysql/","title":"MySQL","text":""},{"location":"level101/databases_sql/mysql/#mysql","title":"MySQL \u67b6\u69cb","text":"<p>MySQL \u67b6\u69cb\u8b93\u60a8\u53ef\u4ee5\u6839\u64da\u9700\u6c42\u9078\u64c7\u5408\u9069\u7684\u5132\u5b58\u5f15\u64ce\uff0c\u4e26\u4e14\u5c0d\u7d42\u7aef\u4f7f\u7528\u8005\uff08\u61c9\u7528\u7a0b\u5f0f\u5de5\u7a0b\u5e2b\u53ca\u8cc7\u6599\u5eab\u7ba1\u7406\u54e1 (DBA)\uff09\u62bd\u8c61\u5316\u6240\u6709\u5be6\u4f5c\u7d30\u7bc0\uff0c\u53ea\u9700\u4e86\u89e3\u4e00\u81f4\u4e14\u7a69\u5b9a\u7684 API\u3002</p> <p>\u61c9\u7528\u5c64\uff1a</p> <ul> <li>\u9023\u7dda\u8655\u7406\uff1a\u6bcf\u500b\u5ba2\u6236\u7aef\u7372\u5f97\u4e00\u500b\u7368\u7acb\u9023\u7dda\uff0c\u4e26\u65bc\u5b58\u53d6\u671f\u9593\u5feb\u53d6</li> <li>\u8a8d\u8b49\uff1a\u4f3a\u670d\u5668\u6703\u6aa2\u67e5\u5ba2\u6236\u7aef\u7684\uff08\u4f7f\u7528\u8005\u540d\u7a31\u3001\u5bc6\u78bc\u3001\u4e3b\u6a5f\uff09\u8cc7\u8a0a\uff0c\u6c7a\u5b9a\u5141\u8a31\u6216\u62d2\u7d55\u9023\u7dda</li> <li>\u5b89\u5168\u6027\uff1a\u4f3a\u670d\u5668\u6c7a\u5b9a\u5ba2\u6236\u7aef\u662f\u5426\u6709\u6b0a\u9650\u57f7\u884c\u6bcf\u500b\u67e5\u8a62\uff08\u53ef\u4f7f\u7528 <code>SHOW PRIVILEGES</code> \u6307\u4ee4\u67e5\u8a62\uff09</li> </ul> <p>\u4f3a\u670d\u5668\u5c64\uff1a</p> <ul> <li>\u670d\u52d9\u8207\u5de5\u5177\uff1a\u5099\u4efd/\u9084\u539f\u3001\u8907\u5beb\u3001\u53e2\u96c6\u7b49</li> <li>SQL \u4ecb\u9762\uff1a\u5ba2\u6236\u7aef\u57f7\u884c\u8cc7\u6599\u5b58\u53d6\u548c\u64cd\u4f5c\u7684\u67e5\u8a62</li> <li>SQL \u89e3\u6790\u5668\uff1a\u5f9e\u67e5\u8a62\u4e2d\u5efa\u7acb\u8a9e\u6cd5\u6a39\uff08\u8a5e\u6cd5/\u8a9e\u6cd5/\u8a9e\u610f\u5206\u6790\u53ca\u7a0b\u5f0f\u78bc\u751f\u6210\uff09</li> <li>\u512a\u5316\u5668\uff1a\u5229\u7528\u5404\u7a2e\u6f14\u7b97\u6cd5\u53ca\u53ef\u7528\u8cc7\u6599\uff08\u8868\u5c64\u7d71\u8a08\u8cc7\u8a0a\uff09\u512a\u5316\u67e5\u8a62\uff0c\u4fee\u6539\u67e5\u8a62\u5167\u5bb9\u3001\u6383\u63cf\u9806\u5e8f\u3001\u4f7f\u7528\u7d22\u5f15\u7b49\uff08\u53ef\u4f7f\u7528 <code>EXPLAIN</code> \u6307\u4ee4\u67e5\u8a62\uff09</li> <li>\u5feb\u53d6\u8207\u7de9\u885d\u5340\uff1a\u5feb\u53d6\u7528\u65bc\u5132\u5b58\u67e5\u8a62\u7d50\u679c\uff0c\u7de9\u885d\u6c60\uff08InnoDB\uff09\u4ee5\u6700\u8fd1\u6700\u5c11\u4f7f\u7528 (LRU)\u65b9\u5f0f\u5132\u5b58\u8868\u8207\u7d22\u5f15\u8cc7\u6599</li> </ul> <p>\u5132\u5b58\u5f15\u64ce\u9078\u9805\uff1a</p> <ul> <li>InnoDB\uff1a\u4f7f\u7528\u6700\u5ee3\u6cdb\uff0c\u652f\u63f4\u4ea4\u6613\uff0c\u7b26\u5408 ACID\uff0c\u652f\u63f4\u5217\u9396\u5b9a\u3001\u5d29\u6f70\u5fa9\u539f\u53ca\u591a\u7248\u672c\u4f75\u767c\u63a7\u5236\uff0cMySQL 5.5+ \u9810\u8a2d\u5f15\u64ce\u3002</li> <li>MyISAM\uff1a\u901f\u5ea6\u5feb\uff0c\u4e0d\u652f\u63f4\u4ea4\u6613\uff0c\u63d0\u4f9b\u8868\u7d1a\u9396\u5b9a\uff0c\u9069\u5408\u8b80\u53d6\u5bc6\u96c6\u578b\u5de5\u4f5c\u8ca0\u8f09\uff0c\u5e38\u7528\u65bc\u7db2\u7ad9\u53ca\u8cc7\u6599\u5009\u5132\uff0cMySQL 5.1 \u4ee5\u524d\u9810\u8a2d\u3002</li> <li>Archive\uff1a\u512a\u5316\u9ad8\u901f\u63d2\u5165\uff0c\u63d2\u5165\u6642\u58d3\u7e2e\u8cc7\u6599\uff0c\u4e0d\u652f\u63f4\u4ea4\u6613\uff0c\u9069\u5408\u5132\u5b58\u53ca\u6aa2\u7d22\u5927\u91cf\u5c11\u88ab\u8a2a\u554f\u7684\u6b77\u53f2\u5b58\u6a94\u8cc7\u6599\u3002</li> <li>Memory\uff1a\u8cc7\u6599\u8868\u5b58\u5728\u8a18\u61b6\u9ad4\u4e2d\uff0c\u901f\u5ea6\u6700\u5feb\uff0c\u652f\u63f4\u8868\u7d1a\u9396\u5b9a\uff0c\u4e0d\u652f\u63f4\u4ea4\u6613\uff0c\u9069\u5408\u5efa\u7acb\u66ab\u5b58\u8868\u6216\u5feb\u901f\u67e5\u8a62\uff0c\u8cc7\u6599\u5728\u7cfb\u7d71\u95dc\u6a5f\u5f8c\u6703\u907a\u5931\u3002</li> <li>CSV\uff1a\u5c07\u8cc7\u6599\u5132\u5b58\u70ba CSV \u6a94\u6848\uff0c\u9069\u5408\u6574\u5408\u4f7f\u7528\u6b64\u683c\u5f0f\u7684\u5176\u4ed6\u61c9\u7528\u7a0b\u5f0f\u3002</li> <li>\u2026 \u7b49\u7b49\u3002</li> </ul> <p>\u53ef\u4ee5\u5f9e\u4e00\u7a2e\u5132\u5b58\u5f15\u64ce\u9077\u79fb\u5230\u53e6\u4e00\u7a2e\uff0c\u4f46\u6b64\u9077\u79fb\u6703\u9396\u5b9a\u8cc7\u6599\u8868\u7684\u6240\u6709\u64cd\u4f5c\u800c\u975e\u7dda\u4e0a\u9032\u884c\uff0c\u56e0\u70ba\u5b83\u6703\u6539\u8b8a\u8cc7\u6599\u7684\u7269\u7406\u6392\u5217\u3002\u9077\u79fb\u8017\u6642\u4e14\u901a\u5e38\u4e0d\u5efa\u8b70\uff0c\u56e0\u6b64\u5728\u958b\u59cb\u6642\u9078\u64c7\u5408\u9069\u7684\u5132\u5b58\u5f15\u64ce\u975e\u5e38\u91cd\u8981\u3002</p> <p>\u4e00\u822c\u5efa\u8b70\u9664\u975e\u6709\u7279\u6b8a\u9700\u6c42\uff0c\u5426\u5247\u4f7f\u7528 InnoDB\u3002</p> <p>\u57f7\u884c <code>mysql&gt; SHOW ENGINES;</code> \u53ef\u67e5\u770b\u60a8 MySQL \u4f3a\u670d\u5668\u652f\u63f4\u7684\u5f15\u64ce\u6e05\u55ae\u3002</p>"},{"location":"level101/databases_sql/operations/","title":"Operational Concepts","text":"<ul> <li> <p>\u89e3\u91cb\u53ca\u89e3\u91cb+\u5206\u6790</p> <p><code>EXPLAIN &lt;query&gt;</code> \u6703\u5206\u6790\u512a\u5316\u5668\u7684\u67e5\u8a62\u8a08\u756b\uff0c\u5305\u62ec\u8868\u683c\u5982\u4f55\u9023\u63a5\u3001\u54ea\u4e9b\u8868\u683c/\u5217\u88ab\u6383\u63cf\u7b49\u3002</p> <p><code>EXPLAIN ANALYZE</code> \u9664\u4e86\u4e0a\u8ff0\u5167\u5bb9\u5916\uff0c\u9084\u6703\u986f\u793a\u57f7\u884c\u6210\u672c\u3001\u8fd4\u56de\u7684\u5217\u6578\u3001\u6240\u82b1\u6642\u9593\u7b49\u984d\u5916\u8cc7\u8a0a\u3002</p> <p>\u9019\u4e9b\u77e5\u8b58\u5c0d\u8abf\u6574\u67e5\u8a62\u548c\u6dfb\u52a0\u7d22\u5f15\u975e\u5e38\u6709\u7528\u3002</p> <p>\u89c0\u770b\u9019\u500b\u6548\u80fd\u8abf\u6821\u7684 \u6559\u5b78\u5f71\u7247\u3002</p> <p>\u67e5\u770b \u5be6\u4f5c\u7df4\u7fd2\u5340 \u4ee5\u9032\u884c\u7d22\u5f15\u76f8\u95dc\u7684\u5be6\u4f5c\u3002</p> </li> <li> <p>\u6162\u67e5\u8a62\u65e5\u8a8c</p> <p>\u7528\u65bc\u8b58\u5225\u6162\u67e5\u8a62\uff08\u95be\u503c\u53ef\u914d\u7f6e\uff09\uff0c\u53ef\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u555f\u7528\uff0c\u4e5f\u80fd\u900f\u904e\u67e5\u8a62\u52d5\u614b\u555f\u7528\u3002</p> <p>\u67e5\u770b\u95dc\u65bc\u8fa8\u8b58\u6162\u67e5\u8a62\u7684 \u5be6\u4f5c\u7df4\u7fd2\u5340\u3002</p> </li> <li> <p>\u4f7f\u7528\u8005\u7ba1\u7406</p> <p>\u5305\u542b\u4f7f\u7528\u8005\u7684\u5efa\u7acb\u8207\u8b8a\u66f4\uff0c\u4f8b\u5982\u7ba1\u7406\u6b0a\u9650\u3001\u8b8a\u66f4\u5bc6\u78bc\u7b49\u3002</p> </li> <li> <p>\u5099\u4efd\u8207\u9084\u539f\u7b56\u7565\u3001\u512a\u7f3a\u9ede</p> <ul> <li> <p>\u4f7f\u7528 <code>mysqldump</code> \u7684\u908f\u8f2f\u5099\u4efd \u2014 \u8f03\u6162\u4f46\u53ef\u4ee5\u7dda\u4e0a\u57f7\u884c</p> </li> <li> <p>\u5be6\u9ad4\u5099\u4efd\uff08\u8907\u88fd\u8cc7\u6599\u76ee\u9304\u6216\u4f7f\u7528 XtraBackup\uff09 \u2014 \u5feb\u901f\u5099\u4efd/\u9084\u539f\u3002\u8907\u88fd\u8cc7\u6599\u76ee\u9304\u9700\u8981\u9396\u5b9a\u6216\u95dc\u9589\u670d\u52d9\u3002XtraBackup \u6539\u5584\u4e86\u9019\u4e00\u9ede\uff0c\u56e0\u70ba\u5b83\u652f\u6301\u4e0d\u4e2d\u65b7\u670d\u52d9\u7684\u71b1\u5099\u4efd\u3002</p> </li> <li> <p>\u5176\u4ed6\u65b9\u6cd5 \u2014 \u5982\u6642\u9593\u9ede\u9084\u539f (PITR)\u3001\u5feb\u7167\u7b49\u3002</p> </li> </ul> </li> <li> <p>\u4f7f\u7528\u91cd\u505a\u65e5\u8a8c\u7684\u6545\u969c\u6062\u5fa9\u6d41\u7a0b</p> <p>\u7576\u5d29\u6f70\u5f8c\u91cd\u65b0\u555f\u52d5\u4f3a\u670d\u5668\u6642\uff0c\u6703\u8b80\u53d6\u91cd\u505a\u65e5\u8a8c\u4e26\u91cd\u64ad\u4fee\u6539\u4ee5\u9032\u884c\u6062\u5fa9\u3002</p> </li> <li> <p>\u76e3\u63a7 MySQL</p> <ul> <li> <p>\u4e3b\u8981 MySQL \u6307\u6a19\uff1a\u8b80\u53d6\u3001\u5beb\u5165\u3001\u67e5\u8a62\u904b\u884c\u6642\u9593\u3001\u932f\u8aa4\u3001\u6162\u67e5\u8a62\u3001\u9023\u7dda\u6578\u3001\u57f7\u884c\u4e2d\u57f7\u884c\u7dd2\u3001InnoDB \u6307\u6a19</p> </li> <li> <p>\u4e3b\u8981\u4f5c\u696d\u7cfb\u7d71\u6307\u6a19\uff1aCPU\u3001\u8ca0\u8f09\u3001\u8a18\u61b6\u9ad4\u3001\u78c1\u789f I/O\u3001\u7db2\u8def</p> </li> </ul> </li> <li> <p>\u8907\u5beb (Replication)</p> <p>\u5c07\u8cc7\u6599\u5f9e\u4e00\u500b\u5be6\u4f8b\u8907\u88fd\u5230\u4e00\u500b\u6216\u591a\u500b\u5be6\u4f8b\u3002\u5354\u52a9\u6c34\u5e73\u64f4\u5c55\u3001\u8cc7\u6599\u4fdd\u8b77\u3001\u5206\u6790\u53ca\u6548\u80fd\u63d0\u5347\u3002\u4e3b\u7bc0\u9ede\u6709 binlog \u50b3\u8f38\u57f7\u884c\u7dd2\uff0c\u5f9e\u7bc0\u9ede\u5247\u6709\u8907\u5beb I/O \u8207 SQL \u57f7\u884c\u7dd2\u3002\u7b56\u7565\u5305\u542b\u6a19\u6e96\u975e\u540c\u6b65\u3001\u534a\u540c\u6b65\u53ca\u7fa4\u7d44\u8907\u5beb\u3002</p> </li> <li> <p>\u9ad8\u53ef\u7528\u6027 (High Availability)</p> <p>\u80fd\u5920\u61c9\u5c0d\u8edf\u9ad4\u3001\u786c\u9ad4\u53ca\u7db2\u8def\u5c64\u7d1a\u7684\u6545\u969c\u3002\u5c0d\u9700\u8981 99.9% \u4ee5\u4e0a\u6b63\u5e38\u904b\u4f5c\u6642\u9593\u8005\u4e0d\u53ef\u6216\u7f3a\u3002\u53ef\u900f\u904e MySQL\u3001Percona\u3001Oracle \u7b49\u63d0\u4f9b\u7684\u8907\u5beb\u6216\u53e2\u96c6\u89e3\u6c7a\u65b9\u6848\u5be6\u73fe\u3002\u8a2d\u7f6e\u8207\u7dad\u8b77\u9700\u8981\u5c08\u696d\u6280\u80fd\u3002\u6545\u969c\u8f49\u79fb\u53ef\u4ee5\u662f\u624b\u52d5\u3001\u8173\u672c\u5316\u6216\u4f7f\u7528 Orchestrator \u7b49\u5de5\u5177\u3002</p> </li> <li> <p>\u8cc7\u6599\u76ee\u9304</p> <p>\u8cc7\u6599\u5b58\u653e\u5728\u7279\u5b9a\u76ee\u9304\u4e2d\uff0c\u6bcf\u500b\u8cc7\u6599\u5eab\u90fd\u6709\u5c0d\u61c9\u7684\u5b50\u76ee\u9304\u3002\u6b64\u5916\u9084\u6709 MySQL \u65e5\u8a8c\u6a94\u3001InnoDB \u65e5\u8a8c\u6a94\u3001\u4f3a\u670d\u5668\u9032\u7a0b ID \u6a94\u53ca\u5176\u4ed6\u914d\u7f6e\u3002\u8cc7\u6599\u76ee\u9304\u662f\u53ef\u8a2d\u5b9a\u7684\u3002</p> </li> <li> <p>MySQL \u914d\u7f6e</p> <p>\u53ef\u4ee5\u900f\u904e\u555f\u52d5\u6642\u5e36\u5165\u7684 \u53c3\u6578 \u6216\u662f \u914d\u7f6e\u6a94 \u4f86\u8a2d\u5b9a\u3002MySQL \u6703\u5728\u5e7e\u500b \u6a19\u6e96\u8def\u5f91 \u4e2d\u5c0b\u627e\u914d\u7f6e\u6a94\uff0c<code>/etc/my.cnf</code> \u662f\u5e38\u7528\u8def\u5f91\u4e4b\u4e00\u3002\u9019\u4e9b\u9078\u9805\u4ee5\u6a19\u982d\u7d44\u7e54\uff08\u4f3a\u670d\u5668\u90e8\u5206\u7528 <code>mysqld</code>\u3001\u7528\u6236\u7aef\u90e8\u5206\u7528 <code>mysql</code>\uff09\uff0c\u53ef\u900f\u904e\u5f8c\u7e8c\u5be6\u4f5c\u7df4\u7fd2\u66f4\u6df1\u5165\u63a2\u7d22\u3002</p> </li> <li> <p>\u65e5\u8a8c</p> <p>MySQL \u6709\u591a\u7a2e\u7528\u9014\u7684\u65e5\u8a8c\u2014\u4e00\u822c\u67e5\u8a62\u65e5\u8a8c\u3001\u932f\u8aa4\u65e5\u8a8c\u3001\u4e8c\u9032\u4f4d\u65e5\u8a8c\uff08\u7528\u65bc\u8907\u5beb\uff09\u3001\u6162\u67e5\u8a62\u65e5\u8a8c\u3002\u9810\u8a2d\u53ea\u555f\u7528\u932f\u8aa4\u65e5\u8a8c\uff08\u964d\u4f4e I/O \u8207\u5b58\u5132\u9700\u6c42\uff09\uff0c\u5176\u4ed6\u65e5\u8a8c\u53ef\u8996\u9700\u8981\u555f\u7528\uff0c\u65b9\u6cd5\u662f\u555f\u52d5\u6642\u6307\u5b9a\u914d\u7f6e\u53c3\u6578\u6216\u57f7\u884c\u6642\u900f\u904e\u6307\u4ee4\u3002\u4e5f\u53ef\u5229\u7528\u914d\u7f6e\u53c3\u6578\u8abf\u6574 \u65e5\u8a8c\u8f38\u51fa\u76ee\u7684\u5730\u3002</p> </li> </ul>"},{"location":"level101/databases_sql/query_performance/","title":"Query Performance","text":""},{"location":"level101/databases_sql/query_performance/#_1","title":"\u67e5\u8a62\u6548\u80fd\u63d0\u5347","text":"<p>\u67e5\u8a62\u6548\u80fd\u662f\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u74b0\u3002\u5982\u679c\u672a\u6b63\u78ba\u8abf\u6574\uff0cSELECT \u67e5\u8a62\u53ef\u80fd\u6703\u8b8a\u5f97\u7de9\u6162\u4e14\u4ee4\u61c9\u7528\u7a0b\u5f0f\u53ca MySQL \u4f3a\u670d\u5668\u611f\u5230\u5403\u529b\u3002\u91cd\u8981\u7684\u4efb\u52d9\u662f\u8b58\u5225\u51fa\u57f7\u884c\u7de9\u6162\u7684\u67e5\u8a62\uff0c\u4e26\u5617\u8a66\u91cd\u65b0\u7de8\u5beb\u67e5\u8a62\u6216\u5728\u6d89\u5165\u7684\u8cc7\u6599\u8868\u4e0a\u5efa\u7acb\u9069\u7576\u7684\u7d22\u5f15\u4f86\u63d0\u5347\u67e5\u8a62\u6548\u80fd\u3002</p>"},{"location":"level101/databases_sql/query_performance/#_2","title":"\u6162\u67e5\u8a62\u65e5\u8a8c","text":"<p>\u6162\u67e5\u8a62\u65e5\u8a8c\u5305\u542b\u57f7\u884c\u6642\u9593\u8d85\u904e\u8a2d\u5b9a\u53c3\u6578 <code>long_query_time</code> \u7684 SQL \u8a9e\u53e5\u3002\u9019\u4e9b\u67e5\u8a62\u662f\u512a\u5316\u7684\u5019\u9078\u5c0d\u8c61\u3002\u6709\u4e00\u4e9b\u4e0d\u932f\u7684\u5de5\u5177\u53ef\u7528\u65bc\u7d71\u6574\u6162\u67e5\u8a62\u65e5\u8a8c\uff0c\u4f8b\u5982 MySQL \u81ea\u5e36\u7684 <code>mysqldumpslow</code>\u3001Percona \u63d0\u4f9b\u7684 <code>pt-query-digest</code> \u7b49\u3002\u4ee5\u4e0b\u662f\u555f\u7528\u4e26\u6709\u6548\u6355\u6349\u6162\u67e5\u8a62\u7684\u8a2d\u5b9a\u53c3\u6578\uff1a</p> \u8b8a\u6578 \u8aaa\u660e \u7bc4\u4f8b\u503c slow_query_log \u555f\u7528\u6216\u505c\u7528\u6162\u67e5\u8a62\u65e5\u8a8c ON slow_query_log_file \u6162\u67e5\u8a62\u65e5\u8a8c\u7684\u4f4d\u7f6e /var/lib/mysql/mysql-slow.log long_query_time \u95be\u503c\u6642\u9593\uff0c\u57f7\u884c\u6642\u9593\u8d85\u904e\u6b64\u8a2d\u5b9a\u5247\u6703\u88ab\u8a18\u9304\u81f3\u6162\u67e5\u8a62\u65e5\u8a8c 5 log_queries_not_using_indexes \u555f\u7528\u6162\u67e5\u8a62\u65e5\u8a8c\u540c\u6642\uff0c\u6b64\u53c3\u6578\u6703\u5c07\u672a\u4f7f\u7528\u4efb\u4f55\u7d22\u5f15\u4e14\u57f7\u884c\u6642\u9593\u4f4e\u65bc <code>long_query_time</code> \u7684\u67e5\u8a62\u4e5f\u8a18\u9304\u5230\u6162\u67e5\u8a62\u65e5\u8a8c ON <p>\u5728\u672c\u7ae0\u7bc0\u4e2d\uff0c\u6211\u5011\u6703\u555f\u7528 <code>slow_query_log</code>\uff0c\u5c07 <code>long_query_time</code> \u8a2d\u70ba 0.3\uff08300 \u6beb\u79d2\uff09\uff0c\u4e26\u540c\u6642\u555f\u7528 <code>log_queries_not_using_indexes</code>\u3002</p> <p>\u4ee5\u4e0b\u662f\u91dd\u5c0d <code>employees</code> \u8cc7\u6599\u5eab\u57f7\u884c\u7684\u67e5\u8a62\uff1a</p> <ol> <li> <p><code>SELECT * FROM employees WHERE last_name = 'Koblick'</code></p> </li> <li> <p><code>SELECT * FROM salaries WHERE salary &gt;= 100000</code></p> </li> <li> <p><code>SELECT * FROM titles WHERE title = 'Manager'</code></p> </li> <li> <p><code>SELECT * FROM employees WHERE year(hire_date) = 1995</code></p> </li> <li> <p><code>SELECT year(e.hire_date), max(s.salary) FROM employees e JOIN salaries s ON e.emp_no=s.emp_no GROUP BY year(e.hire_date)</code></p> </li> </ol> <p>\u73fe\u5728\u67e5\u8a62 1\u30013 \u548c 4 \u57f7\u884c\u6642\u9593\u90fd\u5728 300ms \u5167\uff0c\u4f46\u5982\u679c\u6aa2\u67e5\u6162\u67e5\u8a62\u65e5\u8a8c\uff0c\u6703\u767c\u73fe\u9019\u4e9b\u67e5\u8a62\u88ab\u7d00\u9304\u56e0\u70ba\u5b83\u5011\u672a\u4f7f\u7528\u4efb\u4f55\u7d22\u5f15\u3002\u67e5\u8a62 2 \u548c 5 \u5247\u57f7\u884c\u6642\u9593\u8d85\u904e 300ms\uff0c\u4e14\u540c\u6a23\u672a\u4f7f\u7528\u4efb\u4f55\u7d22\u5f15\u3002</p> <p>\u53ef\u4f7f\u7528\u4ee5\u4e0b\u6307\u4ee4\u67e5\u770b\u6162\u67e5\u8a62\u65e5\u8a8c\u7684\u6458\u8981\uff1a</p> <pre><code>mysqldumpslow /var/lib/mysql/mysql-slow.log\n</code></pre> <p></p> <p>\u5716\u4e2d\u9084\u5305\u542b\u5176\u4ed6\u8207\u4e0a\u8ff0\u67e5\u8a62\u540c\u6642\u7d00\u9304\u7684\u67e5\u8a62\u3002<code>mysqldumpslow</code> \u6703\u5c07\u5be6\u969b\u503c\u4ee5 N\uff08\u6578\u5b57\uff09\u8207 S\uff08\u5b57\u4e32\uff09\u53d6\u4ee3\uff0c\u9019\u884c\u70ba\u53ef\u900f\u904e <code>-a</code> \u9078\u9805\u53d6\u6d88\uff0c\u4f46\u5982\u679c\u76f8\u4f3c\u67e5\u8a62\u4f7f\u7528\u4e0d\u540c\u503c\uff0c\u8f38\u51fa\u884c\u6578\u5c07\u5927\u5e45\u589e\u52a0\u3002</p>"},{"location":"level101/databases_sql/query_performance/#explain","title":"EXPLAIN \u57f7\u884c\u8a08\u5283","text":"<p><code>EXPLAIN</code> \u6307\u4ee4\u7528\u65bc\u5206\u6790\u60f3\u8981\u6aa2\u8996\u7684\u67e5\u8a62\u3002\u5b83\u63cf\u8ff0\u4e86\u67e5\u8a62\u7684\u57f7\u884c\u8a08\u5283\uff0c\u986f\u793a MySQL \u5982\u4f55\u89e3\u8b80\u53ca\u57f7\u884c\u8a72\u67e5\u8a62\u3002<code>EXPLAIN</code> \u9069\u7528\u65bc <code>SELECT</code>\u3001<code>INSERT</code>\u3001<code>UPDATE</code> \u548c <code>DELETE</code> \u8a9e\u53e5\u3002\u5b83\u6703\u544a\u8a34\u4f60\u67e5\u8a62\u4e2d\u7684\u8868\u5982\u4f55\u88ab JOIN\u3001\u7d22\u5f15\u662f\u5426\u88ab\u4f7f\u7528\u7b49\u8a0a\u606f\u3002\u7406\u89e3 <code>EXPLAIN</code> \u57f7\u884c\u8a08\u5283\u7684\u57fa\u672c\u8f38\u51fa\uff0c\u662f\u5224\u65b7\u67e5\u8a62\u6548\u80fd\u7684\u91cd\u8981\u95dc\u9375\u3002</p> <p>\u4ee5\u4e0b\u4ee5\u7bc4\u4f8b\u67e5\u8a62\u505a\u8aaa\u660e\uff1a</p> <pre><code>mysql&gt; EXPLAIN SELECT * FROM salaries WHERE salary = 100000;\n+----+-------------+----------+------------+------+---------------+------+---------+------+---------+----------+-------------+\n| id | select_type | table    | partitions | type | possible_keys | key  | key_len | ref  | rows    | filtered | Extra       |\n+----+-------------+----------+------------+------+---------------+------+---------+------+---------+----------+-------------+\n|  1 | SIMPLE      | salaries | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 2838426 |    10.00 | Using where |\n+----+-------------+----------+------------+------+---------------+------+---------+------+---------+----------+-------------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre> <p>\u4e3b\u8981\u6b04\u4f4d\u8aaa\u660e\uff1a</p> <ul> <li>partitions - \u57f7\u884c\u67e5\u8a62\u6642\u8003\u616e\u7684\u5206\u5272\u5340\u6578\u91cf\u3002\u53ea\u6709\u5728\u8868\u70ba\u5206\u5272\u5340\u8868\u6642\u6709\u6548\u3002</li> <li>possible_keys - \u67e5\u8a62\u57f7\u884c\u8a08\u5283\u6642\u8003\u616e\u53ef\u7528\u7684\u7d22\u5f15\u5217\u8868\u3002</li> <li>key - \u67e5\u8a62\u5be6\u969b\u57f7\u884c\u6642\u4f7f\u7528\u7684\u7d22\u5f15\u3002</li> <li>rows - \u57f7\u884c\u6642\u9810\u4f30\u88ab\u6383\u63cf\u7684\u8cc7\u6599\u5217\u6578\u3002</li> <li>filtered - \u7be9\u9078\u51fa\u7684\u8cc7\u6599\u5217\u767e\u5206\u6bd4\uff0c\u6578\u503c\u8d8a\u9ad8\u8d8a\u7406\u60f3\uff08100 \u8868\u793a\u6700\u512a\u5316\uff09\u3002</li> <li>Extra - \u984d\u5916\u8cc7\u6599\uff0c\u63cf\u8ff0 MySQL \u7684\u57f7\u884c\u7d30\u7bc0\uff0c\u5982\u662f\u5426\u4f7f\u7528\u7d22\u5f15\u3001\u81e8\u6642\u8868\u3001\u53ea\u7528 WHERE \u7be9\u9078\u7b49\u3002</li> </ul> <p>\u4e0a\u8ff0\u67e5\u8a62\u8aaa\u660e\u6c92\u6709\u5206\u5272\u5340\u3001\u7121\u53ef\u7528\u7d22\u5f15\u4e14\u5be6\u969b\u6c92\u4f7f\u7528\u7d22\u5f15\uff0c\u5c0e\u81f4\u8d85\u904e\u5169\u767e\u842c\u8cc7\u6599\u5217\u88ab\u6383\u63cf\uff0c\u4f46\u50c5\u6709 10% \u8cc7\u6599\u5217\u7b26\u5408\u689d\u4ef6\uff0c\u4e14\u53ea\u6709\u4f7f\u7528 WHERE \u904e\u6ffe\u3002</p>"},{"location":"level101/databases_sql/query_performance/#_3","title":"\u5efa\u7acb\u7d22\u5f15","text":"<p>\u7d22\u5f15\u7528\u4ee5\u52a0\u5feb\u6311\u9078\u7b26\u5408\u7279\u5b9a\u6b04\u4f4d\u503c\u7684\u8cc7\u6599\u5217\u3002\u6c92\u6709\u7d22\u5f15\u6642\uff0cMySQL \u5fc5\u9808\u5f9e\u7b2c\u4e00\u5217\u958b\u59cb\u6383\u63cf\u6574\u5f35\u8868\uff1b\u8868\u8cc7\u6599\u91cf\u904e\u5927\u6642\uff0c\u6383\u63cf\u6703\u8b8a\u5f97\u975e\u5e38\u8017\u6642\u3002\u6709\u4e86\u7d22\u5f15\u5f8c\uff0cMySQL \u53ef\u76f4\u63a5\u5b9a\u4f4d\u8cc7\u6599\u8d77\u9ede\uff0c\u907f\u514d\u5168\u8868\u6383\u63cf\u3002</p> <p>\u4e3b\u9375\u540c\u6642\u4e5f\u662f\u7d22\u5f15\uff0c\u901f\u5ea6\u6700\u5feb\uff0c\u4e14\u8207\u8cc7\u6599\u8868\u8cc7\u6599\u5b58\u653e\u5728\u4e00\u8d77\u3002\u6b21\u7d22\u5f15\u5247\u5b58\u5728\u8cc7\u6599\u8868\u5916\u90e8\uff0c\u7528\u4ee5\u63d0\u5347 SQL \u9673\u8ff0\u5f0f\u6548\u80fd\u3002\u7d22\u5f15\u591a\u534a\u4ee5 B-Tree \u7d50\u69cb\u5132\u5b58\uff0c\u4f8b\u5916\u5982\u7a7a\u9593\u7d22\u5f15 (spatial indexes) \u7528 R-Tree\uff0c\u800c\u8a18\u61b6\u9ad4\u8868\u7528 hash \u7d22\u5f15\u3002</p> <p>\u5efa\u7d22\u5f15\u6709\u5169\u7a2e\u65b9\u5f0f\uff1a</p> <ul> <li>\u5efa\u8868\u6642\uff1a\u82e5\u4e8b\u5148\u77e5\u66c9\u5e38\u7528\u65bc <code>WHERE</code> \u5b50\u53e5\u6b04\u4f4d\uff0c\u53ef\u5728\u5efa\u7acb\u8cc7\u6599\u8868\u6642\u540c\u6b65\u5efa\u7acb\u7d22\u5f15\u3002</li> <li>\u4fee\u6539\u8868\u683c\uff1a\u91dd\u5c0d\u5df2\u542b\u8cc7\u6599\u7684\u8868\uff0c\u4f7f\u7528 <code>ALTER</code> \u6216 <code>CREATE INDEX</code> \u6307\u4ee4\u5efa\u7acb\u7d22\u5f15\u3002\u6b64\u64cd\u4f5c\u4e0d\u6703\u963b\u585e\u8868\uff0c\u4f46\u904e\u7a0b\u9577\u77ed\u8996\u8cc7\u6599\u91cf\u800c\u5b9a\u3002</li> </ul> <p>\u4ee5\u4e0b\u793a\u7bc4\u524d\u8ff0\u67e5\u8a62\u4e2d\u85aa\u8cc7\u6b04\u4f4d\u904e\u6ffe\u7684\u4f8b\u5b50\uff0c\u904d\u6b77 200 \u842c\u7b46\u8cc7\u6599\u975e\u5e38\u4f4e\u6548\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u5011\u5728 <code>salaries</code> \u8868\u7684 <code>salary</code> \u6b04\u4f4d\u5efa\u7acb\u7d22\u5f15\uff1a</p> <pre><code>CREATE INDEX idx_salary ON salaries(salary)\n</code></pre> <p>\u6216</p> <pre><code>ALTER TABLE salaries ADD INDEX idx_salary(salary)\n</code></pre> <p>\u91cd\u65b0\u67e5\u770b EXPLAIN \u8868\u73fe\uff1a</p> <pre><code>mysql&gt; EXPLAIN SELECT * FROM salaries WHERE salary = 100000;\n+----+-------------+----------+------------+------+---------------+------------+---------+-------+------+----------+-------+\n| id | select_type | table    | partitions | type | possible_keys | key        | key_len | ref   | rows | filtered | Extra |\n+----+-------------+----------+------------+------+---------------+------------+---------+-------+------+----------+-------+\n|  1 | SIMPLE      | salaries | NULL       | ref  | idx_salary    | idx_salary | 4       | const |   13 |   100.00 | NULL  |\n+----+-------------+----------+------------+------+---------------+------------+---------+-------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre> <p>\u73fe\u5728\u4f7f\u7528\u4e86\u525b\u5efa\u7684 <code>idx_salary</code> \u7d22\u5f15\uff0c\u6383\u63cf\u8cc7\u6599\u7b46\u6578\u7531\u5169\u767e\u591a\u842c\u964d\u81f3 13 \u7b46\uff0c\u4e14\u5168\u90e8\u7b26\u5408\u689d\u4ef6\u3002\u67e5\u8a62\u57f7\u884c\u6642\u9593\u4e5f\u7531\u6578\u767e\u6beb\u79d2\u964d\u81f3\u5e7e\u4e4e\u5ffd\u7565\u4e0d\u8a08\u3002</p> <p>\u53e6\u4e00\u7bc4\u4f8b\uff0c\u641c\u5c0b\u7279\u5b9a\u7684 <code>first_name</code> \u8207 <code>last_name</code> \u7d44\u5408\uff0c\u4f46\u5076\u723e\u4e5f\u6703\u53ea\u7528 <code>last_name</code> \u641c\u5c0b\uff1a</p> <pre><code>mysql&gt; EXPLAIN SELECT * FROM employees WHERE last_name = 'Dredge' AND first_name = 'Yinghua';\n+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-------------+\n| id | select_type | table     | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra       |\n+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-------------+\n|  1 | SIMPLE      | employees | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 299468 |     1.00 | Using where |\n+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-------------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre> <p>\u67e5\u8a62\u7d50\u679c\u4e2d\u7d04 1% \u8a18\u9304\u7b26\u5408\u689d\u4ef6\uff0c\u96d6\u7136\u53ea\u6709\u7d04 30 \u842c\u7b46\u8cc7\u6599\uff0c\u901f\u5ea6\u5c1a\u53ef\uff0c\u4f46\u82e5\u8cc7\u6599\u6210\u5343\u4e0a\u842c\u751a\u81f3\u767e\u842c\u7b46\u6642\u5c31\u6703\u5f88\u6162\u3002\u6b64\u6642\uff0c\u6211\u5011\u6703\u5728 <code>last_name</code> \u8207 <code>first_name</code> \u5efa\u7acb\u8907\u5408\u7d22\u5f15\uff08Composite Index\uff09\uff0c\u975e\u55ae\u7368\u5efa\u7acb\u5169\u500b\u7d22\u5f15\uff1a</p> <pre><code>CREATE INDEX idx_last_first ON employees(last_name, first_name)\n</code></pre> <p>\u518d\u6b21\u57f7\u884c EXPLAIN\uff1a</p> <pre><code>mysql&gt; EXPLAIN SELECT * FROM employees WHERE last_name = 'Dredge' AND first_name = 'Yinghua';\n+----+-------------+-----------+------------+------+----------------+----------------+---------+-------------+------+----------+-------+\n| id | select_type | table     | partitions | type | possible_keys  | key            | key_len | ref         | rows | filtered | Extra |\n+----+-------------+-----------+------------+------+----------------+----------------+---------+-------------+------+----------+-------+\n|  1 | SIMPLE      | employees | NULL       | ref  | idx_last_first | idx_last_first | 124     | const,const |    1 |   100.00 | NULL  |\n+----+-------------+-----------+------------+------+----------------+----------------+---------+-------------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre> <p>\u5efa\u7acb\u8907\u5408\u7d22\u5f15\u6642\u5c07 <code>last_name</code> \u64fa\u5728 <code>first_name</code> \u4e4b\u524d\uff0c\u662f\u56e0\u70ba\u512a\u5316\u5668\u5728\u641c\u5c0b\u6642\u6703\u5f9e\u7d22\u5f15\u7684\u6700\u5de6\u908a\u958b\u59cb\u5339\u914d\u3002\u4f8b\u5982\u82e5\u6709\u4e09\u6b04\u7d22\u5f15 <code>idx(c1, c2, c3)</code>\uff0c\u67e5\u8a62\u689d\u4ef6\u53ef\u652f\u63f4 (c1)\u3001(c1, c2) \u6216 (c1, c2, c3)\uff0c\u4f46\u50c5\u6709 <code>first_name</code> \u6642\uff0c\u8a72\u7d22\u5f15\u5c07\u7121\u6cd5\u88ab\u4f7f\u7528\u3002</p> <p>\u67e5\u8a62\u53ea\u7528 <code>first_name</code> \u7684\u60c5\u6cc1\uff1a</p> <pre><code>mysql&gt; EXPLAIN SELECT * FROM employees WHERE first_name = 'Yinghua';\n+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-------------+\n| id | select_type | table     | partitions | type | possible_keys | key  | key_len | ref  | rows   | filtered | Extra       |\n+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-------------+\n|  1 | SIMPLE      | employees | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 299468 |    10.00 | Using where |\n+----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-------------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre> <p>\u67e5\u8a62\u53ea\u7528 <code>last_name</code> \u7684\u60c5\u6cc1\uff1a</p> <pre><code>mysql&gt; EXPLAIN SELECT * FROM employees WHERE last_name = 'Dredge';\n+----+-------------+-----------+------------+------+----------------+----------------+---------+-------+------+----------+-------+\n| id | select_type | table     | partitions | type | possible_keys  | key            | key_len | ref   | rows | filtered | Extra |\n+----+-------------+-----------+------------+------+----------------+----------------+---------+-------+------+----------+-------+\n|  1 | SIMPLE      | employees | NULL       | ref  | idx_last_first | idx_last_first | 66      | const |  200 |   100.00 | NULL  |\n+----+-------------+-----------+------------+------+----------------+----------------+---------+-------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n</code></pre> <p>\u53e6\u4e00\u7bc4\u4f8b\uff0c\u5148\u8907\u88fd <code>employees</code> \u8207 <code>salaries</code> \u8868\uff0c\u4e26\u79fb\u9664\u8907\u88fd\u8868 <code>salaries_2</code> \u7684\u4e3b\u9375\uff0c\u4ee5\u65b9\u4fbf\u7814\u7a76 JOIN \u67e5\u8a62\uff1a</p> <pre><code>CREATE TABLE employees_2 LIKE employees;\nCREATE TABLE salaries_2 LIKE salaries;\nALTER TABLE salaries_2 DROP PRIMARY KEY;\n</code></pre> <p>\u5c0d\u4ee5\u4e0b JOIN \u67e5\u8a62\uff0c\u57f7\u884c\u6642\u9593\u7d04 4.5 \u79d2\uff1a</p> <pre><code>mysql&gt; SELECT e.first_name, e.last_name, s.salary, e.hire_date FROM employees_2 e JOIN salaries_2 s ON e.emp_no=s.emp_no WHERE e.last_name='Dredge';\n1860 rows in set (4.44 sec)\n</code></pre> <p>\u67e5\u770b EXPLAIN\uff1a</p> <pre><code>mysql&gt; EXPLAIN SELECT e.first_name, e.last_name, s.salary, e.hire_date FROM employees_2 e JOIN salaries_2 s ON e.emp_no=s.emp_no WHERE e.last_name='Dredge';\n+----+-------------+-------+------------+--------+------------------------+---------+---------+--------------------+---------+----------+-------------+\n| id | select_type | table | partitions | type   | possible_keys          | key     | key_len | ref                | rows    | filtered | Extra       |\n+----+-------------+-------+------------+--------+------------------------+---------+---------+--------------------+---------+----------+-------------+\n|  1 | SIMPLE      | s     | NULL       | ALL    | NULL                   | NULL    | NULL    | NULL               | 2837194 |   100.00 | NULL        |\n|  1 | SIMPLE      | e     | NULL       | eq_ref | PRIMARY,idx_last_first | PRIMARY | 4       | employees.s.emp_no |       1 |     5.00 | Using where |\n+----+-------------+-------+------------+--------+------------------------+---------+---------+--------------------+---------+----------+-------------+\n2 rows in set, 1 warning (0.00 sec)\n</code></pre> <p>\u89e3\u6790\uff1a\u5148\u6383\u63cf <code>salaries_2</code> \u5168\u8868\uff0c\u63a5\u8457\u4f9d JOIN \u689d\u4ef6\u5c0b\u627e <code>employees_2</code> \u5339\u914d\u8cc7\u6599\u3002\u96d6\u4f7f\u7528 WHERE \u7be9\u9078 <code>employees_2.last_name</code>\uff0c\u4f46\u672a\u4f7f\u7528\u5c0d\u61c9\u7d22\u5f15\u3002</p> <p>\u82e5 JOIN \u7684\u6b04\u4f4d\u6709\u76f8\u540c\u8cc7\u6599\u578b\u614b\uff0c\u4e26\u4e14\u5169\u908a\u90fd\u6709\u7d22\u5f15\uff0c\u6703\u5927\u5e45\u52a0\u5feb\u67e5\u8a62\u3002\u6545\u5728 <code>salaries_2.emp_no</code> \u6b04\u4f4d\u52a0\u7d22\u5f15\uff1a</p> <pre><code>CREATE INDEX idx_empno ON salaries_2(emp_no)\n</code></pre> <p>\u91cd\u65b0\u770b EXPLAIN\uff1a</p> <pre><code>mysql&gt; EXPLAIN SELECT e.first_name, e.last_name, s.salary, e.hire_date FROM employees_2 e JOIN salaries_2 s ON e.emp_no=s.emp_no WHERE e.last_name='Dredge';\n+----+-------------+-------+------------+------+------------------------+----------------+---------+--------------------+------+----------+-------+\n| id | select_type | table | partitions | type | possible_keys          | key            | key_len | ref                | rows | filtered | Extra |\n+----+-------------+-------+------------+------+------------------------+----------------+---------+--------------------+------+----------+-------+\n|  1 | SIMPLE      | e     | NULL       | ref  | PRIMARY,idx_last_first | idx_last_first | 66      | const              |  200 |   100.00 | NULL  |\n|  1 | SIMPLE      | s     | NULL       | ref  | idx_empno              | idx_empno      | 4       | employees.e.emp_no |    9 |   100.00 | NULL  |\n+----+-------------+-------+------------+------+------------------------+----------------+---------+--------------------+------+----------+-------+\n2 rows in set, 1 warning (0.00 sec)\n</code></pre> <p>\u73fe\u5728\u7d22\u5f15\u4f7f\u5169\u5f35\u8868\u67e5\u8a62\u7bc4\u570d\u5927\u5e45\u6e1b\u5c11\uff0c\u4e14\u8a55\u4f30\u9806\u5e8f\u88ab\u53cd\u8f49\uff1a\u512a\u5316\u5668\u5148\u4f7f\u7528 <code>idx_last_first</code> \u7be9\u9078 <code>employees_2</code> \u6700\u7b26\u5408\u689d\u4ef6\u7684 200 \u7b46\uff0c\u518d\u4f9d <code>idx_empno</code> \u5c0d\u61c9\u806f\u7d50 <code>salaries_2</code> \u5c11\u91cf 9 \u7b46\u8cc7\u6599\u3002\u57f7\u884c\u6642\u9593\u5f9e 4.5 \u79d2\u9a5f\u964d\u81f3 0.02 \u79d2\u3002</p> <p>\u5be6\u969b\u67e5\u8a62\u7d50\u679c\uff1a</p> <pre><code>mysql&gt; SELECT e.first_name, e.last_name, s.salary, e.hire_date FROM employees_2 e JOIN salaries_2 s ON e.emp_no=s.emp_no WHERE e.last_name='Dredge'\\G\n1860 rows in set (0.02 sec)\n</code></pre>"},{"location":"level101/databases_sql/replication/","title":"MySQL Replication","text":""},{"location":"level101/databases_sql/replication/#mysql","title":"MySQL \u8907\u5beb","text":"<p>\u8907\u5beb\u5141\u8a31\u5c07\u4e00\u500b MySQL \u4e3b\u6a5f\uff08\u7a31\u70ba\u4e3b\u8981\u4e3b\u6a5f Primary\uff09\u7684\u8cc7\u6599\u8907\u88fd\u5230\u53e6\u4e00\u500b MySQL \u4e3b\u6a5f\uff08\u7a31\u70ba\u526f\u672c Replica\uff09\u3002MySQL \u8907\u5beb\u9810\u8a2d\u70ba\u975e\u540c\u6b65\uff08asynchronous\uff09\uff0c\u4f46\u900f\u904e\u4e00\u4e9b\u8a2d\u5b9a\u53ef\u6539\u70ba\u534a\u540c\u6b65\uff08semi-synchronous\uff09\u3002</p> <p>MySQL \u8907\u5beb\u7684\u4e00\u4e9b\u5e38\u898b\u61c9\u7528\uff1a</p> <ul> <li>\u8b80\u53d6\u64f4\u5145 (Read-scaling) - \u56e0\u591a\u500b\u4e3b\u6a5f\u53ef\u5f9e\u55ae\u4e00\u4e3b\u8981\u4e3b\u6a5f\u8907\u5beb\u8cc7\u6599\uff0c\u6211\u5011\u53ef\u4ee5\u8a2d\u5b9a\u4efb\u610f\u6578\u91cf\u7684\u526f\u672c\uff0c\u4e26\u900f\u904e\u5b83\u5011\u8ca0\u8f09\u5747\u8861\u8b80\u53d6\u3002\u4f8b\u5982\u61c9\u7528\u7a0b\u5f0f\u7684\u5beb\u5165\u5168\u90e8\u5c0e\u5411\u4e3b\u8981\u4e3b\u6a5f\uff0c\u800c\u8b80\u53d6\u5247\u5206\u6563\u5728\u6240\u6709\u526f\u672c\u4e0a\u3002\u9019\u7a2e\u67b6\u69cb\u4e5f\u80fd\u63d0\u5347\u5beb\u5165\u6548\u80fd\uff0c\u56e0\u4e3b\u8981\u4e3b\u6a5f\u53ea\u8ca0\u8cac\u66f4\u65b0\u4e0d\u9700\u540c\u6642\u8655\u7406\u8b80\u53d6\u3002</li> <li>\u5229\u7528\u526f\u672c\u5099\u4efd - \u5099\u4efd\u904e\u7a0b\u6709\u6642\u5019\u8f03\u70ba\u7e41\u91cd\uff0c\u5982\u679c\u5df2\u8a2d\u5b9a\u526f\u672c\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f9e\u5176\u4e2d\u4e00\u500b\u526f\u672c\u5099\u4efd\u8cc7\u6599\uff0c\u4e0d\u6703\u5f71\u97ff\u4e3b\u8981\u4e3b\u6a5f\u7684\u8cc7\u6599\u3002</li> <li>\u707d\u96e3\u5fa9\u539f - \u5728\u4e0d\u540c\u5730\u7406\u4f4d\u7f6e\u914d\u7f6e\u526f\u672c\uff0c\u6709\u52a9\u5efa\u7acb\u5065\u5168\u7684\u707d\u96e3\u5fa9\u539f\u65b9\u6848\u3002</li> </ul> <p>MySQL \u652f\u63f4\u4e0d\u540c\u985e\u578b\u7684\u540c\u6b65\u65b9\u5f0f\uff1a</p> <ul> <li>\u975e\u540c\u6b65 (Asynchronous) - \u70ba\u9810\u8a2d\u540c\u6b65\u65b9\u5f0f\u3002\u70ba\u55ae\u5411\u540c\u6b65\uff0c\u5373\u4e00\u4e3b\u591a\u5f9e\u3002\u672c\u7ae0\u7bc0\u5c07\u4ee5\u6b64\u65b9\u5f0f\u4ecb\u7d39\u8907\u5beb\u4e3b\u984c\u3002</li> </ul> <p></p> <ul> <li>\u534a\u540c\u6b65 (Semi-Synchronous) - \u5728\u6b64\u540c\u6b65\u6a21\u5f0f\u4e2d\uff0c\u4e3b\u8981\u4e3b\u6a5f\u7684\u63d0\u4ea4\u64cd\u4f5c\u6703\u88ab\u963b\u585e\uff0c\u76f4\u5230\u81f3\u5c11\u4e00\u500b\u526f\u672c\u78ba\u8a8d\u6536\u5230\u8a72\u63d0\u4ea4\u3002\u6536\u5230\u78ba\u8a8d\u5f8c\uff0c\u63a7\u5236\u6b0a\u8fd4\u56de\u57f7\u884c\u8a72\u4ea4\u6613\u7684 session\u3002\u6b64\u65b9\u5f0f\u78ba\u4fdd\u5f37\u4e00\u81f4\u6027\uff0c\u4f46\u8907\u5beb\u901f\u5ea6\u6bd4\u975e\u540c\u6b65\u6162\u3002</li> <li>\u5ef6\u9072\u8907\u5beb (Delayed) - \u53ef\u523b\u610f\u5ef6\u9072\u526f\u672c\u8907\u5beb\u7684\u6642\u9593\uff08\u4ee5\u79d2\u70ba\u55ae\u4f4d\uff09\uff0c\u7528\u4ee5\u907f\u514d\u4e3b\u8981\u4e3b\u6a5f\u56e0\u4eba\u70ba\u932f\u8aa4\u800c\u5c0e\u81f4\u8cc7\u6599\u640d\u6bc0\u7684\u554f\u984c\u3002\u4f8b\u5982\uff0c\u7576\u4e3b\u8981\u4e3b\u6a5f\u8aa4\u57f7\u884c <code>DROP DATABASE</code>\uff0c\u5ef6\u9072\u8907\u5beb\u7684\u526f\u672c\u6703\u6709\u4e00\u6bb5\u6642\u9593\u4e0d\u6703\u57f7\u884c\u8a72\u547d\u4ee4\uff0c\u9019\u6642\u53ef\u4ee5\u5f9e\u526f\u672c\u6062\u5fa9\u8cc7\u6599\u3002</li> </ul> <p>\u524d\u7f6e\u77e5\u8b58</p> <p>\u5728\u8a2d\u5b9a\u8907\u5beb\u4e4b\u524d\uff0c\u6211\u5011\u9700\u8981\u4e86\u89e3\u4e8c\u9032\u4f4d\u65e5\u8a8c\uff08binary logs\uff09\u3002\u4e8c\u9032\u4f4d\u65e5\u8a8c\u662f MySQL \u8907\u5beb\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u90e8\u5206\u3002\u4e8c\u9032\u4f4d\u65e5\u8a8c\uff08\u5e38\u7a31\u70ba binlogs\uff09\u7d00\u9304\u5c0d\u8cc7\u6599\u5eab\u7684\u8b8a\u66f4\u4e8b\u4ef6\uff0c\u5982\u8868\u7d50\u69cb\u8b8a\u66f4\u3001DML \u64cd\u4f5c\u7b49\u8cc7\u6599\u8b8a\u66f4\u3002\u4e0d\u6703\u7d00\u9304 <code>SELECT</code> \u8a9e\u53e5\u3002\u4e3b\u8981\u4e3b\u6a5f\u5c07\u900f\u904e <code>binlogs</code> \u5c07\u8b8a\u66f4\u8cc7\u8a0a\u50b3\u9001\u7d66\u526f\u672c\uff0c\u526f\u672c\u518d\u6839\u64da\u9019\u4e9b\u8cc7\u8a0a\u6539\u8b8a\u81ea\u8eab\u8cc7\u6599\u3002</p> <p>\u95dc\u65bc MySQL \u8907\u5beb\uff0c\u4e8c\u9032\u4f4d\u65e5\u8a8c\u683c\u5f0f\u53ef\u5206\u4e8c\u7a2e\uff1a</p> <ul> <li>\u9673\u8ff0\u5f0f\u8907\u5beb\uff08Statement-Based Replication\uff0cSBR\uff09</li> <li>\u5217\u5f0f\u8907\u5beb\uff08Row-Based Replication\uff0cRBR\uff09</li> </ul> <p>\u9673\u8ff0\u5f0f\u4e8c\u9032\u4f4d\u65e5\u8a8c\u683c\u5f0f</p> <p>\u6700\u521d\uff0cMySQL \u8907\u5beb\u4f9d\u64da SQL \u9673\u8ff0\u5f0f\u4f86\u8907\u88fd\u4e26\u5728\u526f\u672c\u4e0a\u57f7\u884c\uff0c\u7a31\u70ba\u9673\u8ff0\u5f0f\u7d00\u9304\u3002<code>binlog</code> \u7d00\u9304\u6240\u57f7\u884c\u7684\u5b8c\u6574 SQL \u9673\u8ff0\u5f0f\u3002</p> <p></p> <p>\u82e5\u57f7\u884c\u4e0a\u5716\u6240\u793a\u63d2\u5165 3 \u7b46\u8cc7\u6599\u53ca\u66f4\u65b0 3 \u7b46\u7684\u9673\u8ff0\u5f0f\uff0c<code>binlog</code> \u6703\u5982\u5be6\u8a18\u9304\u76f8\u540c\u5167\u5bb9\u3002</p> <p></p> <p>\u5217\u5f0f\u4e8c\u9032\u4f4d\u65e5\u8a8c\u683c\u5f0f</p> <p>\u6700\u65b0\u7684 MySQL \u7248\u672c\u9810\u8a2d\u4f7f\u7528\u5217\u5f0f\u683c\u5f0f\u3002\u8207\u9673\u8ff0\u5f0f\u4e0d\u540c\uff0c\u6b64\u683c\u5f0f\u7d00\u9304\u7684\u662f\u5217\u4e8b\u4ef6\uff08row events\uff09\u800c\u975e\u5b8c\u6574 SQL \u9673\u8ff0\u5f0f\u3002\u4e0a\u8ff0\u66f4\u65b0 3 \u7b46\u8cc7\u6599\u7684\u4f8b\u5b50\uff0c\u82e5\u70ba\u5217\u5f0f\u683c\u5f0f\uff0c<code>binlog</code> \u6703\u6709\u4e09\u7b46\u7368\u7acb\u7684\u66f4\u65b0\u4e8b\u4ef6\u3002</p> <p></p> <p></p> <p>\u9673\u8ff0\u5f0f vs \u5217\u5f0f\u4e8c\u9032\u4f4d\u65e5\u8a8c</p> <p>\u4ee5\u4e0b\u6bd4\u8f03\u5169\u8005\u7684\u64cd\u4f5c\u5dee\u7570\uff1a</p> \u9673\u8ff0\u5f0f \u5217\u5f0f \u7d00\u9304\u57f7\u884c\u7684 SQL \u9673\u8ff0\u5f0f \u6839\u64da SQL \u9673\u8ff0\u5f0f\u7d00\u9304\u5217\u4e8b\u4ef6 \u4f54\u7528\u78c1\u789f\u7a7a\u9593\u8f03\u5c11 \u4f54\u7528\u78c1\u789f\u7a7a\u9593\u8f03\u591a \u4f7f\u7528 binlogs \u9084\u539f\u8f03\u5feb \u4f7f\u7528 binlogs \u9084\u539f\u8f03\u6162 \u82e5\u9673\u8ff0\u5f0f\u542b\u6709\u5167\u5efa\u51fd\u6578\uff08\u5982 <code>sysdate()</code>, <code>uuid()</code>\uff09\uff0c\u526f\u672c\u8f38\u51fa\u53ef\u80fd\u8207\u4e3b\u8981\u4e0d\u540c\uff0c\u5c0e\u81f4\u4e0d\u4e00\u81f4 \u57f7\u884c\u5167\u5bb9\u7686\u8f49\u6210\u542b\u5be6\u969b\u503c\u7684\u5217\u4e8b\u4ef6\uff0c\u4f7f\u7528\u6b64\u985e\u51fd\u5f0f\u4e0d\u6703\u6709\u554f\u984c \u50c5\u7d00\u9304\u9673\u8ff0\u5f0f\uff0c\u4e0d\u6703\u7522\u751f\u5176\u4ed6\u5217\u4e8b\u4ef6 \u7576\u4f7f\u7528 <code>INSERT INTO SELECT</code> \u8907\u88fd\u6574\u5f35\u8868\u6642\u6703\u7522\u751f\u5927\u91cf\u4e8b\u4ef6 <p>\u6ce8\u610f\uff1a\u53e6\u4e00\u7a2e <code>binlog</code> \u683c\u5f0f\u7a31\u70ba Mixed\uff0c\u9810\u8a2d\u70ba\u9673\u8ff0\u5f0f\uff0c\u5fc5\u8981\u6642\u5207\u63db\u6210\u5217\u5f0f\u3002\u7576 MySQL \u5224\u65b7\u9673\u8ff0\u5f0f\u7d00\u9304\u4e0d\u5b89\u5168\u6642\uff0c\u6703\u767c\u51fa\u8b66\u544a\u4e26\u6539\u7528\u5217\u5f0f\u7d00\u9304\u3002</p> <p>\u672c\u7ae0\u7bc0\u8907\u5beb\u6559\u5b78\u7686\u4ee5\u5217\u5f0f (Row) \u7576\u4f5c\u4e8c\u9032\u4f4d\u65e5\u8a8c\u683c\u5f0f\u3002</p> <p>\u8907\u5beb\u904b\u4f5c\u6d41\u7a0b</p> <p></p> <p>\u5716\u793a\u63cf\u8ff0\u5178\u578b MySQL \u8907\u5beb\u6a5f\u5236\uff1a</p> <ol> <li><code>Replica_IO_Thread</code> \u8ca0\u8cac\u5f9e\u4e3b\u8981\u4e3b\u6a5f\u7684\u4e8c\u9032\u4f4d\u65e5\u8a8c\u53d6\u5f97\u4e8b\u4ef6\u5230\u526f\u672c\u4e3b\u6a5f\u3002</li> <li>\u526f\u672c\u4e3b\u6a5f\u7522\u751f\u4e2d\u7e7c\u65e5\u8a8c\uff08relay logs\uff09\uff0c\u5167\u5bb9\u70ba\u4e3b\u8981\u4e3b\u6a5f\u7684\u4e8c\u9032\u4f4d\u65e5\u8a8c\u8907\u672c\u3002\u5982\u679c\u4e3b\u8981\u4e3b\u6a5f\u662f\u5217\u5f0f\u683c\u5f0f\uff0c\u4e2d\u7e7c\u65e5\u8a8c\u4ea6\u540c\u3002</li> <li><code>Replica_SQL_Thread</code> \u5c07\u4e2d\u7e7c\u65e5\u8a8c\u5957\u7528\u5230\u526f\u672c MySQL \u670d\u52d9\u3002</li> <li>\u82e5\u526f\u672c\u555f\u7528 <code>log-bin</code>\uff0c\u5c07\u81ea\u884c\u7522\u751f\u4e8c\u9032\u4f4d\u65e5\u8a8c\u3002\u82e5\u540c\u6642\u555f\u7528 <code>log-slave-updates</code>\uff0c\u526f\u672c\u4e5f\u6703\u8a18\u9304\u5f9e\u4e3b\u8981\u4e3b\u6a5f\u63a5\u6536\u5230\u7684\u66f4\u65b0\uff0c\u7528\u65bc\u9023\u9396\u8907\u5beb (chain replication)\u3002</li> </ol>"},{"location":"level101/databases_sql/replication/#_1","title":"\u8907\u5beb\u8a2d\u5b9a","text":"<p>\u672c\u7bc0\u5c07\u793a\u7bc4\u5982\u4f55\u8a2d\u5b9a\u57fa\u672c\u7684\u975e\u540c\u6b65\u5217\u5f0f\u8907\u5beb\u3002\u8907\u5beb\u5728\u5169\u53f0\u5168\u65b0\u4e3b\u6a5f\u4e0a\u9032\u884c\uff0c\u4e3b\u6a5f\u4e0a\u7121\u4efb\u4f55\u8cc7\u6599\u3002\u8907\u5beb\u8a2d\u5b9a\u6709\u5169\u7a2e\u65b9\u5f0f\uff1a</p> <ul> <li>\u57fa\u65bc binlog - \u526f\u672c\u7dad\u8b77\u76ee\u524d\u8b80\u53d6\u7684\u4e3b\u6a5f\u4e8c\u9032\u4f4d\u65e5\u8a8c\u6a94\u540d\u53ca\u4f4d\u7f6e\uff0c\u5404\u526f\u672c\u53ef\u540c\u6642\u8b80\u53d6\u540c\u4e00 binlog \u7684\u4e0d\u540c\u90e8\u5206\u3002</li> <li>\u57fa\u65bc GTID - \u6bcf\u500b\u4ea4\u6613\u6709\u552f\u4e00\u7684\u5168\u57df\u4ea4\u6613\u8b58\u5225\u78bc\uff08GTID\uff09\uff0c\u526f\u672c\u53ea\u9700\u8ffd\u8e64\u5df2\u57f7\u884c\u7684 GTID \u96c6\u5408\u5373\u53ef\u4fdd\u6301\u8207\u4e3b\u8981\u4e3b\u6a5f\u540c\u6b65\u3002\u5178\u578b GTID \u683c\u5f0f\u70ba <code>server_uuid:#</code>\u3002</li> </ul> <p>\u4e0b\u8ff0\u7bc4\u4f8b\u5c07\u4ee5 GTID \u70ba\u57fa\u790e\u5b8c\u6210\u8a2d\u5b9a\uff0c\u4f46\u4e5f\u6703\u63d0\u53ca binlog \u65b9\u5f0f\u3002</p> <p>\u4e3b\u8981\u4e3b\u6a5f\u8a2d\u5b9a</p> <p><code>my.cnf</code> \u9700\u5305\u542b\u4ee5\u4e0b\u53c3\u6578\uff1a</p> <pre><code>server-id - \u552f\u4e00\u7684 MySQL \u4f3a\u670d\u5668 ID\nlog-bin - \u958b\u555f\u4e8c\u9032\u4f4d\u65e5\u8a8c\u4e26\u6307\u5b9a\u4f4d\u7f6e\nbinlog-format - \u8a2d\u5b9a\u70ba ROW\uff08\u5217\u5f0f\uff09\u6216 STATEMENT\uff08\u9673\u8ff0\u5f0f\uff09\uff0c\u672c\u7ae0\u4f7f\u7528 ROW\ngtid-mode - ON\nenforce-gtid-consistency - ON\uff08\u53ea\u5141\u8a31\u53ef\u88ab GTID \u7d00\u9304\u7684\u8a9e\u53e5\uff09\n</code></pre> <p>\u526f\u672c\u4e3b\u6a5f\u8a2d\u5b9a</p> <p><code>my.cnf</code> \u9700\u5305\u542b\u4e0b\u5217\u53c3\u6578\uff1a</p> <pre><code>server-id - \u8207\u4e3b\u8981\u4e3b\u6a5f\u4e0d\u540c\nlog-bin -\uff08\u53ef\u9078\uff09\u82e5\u60f3\u7d00\u9304\u526f\u672c\u81ea\u8eab\u66f4\u65b0\nbinlog-format - \u6839\u64da\u4e3b\u8981\u4e3b\u6a5f\u8a2d\u5b9a\ngtid-mode - ON\nenforce-gtid-consistency - ON\nlog-slave-updates - ON\uff08\u82e5\u958b\u555f log-bin\uff0c\u63a8\u85a6\u958b\u555f\u4ee5\u652f\u63f4\u9023\u9396\u8907\u5beb\uff09\n</code></pre> <p>\u8907\u5beb\u7528\u6236</p> <p>\u526f\u672c\u900f\u904e MySQL \u4f7f\u7528\u8005\u9023\u63a5\u4e3b\u8981\u4e3b\u6a5f\u4ee5\u57f7\u884c\u8907\u5beb\uff0c\u5176\u5e33\u865f\u5fc5\u9808\u64c1\u6709 <code>REPLICATION SLAVE</code> \u6b0a\u9650\u3002\u5efa\u8b70\u65b0\u5efa\u5c08\u7528\u65bc\u8907\u5beb\u7684\u5e33\u6236\u3002</p> <p>\u5728\u4e3b\u8981\u4e3b\u6a5f\u57f7\u884c\uff1a</p> <pre><code>mysql&gt; CREATE USER repl_user@&lt;replica_IP&gt; IDENTIFIED BY 'xxxxx';\n\nmysql&gt; GRANT REPLICATION SLAVE ON *.* TO repl_user@'&lt;replica_IP&gt;';\n</code></pre> <p>\u53d6\u5f97\u8907\u5beb\u8d77\u59cb\u4f4d\u7f6e</p> <p>\u65bc\u4e3b\u8981\u4e3b\u6a5f\u57f7\u884c\uff1a</p> <pre><code>mysql&gt; SHOW MASTER STATUS\\G\n*************************** 1. row ***************************\n             File: mysql-bin.000001\n         Position: 73\n     Binlog_Do_DB:\n Binlog_Ignore_DB:\nExecuted_Gtid_Set: e17d0920-d00e-11eb-a3e6-000d3aa00f87:1-3\n1 row in set (0.00 sec)\n</code></pre> <p>\u82e5\u70ba binlog \u8907\u5beb\uff0c\u524d\u5169\u884c\u70ba\u91cd\u8981\u8cc7\u8a0a\uff0c\u6307\u660e\u76ee\u524d\u7684 binlog \u6a94\u540d\u8207\u4f4d\u7f6e\u3002\u5168\u65b0\u4e3b\u6a5f\u53ef\u5f9e\u7b2c\u4e00\u500b binlog \u6a94\u6848\u4f4d\u7f6e 4 \u958b\u59cb\u8a2d\u5b9a\u3002\u82e5\u662f\u5f9e\u5099\u4efd\u5fa9\u539f\uff0c\u8d77\u59cb\u4f4d\u7f6e\u4f9d\u5099\u4efd\u8a2d\u5b9a\u800c\u5b9a\u3002</p> <p>\u4f7f\u7528 GTID \u8907\u5beb\u5247\u95dc\u6ce8 <code>Executed_Gtid_Set</code> \u6b04\u4f4d\uff0c\u6307\u660e\u76ee\u524d\u5df2\u57f7\u884c\u7684 GTID \u7bc4\u570d\u3002\u5168\u65b0\u74b0\u5883\u4e0d\u9700\u6307\u5b9a\u8d77\u9ede\uff0c\u5373\u5f9e\u7b2c\u4e00\u500b\u4ea4\u6613\u958b\u59cb\u3002</p> <p>\u8a2d\u5b9a\u526f\u672c</p> <p>\u5fc5\u9808\u8b93\u526f\u672c\u77e5\u9053\u4e3b\u8981\u4e3b\u6a5f\u4f4d\u5740\u3001\u9023\u7dda\u5e33\u5bc6\uff0c\u4ee5\u53ca\u8d77\u59cb binlog \u4f4d\u7f6e\u6216 GTID auto-position\u3002</p> <p>GTID \u8907\u5beb\u8a2d\u5b9a\u793a\u7bc4\uff1a</p> <pre><code>CHANGE MASTER TO\nmaster_host = '&lt;primary host IP&gt;',\nmaster_port = &lt;primary host port - \u9810\u8a2d\u70ba 3306&gt;,\nmaster_user = 'repl_user',\nmaster_password = 'xxxxx',\nmaster_auto_position = 1;\n</code></pre> <p>\u6ce8\u610f\uff1aMySQL 8.0.23 \u8d77\uff0c<code>CHANGE MASTER TO</code> \u6539\u540d\u70ba <code>CHANGE REPLICATION SOURCE TO</code>\uff0c\u4e14\u6240\u6709 master \u8207 slave \u95dc\u9375\u5b57\u6539\u70ba source \u8207 replica\u3002</p> <p>\u82e5\u70ba binlog \u8907\u5beb\uff0c\u9700\u6307\u5b9a binlog \u6a94\u6848\u8207\u4f4d\u7f6e\uff1a</p> <pre><code>master_log_file = 'mysql-bin.000001',\nmaster_log_pos = 4\n</code></pre> <p>\u555f\u52d5\u8907\u5beb\u4e26\u6aa2\u67e5\u72c0\u614b</p> <p>\u8a2d\u5b9a\u597d\u5f8c\uff0c\u555f\u52d5\u8907\u5beb\uff1a</p> <pre><code>START SLAVE;\n</code></pre> <p>\u6216 MySQL 8.0.23 \u4e4b\u5f8c\uff1a</p> <pre><code>START REPLICA;\n</code></pre> <p>\u78ba\u8a8d\u8907\u5beb\u72c0\u614b\uff1a</p> <pre><code>SHOW SLAVE STATUS\\G\n</code></pre> <p>\u6216 MySQL 8.0.23 \u4e4b\u5f8c\uff1a</p> <pre><code>SHOW REPLICA STATUS\\G\n</code></pre> <p>\u57f7\u884c\u8f38\u51fa\u7bc4\u4f8b\uff1a</p> <pre><code>mysql&gt; SHOW REPLICA STATUS\\G\n*************************** 1. row ***************************\n             Replica_IO_State: Waiting for master to send event\n                  Source_Host: &lt;primary IP&gt;\n                  Source_User: repl_user\n                  Source_Port: &lt;primary port&gt;\n                Connect_Retry: 60\n              Source_Log_File: mysql-bin.000001\n          Read_Source_Log_Pos: 852\n               Relay_Log_File: mysql-relay-bin.000002\n                Relay_Log_Pos: 1067\n        Relay_Source_Log_File: mysql-bin.000001\n           Replica_IO_Running: Yes\n          Replica_SQL_Running: Yes\n              Replicate_Do_DB:\n          Replicate_Ignore_DB:\n           Replicate_Do_Table:\n       Replicate_Ignore_Table:\n      Replicate_Wild_Do_Table:\n  Replicate_Wild_Ignore_Table:\n                   Last_Errno: 0\n                   Last_Error:\n                 Skip_Counter: 0\n          Exec_Source_Log_Pos: 852\n              Relay_Log_Space: 1283\n              Until_Condition: None\n               Until_Log_File:\n                Until_Log_Pos: 0\n           Source_SSL_Allowed: No\n           Source_SSL_CA_File:\n           Source_SSL_CA_Path:\n              Source_SSL_Cert:\n            Source_SSL_Cipher:\n               Source_SSL_Key:\n        Seconds_Behind_Source: 0\nSource_SSL_Verify_Server_Cert: No\n                Last_IO_Errno: 0\n                Last_IO_Error:\n               Last_SQL_Errno: 0\n               Last_SQL_Error:\n  Replicate_Ignore_Server_Ids:\n             Source_Server_Id: 1\n                  Source_UUID: e17d0920-d00e-11eb-a3e6-000d3aa00f87\n             Source_Info_File: mysql.slave_master_info\n                    SQL_Delay: 0\n          SQL_Remaining_Delay: NULL\n    Replica_SQL_Running_State: Slave has read all relay log; waiting for more updates\n           Source_Retry_Count: 86400\n                  Source_Bind:\n      Last_IO_Error_Timestamp:\n     Last_SQL_Error_Timestamp:\n               Source_SSL_Crl:\n           Source_SSL_Crlpath:\n           Retrieved_Gtid_Set: e17d0920-d00e-11eb-a3e6-000d3aa00f87:1-3\n            Executed_Gtid_Set: e17d0920-d00e-11eb-a3e6-000d3aa00f87:1-3\n                Auto_Position: 1\n         Replicate_Rewrite_DB:\n                 Channel_Name:\n           Source_TLS_Version:\n       Source_public_key_path:\n        Get_Source_public_key: 0\n            Network_Namespace:\n1 row in set (0.00 sec)\n</code></pre> <p>\u91cd\u8981\u53c3\u6578\u8aaa\u660e\uff1a</p> \u53c3\u6578 \u8aaa\u660e Relay_Source_Log_File \u526f\u672c\u76ee\u524d\u8b80\u53d6\u7684\u4e3b\u8981\u4e3b\u6a5f binlog \u6a94\u6848 Exec_Source_Log_Pos \u6b64\u6a94\u6848\u4e2d\u526f\u672c\u76ee\u524d\u8b80\u53d6\u7684\u4f4d\u7f6e\uff0cbinlog \u8907\u5beb\u6642\u975e\u5e38\u91cd\u8981 Replica_IO_Running IO \u57f7\u884c\u7dd2\u662f\u5426\u6b63\u5728\u904b\u884c Replica_SQL_Running SQL \u57f7\u884c\u7dd2\u662f\u5426\u6b63\u5728\u904b\u884c Seconds_Behind_Source \u526f\u672c\u843d\u5f8c\u65bc\u4e3b\u8981\u4e3b\u6a5f\u7684\u79d2\u6578\uff0c\u8868\u793a\u8907\u5beb\u6642\u5ef6 Source_UUID \u4e3b\u8981\u4e3b\u6a5f\u7684 UUID Retrieved_Gtid_Set \u526f\u672c\u5df2\u5f9e\u4e3b\u6a5f\u53d6\u5f97\u5f85\u57f7\u884c\u7684 GTID \u96c6\u5408 Executed_Gtid_Set \u526f\u672c\u5df2\u57f7\u884c\u7684 GTID \u96c6\u5408\uff0c\u96c6\u7fa4\u540c\u6b65\u6642\u61c9\u4fdd\u6301\u4e00\u81f4 Auto_Position \u6307\u793a\u526f\u672c\u81ea\u52d5\u6293\u53d6\u4e0b\u4e00\u7b46 GTID <p>\u70ba\u5df2\u5efa\u53e2\u96c6\u65b0\u589e\u526f\u672c</p> <p>\u4e4b\u524d\u8aaa\u660e\u7684\u8907\u5beb\u8a2d\u5b9a\u9069\u7528\u65bc\u5169\u53f0\u5168\u65b0\u4e3b\u6a5f\u3002\u7576\u4e3b\u6a5f\u5df2\u57f7\u884c\u61c9\u7528\u670d\u52d9\uff0c\u9808\u5f9e\u5099\u4efd\u5efa\u7acb\u526f\u672c\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <p>\u82e5\u4e3b\u8981\u4e3b\u6a5f\u8cc7\u6599\u5eab\u5c0f\u65bc\u7d04 100G\uff0c\u5efa\u8b70\u4f7f\u7528 <code>mysqldump</code> \u5099\u4efd\uff0c\u642d\u914d\u4e0b\u5217\u53c3\u6578\uff1a</p> <pre><code>mysqldump -uroot -p -hhost_ip -P3306 --all-databases --single-transaction --master-data=1 &gt; primary_host.bkp\n</code></pre> <ul> <li><code>--single-transaction</code>\uff1a\u4ee5\u4ea4\u6613\u65b9\u5f0f\u5099\u4efd\uff0c\u78ba\u4fdd\u4e00\u81f4\u6027\uff0c\u5099\u4efd\u671f\u9593\u5beb\u5165\u4e0d\u6703\u5f71\u97ff\u7d50\u679c\u3002</li> <li><code>--master-data</code>\uff1a\u5099\u4efd\u6a94\u4e2d\u5305\u542b\u4e8c\u9032\u4f4d\u65e5\u8a8c\u6a94\u540d\u548c\u4f4d\u7f6e\uff0c\u8a2d\u7f6e binlog \u8907\u5beb\u6642\u9700\u7528\u3002</li> </ul> <p>\u555f\u7528 GTID \u5f8c\uff0c<code>mysqldump</code> \u6703\u5728\u5099\u4efd\u6a94\u4e2d\u5305\u542b\u53ef\u7528\u4ee5\u555f\u52d5\u526f\u672c\u7684 GTID \u8cc7\u8a0a\u3002</p> <p></p> <p>\u5efa\u8b70\u9084\u539f\u6642\u5148\u628a GTID \u8a3b\u89e3\u6389\uff0c\u907f\u514d\u932f\u8aa4\u3002\u4f7f\u7528 <code>master-data=2</code> \u5247\u6703\u81ea\u52d5\u8a3b\u89e3\u3002</p> <p>\u4f7f\u7528 <code>xtrabackup</code> \u5099\u4efd\u6642\uff0c\u6703\u5728 <code>xtrabackup_info</code> \u6a94\u6848\u4e2d\u7d00\u9304 binlog \u6a94\u540d\u3001\u4f4d\u7f6e\u53ca\u57f7\u884c\u7684 GTID \u96c6\u5408\u3002</p> <pre><code>server_version = 8.0.25\nstart_time = 2021-06-22 03:45:17\nend_time = 2021-06-22 03:45:20\nlock_time = 0\nbinlog_pos = filename 'mysql-bin.000007', position '196', GTID of the last change 'e17d0920-d00e-11eb-a3e6-000d3aa00f87:1-5'\ninnodb_from_lsn = 0\ninnodb_to_lsn = 18153149\npartial = N\nincremental = N\nformat = file\ncompressed = N\nencrypted = N\n</code></pre> <p>\u5728\u65b0\u4e3b\u6a5f\u5b89\u88dd MySQL \u670d\u52d9\u5f8c\uff0c\u9084\u539f\u5099\u4efd\u3002</p> <p>\u82e5\u63a1 binlog \u8907\u5beb\uff0c\u57f7\u884c\uff1a</p> <pre><code>CHANGE REPLICATION SOURCE TO \nsource_host = \u2018primary_ip\u2019,\nsource_port = 3306,\nsource_user = \u2018repl_user\u2019,\nsource_password = \u2018xxxxx\u2019,\nsource_log_file = \u2018mysql-bin.000007\u2019,\nsource_log_pos = \u2018196\u2019;\n</code></pre> <p>\u82e5\u4f7f\u7528 GTID \u8907\u5beb\uff0c\u544a\u8a34\u526f\u672c\u5df2\u57f7\u884c GTID \u5982\u4e0b\uff1a</p> <pre><code>RESET MASTER;\n\nSET GLOBAL gtid_purged = \u2018e17d0920-d00e-11eb-a3e6-000d3aa00f87:1-5\u2019;\n\nCHANGE REPLICATION SOURCE TO\nsource_host = \u2018primary_ip\u2019,\nsource_port = 3306,\nsource_user = \u2018repl_user\u2019,\nsource_password = \u2018xxxxx\u2019,\nsource_auto_position = 1;\n</code></pre> <p><code>RESET MASTER</code> \u5c07\u4e8c\u9032\u4f4d\u65e5\u8a8c\u4f4d\u7f6e\u91cd\u7f6e\u3002\u82e5\u4e3b\u6a5f\u662f\u5168\u65b0\u5b89\u88dd\u53ef\u7701\u7565\uff0c\u4f46\u9084\u539f\u5099\u4efd\u6642\u5efa\u8b70\u57f7\u884c\u3002<code>gtid_purged</code> \u8b93\u526f\u672c\u77e5\u9053\u5df2\u57f7\u884c GTID \u7bc4\u570d\uff0c<code>auto_position=1</code> \u5247\u81ea\u52d5\u5f9e\u4e0b\u4e00\u500b GTID \u958b\u59cb\u3002</p>"},{"location":"level101/databases_sql/replication/#_2","title":"\u5ef6\u4f38\u95b1\u8b80","text":"<ul> <li>\u66f4\u591a\u8907\u5beb\u61c9\u7528</li> <li>MySQL Orchestrator \u81ea\u52d5\u6545\u969c\u8f49\u79fb</li> </ul>"},{"location":"level101/databases_sql/select_query/","title":"Select Query","text":""},{"location":"level101/databases_sql/select_query/#select","title":"SELECT \u67e5\u8a62","text":"<p>\u5728\u4f7f\u7528 MySQL \u6642\u6700\u5e38\u7528\u7684\u6307\u4ee4\u662f <code>SELECT</code>\u3002\u5b83\u7528\u4f86\u5f9e\u4e00\u500b\u6216\u591a\u500b\u8cc7\u6599\u8868\u4e2d\u64f7\u53d6\u7d50\u679c\u96c6\u3002 \u5178\u578b\u7684 Select \u67e5\u8a62\u7684\u4e00\u822c\u683c\u5f0f\u770b\u8d77\u4f86\u50cf\u9019\u6a23\uff1a</p> <pre><code>SELECT expr\nFROM table1\n[WHERE condition]\n[GROUP BY column_list HAVING condition]\n[ORDER BY column_list ASC|DESC]\n[LIMIT #]\n</code></pre> <p>\u4e0a\u8ff0\u4e00\u822c\u683c\u5f0f\u5305\u542b\u4e86\u4e00\u4e9b <code>SELECT</code> \u67e5\u8a62\u4e2d\u5e38\u7528\u7684\u5b50\u53e5\uff1a</p> <ul> <li>expr - \u4ee5\u9017\u865f\u5206\u9694\u7684\u6b04\u4f4d\u6e05\u55ae\uff0c\u6216\u4f7f\u7528 *\uff08\u8868\u793a\u6240\u6709\u6b04\u4f4d\uff09</li> <li>WHERE - \u63d0\u4f9b\u689d\u4ef6\uff0c\u82e5\u70ba\u771f\uff0c\u5247\u6307\u793a\u67e5\u8a62\u53ea\u9078\u53d6\u7b26\u5408\u689d\u4ef6\u7684\u7d00\u9304\u3002</li> <li>GROUP BY - \u6839\u64da\u6307\u5b9a\u7684\u6b04\u4f4d\u5217\u8868\u5c07\u6574\u500b\u7d50\u679c\u96c6\u5206\u7d44\u3002\u5efa\u8b70\u5728\u67e5\u8a62\u7684\u9078\u64c7\u8868\u9054\u5f0f\u4e2d\u4f7f\u7528\u805a\u5408\u51fd\u6578\u3002HAVING \u7528\u65bc\u5206\u7d44\u5f8c\uff0c\u5c0d\u9078\u5b9a\u6b04\u4f4d\u6216\u4efb\u4f55\u5176\u5b83\u805a\u5408\u51fd\u6578\u65bd\u52a0\u689d\u4ef6\u3002</li> <li>ORDER BY - \u6839\u64da\u6b04\u4f4d\u5217\u8868\u9032\u884c\u7d50\u679c\u6392\u5e8f\uff0c\u5347\u51aa\u6216\u964d\u51aa\u3002</li> <li>LIMIT - \u5e38\u7528\u65bc\u9650\u5236\u56de\u50b3\u7684\u7d00\u9304\u6578\u91cf\u3002</li> </ul> <p>\u4ee5\u4e0b\u8b93\u6211\u5011\u900f\u904e\u4e00\u4e9b\u7bc4\u4f8b\u66f4\u597d\u5730\u7406\u89e3\u4e0a\u8ff0\u5167\u5bb9\u3002\u4ee5\u4e0b\u7bc4\u4f8b\u6240\u4f7f\u7528\u7684\u8cc7\u6599\u96c6\u53ef\u5728\u9019\u88e1\u514d\u8cbb\u4e0b\u8f09\u4f7f\u7528\u3002</p> <p>\u9078\u53d6\u5168\u90e8\u7d00\u9304</p> <pre><code>mysql&gt; SELECT * FROM employees LIMIT 5;\n+--------+------------+------------+-----------+--------+------------+\n| emp_no | birth_date | first_name | last_name | gender | hire_date  |\n+--------+------------+------------+-----------+--------+------------+\n|  10001 | 1953-09-02 | Georgi     | Facello   | M      | 1986-06-26 |\n|  10002 | 1964-06-02 | Bezalel    | Simmel    | F      | 1985-11-21 |\n|  10003 | 1959-12-03 | Parto      | Bamford   | M      | 1986-08-28 |\n|  10004 | 1954-05-01 | Chirstian  | Koblick   | M      | 1986-12-01 |\n|  10005 | 1955-01-21 | Kyoichi    | Maliniak  | M      | 1989-09-12 |\n+--------+------------+------------+-----------+--------+------------+\n5 rows in set (0.00 sec)\n</code></pre> <p>\u9078\u53d6\u6240\u6709\u7d00\u9304\u7684\u7279\u5b9a\u6b04\u4f4d</p> <pre><code>mysql&gt; SELECT first_name, last_name, gender FROM employees LIMIT 5;\n+------------+-----------+--------+\n| first_name | last_name | gender |\n+------------+-----------+--------+\n| Georgi     | Facello   | M      |\n| Bezalel    | Simmel    | F      |\n| Parto      | Bamford   | M      |\n| Chirstian  | Koblick   | M      |\n| Kyoichi    | Maliniak  | M      |\n+------------+-----------+--------+\n5 rows in set (0.00 sec)\n</code></pre> <p>\u9078\u53d6 hire_date &gt;= 1990\u5e741\u67081\u65e5 \u7684\u6240\u6709\u7d00\u9304</p> <pre><code>mysql&gt; SELECT * FROM employees WHERE hire_date &gt;= '1990-01-01' LIMIT 5;\n+--------+------------+------------+-------------+--------+------------+\n| emp_no | birth_date | first_name | last_name   | gender | hire_date  |\n+--------+------------+------------+-------------+--------+------------+\n|  10008 | 1958-02-19 | Saniya     | Kalloufi    | M      | 1994-09-15 |\n|  10011 | 1953-11-07 | Mary       | Sluis       | F      | 1990-01-22 |\n|  10012 | 1960-10-04 | Patricio   | Bridgland   | M      | 1992-12-18 |\n|  10016 | 1961-05-02 | Kazuhito   | Cappelletti | M      | 1995-01-27 |\n|  10017 | 1958-07-06 | Cristinel  | Bouloucos   | F      | 1993-08-03 |\n+--------+------------+------------+-------------+--------+------------+\n5 rows in set (0.01 sec)\n</code></pre> <p>\u9078\u53d6\u51fa\u751f\u5e74\u4efd &gt;= 1960 \u4e14\u6027\u5225\u70ba 'F' \u7684\u6240\u6709\u7d00\u9304\u7684 first_name \u8207 last_name</p> <pre><code>mysql&gt; SELECT first_name, last_name FROM employees WHERE year(birth_date) &gt;= 1960 AND gender='F' LIMIT 5;\n+------------+-----------+\n| first_name | last_name |\n+------------+-----------+\n| Bezalel    | Simmel    |\n| Duangkaew  | Piveteau  |\n| Divier     | Reistad   |\n| Jeong      | Reistad   |\n| Mingsen    | Casley    |\n+------------+-----------+\n5 rows in set (0.00 sec)\n</code></pre> <p>\u986f\u793a\u7d00\u9304\u7e3d\u6578</p> <pre><code>mysql&gt; SELECT COUNT(*) FROM employees;\n+----------+\n| COUNT(*) |\n+----------+\n|   300024 |\n+----------+\n1 row in set (0.05 sec)\n</code></pre> <p>\u986f\u793a\u5404\u6027\u5225\u7684\u7d00\u9304\u6578\u91cf</p> <pre><code>mysql&gt; SELECT gender, COUNT(*) FROM employees GROUP BY gender;\n+--------+----------+\n| gender | COUNT(*) |\n+--------+----------+\n| M      |   179973 |\n| F      |   120051 |\n+--------+----------+\n2 rows in set (0.14 sec)\n</code></pre> <p>\u6309 hire_date \u5e74\u4efd\u5206\u7d44\uff0c\u4e26\u986f\u793a\u8a72\u5e74\u50f1\u7528\u4eba\u6578\uff0c\u4e14\u53ea\u986f\u793a\u50f1\u7528\u8d85\u904e 2 \u842c\u4eba\u7684\u5e74\u4efd</p> <pre><code>mysql&gt; SELECT year(hire_date), COUNT(*) FROM employees GROUP BY year(hire_date) HAVING COUNT(*) &gt; 20000;\n+-----------------+----------+\n| year(hire_date) | COUNT(*) |\n+-----------------+----------+\n|            1985 |    35316 |\n|            1986 |    36150 |\n|            1987 |    33501 |\n|            1988 |    31436 |\n|            1989 |    28394 |\n|            1990 |    25610 |\n|            1991 |    22568 |\n|            1992 |    20402 |\n+-----------------+----------+\n8 rows in set (0.14 sec)\n</code></pre> <p>\u4f9d hire_date \u7531\u5927\u5230\u5c0f\u6392\u5e8f\uff0chire_date \u76f8\u540c\u5247\u4f9d birth_date \u7531\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u986f\u793a\u6240\u6709\u7d00\u9304</p> <pre><code>mysql&gt; SELECT * FROM employees ORDER BY hire_date DESC, birth_date ASC LIMIT 5;\n+--------+------------+------------+-----------+--------+------------+\n| emp_no | birth_date | first_name | last_name | gender | hire_date  |\n+--------+------------+------------+-----------+--------+------------+\n| 463807 | 1964-06-12 | Bikash     | Covnot    | M      | 2000-01-28 |\n| 428377 | 1957-05-09 | Yucai      | Gerlach   | M      | 2000-01-23 |\n| 499553 | 1954-05-06 | Hideyuki   | Delgrande | F      | 2000-01-22 |\n| 222965 | 1959-08-07 | Volkmar    | Perko     | F      | 2000-01-13 |\n|  47291 | 1960-09-09 | Ulf        | Flexer    | M      | 2000-01-12 |\n+--------+------------+------------+-----------+--------+------------+\n5 rows in set (0.12 sec)\n</code></pre>"},{"location":"level101/databases_sql/select_query/#select-joins","title":"SELECT - \u806f\u63a5 (JOINS)","text":"<p><code>JOIN</code> \u8a9e\u53e5\u7528\u65bc\u6839\u64da\u7279\u5b9a\u689d\u4ef6\uff0c\u5f9e\u5169\u500b\u6216\u591a\u500b\u8cc7\u6599\u8868\u7522\u751f\u5408\u4f75\u7d50\u679c\u96c6\u3002\u5b83\u4e5f\u53ef\u4ee5\u7528\u65bc <code>UPDATE</code> \u8207 <code>DELETE</code> \u8a9e\u53e5\uff0c\u4f46\u6b64\u8655\u6211\u5011\u4e3b\u8981\u4ee5 Select \u67e5\u8a62\u70ba\u4e3b\u3002</p> <p>\u4ee5\u4e0b\u662f Join \u7684\u57fa\u672c\u901a\u7528\u683c\u5f0f\uff1a</p> <pre><code>SELECT table1.col1, table2.col1, ... (\u4efb\u610f\u7d44\u5408)\nFROM\ntable1 &lt;join_type&gt; table2\nON (\u6216 USING\uff0c\u8996 join_type \u800c\u5b9a) table1.column_for_joining = table2.column_for_joining\nWHERE \u2026\n</code></pre> <p>\u53ef\u4ee5\u9078\u53d6\u4efb\u610f\u6578\u91cf\u7684\u6b04\u4f4d\uff0c\u4f46\u5efa\u8b70\u53ea\u9078\u64c7\u76f8\u95dc\u6b04\u4f4d\u4ee5\u63d0\u9ad8\u7d50\u679c\u96c6\u7684\u53ef\u8b80\u6027\u3002\u5176\u5b83\u5b50\u53e5\u5982 <code>WHERE</code>\u3001<code>GROUP BY</code> \u5247\u975e\u5fc5\u9808\u3002</p> <p>\u63a5\u8457\u8ac7\u8ac7 MySQL \u652f\u63f4\u7684 JOIN \u985e\u578b\u3002</p> <p>\u5167\u90e8\u9023\u63a5\uff08Inner Join\uff09</p> <p>\u5c07\u8868 A \u8207\u8868 B \u6839\u64da\u689d\u4ef6\u9023\u63a5\u3002\u53ea\u6703\u9078\u53d6\u689d\u4ef6\u70ba\u771f\u7684\u7d00\u9304\u3002</p> <p>\u986f\u793a\u54e1\u5de5\u90e8\u5206\u8cc7\u6599\u53ca\u5176\u85aa\u8cc7\uff1a</p> <pre><code>mysql&gt; SELECT e.emp_no,e.first_name,e.last_name,s.salary FROM employees e JOIN salaries s ON e.emp_no=s.emp_no LIMIT 5;\n+--------+------------+-----------+--------+\n| emp_no | first_name | last_name | salary |\n+--------+------------+-----------+--------+\n|  10001 | Georgi     | Facello   |  60117 |\n|  10001 | Georgi     | Facello   |  62102 |\n|  10001 | Georgi     | Facello   |  66074 |\n|  10001 | Georgi     | Facello   |  66596 |\n|  10001 | Georgi     | Facello   |  66961 |\n+--------+------------+-----------+--------+\n5 rows in set (0.00 sec)\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u7528\uff1a</p> <pre><code>mysql&gt; SELECT e.emp_no,e.first_name,e.last_name,s.salary FROM employees e JOIN salaries s USING (emp_no) LIMIT 5;\n+--------+------------+-----------+--------+\n| emp_no | first_name | last_name | salary |\n+--------+------------+-----------+--------+\n|  10001 | Georgi     | Facello   |  60117 |\n|  10001 | Georgi     | Facello   |  62102 |\n|  10001 | Georgi     | Facello   |  66074 |\n|  10001 | Georgi     | Facello   |  66596 |\n|  10001 | Georgi     | Facello   |  66961 |\n+--------+------------+-----------+--------+\n5 rows in set (0.00 sec)\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u7528\uff1a</p> <pre><code>mysql&gt; SELECT e.emp_no,e.first_name,e.last_name,s.salary FROM employees e NATURAL JOIN salaries s LIMIT 5;\n+--------+------------+-----------+--------+\n| emp_no | first_name | last_name | salary |\n+--------+------------+-----------+--------+\n|  10001 | Georgi     | Facello   |  60117 |\n|  10001 | Georgi     | Facello   |  62102 |\n|  10001 | Georgi     | Facello   |  66074 |\n|  10001 | Georgi     | Facello   |  66596 |\n|  10001 | Georgi     | Facello   |  66961 |\n+--------+------------+-----------+--------+\n5 rows in set (0.00 sec)\n</code></pre> <p>\u5916\u90e8\u9023\u63a5\uff08Outer Join\uff09</p> <p>\u4e3b\u8981\u6709\u5169\u7a2e\uff1a</p> <ul> <li>LEFT - \u4ee5\u8868 A \u70ba\u4e3b\uff0c\u9078\u53d6\u8868 A \u7684\u5168\u90e8\u7d00\u9304\uff0c\u800c\u8868 B \u53ea\u6703\u9078\u53d6\u7b26\u5408\u9023\u63a5\u689d\u4ef6\u7684\u7d00\u9304\u3002</li> <li>RIGHT - \u8207 <code>LEFT JOIN</code> \u76f8\u53cd\u3002</li> </ul> <p>\u5047\u8a2d\u4ee5\u4e0b\u5169\u500b\u7bc4\u4f8b\u8868\u683c\uff0c\u4ee5\u5229\u7406\u89e3 <code>LEFT JOIN</code>\uff1a</p> <pre><code>mysql&gt; SELECT * FROM dummy1;\n+----------+------------+\n| same_col | diff_col_1 |\n+----------+------------+\n|        1 | A          |\n|        2 | B          |\n|        3 | C          |\n+----------+------------+\n\nmysql&gt; SELECT * FROM dummy2;\n+----------+------------+\n| same_col | diff_col_2 |\n+----------+------------+\n|        1 | X          |\n|        3 | Y          |\n+----------+------------+\n</code></pre> <p>\u4e00\u822c\u7684 <code>SELECT JOIN</code> \u5982\u4e0b\uff1a</p> <pre><code>mysql&gt; SELECT * FROM dummy1 d1 LEFT JOIN dummy2 d2 ON d1.same_col=d2.same_col;\n+----------+------------+----------+------------+\n| same_col | diff_col_1 | same_col | diff_col_2 |\n+----------+------------+----------+------------+\n|        1 | A          |        1 | X          |\n|        3 | C          |        3 | Y          |\n|        2 | B          |     NULL | NULL       |\n+----------+------------+----------+------------+\n3 rows in set (0.00 sec)\n</code></pre> <p>\u53ef\u4ee5\u5beb\u6210\uff1a</p> <pre><code>mysql&gt; SELECT * FROM dummy1 d1 LEFT JOIN dummy2 d2 USING(same_col);\n+----------+------------+------------+\n| same_col | diff_col_1 | diff_col_2 |\n+----------+------------+------------+\n|        1 | A          | X          |\n|        3 | C          | Y          |\n|        2 | B          | NULL       |\n+----------+------------+------------+\n3 rows in set (0.00 sec)\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u5beb\u6210\uff1a</p> <pre><code>mysql&gt; SELECT * FROM dummy1 d1 NATURAL LEFT JOIN dummy2 d2;\n+----------+------------+------------+\n| same_col | diff_col_1 | diff_col_2 |\n+----------+------------+------------+\n|        1 | A          | X          |\n|        3 | C          | Y          |\n|        2 | B          | NULL       |\n+----------+------------+------------+\n3 rows in set (0.00 sec)\n</code></pre> <p>\u4ea4\u53c9\u9023\u63a5\uff08Cross Join\uff09</p> <p>\u4e0d\u5e36\u689d\u4ef6\uff0c\u5c0d\u8868 A \u8207\u8868 B \u505a\u7b1b\u5361\u723e\u7a4d\uff0c\u73fe\u5be6\u61c9\u7528\u4e2d\u8f03\u5c11\u7528\u5230\u3002</p> <p>\u7c21\u55ae\u7684 <code>CROSS JOIN</code> \u5982\u4e0b\uff1a</p> <pre><code>mysql&gt; SELECT * FROM dummy1 CROSS JOIN dummy2;\n+----------+------------+----------+------------+\n| same_col | diff_col_1 | same_col | diff_col_2 |\n+----------+------------+----------+------------+\n|        1 | A          |        3 | Y          |\n|        1 | A          |        1 | X          |\n|        2 | B          |        3 | Y          |\n|        2 | B          |        1 | X          |\n|        3 | C          |        3 | Y          |\n|        3 | C          |        1 | X          |\n+----------+------------+----------+------------+\n6 rows in set (0.01 sec)\n</code></pre> <p>\u4e00\u500b\u5be6\u7528\u7684\u4f8b\u5b50\u662f\u7576\u4f60\u8981\u586b\u88dc\u7f3a\u5c11\u7684\u9805\u76ee\u3002\u4f8b\u5982\u5c07 <code>dummy1</code> \u8cc7\u6599\u5168\u90e8\u63d2\u5165\u53e6\u4e00\u500b\u8868 <code>dummy3</code>\uff0c\u6bcf\u7b46\u7d00\u9304\u9700\u6709\u4e09\u500b\u72c0\u614b\uff081\u30015\u30017\uff09\u7684\u9805\u76ee\u3002</p> <pre><code>mysql&gt; DESC dummy3;\n+----------+----------+------+-----+---------+-------+\n| Field    | Type     | Null | Key | Default | Extra |\n+----------+----------+------+-----+---------+-------+\n| same_col | int      | YES  |     | NULL    |       |\n| value    | char(15) | YES  |     | NULL    |       |\n| status   | smallint | YES  |     | NULL    |       |\n+----------+----------+------+-----+---------+-------+\n3 rows in set (0.02 sec)\n</code></pre> <p>\u4f60\u53ef\u4ee5\u81ea\u884c\u5beb\u5f88\u591a\u7b46 INSERT\uff0c\u6216\u7528 <code>CROSS JOIN</code> \u7522\u751f\u6240\u9700\u7684\u7d50\u679c\u96c6\u3002</p> <pre><code>mysql&gt; SELECT * FROM dummy1 \nCROSS JOIN \n(SELECT 1 UNION SELECT 5 UNION SELECT 7) T2 \nORDER BY same_col;\n+----------+------------+---+\n| same_col | diff_col_1 | 1 |\n+----------+------------+---+\n|        1 | A          | 1 |\n|        1 | A          | 5 |\n|        1 | A          | 7 |\n|        2 | B          | 1 |\n|        2 | B          | 5 |\n|        2 | B          | 7 |\n|        3 | C          | 1 |\n|        3 | C          | 5 |\n|        3 | C          | 7 |\n+----------+------------+---+\n9 rows in set (0.00 sec)\n</code></pre> <p>\u4ee5\u4e0a\u67e5\u8a62\u4e2d\u7684 T2 \u7a31\u70ba \u5b50\u67e5\u8a62\uff0c\u4e0b\u4e00\u7bc0\u5c07\u6703\u89e3\u8aaa\u3002</p> <p>\u81ea\u7136\u9023\u63a5\uff08Natural Join\uff09</p> <p>\u81ea\u52d5\u9078\u53d6\u8868 A \u8207\u8868 B \u7684\u5171\u540c\u6b04\u4f4d\uff0c\u4e26\u57f7\u884c\u5167\u90e8\u9023\u63a5\u3002</p> <pre><code>mysql&gt; SELECT e.emp_no,e.first_name,e.last_name,s.salary FROM employees e NATURAL JOIN salaries s LIMIT 5;\n+--------+------------+-----------+--------+\n| emp_no | first_name | last_name | salary |\n+--------+------------+-----------+--------+\n|  10001 | Georgi     | Facello   |  60117 |\n|  10001 | Georgi     | Facello   |  62102 |\n|  10001 | Georgi     | Facello   |  66074 |\n|  10001 | Georgi     | Facello   |  66596 |\n|  10001 | Georgi     | Facello   |  66961 |\n+--------+------------+-----------+--------+\n5 rows in set (0.00 sec)\n</code></pre> <p>\u6ce8\u610f\u5230 <code>NATURAL JOIN</code> \u8207\u4f7f\u7528 <code>USING</code>\uff0c\u6703\u81ea\u52d5\u5728\u7d50\u679c\u96c6\u53ea\u986f\u793a\u5171\u540c\u6b04\u4f4d\u4e00\u6b21\uff08\u82e5\u672a\u660e\u78ba\u6307\u5b9a\u6b04\u4f4d\uff09\u3002</p> <p>\u66f4\u591a\u7bc4\u4f8b</p> <p>\u986f\u793a\u85aa\u8cc7\u8d85\u904e 80000 \u54e1\u5de5\u7684 emp_no\u3001salary\u3001title \u53ca\u6240\u5c6c\u90e8\u9580 dept\uff1a</p> <pre><code>mysql&gt; SELECT e.emp_no, s.salary, t.title, d.dept_no \nFROM  \nemployees e \nJOIN salaries s USING (emp_no) \nJOIN titles t USING (emp_no) \nJOIN dept_emp d USING (emp_no) \nWHERE s.salary &gt; 80000 \nLIMIT 5;\n+--------+--------+--------------+---------+\n| emp_no | salary | title        | dept_no |\n+--------+--------+--------------+---------+\n|  10017 |  82163 | Senior Staff | d001    |\n|  10017 |  86157 | Senior Staff | d001    |\n|  10017 |  89619 | Senior Staff | d001    |\n|  10017 |  91985 | Senior Staff | d001    |\n|  10017 |  96122 | Senior Staff | d001    |\n+--------+--------+--------------+---------+\n5 rows in set (0.00 sec)\n</code></pre> <p>\u6309\u90e8\u9580\u8207\u8077\u7a31\u7d71\u8a08\u54e1\u5de5\u6578\u91cf\uff0c\u4e26\u4f9d\u90e8\u9580\u7de8\u865f\u6392\u5e8f\uff1a</p> <pre><code>mysql&gt; SELECT d.dept_no, t.title, COUNT(*) \nFROM titles t \nLEFT JOIN dept_emp d USING (emp_no) \nGROUP BY d.dept_no, t.title \nORDER BY d.dept_no \nLIMIT 10;\n+---------+--------------------+----------+\n| dept_no | title              | COUNT(*) |\n+---------+--------------------+----------+\n| d001    | Manager            |        2 |\n| d001    | Senior Staff       |    13940 |\n| d001    | Staff              |    16196 |\n| d002    | Manager            |        2 |\n| d002    | Senior Staff       |    12139 |\n| d002    | Staff              |    13929 |\n| d003    | Manager            |        2 |\n| d003    | Senior Staff       |    12274 |\n| d003    | Staff              |    14342 |\n| d004    | Assistant Engineer |     6445 |\n+---------+--------------------+----------+\n10 rows in set (1.32 sec)\n</code></pre>"},{"location":"level101/databases_sql/select_query/#select-subquery","title":"SELECT - \u5b50\u67e5\u8a62 (Subquery)","text":"<p>\u5b50\u67e5\u8a62\u901a\u5e38\u662f\u8f03\u5c0f\u7684\u7d50\u679c\u96c6\uff0c\u53ef\u7528\u65bc\u9a45\u52d5\u5916\u5c64 <code>SELECT</code> \u7684\u591a\u7a2e\u64cd\u4f5c\u3002 \u53ef\u7528\u65bc <code>WHERE</code> \u689d\u4ef6\u4e2d\uff0c\u6216\u7528\u4ee5\u66ff\u4ee3 JOIN\uff0c\u5c24\u5176\u662f\u5728 JOIN \u904e\u65bc\u8907\u96dc\u6642\u3002 \u9019\u4e9b\u5b50\u67e5\u8a62\u4ea6\u7a31\u70ba\u884d\u751f\u8868\uff08derived tables\uff09\uff0c\u5fc5\u9808\u5728 SELECT \u67e5\u8a62\u4e2d\u5e36\u6709\u8cc7\u6599\u8868\u5225\u540d\u3002</p> <p>\u4ee5\u4e0b\u4f86\u770b\u4e00\u4e9b\u5b50\u67e5\u8a62\u7bc4\u4f8b\u3002</p> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u900f\u904e\u5b50\u67e5\u8a62\u5f9e <code>departments</code> \u8868\u53d6\u5f97\u90e8\u9580\u540d\u7a31\uff0c\u5b50\u67e5\u8a62\u88e1\u4f7f\u7528 <code>dept_emp</code> \u8868\u7684 <code>dept_no</code>\uff1a</p> <pre><code>mysql&gt; SELECT e.emp_no, \n(SELECT dept_name FROM departments WHERE dept_no=d.dept_no) dept_name FROM employees e \nJOIN dept_emp d USING (emp_no) \nLIMIT 5;\n+--------+-----------------+\n| emp_no | dept_name       |\n+--------+-----------------+\n|  10001 | Development     |\n|  10002 | Sales           |\n|  10003 | Production      |\n|  10004 | Production      |\n|  10005 | Human Resources |\n+--------+-----------------+\n5 rows in set (0.01 sec)\n</code></pre> <p>\u63a5\u8457\u7528\u524d\u9762\u67e5\u8a62\u5230\u7684\u85aa\u8cc7\u5e73\u5747\u503c\u4f5c\u70ba\u5b50\u67e5\u8a62\uff0c\u5217\u51fa\u54e1\u5de5\u4e2d\u7684\u6700\u65b0\u85aa\u8cc7\u9ad8\u65bc\u5e73\u5747\u85aa\u8cc7\u8005\uff1a</p> <pre><code>mysql&gt; SELECT AVG(salary) FROM salaries;\n+-------------+\n| AVG(salary) |\n+-------------+\n|  63810.7448 |\n+-------------+\n1 row in set (0.80 sec)\n\nmysql&gt; SELECT e.emp_no, MAX(s.salary) \nFROM employees e \nNATURAL JOIN salaries s \nGROUP BY e.emp_no \nHAVING MAX(s.salary) &gt; (SELECT AVG(salary) FROM salaries) \nLIMIT 10;\n+--------+---------------+\n| emp_no | MAX(s.salary) |\n+--------+---------------+\n|  10001 |         88958 |\n|  10002 |         72527 |\n|  10004 |         74057 |\n|  10005 |         94692 |\n|  10007 |         88070 |\n|  10009 |         94443 |\n|  10010 |         80324 |\n|  10013 |         68901 |\n|  10016 |         77935 |\n|  10017 |         99651 |\n+--------+---------------+\n10 rows in set (0.56 sec)\n</code></pre>"},{"location":"level101/git/branches/","title":"\u4f7f\u7528\u5206\u652f","text":"<p>\u56de\u5230\u6211\u5011\u6709\u5169\u500b\u63d0\u4ea4\u7684\u672c\u5730\u5009\u5eab\u3002\u5230\u76ee\u524d\u70ba\u6b62\uff0c\u6211\u5011\u6709\u7684\u662f\u4e00\u689d\u55ae\u7dda\u7684\u6b77\u53f2\u8a18\u9304\u3002\u63d0\u4ea4\u88ab\u4e32\u806f\u6210\u55ae\u4e00\u7dda\u689d\u3002\u4f46\u6709\u6642\u5019\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u5728\u540c\u4e00\u5009\u5eab\u88e1\u540c\u6642\u5e73\u884c\u958b\u767c\u5169\u500b\u4e0d\u540c\u7684\u529f\u80fd\u3002\u9019\u6642\u5019\u4e00\u500b\u9078\u9805\u53ef\u80fd\u662f\u8907\u88fd\u4e00\u500b\u8cc7\u6599\u593e\uff0f\u5009\u5eab\uff0c\u6709\u540c\u6a23\u7684\u7a0b\u5f0f\u78bc\uff0c\u4f86\u505a\u53e6\u4e00\u500b\u529f\u80fd\u7684\u958b\u767c\u3002\u4f46\u6709\u66f4\u597d\u7684\u65b9\u6cd5\uff0c\u90a3\u5c31\u662f\u4f7f\u7528 \u5206\u652f\uff08branches\uff09\u3002\u56e0\u70ba git \u7684\u63d0\u4ea4\u7d50\u69cb\u662f\u6a39\u72c0\u7684\uff0c\u6211\u5011\u53ef\u4ee5\u5229\u7528\u5206\u652f\u4f86\u540c\u6642\u8655\u7406\u4e0d\u540c\u7684\u529f\u80fd\u96c6\u3002\u5f9e\u540c\u4e00\u500b\u63d0\u4ea4\u9ede\uff0c\u53ef\u4ee5\u5275\u5efa\u5169\u500b\u6216\u66f4\u591a\u5206\u652f\uff0c\u5206\u652f\u4e4b\u9593\u4e5f\u80fd\u5408\u4f75\u3002</p> <p>\u4f7f\u7528\u5206\u652f\uff0c\u591a\u689d\u6b77\u53f2\u7dda\u8def\u53ef\u4ee5\u540c\u6642\u5b58\u5728\uff0c\u6211\u5011\u53ef\u4ee5\u5207\u63db\uff08checkout\uff09\u5230\u4efb\u4e00\u689d\u4e26\u9032\u884c\u4f5c\u696d\u3002\u6b63\u5982\u6211\u5011\u4e4b\u524d\u8a0e\u8ad6\u7684\uff0ccheckout \u5c31\u662f\u7528\u6240\u5207\u63db\u7248\u672c\u7684\u5feb\u7167\u66ff\u63db\u76ee\u9304\uff08\u5009\u5eab\uff09\u5167\u5bb9\u3002</p> <p>\u4f86\u5efa\u7acb\u4e00\u500b\u5206\u652f\u770b\u8d77\u4f86\u6703\u662f\u9019\u6a23\uff1a</p> <pre><code>$ git branch b1\n$ git log --oneline --graph\n* 7f3b00e (HEAD -&gt; master, b1) adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u6211\u5011\u5efa\u7acb\u4e86\u4e00\u500b\u540d\u70ba <code>b1</code> \u7684\u5206\u652f\u3002git log \u544a\u8a34\u6211\u5011 <code>b1</code> \u4e5f\u6307\u5411\u6700\u5f8c\u4e00\u500b\u63d0\u4ea4\uff08<code>7f3b00e</code>\uff09\uff0c\u4f46 <code>HEAD</code> \u4ecd\u6307\u5411 <code>master</code>\u3002\u5982\u679c\u4f60\u9084\u8a18\u5f97\uff0c<code>HEAD</code> \u6307\u5411\u4f60\u76ee\u524d\u6aa2\u51fa\u7684\u63d0\u4ea4\uff0f\u53c3\u8003\u9ede\u3002\u6240\u4ee5\u5982\u679c\u6211\u5011\u5207\u63db\u5230 <code>b1</code>\uff0c<code>HEAD</code> \u5c31\u6703\u6307\u5411\u5b83\u3002\u8b93\u6211\u5011\u78ba\u8a8d\u4e00\u4e0b\uff1a</p> <pre><code>$ git checkout b1\nSwitched to branch 'b1'\n$ git log --oneline --graph\n* 7f3b00e (HEAD -&gt; b1, master) adding file 2\n* df2fb7a adding file 1\n</code></pre> <p><code>b1</code> \u4ecd\u6307\u5411\u540c\u4e00\u500b\u63d0\u4ea4\uff0c\u4f46 <code>HEAD</code> \u73fe\u5728\u6307\u5411 <code>b1</code>\u3002\u56e0\u70ba\u6211\u5011\u662f\u5728\u63d0\u4ea4 <code>7f3b00e</code> \u5efa\u7acb\u5206\u652f\uff0c\u6240\u4ee5\u5f9e\u9019\u88e1\u958b\u59cb\u5c31\u6709\u5169\u689d\u6b77\u53f2\u7dda\u8def\u3002\u4f60\u6aa2\u51fa\u5230\u54ea\u500b\u5206\u652f\uff0c\u6b77\u53f2\u7dda\u8def\u5c31\u5f80\u54ea\u908a\u767c\u5c55\u3002</p> <p>\u6b64\u6642\uff0c\u6211\u5011\u6aa2\u51fa\u5728 <code>b1</code> \u5206\u652f\uff0c\u82e5\u505a\u65b0\u63d0\u4ea4\uff0c\u5206\u652f\u6307\u6a19 <code>b1</code> \u6703\u5f80\u524d\u79fb\u52d5\u5230\u65b0\u63d0\u4ea4\uff0c\u800c\u4e4b\u524d <code>b1</code> \u6307\u5411\u7684\u63d0\u4ea4\u5373\u6210\u70ba\u65b0\u63d0\u4ea4\u7684\u7236\u63d0\u4ea4\u3002\u8a66\u8a66\u770b\u3002</p> <pre><code># \u65b0\u589e\u6587\u4ef6\u4e26\u63d0\u4ea4\n$ echo \"I am a file in b1 branch\" &gt; b1.txt\n$ git add b1.txt\n$ git commit -m \"adding b1 file\"\n[b1 872a38f] adding b1 file\n1 file changed, 1 insertion(+)\ncreate mode 100644 b1.txt\n\n# \u67e5\u770b\u65b0\u6b77\u53f2\u7dda\u8def\n$ git log --oneline --graph\n* 872a38f (HEAD -&gt; b1) adding b1 file\n* 7f3b00e (master) adding file 2\n* df2fb7a adding file 1\n$\n</code></pre> <p>\u8acb\u6ce8\u610f\uff0cmaster \u4ecd\u7136\u6307\u5411\u5b83\u539f\u672c\u7684\u63d0\u4ea4\u3002\u6211\u5011\u73fe\u5728\u53ef\u4ee5\u5207\u63db\u56de <code>master</code> \u5206\u652f\u4e26\u7e7c\u7e8c\u90a3\u908a\u7684\u63d0\u4ea4\uff0c\u9019\u6a23\u6703\u6709\u53e6\u4e00\u689d\u5f9e <code>7f3b00e</code> \u5206\u51fa\u7684\u6b77\u53f2\u7dda\u8def\u3002</p> <pre><code># \u5207\u63db\u56de master \u5206\u652f\n$ git checkout master\nSwitched to branch 'master'\n\n# \u5728 master \u5206\u652f\u5efa\u7acb\u4e00\u500b\u65b0\u63d0\u4ea4\n$ echo \"new file in master branch\" &gt; master.txt\n$ git add master.txt\n$ git commit -m \"adding master.txt file\"\n[master 60dc441] adding master.txt file\n1 file changed, 1 insertion(+)\ncreate mode 100644 master.txt\n\n# \u67e5\u770b\u6b77\u53f2\u7dda\u8def\n$ git log --oneline --graph\n* 60dc441 (HEAD -&gt; master) adding master.txt file\n* 7f3b00e adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u6ce8\u610f\u9019\u88e1\u56e0\u70ba\u6211\u5011\u5728 <code>master</code> \u5206\u652f\uff0c\u6240\u4ee5\u770b\u4e0d\u5230 <code>b1</code>\u3002\u8a66\u8457\u628a\u5169\u500b\u5206\u652f\u7684\u6b77\u53f2\u90fd\u770b\u51fa\u4f86\uff1a</p> <pre><code>$ git log --oneline --graph --all\n* 60dc441 (HEAD -&gt; master) adding master.txt file\n| * 872a38f (b1) adding b1 file\n|/\n* 7f3b00e adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u4e0a\u8ff0\u7684\u6a39\u72c0\u7d50\u69cb\u6703\u8b93\u4f60\u66f4\u6e05\u695a\u3002\u4f60\u53ef\u4ee5\u770b\u5230\u5728\u63d0\u4ea4 <code>7f3b00e</code> \u6709\u660e\u986f\u7684\u5206\u652f\uff0f\u5206\u5c94\u3002\u9019\u5c31\u662f\u5206\u652f\u7684\u5efa\u7acb\u65b9\u5f0f\u3002\u73fe\u5728\u5b83\u5011\u662f\u5169\u689d\u7368\u7acb\u7684\u6b77\u53f2\u7dda\uff0c\u53ef\u4ee5\u7368\u7acb\u958b\u767c\u529f\u80fd\u3002</p> <p>\u91cd\u7533\u4e00\u6b21\uff1a\u5e95\u5c64\u4f86\u8aaa\uff0cgit \u5c31\u662f\u4e00\u500b\u63d0\u4ea4\u7684\u6a39\u72c0\u7d50\u69cb\u3002\u5206\u652f\u540d\u7a31\uff08\u4eba\u985e\u53ef\u8b80\uff09\u662f\u6a39\u4e0a\u6307\u5411\u67d0\u500b\u63d0\u4ea4\u7684\u6307\u6a19\u3002\u6211\u5011\u900f\u904e\u5404\u7a2e git \u6307\u4ee4\u64cd\u4f5c\u9019\u500b\u6a39\u548c\u6307\u6a19\uff0cgit \u5c31\u6703\u76f8\u61c9\u5730\u4fee\u6539\u5009\u5eab\u5167\u5bb9\u3002</p>"},{"location":"level101/git/branches/#merges","title":"\u5408\u4f75\uff08Merges\uff09","text":"<p>\u5047\u8a2d\u4f60\u5728 <code>b1</code> \u5206\u652f\u5b8c\u6210\u4e86\u4f60\u7684\u529f\u80fd\uff0c\u73fe\u5728\u60f3\u628a\u5b83\u5408\u4f75\u56de <code>master</code> \u5206\u652f\uff0c<code>master</code> \u5b58\u653e\u7684\u662f\u6700\u7d42\u7248\u672c\u7684\u7a0b\u5f0f\u78bc\u3002\u9996\u5148\u4f60\u6703\u5207\u63db\uff08checkout\uff09\u56de <code>master</code> \u5206\u652f\uff0c\u5f9e\u9060\u7aef\uff08\u4f8b\u5982 GitHub\uff09\u62c9\u53d6\uff08pull\uff09\u6700\u65b0\u7a0b\u5f0f\u78bc\uff0c\u63a5\u8457\u8981\u628a <code>b1</code> \u7684\u7a0b\u5f0f\u78bc\u5408\u4f75\u56de <code>master</code>\u3002\u6709\u5169\u7a2e\u65b9\u6cd5\u53ef\u884c\u3002</p> <p>\u76ee\u524d\u7684\u6b77\u53f2\u662f\uff1a</p> <pre><code>$ git log --oneline --graph --all\n* 60dc441 (HEAD -&gt; master) adding master.txt file\n| * 872a38f (b1) adding b1 file\n|/\n* 7f3b00e adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u65b9\u6cd5\u4e00\uff1a\u76f4\u63a5\u5408\u4f75\u5206\u652f\u3002 \u628a <code>b1</code> \u5408\u4f75\u5230 <code>master</code>\uff0c\u6703\u7522\u751f\u4e00\u500b\u65b0\u7684\u5408\u4f75\u63d0\u4ea4\u3002\u5b83\u6703\u5408\u6210\u5169\u689d\u6b77\u53f2\u7dda\u7684\u8b8a\u66f4\uff0c\u5efa\u7acb\u4e00\u500b\u7d50\u679c\u63d0\u4ea4\u3002</p> <pre><code>$ git merge b1\nMerge made by the 'recursive' strategy.\nb1.txt | 1 +\n1 file changed, 1 insertion(+)\ncreate mode 100644 b1.txt\n$ git log --oneline --graph --all\n*   8fc28f9 (HEAD -&gt; master) Merge branch 'b1'\n|\\\n| * 872a38f (b1) adding b1 file\n* | 60dc441 adding master.txt file\n|/\n* 7f3b00e adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u4f60\u6703\u770b\u5230\u65b0\u7522\u751f\u4e86\u4e00\u500b\u5408\u4f75\u63d0\u4ea4 (<code>8fc28f9</code>)\u3002\u4f60\u6703\u88ab\u63d0\u793a\u8f38\u5165\u5408\u4f75\u63d0\u4ea4\u8a0a\u606f\u3002\u5982\u679c\u5009\u5eab\u4e2d\u6709\u5f88\u591a\u5206\u652f\uff0c\u9019\u6703\u7522\u751f\u5927\u91cf\u5408\u4f75\u63d0\u4ea4\uff0c\u6b77\u53f2\u770b\u8d77\u4f86\u6703\u5f88\u4e82\uff0c\u4e0d\u50cf\u55ae\u7dda\u6b77\u53f2\u90a3\u9ebc\u4e7e\u6de8\u660e\u77ad\u3002\u63a5\u8457\u6211\u5011\u770b\u53e6\u4e00\u7a2e\u65b9\u6848\u3002</p> <p>\u5148\u628a\u525b\u624d\u7684\u5408\u4f75 reset \u56de\u524d\u72c0\u614b\uff1a</p> <pre><code>$ git reset --hard 60dc441\nHEAD is now at 60dc441 adding master.txt file\n$ git log --oneline --graph --all\n* 60dc441 (HEAD -&gt; master) adding master.txt file\n| * 872a38f (b1) adding b1 file\n|/\n* 7f3b00e adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u65b9\u6cd5\u4e8c\uff1aRebase\u3002 \u73fe\u5728\uff0c\u4e0d\u5408\u4f75\u5169\u500b\u5206\u652f\uff0c\u800c\u662f\u628a <code>b1</code> \u8b8a\u57fa\u5230 <code>master</code> \u4e0a\u3002\u610f\u5373\u628a\u5206\u652f <code>b1</code>\uff08\u5f9e\u63d0\u4ea4 <code>7f3b00e</code> \u5230 <code>872a38f</code>\uff09\u79fb\u52d5\u5230 (<code>60dc441</code>\uff0c\u4e5f\u5c31\u662f <code>master</code> \u9802\u7aef) \u4e4b\u4e0a\u3002</p> <pre><code># \u5207\u63db\u5230 b1\n$ git checkout b1\nSwitched to branch 'b1'\n\n# \u628a b1 \u91cd\u65b0\u8b8a\u57fa\u5230 master\n$ git rebase master\nFirst, rewinding head to replay your work on top of it...\nApplying: adding b1 file\n\n# \u7d50\u679c\n$ git log --oneline --graph --all\n* 5372c8f (HEAD -&gt; b1) adding b1 file\n* 60dc441 (master) adding master.txt file\n* 7f3b00e adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u4f60\u53ef\u4ee5\u770b\u5230 <code>b1</code> \u539f\u672c\u7684\u63d0\u4ea4\u7236\u63d0\u4ea4\u662f <code>7f3b00e</code>\uff0c\u7d93\u904e rebase \u5f8c\uff0c\u7236\u63d0\u4ea4\u8b8a\u6210\u4e86 <code>60dc441</code> \uff08master \u9802\u7aef\uff09\u3002\u9019\u6a23\u505a\u4f7f\u6b77\u53f2\u8b8a\u6210\u55ae\u7dda\u3002\u5982\u679c\u63a5\u8457\u5408\u4f75 <code>b1</code> \u5230 <code>master</code>\uff0c\u5c31\u53ea\u662f\u628a <code>master</code> \u6307\u5411 <code>5372c8f</code>\uff08b1\uff09\u3002\u8a66\u8a66\u770b\uff1a</p> <pre><code># \u5207\u63db\u5230 master \u6e96\u5099\u5408\u4f75\n$ git checkout master\nSwitched to branch 'master'\n\n# \u73fe\u5728\u7684\u6b77\u53f2\uff08b1 \u4ee5 master \u70ba\u57fa\u5e95\uff09\n$ git log --oneline --graph --all\n* 5372c8f (b1) adding b1 file\n* 60dc441 (HEAD -&gt; master) adding master.txt file\n* 7f3b00e adding file 2\n* df2fb7a adding file 1\n\n\n# \u6267\u884c\u5408\u5e76\uff0c\u6ce8\u610f\u6703\u770b\u5230 \"fast-forward\" \u63d0\u793a\n$ git merge b1\nUpdating 60dc441..5372c8f\nFast-forward\nb1.txt | 1 +\n1 file changed, 1 insertion(+)\ncreate mode 100644 b1.txt\n\n# \u5408\u4f75\u5f8c\u7d50\u679c\n$ git log --oneline --graph --all\n* 5372c8f (HEAD -&gt; master, b1) adding b1 file\n* 60dc441 adding master.txt file\n* 7f3b00e adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u73fe\u5728\u4f60\u770b\u5230 <code>b1</code> \u548c <code>master</code> \u90fd\u6307\u5411\u540c\u4e00\u500b\u63d0\u4ea4\u3002\u4f60\u7684\u7a0b\u5f0f\u78bc\u5df2\u5408\u4f75\u5230 master \u5206\u652f\uff0c\u53ef\u4ee5\u63a8\u9001\uff08push\uff09\u4e86\u3002\u6b77\u53f2\u7dda\u8def\u4e5f\u5f88\u4e7e\u6de8\uff01:D</p>"},{"location":"level101/git/conclusion/","title":"Conclusion","text":""},{"location":"level101/git/conclusion/#_1","title":"\u4e0b\u4e00\u6b65\uff1f","text":"<p>\u9019\u88e1\u9084\u6709\u8a31\u591a git \u6307\u4ee4\u8207\u529f\u80fd\u6211\u5011\u5c1a\u672a\u63a2\u7d22\u3002\u4f46\u5728\u5efa\u7acb\u4e86\u57fa\u790e\u5f8c\uff0c\u8acb\u52d9\u5fc5\u9032\u4e00\u6b65\u4e86\u89e3\u4ee5\u4e0b\u6982\u5ff5\uff1a</p> <ul> <li>Cherrypick\uff08\u6311\u9078\u63d0\u4ea4\uff09</li> <li>Squash\uff08\u5408\u4f75\u63d0\u4ea4\uff09</li> <li>Amend\uff08\u4fee\u6539\u63d0\u4ea4\uff09</li> <li>Stash\uff08\u66ab\u5b58\u8b8a\u66f4\uff09</li> <li>Reset\uff08\u91cd\u8a2d\uff09</li> </ul>"},{"location":"level101/git/git-basics/","title":"Git","text":""},{"location":"level101/git/git-basics/#_1","title":"\u5148\u6c7a\u689d\u4ef6","text":"<ol> <li>\u5df2\u5b89\u88dd Git https://git-scm.com/downloads</li> <li>\u5df2\u5b78\u7fd2\u904e\u4efb\u4f55 git \u9ad8\u968e\u6559\u7a0b\u6216\u6b63\u5728\u8ddf\u96a8 LinkedIn Learning \u8ab2\u7a0b<ul> <li>https://www.linkedin.com/learning/git-essential-training-the-basics/</li> <li>https://www.linkedin.com/learning/git-branches-merges-and-remotes/</li> <li>\u5b98\u65b9 Git \u6587\u4ef6</li> </ul> </li> </ol>"},{"location":"level101/git/git-basics/#_2","title":"\u5f9e\u9019\u9580\u8ab2\u7a0b\u4e2d\u53ef\u4ee5\u671f\u5f85\u4ec0\u9ebc","text":"<p>\u4f5c\u70ba\u8a08\u7b97\u6a5f\u79d1\u5b78\u9818\u57df\u7684\u5de5\u7a0b\u5e2b\uff0c\u5177\u6709\u7248\u672c\u63a7\u5236\u5de5\u5177\u7684\u77e5\u8b58\u5e7e\u4e4e\u662f\u5fc5\u5099\u7684\u3002\u96d6\u7136\u5e02\u9762\u4e0a\u5b58\u5728\u8a31\u591a\u7248\u672c\u63a7\u5236\u5de5\u5177\uff0c\u4f8b\u5982 SVN\u3001Mercurial \u7b49\uff0c\u4f46 Git \u6216\u8a31\u662f\u6700\u5e38\u7528\u7684\u4e00\u500b\uff0c\u800c\u672c\u8ab2\u7a0b\u5c07\u4f7f\u7528 Git\u3002\u96d6\u7136\u672c\u8ab2\u7a0b\u4e0d\u6703\u5f9e Git 101 \u958b\u59cb\uff0c\u4e26\u9810\u671f\u5b78\u54e1\u5df2\u6709\u57fa\u672c\u7684 git \u77e5\u8b58\uff0c\u8ab2\u7a0b\u6703\u91cd\u65b0\u4ecb\u7d39\u4f60\u5df2\u77e5\u7684 git \u6982\u5ff5\uff0c\u4e26\u8a73\u7d30\u8aaa\u660e\u5728\u57f7\u884c\u5404\u7a2e <code>git</code> \u547d\u4ee4\u6642\u5e95\u5c64\u767c\u751f\u4e86\u4ec0\u9ebc\u3002\u9019\u6a23\uff0c\u4e0b\u6b21\u4f60\u57f7\u884c <code>git</code> \u547d\u4ee4\u6642\uff0c\u5c31\u80fd\u66f4\u52a0\u81ea\u4fe1\u5730\u6309\u4e0b <code>enter</code>\uff01</p>"},{"location":"level101/git/git-basics/#_3","title":"\u672c\u8ab2\u7a0b\u672a\u6db5\u84cb\u7684\u5167\u5bb9","text":"<p>Git \u7684\u9032\u968e\u4f7f\u7528\u8207\u5167\u90e8\u5be6\u4f5c\u7d30\u7bc0\u3002</p>"},{"location":"level101/git/git-basics/#_4","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ol> <li>Git \u57fa\u790e</li> <li>\u4f7f\u7528\u5206\u652f</li> <li>Git \u8207 Github</li> <li>Hooks</li> </ol>"},{"location":"level101/git/git-basics/#git_1","title":"Git \u57fa\u790e","text":"<p>\u5373\u4f7f\u4f60\u53ef\u80fd\u5df2\u7d93\u77e5\u9053\uff0c\u8b93\u6211\u5011\u518d\u56de\u9867\u70ba\u4ec0\u9ebc\u6211\u5011\u9700\u8981\u7248\u672c\u63a7\u5236\u7cfb\u7d71\u3002\u96a8\u8457\u5c08\u6848\u6210\u9577\uff0c\u591a\u540d\u958b\u767c\u8005\u958b\u59cb\u5354\u4f5c\uff0c\u4e00\u500b\u9ad8\u6548\u7684\u5354\u4f5c\u65b9\u5f0f\u5c31\u8b8a\u5f97\u5fc5\u8981\u3002Git \u8b93\u5718\u968a\u80fd\u8f15\u9b06\u5354\u4f5c\uff0c\u540c\u6642\u4e5f\u7dad\u8b77\u7a0b\u5f0f\u78bc\u5eab\u8b8a\u66f4\u7684\u6b77\u53f2\u3002</p>"},{"location":"level101/git/git-basics/#git_2","title":"\u5efa\u7acb Git \u5009\u5eab","text":"<p>\u4efb\u4f55\u8cc7\u6599\u593e\u90fd\u53ef\u4ee5\u8f49\u63db\u6210 git \u5009\u5eab\u3002\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u5f8c\uff0c\u6211\u5011\u6703\u770b\u5230\u8cc7\u6599\u593e\u5167\u591a\u4e86\u4e00\u500b <code>.git</code> \u8cc7\u6599\u593e\uff0c\u9019\u5c31\u662f\u4f7f\u6211\u5011\u7684\u8cc7\u6599\u593e\u6210\u70ba git \u5009\u5eab\u7684\u95dc\u9375\u3002git \u6240\u6709\u7684\u9b54\u6cd5\uff0c\u90fd\u662f\u7531 <code>.git</code> \u8cc7\u6599\u593e\u4fc3\u6210\u3002</p> <pre><code># \u5efa\u7acb\u7a7a\u8cc7\u6599\u593e\u4e26\u5207\u63db\u5230\u8a72\u76ee\u9304\n$ cd /tmp\n$ mkdir school-of-sre\n$ cd school-of-sre/\n\n# \u521d\u59cb\u5316 git \u5009\u5eab\n$ git init\nInitialized empty Git repository in /private/tmp/school-of-sre/.git/\n</code></pre> <p>\u8f38\u51fa\u986f\u793a\u6211\u5011\u7684\u8cc7\u6599\u593e\u5167\u5df2\u521d\u59cb\u5316\u7a7a\u767d git \u5009\u5eab\u3002\u8b93\u6211\u5011\u4f86\u770b\u770b\u5167\u5bb9\uff1a</p> <pre><code>$ ls .git/\nHEAD        config      description hooks       info        objects     refs\n</code></pre> <p><code>.git</code> \u5167\u6709\u8a31\u591a\u8cc7\u6599\u593e\u8207\u6a94\u6848\u3002\u6b63\u5982\u6211\u6240\u8aaa\uff0c\u9019\u4e9b\u8b93 git \u80fd\u9b54\u6cd5\u822c\u904b\u4f5c\u3002\u6211\u5011\u6703\u4ecb\u7d39\u9019\u4e9b\u8cc7\u6599\u593e\u548c\u6a94\u6848\u3002\u4e0d\u904e\u73fe\u5728\uff0c\u6211\u5011\u64c1\u6709\u7684\u662f\u4e00\u500b\u7a7a\u7684 git \u5009\u5eab\u3002</p>"},{"location":"level101/git/git-basics/#_5","title":"\u8ffd\u8e64\u6a94\u6848","text":"<p>\u5982\u4f60\u6240\u77e5\uff0c\u5148\u5728\u5009\u5eab\uff08\u4ee5\u4e0b\u7528 repo \u7a31\u547c\u6b64\u8cc7\u6599\u593e\uff09\u5efa\u7acb\u65b0\u6a94\u6848\uff0c\u4e26\u67e5\u770b <code>git status</code>\uff1a</p> <pre><code>$ echo \"I am file 1\" &gt; file1.txt\n$ git status\nOn branch master\n\nNo commits yet\n\nUntracked files:\n (use \"git add &lt;file&gt;...\" to include in what will be committed)\n\n       file1.txt\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n</code></pre> <p>\u76ee\u524d git \u72c0\u614b\u986f\u793a\u300cNo commits yet\u300d\u4e14\u6709\u4e00\u500b\u672a\u8ffd\u8e64\u6a94\u6848\u3002\u56e0\u70ba\u6211\u5011\u525b\u5efa\u7acb\u6a94\u6848\uff0cgit \u5c1a\u672a\u8ffd\u8e64\u5b83\u3002\u6211\u5011\u5fc5\u9808\u660e\u78ba\u544a\u8a34 git \u8ffd\u8e64\u6b64\u6a94\u6848\u3002\uff08\u4e5f\u53ef\u4ee5\u53c3\u8003 gitignore \u6587\u4ef6\uff09\u65b9\u6cd5\u662f\u900f\u904e <code>git add</code> \u547d\u4ee4\uff0c\u5982\u4e0a\u9762\u8f38\u51fa\u5efa\u8b70\u3002\u7136\u5f8c\uff0c\u6211\u5011\u9032\u884c\u63d0\u4ea4\u3002</p> <pre><code>$ git add file1.txt\n$ git status\nOn branch master\n\nNo commits yet\n\nChanges to be committed:\n (use \"git rm --cached &lt;file&gt;...\" to unstage)\n\n       new file:   file1.txt\n\n$ git commit -m \"adding file 1\"\n[master (root-commit) df2fb7a] adding file 1\n1 file changed, 1 insertion(+)\ncreate mode 100644 file1.txt\n</code></pre> <p>\u6ce8\u610f\u52a0\u5165\u6a94\u6848\u5f8c\uff0c<code>git status</code> \u6703\u986f\u793a<code>Changes to be committed:</code>\u3002\u9019\u8868\u793a\u5217\u8868\u4e2d\u6240\u5217\u7684\u6a94\u6848\u5c07\u5305\u542b\u5728\u4e0b\u4e00\u6b21\u63d0\u4ea4\u4e2d\u3002\u63a5\u8457\uff0c\u6211\u5011\u900f\u904e <code>-m</code> \u53c3\u6578\u9644\u52a0\u8a0a\u606f\uff0c\u5b8c\u6210\u63d0\u4ea4\u3002</p>"},{"location":"level101/git/git-basics/#commit","title":"\u95dc\u65bc\u63d0\u4ea4\uff08Commit\uff09\u66f4\u591a\u8cc7\u8a0a","text":"<p>Commit \u662f repo \u7684\u4e00\u500b\u5feb\u7167\u3002\u6bcf\u7576\u57f7\u884c\u63d0\u4ea4\u6642\uff0c\u90fd\u6703\u5c07\u76ee\u524d repo\uff08\u6b64\u8cc7\u6599\u593e\uff09\u72c0\u614b\u62cd\u7167\u4e26\u4e14\u4fdd\u5b58\u3002\u6bcf\u500b\u63d0\u4ea4\u90fd\u6709\u552f\u4e00 ID\uff08\u4f8b\u5982\u524d\u9762\u6b65\u9a5f\u4e2d\u6211\u5011\u7522\u751f\u7684 commit ID \u70ba <code>df2fb7a</code>\uff09\u3002\u96a8\u8457\u6211\u5011\u6301\u7e8c\u65b0\u589e/\u66f4\u6539\u6a94\u6848\u4e26\u63d0\u4ea4\uff0cgit \u5132\u5b58\u6240\u6709\u9019\u4e9b\u5feb\u7167\u3002\u6240\u6709\u9b54\u6cd5\u90fd\u662f\u767c\u751f\u5728 <code>.git</code> \u8cc7\u6599\u593e\u4e2d\uff0c\u6240\u6709\u5feb\u7167\u7248\u672c\u90fd\u4ee5\u9ad8\u6548\u7387\u65b9\u5f0f\u5132\u5b58\u5728\u88e1\u9762\u3002</p>"},{"location":"level101/git/git-basics/#_6","title":"\u6dfb\u52a0\u66f4\u591a\u8b8a\u66f4","text":"<p>\u6211\u5011\u518d\u5efa\u7acb\u4e00\u500b\u6a94\u6848\u4e26\u63d0\u4ea4\u8b8a\u66f4\uff0c\u5176\u64cd\u4f5c\u8207\u4e4b\u524d\u985e\u4f3c\uff1a</p> <pre><code>$ echo \"I am file 2\" &gt; file2.txt\n$ git add file2.txt\n$ git commit -m \"adding file 2\"\n[master 7f3b00e] adding file 2\n1 file changed, 1 insertion(+)\ncreate mode 100644 file2.txt\n</code></pre> <p>\u9019\u6b21\u63d0\u4ea4\u7522\u751f\u4e00\u500b\u65b0 commit ID \u70ba <code>7f3b00e</code>\u3002\u4f60\u53ef\u4ee5\u96a8\u6642\u4f7f\u7528 <code>git status</code> \u67e5\u770b\u5009\u5eab\u72c0\u614b\u3002</p> <pre><code>   **\u91cd\u8981\uff1a\u8acb\u6ce8\u610f commit ID \u662f\u5f88\u9577\u7684\u5b57\u4e32\uff08SHA\uff09\uff0c\u4f46\u6211\u5011\u4e5f\u53ef\u7528\u5b83\u5011\u7684\u524d\u5e7e\u500b\u5b57\u5143\uff088 \u500b\u6216\u66f4\u591a\uff09\u4f86\u53c3\u8003\u3002\u6211\u5011\u6703\u4ea4\u66ff\u4f7f\u7528\u8f03\u77ed\u548c\u5b8c\u6574\u7684 commit ID\u3002**\n</code></pre> <p>\u73fe\u5728\u6211\u5011\u6709\u5169\u500b commit\uff0c\u4f86\u8996\u89ba\u5316\u5b83\u5011\uff1a</p> <pre><code>$ git log --oneline --graph\n* 7f3b00e (HEAD -&gt; master) adding file 2\n* df2fb7a adding file 1\n</code></pre> <p><code>git log</code> \u5982\u5176\u540d\uff0c\u5217\u51fa\u6240\u6709 git \u63d0\u4ea4\u8a18\u9304\u3002\u9019\u88e1\u7528\u4e86\u5169\u500b\u53c3\u6578\uff0c<code>--oneline</code> \u6703\u5217\u51fa\u7c21\u77ed\u7248\u672c\uff0c\u53ea\u986f\u793a commit \u8a0a\u606f\uff0c\u4e0d\u5305\u542b\u63d0\u4ea4\u8005\u548c\u6642\u9593\u3002<code>--graph</code> \u5247\u4ee5\u5716\u5f62\u5316\u65b9\u5f0f\u5448\u73fe\u3002</p> <p>\u76ee\u524d\u770b\u8d77\u4f86\u63d0\u4ea4\u90fd\u662f\u4e00\u884c\u4e00\u7b46\uff0c\u4e0d\u904e git \u5167\u90e8\u662f\u4ee5\u6a39\u72c0\u8cc7\u6599\u7d50\u69cb\u5132\u5b58\u6240\u6709 commit\u3002\u610f\u601d\u662f\u55ae\u4e00 commit \u53ef\u4ee5\u6709\u5169\u500b\u6216\u4ee5\u4e0a\u7684\u5b50 commit\uff0c\u4e0d\u6703\u53ea\u6709\u4e00\u689d\u76f4\u7dda\u7684 commit \u6b77\u53f2\u3002\u6211\u5011\u6703\u5728\u5206\u652f\u7ae0\u7bc0\u6df1\u5165\u63a2\u8a0e\u3002\u73fe\u5728\uff0c\u6211\u5011\u7684 commit \u6b77\u53f2\u662f\uff1a</p> <pre><code>   df2fb7a ===&gt; 7f3b00e\n</code></pre>"},{"location":"level101/git/git-basics/#commit_1","title":"commit \u771f\u7684\u662f\u76f8\u4e92\u9023\u7d50\u7684\u55ce\uff1f","text":"<p>\u6b63\u5982\u524d\u9762\u6240\u8aaa\uff0c\u6211\u5011\u7684\u5169\u500b commit \u662f\u4ee5\u6a39\u72c0\u7d50\u69cb\u4e92\u9023\uff0c\u4e26\u77e5\u9053\u5982\u4f55\u9023\u7d50\u3002\u73fe\u5728\u6211\u5011\u4f86\u9a57\u8b49\u5b83\u3002git \u4e2d\u7684\u4e00\u5207\u90fd\u662f\u7269\u4ef6\u3002\u65b0\u5efa\u7acb\u7684\u6a94\u6848\u662f\u4ee5\u7269\u4ef6\u5132\u5b58\uff0c\u6a94\u6848\u7684\u8b8a\u66f4\u4e5f\u662f\u7269\u4ef6\uff0c\u9023\u63d0\u4ea4\u672c\u8eab\u4e5f\u662f\u7269\u4ef6\u3002\u8981\u67e5\u770b\u7269\u4ef6\u5167\u5bb9\uff0c\u53ef\u4ee5\u7528\u8a72\u7269\u4ef6\u7684 ID \u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002\u6211\u5011\u4f86\u770b\u7b2c\u4e8c\u500b\u63d0\u4ea4\u7684\u5167\u5bb9\uff1a</p> <pre><code>$ git cat-file -p 7f3b00e\ntree ebf3af44d253e5328340026e45a9fa9ae3ea1982\nparent df2fb7a61f5d40c1191e0fdeb0fc5d6e7969685a\nauthor Sanket Patel &lt;spatel1@linkedin.com&gt; 1603273316 -0700\ncommitter Sanket Patel &lt;spatel1@linkedin.com&gt; 1603273316 -0700\n\nadding file 2\n</code></pre> <p>\u8acb\u6ce8\u610f\u8f38\u51fa\u4e2d <code>parent</code> \u5c6c\u6027\uff0c\u5b83\u6307\u5411\u6211\u5011\u524d\u4e00\u500b\u63d0\u4ea4\u7684 commit ID\u3002\u9019\u8b49\u660e\u5169\u8005\u78ba\u5be6\u9023\u7d50\uff01\u53e6\u5916\u4f60\u4e5f\u770b\u5230\u8a72 commit \u7684\u8a0a\u606f\u3002\u6240\u6709\u9019\u4e9b\u9b54\u6cd5\u90fd\u7531 <code>.git</code> \u8cc7\u6599\u593e\u9a45\u52d5\uff0c\u800c\u6b64\u7269\u4ef6\u4e5f\u5132\u5b58\u5728\u88e1\u9762\u3002</p> <pre><code>$ ls .git/objects/7f/3b00eaa957815884198e2fdfec29361108d6a9\n.git/objects/7f/3b00eaa957815884198e2fdfec29361108d6a9\n</code></pre> <p>\u7269\u4ef6\u88ab\u5132\u5b58\u5728 <code>.git/objects/</code> \u8cc7\u6599\u593e\u3002\u6240\u6709\u6a94\u6848\u53ca\u8b8a\u66f4\u7686\u5b58\u5728\u6b64\u8cc7\u6599\u593e\u3002</p>"},{"location":"level101/git/git-basics/#git_3","title":"Git \u7684\u7248\u672c\u63a7\u5236\u90e8\u5206","text":"<p>\u5f9e git log \u5df2\u53ef\u67e5\u770b\u5169\u500b\u63d0\u4ea4\uff08\u5169\u500b\u7248\u672c\uff09\u3002\u7248\u672c\u63a7\u5236\u5de5\u5177\u6700\u91cd\u8981\u7684\u7279\u9ede\u4e4b\u4e00\u662f\u53ef\u4ee5\u5728\u6b77\u53f2\u4e2d\u524d\u5f8c\u5207\u63db\u3002\u4f8b\u5982\uff1a\u90e8\u5206\u7528\u6236\u5728\u4f7f\u7528\u820a\u7248\u7a0b\u5f0f\u78bc\u6642\u767c\u73fe\u554f\u984c\u4e26\u56de\u5831\u3002\u8981\u9664\u932f\u554f\u984c\uff0c\u4f60\u5fc5\u9808\u62ff\u5230\u820a\u7248\u7a0b\u5f0f\u78bc\u3002\u4f60\u76ee\u524d repo \u662f\u6700\u65b0\u7248\u672c\u3002\u5728\u6b64\u4f8b\u4e2d\uff0c\u4f60\u6b63\u5728\u7b2c\u4e8c\u500b commit\uff08<code>7f3b00e</code>\uff09\u4e0a\u5de5\u4f5c\uff0c\u800c\u6709\u4eba\u5831\u544a\u7b2c\u4e00\u500b commit (<code>df2fb7a</code>) \u7684\u7a0b\u5f0f\u78bc\u6709\u554f\u984c\u3002\u6b64\u6642\u4f60\u53ef\u4ee5\u900f\u904e\u4ee5\u4e0b\u65b9\u6cd5\u53d6\u5f97\u820a\u7248\u672c\u7684\u7a0b\u5f0f\u78bc\uff1a</p> <pre><code># \u76ee\u524d\u76ee\u9304\u4e2d\u6709\u5169\u500b\u6a94\u6848\n$ ls\nfile1.txt file2.txt\n\n# \u5207\u63db\u5230\u820a\u7684 commit\n$ git checkout df2fb7a\nNote: checking out 'df2fb7a'.\n\nYou are in 'detached HEAD' state. You can look around, make experimental\nchanges and commit them, and you can discard any commits you make in this\nstate without impacting any branches by performing another checkout.\n\nIf you want to create a new branch to retain commits you create, you may\ndo so (now or later) by using -b with the checkout command again. Example:\n\n git checkout -b &lt;new-branch-name&gt;\n\nHEAD is now at df2fb7a adding file 1\n\n# \u67e5\u770b\u76ee\u9304\uff0c\u78ba\u8a8d\u70ba\u820a\u72c0\u614b\u6a94\u6848\n$ ls\nfile1.txt\n</code></pre> <p>\u9019\u5c31\u662f\u5982\u4f55\u53d6\u5f97\u820a\u7248\u672c/\u5feb\u7167\u3002\u4f60\u53ea\u9700\u8981\u8a72\u5feb\u7167\u7684 \u53c3\u8003\u3002\u57f7\u884c <code>git checkout ...</code> \u6642\uff0cgit \u6703\u900f\u904e <code>.git</code> \u8cc7\u6599\u593e\u67e5\u770b\u8a72\u7248\u672c\u6a94\u6848\u72c0\u614b\uff0c\u4e26\u5c07\u7576\u524d\u76ee\u9304\u4e2d\u5167\u5bb9\u66ff\u63db\u6210\u8a72\u7248\u672c\u5feb\u7167\u3002\u7576\u6642\u5b58\u5728\u7684\u6a94\u6848\u6703\u4e0d\u518d\u986f\u793a\u65bc\u672c\u5730\uff0c\u4f46\u56e0\u70ba\u88ab <code>git commit</code> \u8ffd\u8e64\u4e14\u5132\u5b58\u5728 <code>.git</code>\uff0c\u4ecd\u7136\u53ef\u53d6\u5f97\u3002</p>"},{"location":"level101/git/git-basics/#references","title":"\u53c3\u8003\uff08References\uff09","text":"<p>\u524d\u9762\u63d0\u904e\uff0c\u6211\u5011\u9700\u8981\u4e00\u500b \u53c3\u8003 \u6307\u5411\u67d0\u500b\u7248\u672c\u3002\u9810\u8a2d git \u5009\u5eab\u662f\u7531 commit \u6a39\u7d44\u6210\uff0c\u6bcf\u500b commit \u6709\u552f\u4e00 ID\uff0c\u4f46\u9019\u4e0d\u662f\u552f\u4e00\u80fd\u7528\u4f86\u53c3\u8003 commit \u7684\u65b9\u5f0f\u3002\u9084\u6709\u591a\u7a2e\u65b9\u5f0f\u53c3\u8003 commit\u3002\u4f8b\uff1a</p> <ul> <li><code>HEAD</code> \u662f\u76ee\u524d commit \u7684\u53c3\u8003\u3002\u4e0d\u8ad6\u4f60\u7684 repo checked out \u5728\u54ea\u500b commit\uff0cHEAD \u90fd\u6703\u6307\u5411\u5b83\u3002</li> <li><code>HEAD~1</code> \u662f\u4e0a\u4e00\u500b commit \u7684\u53c3\u8003\u3002\u56e0\u6b64\u5728\u524d\u9762\u5207\u63db\u4e0a\u4e00\u500b\u7248\u672c\u6642\uff0c\u53ef\u7528 <code>git checkout HEAD~1</code>\u3002</li> </ul> <p>\u540c\u6a23\u5730\uff0c<code>master</code> \u4e5f\u662f\u4e00\u500b\u53c3\u8003\uff08\u5206\u652f\u540d\u7a31\uff09\u3002\u7531\u65bc git \u4ee5\u6a39\u72c0\u7d50\u69cb\u5132\u5b58\u63d0\u4ea4\uff0c\u7576\u7136\u6703\u6709\u5206\u652f\u3002\u9810\u8a2d\u5206\u652f\u53eb\u505a <code>master</code>\u3002master\uff08\u6216\u5176\u4ed6\u5206\u652f\u540d\u7a31\uff09\u6703\u6307\u5411\u8a72\u5206\u652f\u7684\u6700\u65b0 commit\u3002\u5373\u4f7f\u6211\u5011\u5207\u63db\u904e\u53bb\u770b\u820a commit\uff0c<code>master</code> \u4ecd\u6307\u5411\u6700\u65b0 commit\u3002\u6211\u5011\u53ef\u4ee5\u900f\u904e\u5207\u63db\u56de <code>master</code> \u53d6\u5f97\u6700\u65b0\u7248\u672c\u3002</p> <pre><code>$ git checkout master\nPrevious HEAD position was df2fb7a adding file 1\nSwitched to branch 'master'\n\n# \u73fe\u5728\u53ef\u4ee5\u770b\u5230\u5169\u500b\u6a94\u6848\u7684\u6700\u65b0\u7a0b\u5f0f\u78bc\n$ ls\nfile1.txt file2.txt\n</code></pre> <p>\u8a3b\uff1a\u4e0a\u8ff0\u6307\u4ee4\u4e2d\uff0c\u4e5f\u53ef\u7528 commit ID \u53d6\u4ee3 master\u3002</p>"},{"location":"level101/git/git-basics/#_7","title":"\u53c3\u8003\u8207\u9b54\u6cd5","text":"<p>\u8b93\u6211\u5011\u4f86\u770b\u76ee\u524d\u72c0\u614b\u3002\u5169\u500b commit\uff0c<code>master</code> \u8207 <code>HEAD</code> \u90fd\u6307\u5411\u6700\u65b0 commit\u3002</p> <pre><code>$ git log --oneline --graph\n* 7f3b00e (HEAD -&gt; master) adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u9b54\u6cd5\u5728\u54ea\uff1f\u6211\u5011\u4f86\u6aa2\u67e5\u9019\u4e9b\u6a94\u6848\uff1a</p> <pre><code>$ cat .git/refs/heads/master\n7f3b00eaa957815884198e2fdfec29361108d6a9\n</code></pre> <p>\u77a7\uff01<code>master</code> \u6307\u5411\u7684 commit ID \u5c31\u5b58\u653e\u5728\u4e00\u500b\u6a94\u6848\u4e2d\u3002\u7576 git \u9700\u8981\u77e5\u9053 master \u6307\u5411\u54ea\u88e1\uff0c\u6216\u8981\u66f4\u65b0 master \u6307\u5411\u7684 commit\uff0c\u53ea\u8981\u8b80\u53d6\u6216\u5beb\u5165\u6b64\u6a94\u6848\u5373\u53ef\u3002\u65b0\u589e\u63d0\u4ea4\u6642\uff0cgit \u5728\u7576\u524d commit \u4e0a\u52a0\u5165\u65b0 commit\uff0c\u4e26\u66f4\u65b0 master \u6a94\u6848\u5167\u5bb9\u70ba\u65b0 commit ID\u3002</p> <p>\u540c\u7406\uff0c<code>HEAD</code> \u53c3\u8003\uff1a</p> <pre><code>$ cat .git/HEAD\nref: refs/heads/master\n</code></pre> <p><code>HEAD</code> \u6307\u5411\u53e6\u4e00\u500b\u53c3\u8003 <code>refs/heads/master</code>\u3002\u56e0\u6b64 <code>HEAD</code> \u6240\u6307\u5373\u662f <code>master</code> \u6307\u5411\u7684\u4f4d\u7f6e\u3002</p>"},{"location":"level101/git/git-basics/#_8","title":"\u5c0f\u5c0f\u5192\u96aa","text":"<p>\u6211\u5011\u8a0e\u8ad6\u904e git \u57f7\u884c\u547d\u4ee4\u6642\u6703\u4fee\u6539\u9019\u4e9b\u6a94\u6848\u3002\u4f46\u6211\u5011\u81ea\u5df1\u624b\u52d5\u64cd\u4f5c\u770b\u770b\u6703\u600e\u6a23\u3002</p> <pre><code>$ git log --oneline --graph\n* 7f3b00e (HEAD -&gt; master) adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u73fe\u5728\uff0c\u628a <code>master</code> \u6307\u5411\u6539\u70ba\u7b2c\u4e00\u500b commit\u3002</p> <pre><code>$ echo df2fb7a61f5d40c1191e0fdeb0fc5d6e7969685a &gt; .git/refs/heads/master\n$ git log --oneline --graph\n* df2fb7a (HEAD -&gt; master) adding file 1\n\n# \u6062\u5fa9\u539f\u672c\u6307\u5411\n$ echo 7f3b00eaa957815884198e2fdfec29361108d6a9 &gt; .git/refs/heads/master\n$ git log --oneline --graph\n* 7f3b00e (HEAD -&gt; master) adding file 2\n* df2fb7a adding file 1\n</code></pre> <p>\u6211\u5011\u525b\u525b\u7de8\u8f2f\u4e86 <code>master</code> \u53c3\u8003\u7684\u6a94\u6848\uff0c\u56e0\u6b64 <code>git log</code> \u53ea\u986f\u793a\u4e86\u7b2c\u4e00\u7b46\u63d0\u4ea4\u3002\u9084\u539f\u6a94\u6848\u5f8c\u72c0\u614b\u56de\u5230\u539f\u672c\u3002\u5176\u5be6\u4e5f\u6c92\u4ec0\u9ebc\u795e\u5947\u7684\u3002</p>"},{"location":"level101/git/github-hooks/","title":"\u4f7f\u7528 Git \u8207 GitHub","text":"<p>\u5230\u76ee\u524d\u70ba\u6b62\uff0c\u6211\u5011\u6240\u505a\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u5728\u672c\u5730\u7684\u5009\u5eab\u4e2d\u9032\u884c\uff0c\u800c Git \u4e5f\u5e6b\u52a9\u6211\u5011\u5728\u5354\u4f5c\u74b0\u5883\u4e2d\u5de5\u4f5c\u3002GitHub \u662f\u7db2\u969b\u7db2\u8def\u4e0a\u7684\u4e00\u500b\u5730\u65b9\uff0c\u4f60\u53ef\u4ee5\u5728\u90a3\u88e1\u96c6\u4e2d\u8a17\u7ba1\u4f60\u7684 Git \u5009\u5eab\uff0c\u4e26\u8207\u5176\u4ed6\u958b\u767c\u8005\u5354\u4f5c\u3002</p> <p>\u5927\u591a\u6578\u5de5\u4f5c\u6d41\u7a0b\u6703\u8207\u4e4b\u524d\u8a0e\u8ad6\u7684\u4e00\u6a23\uff0c\u9644\u52a0\u4e86\u5e7e\u4ef6\u4e8b\uff1a</p> <ol> <li>Pull\uff08\u62c9\u53d6\uff09\uff1a\u5f9e GitHub\uff08\u4e2d\u592e\uff09\u5009\u5eab\u62c9\u53d6\u6700\u65b0\u7684\u8b8a\u66f4</li> <li>Push\uff08\u63a8\u9001\uff09\uff1a\u5c07\u4f60\u7684\u8b8a\u66f4\u63a8\u9001\u5230 GitHub \u5009\u5eab\uff0c\u8b93\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u53d6\u5f97</li> </ol> <p>GitHub \u5df2\u7d93\u64b0\u5beb\u4e86\u5f88\u68d2\u7684\u6307\u5357\u8207\u6559\u5b78\uff0c\u4f60\u53ef\u4ee5\u53c3\u8003\uff1a</p> <ul> <li>GitHub Hello World</li> <li>Git Handbook</li> </ul>"},{"location":"level101/git/github-hooks/#hooks","title":"Hooks\uff08\u639b\u52fe\uff09","text":"<p>Git \u6709\u53e6\u4e00\u500b\u5f88\u68d2\u7684\u529f\u80fd\u53eb\u505a hooks\uff08\u639b\u52fe\uff09\u3002Hooks \u57fa\u672c\u4e0a\u662f\u7576\u7279\u5b9a\u4e8b\u4ef6\u767c\u751f\u6642\u6703\u88ab\u8abf\u7528\u7684\u8173\u672c\u3002hooks \u4f4d\u65bc\u9019\u88e1\uff1a</p> <pre><code>$ ls .git/hooks/\napplypatch-msg.sample     fsmonitor-watchman.sample pre-applypatch.sample     pre-push.sample           pre-receive.sample        update.sample\ncommit-msg.sample         post-update.sample        pre-commit.sample         pre-rebase.sample         prepare-commit-msg.sample\n</code></pre> <p>\u540d\u7a31\u4e0d\u8a00\u81ea\u660e\u3002\u7576\u7279\u5b9a\u4e8b\u4ef6\u767c\u751f\u6642\uff0c\u5982\u679c\u4f60\u60f3\u57f7\u884c\u67d0\u4e9b\u52d5\u4f5c\uff0c\u9019\u4e9b hooks \u5c31\u5f88\u6709\u7528\u3002\u6bd4\u5982\u4f60\u60f3\u5728\u63a8\u9001\u7a0b\u5f0f\u78bc\u524d\u5148\u57f7\u884c\u6e2c\u8a66\uff0c\u4f60\u53ef\u4ee5\u8a2d\u5b9a <code>pre-push</code> hook\u3002\u73fe\u5728\u8b93\u6211\u5011\u8a66\u8457\u5275\u5efa\u4e00\u500b pre-commit hook\u3002</p> <pre><code>$ echo \"echo this is from pre commit hook\" &gt; .git/hooks/pre-commit\n$ chmod +x .git/hooks/pre-commit\n</code></pre> <p>\u6211\u5011\u57fa\u672c\u4e0a\u662f\u5728 hooks \u8cc7\u6599\u593e\u4e2d\u5275\u5efa\u4e00\u500b\u540d\u70ba <code>pre-commit</code> \u7684\u6a94\u6848\uff0c\u4e26\u8ce6\u4e88\u5b83\u57f7\u884c\u6b0a\u9650\u3002\u73fe\u5728\u5982\u679c\u6211\u5011\u505a commit\uff0c\u61c9\u8a72\u6703\u770b\u5230\u986f\u793a\u8a72\u8a0a\u606f\u3002</p> <pre><code>$ echo \"sample file\" &gt; sample.txt\n$ git add sample.txt\n$ git commit -m \"adding sample file\"\nthis is from pre commit hook     # &lt;===== \u4f86\u81ea hook \u57f7\u884c\u7684\u8a0a\u606f\n[master 9894e05] adding sample file\n1 file changed, 1 insertion(+)\ncreate mode 100644 sample.txt\n</code></pre>"},{"location":"level101/linux_basics/command_line_basics/","title":"\u6307\u4ee4\u5217\u57fa\u790e","text":""},{"location":"level101/linux_basics/command_line_basics/#_2","title":"\u5be6\u9a57\u74b0\u5883\u8a2d\u5b9a","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u7dda\u4e0a Bash \u76f4\u8b6f\u5668\u4f86\u57f7\u884c\u8ab2\u7a0b\u4e2d\u63d0\u4f9b\u7684\u7bc4\u4f8b\u6307\u4ee4\u3002\u9019\u5c07\u5354\u52a9\u60a8\u5be6\u969b\u64cd\u4f5c\u4e26\u9ad4\u9a57\u5404\u7a2e Linux \u6307\u4ee4\u3002</p> <p>REPL \u662f\u8457\u540d\u7684\u7dda\u4e0a Bash \u76f4\u8b6f\u5668\u4e4b\u4e00\uff0c\u6211\u5011\u5c07\u4f7f\u7528\u5b83\u4f86\u57f7\u884c\u672c\u8ab2\u7a0b\u4e2d\u63d0\u5230\u7684\u6240\u6709\u6307\u4ee4\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#_3","title":"\u4ec0\u9ebc\u662f\u6307\u4ee4","text":"<p>\u6307\u4ee4\u662f\u544a\u8a34\u4f5c\u696d\u7cfb\u7d71\u57f7\u884c\u7279\u5b9a\u5de5\u4f5c\u7684\u7a0b\u5f0f\u3002\u7a0b\u5f0f\u5728 Linux \u4e2d\u662f\u4ee5\u6a94\u6848\u5f62\u5f0f\u5132\u5b58\u7684\u3002\u56e0\u6b64\uff0c\u6307\u4ee4\u4e5f\u662f\u5132\u5b58\u5728\u78c1\u789f\u67d0\u8655\u7684\u6a94\u6848\u3002</p> <p>\u6307\u4ee4\u4e5f\u53ef\u80fd\u6703\u63a5\u53d7\u4f7f\u7528\u8005\u7684\u984d\u5916\u53c3\u6578\u4f5c\u70ba\u8f38\u5165\uff0c\u9019\u4e9b\u53c3\u6578\u7a31\u70ba\u6307\u4ee4\u5217\u53c3\u6578\uff08command line arguments\uff09\u3002\u5b78\u6703\u4f7f\u7528\u6307\u4ee4\u5f88\u91cd\u8981\uff0c\u4e14\u5728 Linux \u4e2d\u6709\u8a31\u591a\u65b9\u5f0f\u53ef\u4ee5\u67e5\u8a62\u6307\u4ee4\u7684\u4f7f\u7528\u8aaa\u660e\u3002\u5e7e\u4e4e\u6bcf\u500b\u6307\u4ee4\u90fd\u6703\u6709\u67d0\u7a2e\u6587\u4ef6\u8aaa\u660e\uff0c\u591a\u6578\u6307\u4ee4\u6703\u6709 <code>-h</code> \u6216 <code>--help</code> \u53c3\u6578\uff0c\u8f38\u5165\u5f8c\u6703\u986f\u793a\u76f8\u7576\u7a0b\u5ea6\u7684\u6587\u4ef6\u3002\u800c Linux \u4e2d\u6700\u53d7\u6b61\u8fce\u7684\u6587\u4ef6\u7cfb\u7d71\u662f\u7a31\u70ba <code>man</code> \u9801\u9762\u7684\u624b\u518a\u3002</p> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u793a\u7bc4\u7528 <code>--help</code> \u986f\u793a <code>ls</code> \u6307\u4ee4\u7684\u8aaa\u660e\uff1a</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#_4","title":"\u6a94\u6848\u7cfb\u7d71\u7d44\u7e54","text":"<p>Linux \u6a94\u6848\u7cfb\u7d71\u5448\u73fe\u968e\u5c64\uff08\u6216\u6a39\u72c0\uff09\u7d50\u69cb\uff0c\u5176\u6700\u9ad8\u5c64\u76ee\u9304\u7a31\u70ba <code>root</code>\uff08\u7528 <code>/</code> \u7b26\u865f\u8868\u793a\uff09\u3002\u6839\u76ee\u9304\u4e0b\u7684\u76ee\u9304\u5132\u5b58\u8207\u7cfb\u7d71\u76f8\u95dc\u7684\u6a94\u6848\u3002\u9019\u4e9b\u76ee\u9304\u53ef\u7528\u4f86\u5b58\u653e\u7cfb\u7d71\u6a94\u6848\u3001\u61c9\u7528\u7a0b\u5f0f\u6a94\u6848\u6216\u4f7f\u7528\u8005\u76f8\u95dc\u6a94\u6848\u3002</p> <p></p> \u76ee\u9304 \u8aaa\u660e bin \u5132\u5b58\u5927\u591a\u6578\u5e38\u7528\u6307\u4ee4\u7684\u53ef\u57f7\u884c\u7a0b\u5f0f dev \u5132\u5b58\u8207\u7cfb\u7d71\u88dd\u7f6e\u76f8\u95dc\u7684\u6a94\u6848 etc \u5132\u5b58\u6240\u6709\u7cfb\u7d71\u8a2d\u5b9a\u6a94 home \u5132\u5b58\u4f7f\u7528\u8005\u76f8\u95dc\u7684\u6a94\u6848\u8207\u76ee\u9304 lib \u5132\u5b58\u6240\u6709\u51fd\u5f0f\u5eab\u6a94\u6848 mnt \u5132\u5b58\u8207\u7cfb\u7d71\u639b\u8f09\u88dd\u7f6e\u76f8\u95dc\u7684\u6a94\u6848 proc \u5132\u5b58\u8207\u7cfb\u7d71\u904b\u884c\u7a0b\u5e8f\u76f8\u95dc\u7684\u6a94\u6848 root \u5132\u5b58 root \u4f7f\u7528\u8005\u76f8\u95dc\u7684\u6a94\u6848\u8207\u76ee\u9304 sbin \u5132\u5b58\u7cfb\u7d71\u7ba1\u7406\u6240\u7528\u7a0b\u5f0f tmp \u7528\u4f86\u5b58\u653e\u7cfb\u7d71\u66ab\u5b58\u6a94\u6848 usr \u7528\u4f86\u5b58\u653e\u7cfb\u7d71\u4e2d\u7684\u61c9\u7528\u7a0b\u5f0f"},{"location":"level101/linux_basics/command_line_basics/#_5","title":"\u7528\u65bc\u700f\u89bd\u6a94\u6848\u7cfb\u7d71\u7684\u6307\u4ee4","text":"<p>\u6709\u4e09\u500b\u57fa\u672c\u6307\u4ee4\u5e38\u7528\u65bc\u700f\u89bd\u6a94\u6848\u7cfb\u7d71\uff1a</p> <ul> <li> <p>ls</p> </li> <li> <p>pwd</p> </li> <li> <p>cd</p> </li> </ul> <p>\u63a5\u8457\u6211\u5011\u5c07\u7406\u89e3\u6bcf\u500b\u6307\u4ee4\u7684\u529f\u80fd\u8207\u4f7f\u7528\u65b9\u5f0f\u3002\u8acb\u60a8\u4e5f\u5728\u7dda\u4e0a Bash \u7d42\u7aef\u7df4\u7fd2\u7bc4\u4f8b\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#pwd","title":"pwd\uff08\u5217\u5370\u76ee\u524d\u76ee\u9304\uff09","text":"<p>\u5728\u4efb\u4e00\u6642\u523b\uff0c\u6211\u5011\u90fd\u8eab\u8655\u67d0\u500b\u76ee\u9304\u3002\u82e5\u8981\u53d6\u5f97\u76ee\u524d\u6240\u5728\u7684\u76ee\u9304\u540d\u7a31\uff0c\u53ef\u4f7f\u7528 Linux \u4e2d\u7684 <code>pwd</code> \u6307\u4ee4\u3002</p> <p></p> <p>\u6211\u5011\u63a5\u8457\u7528 <code>cd</code> \u6307\u4ee4\u79fb\u52d5\u5230\u4e0d\u540c\u76ee\u9304\uff0c\u518d\u5370\u51fa\u76ee\u524d\u76ee\u9304\u3002</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#cd","title":"cd\uff08\u5207\u63db\u76ee\u9304\uff09","text":"<p><code>cd</code> \u6307\u4ee4\u7528\u4f86\u5207\u63db\u5de5\u4f5c\u76ee\u9304\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u6307\u4ee4\u5f9e\u4e00\u500b\u76ee\u9304\u79fb\u52d5\u5230\u53e6\u4e00\u500b\u76ee\u9304\u3002</p> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u4e2d\uff0c\u6211\u5011\u539f\u672c\u5728 <code>root</code> \u76ee\u9304\uff0c\u63a5\u8457\u7528 <code>cd</code> \u6307\u4ee4\u79fb\u52d5\u76ee\u9304\u3002</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#ls","title":"ls\uff08\u5217\u51fa\u6a94\u6848\u548c\u76ee\u9304\uff09","text":"<p><code>ls</code> \u6307\u4ee4\u7528\u4f86\u5217\u51fa\u7279\u5b9a\u76ee\u9304\u7684\u5167\u5bb9\u3002\u5b83\u6703\u5217\u51fa\u8a72\u76ee\u9304\u5e95\u4e0b\u6240\u6709\u6a94\u6848\u8207\u8cc7\u6599\u593e\u3002</p> <p>\u82e5\u76f4\u63a5\u5728\u7d42\u7aef\u8f38\u5165 <code>ls</code>\uff0c\u6703\u5217\u51fa\u76ee\u524d\u76ee\u9304\u4e0b\u6240\u6709\u6a94\u6848\u8207\u76ee\u9304\u3002</p> <p></p> <p>\u60a8\u4e5f\u53ef\u4ee5\u63d0\u4f9b\u76ee\u9304\u540d\u7a31\u7d66 <code>ls</code> \u6307\u4ee4\uff0c\u6703\u5217\u51fa\u8a72\u76ee\u9304\u4e0b\u6240\u6709\u6a94\u6848\u8207\u76ee\u9304\u3002</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#_6","title":"\u7528\u65bc\u64cd\u4f5c\u6a94\u6848\u7684\u6307\u4ee4","text":"<p>\u6709\u4e94\u500b\u57fa\u672c\u6307\u4ee4\u5e38\u7528\u65bc\u64cd\u4f5c\u6a94\u6848\uff1a</p> <ul> <li> <p>touch</p> </li> <li> <p>mkdir</p> </li> <li> <p>cp</p> </li> <li> <p>mv</p> </li> <li> <p>rm</p> </li> </ul> <p>\u6211\u5011\u5c07\u7406\u89e3\u6bcf\u500b\u6307\u4ee4\u7684\u529f\u80fd\u8207\u4f7f\u7528\u65b9\u5f0f\u3002\u8acb\u60a8\u4e5f\u5728\u7dda\u4e0a Bash \u7d42\u7aef\u7df4\u7fd2\u7bc4\u4f8b\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#touch","title":"touch\uff08\u5efa\u7acb\u65b0\u6a94\u6848\uff09","text":"<p><code>touch</code> \u6307\u4ee4\u7528\u4f86\u5efa\u7acb\u7a7a\u767d\u7684\u65b0\u6a94\u6848\u3002\u6b64\u6307\u4ee4\u9084\u6709\u5176\u4ed6\u7528\u9014\uff0c\u9019\u88e1\u53ea\u8b1b\u6700\u7c21\u55ae\u7684\u65b0\u6a94\u6848\u5efa\u7acb\u3002</p> <p><code>touch</code> \u6307\u4ee4\u7684\u4e00\u822c\u8a9e\u6cd5\uff1a</p> <pre><code>touch &lt;file_name&gt;\n</code></pre> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#mkdir","title":"mkdir\uff08\u5efa\u7acb\u65b0\u76ee\u9304\uff09","text":"<p><code>mkdir</code> \u6307\u4ee4\u7528\u65bc\u5efa\u7acb\u76ee\u9304\u3002\u60a8\u53ef\u4ee5\u7528 <code>ls</code> \u6307\u4ee4\u9a57\u8b49\u65b0\u76ee\u9304\u662f\u5426\u5efa\u7acb\u3002</p> <p><code>mkdir</code> \u6307\u4ee4\u7684\u4e00\u822c\u8a9e\u6cd5\uff1a</p> <pre><code>mkdir &lt;directory_name&gt;\n</code></pre> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#rm","title":"rm\uff08\u522a\u9664\u6a94\u6848\u8207\u76ee\u9304\uff09","text":"<p><code>rm</code> \u6307\u4ee4\u7528\u65bc\u522a\u9664\u6a94\u6848\u8207\u76ee\u9304\u3002\u8acb\u6ce8\u610f\uff0c\u6b64\u6307\u4ee4\u6703\u6c38\u4e45\u522a\u9664\u6a94\u6848\u8207\u76ee\u9304\uff0c\u4e14\u522a\u9664\u5f8c\u5e7e\u4e4e\u7121\u6cd5\u56de\u5fa9\uff0c\u8acb\u52d9\u5fc5\u5c0f\u5fc3\u4f7f\u7528\u3002</p> <p><code>rm</code> \u6307\u4ee4\u7684\u4e00\u822c\u8a9e\u6cd5\uff1a</p> <pre><code>rm &lt;file_name&gt;\n</code></pre> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u793a\u7bc4\u7528 <code>rm</code> \u6307\u4ee4\u522a\u9664\u5148\u524d\u7528 <code>touch</code> \u8ddf <code>mkdir</code> \u5efa\u7acb\u7684\u6a94\u6848\u8207\u76ee\u9304\u3002</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#cp","title":"cp\uff08\u8907\u88fd\u6a94\u6848\u8207\u76ee\u9304\uff09","text":"<p><code>cp</code> \u6307\u4ee4\u7528\u65bc\u5f9e\u4e00\u8655\u8907\u88fd\u6a94\u6848\u6216\u76ee\u9304\u5230\u53e6\u4e00\u8655\u3002\u8acb\u6ce8\u610f\uff0c<code>cp</code> \u57f7\u884c\u5f8c\u4e26\u4e0d\u6539\u8b8a\u539f\u59cb\u6a94\u6848\u6216\u76ee\u9304\uff0c\u539f\u59cb\u6a94\u6848\u8207\u8907\u672c\u4e26\u5b58\u3002</p> <p><code>cp</code> \u6307\u4ee4\u7684\u4e00\u822c\u8a9e\u6cd5\uff1a</p> <pre><code>cp &lt;source_path&gt; &lt;destination_path&gt;\n</code></pre> <p>\u6211\u5011\u76ee\u524d\u4f4d\u65bc <code>/home/runner</code> \u76ee\u9304\u3002\u7528 <code>mkdir</code> \u5efa\u7acb\u540d\u70ba <code>test_directory</code> \u7684\u65b0\u76ee\u9304\u3002\u63a5\u8457\u5617\u8a66\u5c07 <code>_test_runner.py</code> \u6a94\u8907\u88fd\u5230\u6b64\u76ee\u9304\u3002</p> <p></p> <p>\u8acb\u6ce8\u610f\uff0c\u539f\u59cb\u7684 <code>_test_runner.py</code> \u6a94\u6848\u4f9d\u7136\u5b58\u5728\u76ee\u524d\u76ee\u9304\uff0c\u65b0\u7684\u526f\u672c\u51fa\u73fe\u5728 <code>test_directory</code>\u3002</p> <p></p> <p><code>cp</code> \u4e5f\u53ef\u4ee5\u7528\u4f86\u8907\u88fd\u6574\u500b\u76ee\u9304\uff0c\u4ee5\u4e0b\u7bc4\u4f8b\u8aaa\u660e\u6b64\u64cd\u4f5c\u3002</p> <p></p> <p>\u6211\u5011\u518d\u6b21\u7528 <code>mkdir</code> \u5efa\u7acb <code>another_directory</code>\u3002\u63a5\u8457\u7528 <code>cp</code> \u642d\u914d <code>-r</code> \u53c3\u6578\uff08\u905e\u8ff4\uff09\u8907\u88fd <code>test_directory</code> \u5230\u9019\u500b\u65b0\u76ee\u9304\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#mv","title":"mv\uff08\u79fb\u52d5\u6a94\u6848\u8207\u76ee\u9304\uff09","text":"<p><code>mv</code> \u6307\u4ee4\u53ef\u4ee5\u7528\u4f86\u5c07\u6a94\u6848\u6216\u8cc7\u6599\u593e\u5f9e\u4e00\u8655\u79fb\u52d5\u5230\u53e6\u4e00\u8655\uff0c\u4e5f\u80fd\u7528\u4f86\u91cd\u65b0\u547d\u540d\u6a94\u6848\u6216\u76ee\u9304\u3002\u8acb\u6ce8\u610f\uff0c\u79fb\u52d5\u5f8c\u539f\u59cb\u6a94\u6848\u6216\u76ee\u9304\u6703\u4e0d\u898b\u3002</p> <p><code>mv</code> \u6307\u4ee4\u7684\u4e00\u822c\u8a9e\u6cd5\uff1a</p> <pre><code>mv &lt;source_path&gt; &lt;destination_path&gt;\n</code></pre> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u7528 <code>mv</code> \u5c07 <code>_test_runner.py</code> \u6a94\u6848\u79fb\u52d5\u5230 <code>test_directory</code>\u3002\u6b64\u76ee\u9304\u4e2d\u5df2\u5b58\u5728\u540c\u540d\u6a94\uff0c<code>mv</code> \u6307\u4ee4\u6703\u8986\u84cb\u5b83\u3002\u6210\u529f\u79fb\u52d5\u5f8c\uff0c\u539f\u59cb\u76ee\u9304\u4e2d\u4e0d\u518d\u5b58\u5728\u8a72\u6a94\u3002</p> <p></p> <p>\u6211\u5011\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>mv</code> \u79fb\u52d5\u76ee\u9304\uff0c\u9019\u6642\u4e0d\u7528\u50cf\u7528 <code>cp</code> \u6642\u9700\u8981 <code>-r</code> \u53c3\u6578\u3002\u6210\u529f\u79fb\u52d5\u5f8c\uff0c\u539f\u59cb\u76ee\u9304\u4e0d\u518d\u5b58\u5728\u8a72\u76ee\u9304\u3002</p> <p><code>mv</code> \u6307\u4ee4\u7684\u4e00\u5927\u7528\u9014\u662f\u91cd\u65b0\u547d\u540d\u6a94\u6848\u6216\u76ee\u9304\u3002\u4ee5\u4e0b\u793a\u7bc4\u5982\u4f55\u6539\u540d\u3002</p> <p>\u5148\u79fb\u5230 <code>test_directory</code> \u76ee\u9304\uff0c\u63a5\u8457\u7528 <code>mv</code> \u5c07 <code>_test_runner.py</code> \u6539\u540d\u70ba <code>test.py</code>\u3002</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#_7","title":"\u7528\u65bc\u6aa2\u8996\u6a94\u6848\u7684\u6307\u4ee4","text":"<p>\u6709\u4e94\u500b\u57fa\u672c\u6307\u4ee4\u5e38\u7528\u65bc\u6aa2\u8996\u6a94\u6848\u5167\u5bb9\uff1a</p> <ul> <li> <p>cat</p> </li> <li> <p>head</p> </li> <li> <p>tail</p> </li> <li> <p>more</p> </li> <li> <p>less</p> </li> </ul> <p>\u6211\u5011\u5c07\u4e86\u89e3\u6bcf\u500b\u6307\u4ee4\u529f\u80fd\u8207\u4f7f\u7528\u65b9\u5f0f\u3002\u8acb\u60a8\u4e5f\u5728\u7dda\u4e0a Bash \u7d42\u7aef\u7df4\u7fd2\u7bc4\u4f8b\u3002</p> <p>\u6211\u5011\u5148\u5efa\u7acb\u4e00\u500b\u540d\u70ba <code>numbers.txt</code> \u7684\u65b0\u6a94\u6848\uff0c\u4e26\u5728\u6a94\u6848\u4e2d\u8f38\u5165 1 \u5230 100 \u7684\u6578\u5b57\uff0c\u6bcf\u500b\u6578\u5b57\u5360\u4e00\u884c\u3002</p> <p></p> <p>\u76ee\u524d\u4e0d\u7528\u64d4\u5fc3\u4e0a\u65b9\u6307\u4ee4\u70ba\u4f55\uff0c\u5b83\u662f\u7522\u751f\u6578\u5b57\u7684\u9032\u968e\u7528\u6cd5\uff0c\u6211\u5011\u4e4b\u5f8c\u6703\u4ecb\u7d39 I/O \u91cd\u65b0\u5c0e\u5411\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#cat","title":"cat","text":"<p><code>cat</code> \u6307\u4ee4\u6700\u7c21\u55ae\u7684\u529f\u80fd\u5c31\u662f\u5c07\u6a94\u6848\u5167\u5bb9\u5217\u5370\u5230\u87a2\u5e55\u3002\u6b64\u6307\u4ee4\u975e\u5e38\u5be6\u7528\uff0c\u9084\u6709\u5176\u4ed6\u8a31\u591a\u7528\u6cd5\uff0c\u6211\u5011\u4e4b\u5f8c\u518d\u8aaa\u660e\u3002</p> <p></p> <p>\u60a8\u53ef\u5617\u8a66\u57f7\u884c\uff0c\u87a2\u5e55\u6703\u986f\u793a 1 \u81f3 100 \u7684\u6578\u5b57\uff0c\u9700\u5411\u4e0a\u6372\u52d5\u624d\u80fd\u770b\u5230\u5168\u90e8\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#head","title":"head","text":"<p><code>head</code> \u6307\u4ee4\u9810\u8a2d\u6703\u986f\u793a\u6a94\u6848\u524d 10 \u884c\u3002\u4e5f\u80fd\u642d\u914d\u5176\u4ed6\u53c3\u6578\u6307\u5b9a\u60f3\u986f\u793a\u7684\u884c\u6578\u3002</p> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u79c0\u51fa\u539f\u672c\u7528 <code>head</code> \u6307\u4ee4\u770b\u5230\u7684\u524d 10 \u884c\u5167\u5bb9\u3002</p> <p></p> <p>\u9810\u8a2d\u662f 10 \u884c\uff0c\u82e5\u8981\u6307\u5b9a\u986f\u793a\u884c\u6578\uff0c\u8acb\u7528 <code>-n</code> \u53c3\u6578\u3002</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#tail","title":"tail","text":"<p><code>tail</code> \u6307\u4ee4\u9810\u8a2d\u986f\u793a\u6a94\u6848\u6700\u5f8c 10 \u884c\u3002\u4e5f\u80fd\u4f7f\u7528\u5176\u4ed6\u53c3\u6578\u6307\u5b9a\u60f3\u8981\u986f\u793a\u7684\u7d50\u5c3e\u884c\u6578\u3002</p> <p></p> <p>\u9810\u8a2d\u662f\u6700\u5f8c 10 \u884c\uff0c\u82e5\u8981\u6307\u5b9a\u884c\u6578\uff0c\u8acb\u7528 <code>-n</code> \u53c3\u6578\u3002</p> <p></p> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u7528 <code>tail</code> \u642d\u914d <code>-n 5</code> \u53ea\u770b\u6700\u5f8c 5 \u884c\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#more","title":"more","text":"<p><code>more</code> \u6307\u4ee4\u7528\u4f86\u986f\u793a\u6a94\u6848\u6216\u6307\u4ee4\u8f38\u51fa\uff0c\u4e00\u6b21\u986f\u793a\u4e00\u9801\u5167\u5bb9\uff0c\u9069\u7528\u65bc\u5927\u578b\u6a94\u6848\u6216\u65e5\u8a8c\u6a94\u3002\u5b83\u652f\u63f4\u524d\u9032\u8207\u6709\u9650\u7684\u5f8c\u9000\u700f\u89bd\u3002</p> <p></p> <p><code>more</code> \u986f\u793a\u7576\u524d\u9801\u9762\u5167\u5bb9\u5f8c\u6703\u7b49\u5f85\u4f7f\u7528\u8005\u8f38\u5165\uff0c\u6309 <code>Enter</code> \u5411\u4e0b\u6efe\u52d5\u4e00\u884c\uff0c\u6309\u7a7a\u767d\u9375\u5247\u6efe\u52d5\u4e00\u9801\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#less","title":"less","text":"<p><code>less</code> \u6307\u4ee4\u662f <code>more</code> \u7684\u589e\u5f37\u7248\u672c\uff0c\u540c\u6a23\u4e00\u9801\u4e00\u9801\u986f\u793a\u6a94\u6848\u6216\u6307\u4ee4\u8f38\u51fa\u3002</p> <p>\u80fd\u652f\u63f4\u524d\u5f8c\u4efb\u610f\u700f\u89bd\u53ca\u641c\u5c0b\u529f\u80fd\u3002\u4f7f\u7528<code>\u65b9\u5411\u9375</code>\u53ef\u4e0a\u4e0b\u6efe\u52d5\u4e00\u884c\uff0c\u6309\u7a7a\u767d\u9375\u6efe\u52d5\u4e00\u9801\uff0c\u6309 <code>b</code> \u5247\u6efe\u52d5\u56de\u524d\u4e00\u9801\uff0c\u4e5f\u53ef\u4ee5\u5feb\u901f\u8df3\u5230\u6a94\u6848\u958b\u982d\u6216\u7d50\u5c3e\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#linux-echo","title":"Linux \u4e2d\u7684 Echo \u6307\u4ee4","text":"<p><code>echo</code> \u662f Shell \u4e2d\u6700\u7c21\u55ae\u7684\u6307\u4ee4\u4e4b\u4e00\uff0c\u985e\u4f3c\u5176\u4ed6\u7a0b\u5f0f\u8a9e\u8a00\u4e2d\u7684 <code>print</code>\u3002</p> <p><code>echo</code> \u6307\u4ee4\u6703\u5c07\u8f38\u5165\u5167\u5bb9\u5217\u5370\u5728\u87a2\u5e55\u4e0a\u3002</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#_8","title":"\u6587\u5b57\u8655\u7406\u6307\u4ee4","text":"<p>\u4e0a\u4e00\u7bc0\u5b78\u4e86\u5982\u4f55\u67e5\u770b\u6a94\u6848\u5167\u5bb9\uff0c\u5be6\u52d9\u4e2d\u5e38\u5e0c\u671b\uff1a</p> <ul> <li> <p>\u53ea\u5217\u5370\u5305\u542b\u7279\u5b9a\u5b57\u7684\u884c</p> </li> <li> <p>\u7528\u53e6\u4e00\u500b\u5b57\u53d6\u4ee3\u6a94\u6848\u4e2d\u67d0\u500b\u5b57</p> </li> <li> <p>\u4f9d\u7279\u5b9a\u9806\u5e8f\u6392\u5e8f\u6587\u4ef6\u5167\u5bb9</p> </li> </ul> <p>\u6709\u4e09\u500b\u57fa\u672c\u6307\u4ee4\u5e38\u7528\u4f86\u8655\u7406\u6587\u5b57\uff1a</p> <ul> <li> <p>grep</p> </li> <li> <p>sed</p> </li> <li> <p>sort</p> </li> </ul> <p>\u63a5\u8457\u4e86\u89e3\u6307\u4ee4\u529f\u80fd\u8207\u7528\u6cd5\uff0c\u4e26\u5728\u7dda\u4e0a Bash \u5e73\u53f0\u7df4\u7fd2\u7bc4\u4f8b\u3002</p> <p>\u6211\u5011\u5148\u5efa\u7acb\u65b0\u6a94 <code>numbers.txt</code>\uff0c\u653e\u5165 1~10 \u7684\u6578\u5b57\uff0c\u6bcf\u884c\u4e00\u7b46\u3002</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#grep","title":"grep","text":"<p><code>grep</code> \u6307\u4ee4\u6700\u7c21\u55ae\u7528\u6cd5\u662f\u641c\u5c0b\u6a94\u6848\u4e2d\u7684\u7279\u5b9a\u5b57\u8a5e\uff0c\u6703\u5217\u51fa\u6240\u6709\u5305\u542b\u6b64\u5b57\u7684\u884c\u3002</p> <p><code>grep</code> \u6307\u4ee4\u4e00\u822c\u8a9e\u6cd5\uff1a</p> <pre><code>grep &lt;\u8981\u641c\u5c0b\u7684\u5b57&gt; &lt;\u6a94\u6848\u540d\u7a31&gt;\n</code></pre> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u641c\u5c0b\u5b57\u4e32 \"1\" \u5728\u6a94\u6848\u4e2d\u51fa\u73fe\u7684\u884c\u3002</p> <p></p>"},{"location":"level101/linux_basics/command_line_basics/#sed","title":"sed","text":"<p><code>sed</code> \u6307\u4ee4\u6700\u7c21\u55ae\u7528\u6cd5\u662f\u7528\u4f86\u53d6\u4ee3\u6a94\u6848\u4e2d\u6587\u5b57\u3002</p> <p><code>sed</code> \u7528\u4f86\u53d6\u4ee3\u7684\u8a9e\u6cd5\uff1a</p> <pre><code>sed 's/&lt;\u8981\u53d6\u4ee3\u7684\u5b57&gt;/&lt;\u53d6\u4ee3\u5f8c\u6587\u5b57&gt;/' &lt;\u6a94\u6848\u540d\u7a31&gt;\n</code></pre> <p>\u4ee5\u4e0b\u7528\u6cd5\u793a\u7bc4\u5c07\u6a94\u6848\u4e2d\u7684 \"1\" \u66ff\u63db\u6210 \"3\"\u3002</p> <p></p> <p>\u4ee5\u4e0a\u7bc4\u4f8b\u4e26\u4e0d\u6703\u6539\u8b8a\u6a94\u6848\u672c\u8eab\u5167\u5bb9\uff0c\u82e5\u8981\u4f7f\u66f4\u52d5\u5beb\u56de\u6a94\u6848\uff0c\u9700\u52a0\u4e0a <code>-i</code> \u9078\u9805\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#sort","title":"sort","text":"<p><code>sort</code> \u6307\u4ee4\u7528\u65bc\u6392\u5e8f\u8f38\u5165\u8cc7\u6599\uff0c\u9810\u8a2d\u4f9d\u905e\u589e\uff08\u5b57\u5178\u5e8f\uff09\u6392\u5217\u3002</p> <p>\u5148\u770b\u6392\u5e8f\u524d\u7684\u6a94\u6848\u5167\u5bb9\u3002</p> <p></p> <p>\u63a5\u8457\u7528 <code>sort</code> \u6307\u4ee4\u5c0d\u6a94\u6848\u5167\u5bb9\u6392\u5e8f\u3002</p> <p></p> <p>\u4e0a\u8ff0\u7bc4\u4f8b\u4e26\u4e0d\u6703\u6539\u8b8a\u6a94\u6848\u5167\u5bb9\u3002</p>"},{"location":"level101/linux_basics/command_line_basics/#io","title":"I/O \u91cd\u65b0\u5c0e\u5411","text":"<p>\u6bcf\u500b\u958b\u555f\u7684\u6a94\u6848\u6703\u88ab\u6307\u6d3e\u4e00\u500b\u6a94\u6848\u63cf\u8ff0\u5b57\uff08file descriptor\uff09\uff0c\u7528\u4f86\u7cfb\u7d71\u552f\u4e00\u6a19\u793a\u958b\u555f\u7684\u6a94\u6848\u3002\u9810\u8a2d\u6709\u4e09\u500b\u6a94\u6848\u6301\u7e8c\u958b\u555f\uff1a<code>stdin</code>\uff08\u9375\u76e4\u8f38\u5165\uff09\u3001<code>stdout</code>\uff08\u756b\u9762\u8f38\u51fa\uff09\u3001<code>stderr</code>\uff08\u932f\u8aa4\u8a0a\u606f\u8f38\u51fa\u81f3\u756b\u9762\uff09\u3002\u9019\u4e9b\u53ef\u88ab\u91cd\u65b0\u5c0e\u5411\u3002</p> <p>Linux \u4e2d\u4e00\u5207\u7686\u6a94\u6848 - https://unix.stackexchange.com/questions/225537/everything-is-a-file</p> <p>\u76ee\u524d\u6211\u5011\u7684\u8f38\u51fa\u90fd\u6253\u5728\u87a2\u5e55\u4e0a\uff08\u6a19\u6e96\u8f38\u51fa\uff09\u3002\u53ef\u7528\u7279\u6b8a\u7b26\u865f\u5c07\u6307\u4ee4\u8f38\u51fa\u91cd\u5c0e\u5411\u6a94\u6848\uff0c\u6216\u751a\u81f3\u91cd\u5c0e\u5411\u5176\u4ed6\u6307\u4ee4\u8f38\u5165\u3002I/O \u91cd\u65b0\u5c0e\u5411\u662f\u5f37\u5927\u529f\u80fd\u3002</p> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u7528 <code>&gt;</code> \u5c07 <code>ls</code> \u6307\u4ee4\u8f38\u51fa\u5c0e\u5411\u6a94\u6848 <code>output.txt</code>\u3002</p> <p></p> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u628a <code>echo</code> \u6307\u4ee4\u8f38\u51fa\u5c0e\u5411\u6a94\u6848\u3002</p> <p></p> <p>\u53ef\u7528\u7ba1\u7dda\uff08pipe\uff09\u628a\u4e00\u6307\u4ee4\u8f38\u51fa\u50b3\u7d66\u53e6\u4e00\u6307\u4ee4\u8f38\u5165\u3002</p> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u5c07 <code>cat</code> \u8f38\u51fa\u50b3\u7d66 <code>grep</code> \u6307\u4ee4\uff0c\u4f7f\u7528\u7ba1\u7dda\u7b26\u865f <code>|</code>\u3002</p> <p></p> <p>\u4ee5\u4e0b\u7bc4\u4f8b\u7528\u7ba1\u7dda\u50b3\u9001 <code>sort</code> \u8f38\u51fa\uff0c\u7d66 <code>uniq</code> \u8f38\u5165\u3002<code>uniq</code> \u53ea\u6703\u5370\u51fa\u4e0d\u91cd\u8907\u7684\u6578\u5b57\u3002</p> <p></p> <p>I/O \u91cd\u65b0\u5c0e\u5411\u8aaa\u660e - https://tldp.org/LDP/abs/html/io-redirection.html</p>"},{"location":"level101/linux_basics/conclusion/","title":"\u7d50\u8ad6","text":"<p>\u6211\u5011\u5df2\u7d93\u6db5\u84cb\u4e86 Linux \u4f5c\u696d\u7cfb\u7d71\u7684\u57fa\u790e\u77e5\u8b58\u4ee5\u53ca\u5728 Linux \u4e2d\u5e38\u7528\u7684\u57fa\u672c\u6307\u4ee4\u3002 \u6211\u5011\u4e5f\u4ecb\u7d39\u4e86 Linux \u4f3a\u670d\u5668\u7ba1\u7406\u7684\u6307\u4ee4\u3002</p> <p>\u5e0c\u671b\u9019\u9580\u8ab2\u7a0b\u80fd\u8b93\u4f60\u66f4\u8f15\u9b06\u5730\u4f7f\u7528\u6307\u4ee4\u5217\u64cd\u4f5c\u3002</p>"},{"location":"level101/linux_basics/conclusion/#sre","title":"\u5728 SRE \u89d2\u8272\u4e2d\u7684\u61c9\u7528","text":"<ol> <li>\u4f5c\u70ba SRE\uff0c\u4f60\u9700\u8981\u5728\u9019\u4e9b Linux \u4f3a\u670d\u5668\u4e0a\u57f7\u884c\u4e00\u4e9b\u5e38\u898b\u4efb\u52d9\u3002\u5728\u6392\u89e3\u554f\u984c\u6642\uff0c\u4f60\u4e5f\u6703\u4f7f\u7528\u6307\u4ee4\u5217\u3002</li> <li>\u5728\u6a94\u6848\u7cfb\u7d71\u4e2d\u5f9e\u4e00\u500b\u4f4d\u7f6e\u79fb\u52d5\u5230\u53e6\u4e00\u500b\u4f4d\u7f6e\u6703\u9700\u8981\u4f7f\u7528 <code>ls</code>\u3001<code>pwd</code> \u548c <code>cd</code> \u6307\u4ee4\u7684\u5354\u52a9\u3002</li> <li>\u4f60\u53ef\u80fd\u9700\u8981\u5728\u65e5\u8a8c\u6a94\u6848\u4e2d\u641c\u5c0b\u7279\u5b9a\u8cc7\u8a0a\uff0c<code>grep</code> \u6307\u4ee4\u975e\u5e38\u597d\u7528\u3002\u5982\u679c\u4f60\u60f3\u5c07\u8f38\u51fa\u5b58\u5230\u6a94\u6848\uff0c\u6216\u8005\u7576\u4f5c\u8f38\u5165\u50b3\u7d66\u53e6\u4e00\u500b\u6307\u4ee4\uff0cI/O \u91cd\u5c0e\u5411\u6703\u5f88\u5be6\u7528\u3002</li> <li><code>tail</code> \u6307\u4ee4\u975e\u5e38\u9069\u5408\u7528\u4f86\u67e5\u770b\u65e5\u8a8c\u6a94\u6848\u4e2d\u7684\u6700\u65b0\u8cc7\u6599\u3002</li> <li>\u4e0d\u540c\u4f7f\u7528\u8005\u6839\u64da\u89d2\u8272\u6703\u6709\u4e0d\u540c\u7684\u6b0a\u9650\u3002\u70ba\u4e86\u5b89\u5168\u8003\u91cf\uff0c\u6211\u5011\u4e5f\u4e0d\u5e0c\u671b\u516c\u53f8\u6240\u6709\u4eba\u90fd\u80fd\u5b58\u53d6\u4f3a\u670d\u5668\u3002\u4f7f\u7528\u8005\u6b0a\u9650\u53ef\u4ee5\u7528 <code>chown</code>\u3001<code>chmod</code> \u548c <code>chgrp</code> \u6307\u4ee4\u4f86\u9650\u5236\u3002</li> <li>\u5c0d SRE \u800c\u8a00\uff0c<code>ssh</code> \u662f\u6700\u5e38\u4f7f\u7528\u7684\u6307\u4ee4\u4e4b\u4e00\u3002\u767b\u5165\u4f3a\u670d\u5668\u4e26\u9032\u884c\u6392\u932f\u53ca\u57fa\u672c\u7ba1\u7406\u5de5\u4f5c\uff0c\u5fc5\u9808\u5148\u80fd\u6210\u529f\u767b\u5165\u4f3a\u670d\u5668\u3002</li> <li>\u5982\u679c\u60f3\u5728\u4f3a\u670d\u5668\u4e0a\u57f7\u884c Apache \u6216 NGINX\uff0c\u6211\u5011\u6703\u5148\u4f7f\u7528\u5957\u4ef6\u7ba1\u7406\u5668\u5b89\u88dd\u3002\u5957\u4ef6\u7ba1\u7406\u6307\u4ee4\u5728\u9019\u65b9\u9762\u5c31\u975e\u5e38\u91cd\u8981\u3002</li> <li>\u7ba1\u7406\u4f3a\u670d\u5668\u4e0a\u7684\u670d\u52d9\u662f SRE \u7684\u53e6\u4e00\u9805\u91cd\u8981\u8cac\u4efb\u3002<code>systemd</code> \u76f8\u95dc\u6307\u4ee4\u80fd\u5e6b\u5fd9\u6392\u932f\u3002\u670d\u52d9\u4e2d\u65b7\u6642\uff0c\u6211\u5011\u53ef\u4ee5\u7528 <code>systemctl start</code> \u6307\u4ee4\u555f\u52d5\u5b83\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u6642\u505c\u6b62\u670d\u52d9\u3002</li> <li>\u76e3\u63a7\u662f SRE \u7684\u6838\u5fc3\u8077\u8cac\u4e4b\u4e00\u3002\u8a18\u61b6\u9ad4\u548c CPU \u662f\u5169\u500b\u91cd\u8981\u7684\u7cfb\u7d71\u5c64\u7d1a\u6307\u6a19\uff0c\u61c9\u8a72\u6301\u7e8c\u76e3\u63a7\u3002\u50cf\u662f <code>top</code> \u548c <code>free</code> \u6307\u4ee4\u76f8\u7576\u6709\u5e6b\u52a9\u3002</li> <li>\u7576\u670d\u52d9\u62cb\u51fa\u932f\u8aa4\u6642\uff0c\u6211\u5011\u5982\u4f55\u627e\u51fa\u932f\u8aa4\u6839\u672c\u539f\u56e0\uff1f\u80af\u5b9a\u9700\u8981\u67e5\u770b\u65e5\u8a8c\u4f86\u627e\u51fa\u5b8c\u6574\u7684\u932f\u8aa4\u5806\u758a\u8ecc\u8de1\u3002\u65e5\u8a8c\u6a94\u4e5f\u6703\u544a\u8a34\u6211\u5011\u932f\u8aa4\u767c\u751f\u6b21\u6578\u4ee5\u53ca\u958b\u59cb\u6642\u9593\u3002</li> </ol>"},{"location":"level101/linux_basics/conclusion/#_2","title":"\u6709\u7528\u7684\u8ab2\u7a0b\u8207\u6559\u5b78","text":"<ul> <li>Edx \u57fa\u672c Linux \u6307\u4ee4\u8ab2\u7a0b</li> <li>Edx \u7d05\u5e3d\u4f01\u696d Linux \u8ab2\u7a0b</li> <li>https://linuxcommand.org/lc3_learning_the_shell.php</li> </ul>"},{"location":"level101/linux_basics/intro/","title":"Linux \u57fa\u790e\u77e5\u8b58","text":""},{"location":"level101/linux_basics/intro/#_1","title":"\u7c21\u4ecb","text":""},{"location":"level101/linux_basics/intro/#_2","title":"\u5148\u6c7a\u689d\u4ef6","text":"<ul> <li>\u61c9\u8a72\u80fd\u719f\u6089\u4f7f\u7528\u4efb\u4f55\u4f5c\u696d\u7cfb\u7d71\uff0c\u5982 Windows\u3001Linux\uff0c\u6216  </li> <li>\u9810\u671f\u5177\u5099\u4f5c\u696d\u7cfb\u7d71\u7684\u57fa\u672c\u77e5\u8b58</li> </ul>"},{"location":"level101/linux_basics/intro/#_3","title":"\u8ab2\u7a0b\u671f\u5f85\u5b78\u5230\u7684\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u5206\u70ba\u4e09\u500b\u90e8\u5206\u3002\u7b2c\u4e00\u90e8\u5206\u6db5\u84cb Linux \u4f5c\u696d\u7cfb\u7d71\u7684\u57fa\u790e\u77e5\u8b58\u3002\u6211\u5011\u5c07\u8a0e\u8ad6 Linux \u67b6\u69cb\u3001Linux \u767c\u884c\u7248\u4ee5\u53ca Linux \u4f5c\u696d\u7cfb\u7d71\u7684\u7528\u9014\uff0c\u4e5f\u6703\u4ecb\u7d39 GUI \u548c CLI \u4e4b\u9593\u7684\u5dee\u7570\u3002</p> <p>\u7b2c\u4e8c\u90e8\u5206\u5247\u4ecb\u7d39\u4e00\u4e9b Linux \u7684\u57fa\u672c\u6307\u4ee4\uff0c\u6211\u5011\u6703\u8457\u91cd\u65bc\u7528\u4f86\u700f\u89bd\u6a94\u6848\u7cfb\u7d71\u3001\u6aa2\u8996\u53ca\u64cd\u4f5c\u6a94\u6848\u3001\u8f38\u5165/\u8f38\u51fa\u91cd\u5b9a\u5411\u7b49\u7684\u6307\u4ee4\u3002</p> <p>\u7b2c\u4e09\u90e8\u5206\u6db5\u84cb Linux \u7cfb\u7d71\u7ba1\u7406\uff0c\u5305\u542b Linux \u7ba1\u7406\u54e1\u65e5\u5e38\u64cd\u4f5c\u7684\u4efb\u52d9\uff0c\u4f8b\u5982\u4f7f\u7528\u8005/\u7fa4\u7d44\u7ba1\u7406\u3001\u6a94\u6848\u6b0a\u9650\u7ba1\u7406\u3001\u7cfb\u7d71\u6548\u80fd\u76e3\u63a7\u3001\u65e5\u8a8c\u6a94\u6848\u8655\u7406\u7b49\u3002</p> <p>\u5728\u7b2c\u4e8c\u90e8\u5206\u548c\u7b2c\u4e09\u90e8\u5206\uff0c\u6211\u5011\u6703\u4f7f\u7528\u7bc4\u4f8b\u4f86\u5e6b\u52a9\u7406\u89e3\u9019\u4e9b\u89c0\u5ff5\u3002</p>"},{"location":"level101/linux_basics/intro/#_4","title":"\u8ab2\u7a0b\u672a\u6db5\u84cb\u90e8\u5206","text":"<p>\u672c\u8ab2\u7a0b\u4e0d\u5305\u542b\u9032\u968e Linux \u6307\u4ee4\u53ca Bash \u6307\u4ee4\u8173\u672c\u7684\u5167\u5bb9\uff0c\u4e5f\u4e0d\u6703\u6d89\u53ca Linux \u5167\u90e8\u7d30\u7bc0\u3002</p>"},{"location":"level101/linux_basics/intro/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u6db5\u84cb\u4ee5\u4e0b\u4e3b\u984c\uff1a</p> <ul> <li>Linux \u7c21\u4ecb<ul> <li>\u4ec0\u9ebc\u662f Linux \u4f5c\u696d\u7cfb\u7d71</li> <li>\u71b1\u9580 Linux \u767c\u884c\u7248\u6709\u54ea\u4e9b</li> <li>Linux \u4f5c\u696d\u7cfb\u7d71\u7684\u7528\u9014</li> <li>Linux \u67b6\u69cb</li> <li>\u5716\u5f62\u4f7f\u7528\u8005\u4ecb\u9762\uff08GUI\uff09\u8207\u6307\u4ee4\u5217\u4ecb\u9762\uff08CLI\uff09\u5c0d\u6bd4</li> </ul> </li> <li>\u6307\u4ee4\u5217\u57fa\u790e<ul> <li>\u5be6\u9a57\u74b0\u5883\u8a2d\u5b9a</li> <li>\u4ec0\u9ebc\u662f\u6307\u4ee4</li> <li>\u6a94\u6848\u7cfb\u7d71\u7d44\u7e54</li> <li>\u700f\u89bd\u6a94\u6848\u7cfb\u7d71\u7684\u6307\u4ee4</li> <li>\u64cd\u4f5c\u6a94\u6848\u7684\u6307\u4ee4</li> <li>\u6aa2\u8996\u6a94\u6848\u7684\u6307\u4ee4</li> <li>Echo \u6307\u4ee4</li> <li>\u6587\u5b57\u8655\u7406\u6307\u4ee4</li> <li>I/O \u91cd\u5b9a\u5411</li> </ul> </li> <li>Linux \u7cfb\u7d71\u7ba1\u7406<ul> <li>\u5be6\u9a57\u74b0\u5883\u8a2d\u5b9a</li> <li>\u4f7f\u7528\u8005\uff0f\u7fa4\u7d44\u7ba1\u7406</li> <li>\u6210\u70ba\u8d85\u7d1a\u4f7f\u7528\u8005</li> <li>\u6a94\u6848\u6b0a\u9650</li> <li>SSH \u6307\u4ee4</li> <li>\u5957\u4ef6\u7ba1\u7406</li> <li>\u7a0b\u5e8f\u7ba1\u7406</li> <li>\u8a18\u61b6\u9ad4\u7ba1\u7406</li> <li>\u5b88\u8b77\u7a0b\u5e8f\u8207 Systemd</li> <li>\u65e5\u8a8c</li> </ul> </li> <li>\u7e3d\u7d50<ul> <li>SRE \u89d2\u8272\u4e2d\u7684\u61c9\u7528</li> <li>\u6709\u7528\u7684\u8ab2\u7a0b\u8207\u6559\u5b78</li> </ul> </li> </ul>"},{"location":"level101/linux_basics/intro/#linux_1","title":"\u4ec0\u9ebc\u662f Linux \u4f5c\u696d\u7cfb\u7d71","text":"<p>\u5927\u591a\u6578\u4eba\u719f\u6089\u7684\u4f5c\u696d\u7cfb\u7d71\u662f Windows\uff0c\u4f54\u8d85\u904e 75% \u7684\u500b\u4eba\u96fb\u8166\u5e02\u5834\u3002Windows \u4f5c\u696d\u7cfb\u7d71\u57fa\u65bc Windows NT \u6838\u5fc3\u3002</p> <p>\u6240\u8b02\u7684 \u6838\u5fc3 \u662f\u4f5c\u696d\u7cfb\u7d71\u4e2d\u6700\u91cd\u8981\u7684\u90e8\u5206\uff0c\u57f7\u884c\u50cf\u662f\u7a0b\u5e8f\u7ba1\u7406\u3001\u8a18\u61b6\u9ad4\u7ba1\u7406\u3001\u6a94\u6848\u7cfb\u7d71\u7ba1\u7406\u7b49\u95dc\u9375\u529f\u80fd\u3002</p> <p>Linux \u4f5c\u696d\u7cfb\u7d71\u57fa\u65bc Linux \u6838\u5fc3\u3002Linux \u4f5c\u696d\u7cfb\u7d71\u5305\u542b Linux \u6838\u5fc3\u3001GUI/CLI\u3001\u7cfb\u7d71\u51fd\u5f0f\u5eab\u53ca\u7cfb\u7d71\u5de5\u5177\u3002Linux \u6838\u5fc3\u7531 Linus Torvalds \u7368\u7acb\u958b\u767c\u4e26\u767c\u4f48\u3002Linux \u6838\u5fc3\u662f\u514d\u8cbb\u4e14\u958b\u653e\u539f\u59cb\u78bc\u7684\uff08\u8acb\u53c3\u8003 https://github.com/torvalds/linux\uff09\u3002</p> <p>Linux \u662f\u6838\u5fc3\uff0c\u800c\u975e\u5b8c\u6574\u4f5c\u696d\u7cfb\u7d71\u3002Linux \u6838\u5fc3\u7d50\u5408 GNU \u7cfb\u7d71\u53ef\u5f62\u6210\u5b8c\u6574\u4f5c\u696d\u7cfb\u7d71\uff0c\u56e0\u6b64 Linux \u4f5c\u696d\u7cfb\u7d71\u53c8\u7a31\u4f5c GNU/Linux \u7cfb\u7d71\u3002GNU \u662f\u4e00\u5957\u5ee3\u6cdb\u7684\u514d\u8cbb\u8edf\u9ad4\u96c6\u5408\uff0c\u5305\u62ec\u7de8\u8b6f\u5668\u3001\u9664\u932f\u5668\u3001C \u51fd\u5f0f\u5eab\u7b49\uff08\u8a73\u898b Linux \u8207 GNU \u7cfb\u7d71\uff09\u3002</p> <p>Linux \u6b77\u53f2 - https://en.wikipedia.org/wiki/History_of_Linux</p>"},{"location":"level101/linux_basics/intro/#linux_2","title":"\u4ec0\u9ebc\u662f\u71b1\u9580 Linux \u767c\u884c\u7248","text":"<p>Linux \u767c\u884c\u7248\uff08distro\uff09\u662f\u57fa\u65bc Linux \u6838\u5fc3\u4e26\u642d\u914d\u5957\u4ef6\u7ba1\u7406\u7cfb\u7d71\u7684\u4f5c\u696d\u7cfb\u7d71\u3002\u5957\u4ef6\u7ba1\u7406\u7cfb\u7d71\u5305\u542b\u4e00\u7cfb\u5217\u5de5\u5177\uff0c\u53ef\u5e6b\u52a9\u5b89\u88dd\u3001\u5347\u7d1a\u3001\u8a2d\u5b9a\u53ca\u79fb\u9664\u7cfb\u7d71\u4e2d\u7684\u8edf\u9ad4\u3002</p> <p>\u8edf\u9ad4\u901a\u5e38\u6703\u91dd\u5c0d\u7279\u5b9a\u767c\u884c\u7248\u5c01\u88dd\u6210\u7279\u5b9a\u683c\u5f0f\uff0c\u4e26\u900f\u904e\u8a72\u767c\u884c\u7248\u5c08\u5c6c\u7684\u5957\u4ef6\u5eab\u63d0\u4f9b\u3002\u64cd\u4f5c\u7cfb\u7d71\u900f\u904e\u5957\u4ef6\u7ba1\u7406\u5668\u4f86\u5b89\u88dd\u53ca\u7ba1\u7406\u9019\u4e9b\u8edf\u9ad4\u3002</p> <p>\u71b1\u9580 Linux \u767c\u884c\u7248\u5217\u8868\uff1a</p> <ul> <li> <p>Fedora</p> </li> <li> <p>Ubuntu</p> </li> <li> <p>Debian</p> </li> <li> <p>CentOS</p> </li> <li> <p>Red Hat Enterprise Linux</p> </li> <li> <p>Suse</p> </li> <li> <p>Arch Linux</p> </li> </ul> \u5c01\u88dd\u7cfb\u7d71 \u767c\u884c\u7248 \u5957\u4ef6\u7ba1\u7406\u5668 Debian \u98a8\u683c\uff08<code>.deb</code>\uff09 Debian\u3001Ubuntu APT Red Hat \u98a8\u683c\uff08<code>.rpm</code>\uff09 Fedora\u3001CentOS\u3001Red Hat Enterprise Linux YUM"},{"location":"level101/linux_basics/intro/#linux_3","title":"Linux \u67b6\u69cb","text":"<ul> <li> <p>Linux \u6838\u5fc3\u5c6c\u65bc\u55ae\u6838\u5fc3\uff08monolithic\uff09\u67b6\u69cb\u3002</p> </li> <li> <p>\u7cfb\u7d71\u547c\u53eb\u7528\u65bc\u8207 Linux \u6838\u5fc3\u7a7a\u9593\u4e92\u52d5\u3002</p> </li> <li> <p>\u6838\u5fc3\u7a0b\u5f0f\u78bc\u50c5\u80fd\u5728\u6838\u5fc3\u6a21\u5f0f\u4e0b\u57f7\u884c\uff0c\u975e\u6838\u5fc3\u7a0b\u5f0f\u78bc\u5247\u5728\u4f7f\u7528\u8005\u6a21\u5f0f\u57f7\u884c\u3002</p> </li> <li> <p>\u88dd\u7f6e\u9a45\u52d5\u7a0b\u5f0f\u7528\u4f86\u8207\u786c\u9ad4\u8a2d\u5099\u6e9d\u901a\u3002</p> </li> </ul>"},{"location":"level101/linux_basics/intro/#linux_4","title":"Linux \u4f5c\u696d\u7cfb\u7d71\u7684\u7528\u9014","text":"<p>\u57fa\u65bc Linux \u6838\u5fc3\u7684\u4f5c\u696d\u7cfb\u7d71\u5ee3\u6cdb\u7528\u65bc\uff1a</p> <ul> <li> <p>\u500b\u4eba\u96fb\u8166</p> </li> <li> <p>\u4f3a\u670d\u5668</p> </li> <li> <p>\u624b\u6a5f \u2014 Android \u662f\u57fa\u65bc Linux \u4f5c\u696d\u7cfb\u7d71</p> </li> <li> <p>\u5d4c\u5165\u5f0f\u8a2d\u5099 \u2014 \u624b\u9336\u3001\u96fb\u8996\u3001\u4ea4\u901a\u865f\u8a8c\u7b49</p> </li> <li> <p>\u885b\u661f</p> </li> <li> <p>\u7db2\u8def\u8a2d\u5099 \u2014 \u8def\u7531\u5668\u3001\u4ea4\u63db\u5668\u7b49</p> </li> </ul>"},{"location":"level101/linux_basics/intro/#guicli","title":"\u5716\u5f62\u4f7f\u7528\u8005\u4ecb\u9762\uff08GUI\uff09\u8207\u6307\u4ee4\u5217\u4ecb\u9762\uff08CLI\uff09","text":"<p>\u4f7f\u7528\u8005\u85c9\u7531\u4f7f\u7528\u8005\u4ecb\u9762\u8207\u96fb\u8166\u4e92\u52d5\uff0c\u4f7f\u7528\u8005\u4ecb\u9762\u53ef\u4ee5\u662f GUI \u6216 CLI\u3002</p> <p>\u5716\u5f62\u4f7f\u7528\u8005\u4ecb\u9762\u5141\u8a31\u4f7f\u7528\u8005\u900f\u904e\u5716\u5f62\uff08\u5982\u5716\u793a\u548c\u5716\u7247\uff09\u8207\u96fb\u8166\u4e92\u52d5\u3002\u7576\u4f7f\u7528\u8005\u9ede\u9078\u5716\u793a\u958b\u555f\u61c9\u7528\u7a0b\u5f0f\u6642\uff0c\u5be6\u969b\u4e0a\u5c31\u662f\u4f7f\u7528 GUI\u3002GUI \u64cd\u4f5c\u76f4\u89ba\u4e14\u7c21\u55ae\u3002</p> <p>\u6307\u4ee4\u5217\u4ecb\u9762\u5247\u8b93\u4f7f\u7528\u8005\u900f\u904e\u8f38\u5165\u6307\u4ee4\u8207\u96fb\u8166\u4e92\u52d5\u3002\u4f7f\u7528\u8005\u5728\u7d42\u7aef\u6a5f\u8f38\u5165\u6307\u4ee4\uff0c\u7cfb\u7d71\u5354\u52a9\u57f7\u884c\u9019\u4e9b\u6307\u4ee4\u3002\u5c0d\u53ea\u719f\u6089 GUI \u7684\u65b0\u624b\u800c\u8a00\uff0cCLI \u53ef\u80fd\u8f03\u96e3\u64cd\u4f5c\uff0c\u56e0\u70ba\u9700\u8981\u77ad\u89e3\u5404\u7a2e\u6307\u4ee4\u8207\u5176\u7528\u6cd5\u3002</p>"},{"location":"level101/linux_basics/intro/#shell-terminal","title":"Shell \u8207 Terminal \u7684\u5dee\u7570","text":"<p>Shell \u662f\u4e00\u500b\u7a0b\u5f0f\uff0c\u8ca0\u8cac\u63a5\u53d7\u4f7f\u7528\u8005\u7684\u6307\u4ee4\u4e26\u5c07\u5b83\u5011\u4ea4\u7d66\u4f5c\u696d\u7cfb\u7d71\u8655\u7406\u3002Shell \u662f CLI\uff08\u6307\u4ee4\u5217\u4ecb\u9762\uff09\u7684\u7bc4\u4f8b\u3002Bash \u662f Linux \u4f3a\u670d\u5668\u4e2d\u6700\u666e\u53ca\u7684 shell \u7a0b\u5f0f\u4e4b\u4e00\uff0c\u5176\u4ed6\u6d41\u884c\u7684 shell \u5305\u62ec zsh\u3001ksh \u548c tcsh\u3002</p> <p>Terminal \u662f\u4e00\u500b\u7a0b\u5f0f\uff0c\u53ef\u4ee5\u958b\u555f\u8996\u7a97\u8b93\u4f7f\u7528\u8005\u8207 shell \u4e92\u52d5\u3002\u4e00\u4e9b\u5e38\u898b\u7684\u7d42\u7aef\u6a5f\u7a0b\u5f0f\u6709 GNOME-terminal\u3001xterm\u3001Konsole \u7b49\u3002</p> <p>Linux \u4f7f\u7528\u8005\u5e38\u6703\u5c07 shell\u3001terminal\u3001prompt\u3001console \u7b49\u8853\u8a9e\u6df7\u7528\u3002\u7c21\u55ae\u4f86\u8aaa\uff0c\u9019\u4e9b\u90fd\u662f\u7528\u4f86\u63a5\u53d7\u4f7f\u7528\u8005\u6307\u4ee4\u7684\u4ecb\u9762\u65b9\u5f0f\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/","title":"Linux \u4f3a\u670d\u5668\u7ba1\u7406","text":"<p>\u5728\u672c\u8ab2\u7a0b\u4e2d\uff0c\u6211\u5011\u5c07\u5617\u8a66\u6db5\u84cb Linux \u4f3a\u670d\u5668\u7ba1\u7406\u54e1\u5e38\u57f7\u884c\u7684\u4e00\u4e9b\u5e38\u898b\u5de5\u4f5c\u3002\u9996\u5148\uff0c\u6211\u5011\u6703\u5148\u4e86\u89e3\u7279\u5b9a\u6307\u4ee4\u7684\u529f\u80fd\uff0c\u63a5\u8457\u900f\u904e\u7bc4\u4f8b\u4f86\u7406\u89e3\u6307\u4ee4\u3002\u8acb\u52d9\u5fc5\u8a18\u5f97\uff0c\u81ea\u5df1\u5be6\u969b\u7df4\u7fd2 Linux \u6307\u4ee4\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#_1","title":"\u5be6\u9a57\u74b0\u5883\u8a2d\u5b9a","text":"<ul> <li> <p>\u5728\u60a8\u7684\u7cfb\u7d71\u4e0a\u5b89\u88dd Docker - https://docs.docker.com/engine/install/ \u6216\u8005\u60a8\u53ef\u4ee5\u4f7f\u7528\u7dda\u4e0a\u7684 Docker playground</p> </li> <li> <p>\u6211\u5011\u5c07\u5728 Red Hat Enterprise Linux (RHEL) 8 \u7cfb\u7d71\u4e0a\u57f7\u884c\u6240\u6709\u6307\u4ee4\u3002</p> </li> </ul> <p></p> <ul> <li>\u5927\u90e8\u5206\u672c\u7ae0\u6a21\u584a\u7684\u6307\u4ee4\u90fd\u6703\u5728\u4e0a\u8ff0 Docker \u5bb9\u5668\u4e2d\u57f7\u884c\u3002</li> </ul>"},{"location":"level101/linux_basics/linux_server_administration/#_2","title":"\u591a\u4f7f\u7528\u8005\u4f5c\u696d\u7cfb\u7d71","text":"<p>\u4f5c\u696d\u7cfb\u7d71\u82e5\u5141\u8a31\u591a\u500b\u4eba\uff0f\u4f7f\u7528\u8005\u540c\u6642\u4f7f\u7528\u540c\u4e00\u90e8\u96fb\u8166\uff0c\u4e14\u4e92\u4e0d\u5f71\u97ff\u5c0d\u65b9\u7684\u6a94\u6848\u548c\u504f\u597d\u8a2d\u5b9a\uff0c\u5247\u7a31\u70ba\u591a\u4f7f\u7528\u8005\u4f5c\u696d\u7cfb\u7d71\u3002\u57fa\u65bc Linux \u7684\u4f5c\u696d\u7cfb\u7d71\u672c\u8cea\u4e0a\u5373\u70ba\u591a\u4f7f\u7528\u8005\u7cfb\u7d71\uff0c\u53ef\u8b93\u591a\u500b\u4f7f\u7528\u8005\u540c\u6642\u767b\u5165\u7cfb\u7d71\u3002\u4e00\u822c\u96fb\u8166\u53ea\u6709\u4e00\u7d44\u9375\u76e4\u8207\u87a2\u5e55\uff0c\u4f46\u82e5\u9023\u63a5\u7db2\u8def\uff0c\u591a\u500b\u4f7f\u7528\u8005\u4ecd\u53ef\u900f\u904e SSH \u767b\u5165\u3002\u6211\u5011\u4e4b\u5f8c\u6703\u8a73\u7d30\u4ecb\u7d39 SSH\u3002</p> <p>\u4f3a\u670d\u5668\u7ba1\u7406\u54e1\u5927\u591a\u95dc\u5fc3\u7684 Linux \u4f3a\u670d\u5668\u901a\u5e38\u662f\u9060\u7aef\u6a5f\u5668\uff0c\u8ddd\u96e2\u6211\u5011\u5f88\u9060\uff0c\u6211\u5011\u9700\u8981\u900f\u904e\u50cf SSH \u7684\u9060\u7aef\u767b\u5165\u65b9\u5f0f\u9023\u7dda\u3002</p> <p>\u56e0 Linux \u652f\u63f4\u591a\u4f7f\u7528\u8005\uff0c\u6211\u5011\u9700\u8981\u6709\u6a5f\u5236\u4fdd\u8b77\u4f7f\u7528\u8005\u4e4b\u9593\u7684\u8cc7\u6599\u5b89\u5168\uff0c\u907f\u514d\u4f7f\u7528\u8005\u64c5\u81ea\u5b58\u53d6\u548c\u4fee\u6539\u5176\u4ed6\u4f7f\u7528\u8005\u7684\u6a94\u6848\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#_3","title":"\u4f7f\u7528\u8005\uff0f\u7fa4\u7d44\u7ba1\u7406","text":"<ul> <li> <p>Linux \u4e2d\u7684\u4f7f\u7528\u8005\u6703\u9644\u6709\u4e00\u500b\u4f7f\u7528\u8005 ID\uff0c\u7a31\u70ba UID\u3002</p> </li> <li> <p>\u4f7f\u7528\u8005\u4e5f\u6703\u6709\u4e00\u500b\u5bb6\u76ee\u9304\u548c\u767b\u5165 Shell\u3002</p> </li> <li> <p>\u7fa4\u7d44\u662f\u7531\u4e00\u500b\u6216\u591a\u500b\u4f7f\u7528\u8005\u7d44\u6210\u7684\u96c6\u5408\uff0c\u6709\u52a9\u65bc\u65b9\u4fbf\u540c\u7fa4\u7d44\u4f7f\u7528\u8005\u5171\u7528\u6b0a\u9650\u3002</p> </li> <li> <p>\u6bcf\u500b\u7fa4\u7d44\u6703\u6709\u4e00\u500b\u7fa4\u7d44 ID\uff0c\u7a31\u70ba GID\u3002</p> </li> </ul>"},{"location":"level101/linux_basics/linux_server_administration/#id","title":"id \u6307\u4ee4","text":"<p><code>id</code> \u6307\u4ee4\u53ef\u4ee5\u67e5\u8a62\u4f7f\u7528\u8005\u6240\u5c6c\u7684 <code>uid</code> \u548c <code>gid</code>\uff0c\u4e26\u5217\u51fa\u8a72\u4f7f\u7528\u8005\u6240\u5c6c\u7684\u7fa4\u7d44\u3002</p> <p>root \u4f7f\u7528\u8005\u7684 <code>uid</code> \u548c <code>gid</code> \u5747\u70ba 0\u3002</p> <p></p> <p>\u60f3\u8981\u77e5\u9053\u76ee\u524d\u4f7f\u7528\u8005\uff0c\u5e38\u7528 <code>whoami</code> \u6307\u4ee4\u3002</p> <p></p> <p><code>root</code> \u4f7f\u7528\u8005\u53c8\u7a31\u8d85\u7d1a\u4f7f\u7528\u8005\uff0c\u64c1\u6709\u7cfb\u7d71\u4e2d\u6700\u9ad8\u6b0a\u9650\uff0c\u5c0d\u6240\u6709\u8cc7\u6e90\u7121\u9650\u5236\u5b58\u53d6\u3002UID \u70ba 0\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#_4","title":"\u76f8\u95dc\u4f7f\u7528\u8005\uff0f\u7fa4\u7d44\u91cd\u8981\u6a94\u6848","text":"\u6a94\u6848 \u8aaa\u660e /etc/passwd \u5132\u5b58\u4f7f\u7528\u8005\u540d\u7a31\u3001UID\u3001GID\u3001\u5bb6\u76ee\u9304\u3001\u767b\u5165 Shell \u7b49 /etc/shadow \u5132\u5b58\u4f7f\u7528\u8005\u5bc6\u78bc /etc/group \u5132\u5b58\u7cfb\u7d71\u4e2d\u4e0d\u540c\u7fa4\u7d44\u8cc7\u8a0a <p>\u82e5\u60f3\u4e86\u89e3\u4e0a\u8ff0\u8f38\u51fa\u4e2d\u5404\u6b04\u4f4d\u7684\u610f\u7fa9\uff0c\u53ef\u53c3\u8003\u4ee5\u4e0b\u9023\u7d50\uff1a</p> <ul> <li> <p>https://tldp.org/LDP/lame/LAME/linux-admin-made-easy/shadow-file-formats.html</p> </li> <li> <p>https://tldp.org/HOWTO/User-Authentication-HOWTO/x71.html</p> </li> </ul>"},{"location":"level101/linux_basics/linux_server_administration/#_5","title":"\u7ba1\u7406\u4f7f\u7528\u8005\u7684\u91cd\u8981\u6307\u4ee4","text":"<p>\u7ba1\u7406 Linux \u4f7f\u7528\u8005\uff0f\u7fa4\u7d44\u5e38\u7528\u6307\u4ee4\u5982\u4e0b\uff1a</p> <ul> <li><code>useradd</code> - \u65b0\u589e\u4e00\u540d\u4f7f\u7528\u8005</li> <li><code>passwd</code> - \u65b0\u589e\u6216\u4fee\u6539\u4f7f\u7528\u8005\u5bc6\u78bc</li> <li><code>usermod</code> - \u4fee\u6539\u4f7f\u7528\u8005\u5c6c\u6027</li> <li><code>userdel</code> - \u522a\u9664\u4f7f\u7528\u8005</li> </ul>"},{"location":"level101/linux_basics/linux_server_administration/#useradd","title":"useradd","text":"<p><code>useradd</code> \u6307\u4ee4\u65bc Linux \u4e2d\u65b0\u589e\u4f7f\u7528\u8005\u3002</p> <p>\u6211\u5011\u793a\u7bc4\u5efa\u7acb\u4e00\u540d\u65b0\u4f7f\u7528\u8005 <code>shivam</code>\uff0c\u4e26\u900f\u904e\u6aa2\u8996 <code>/etc/passwd</code> \u6a94\u6848\u5c3e\u7aef\u78ba\u8a8d\u4f7f\u7528\u8005\u5df2\u5efa\u7acb\u3002\u65b0\u4f7f\u7528\u8005\u7684 <code>uid</code> \u8207 <code>gid</code> \u5747\u70ba 1000\uff0c\u5bb6\u76ee\u9304\u8a2d\u70ba <code>/home/shivam</code>\uff0c\u767b\u5165 Shell \u70ba <code>/bin/bash</code>\u3002\u53ef\u6ce8\u610f\uff0c\u4f7f\u7528\u8005\u7684\u5bb6\u76ee\u9304\u8207\u767b\u5165 Shell \u5f8c\u7e8c\u4ecd\u53ef\u4fee\u6539\u3002</p> <p></p> <p>\u82e5\u672a\u6307\u5b9a\u5bb6\u76ee\u9304\u6216\u767b\u5165 Shell \u7b49\u5c6c\u6027\uff0c\u5247\u6703\u81ea\u52d5\u4f7f\u7528\u9810\u8a2d\u503c\u3002\u4e5f\u53ef\u4ee5\u5728\u5efa\u7acb\u4f7f\u7528\u8005\u6642\u8986\u5beb\u9019\u4e9b\u9810\u8a2d\u503c\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#passwd","title":"passwd","text":"<p><code>passwd</code> \u6307\u4ee4\u7528\u65bc\u8a2d\u5b9a\u6216\u4fee\u6539\u4f7f\u7528\u8005\u5bc6\u78bc\u3002</p> <p>\u4e0a\u65b9\u7bc4\u4f8b\u4e2d\uff0c\u5efa\u7acb\u4f7f\u7528\u8005 <code>shivam</code> \u8207 <code>amit</code> \u6642\uff0c\u4e26\u672a\u8a2d\u5b9a\u5bc6\u78bc\u3002</p> <p><code>!!</code> \u51fa\u73fe\u5728 shadow \u5e33\u865f\u6b04\u4f4d\u8868\u793a\u5e33\u865f\u5df2\u5efa\u7acb\uff0c\u4f46\u5c1a\u672a\u8a2d\u5b9a\u5bc6\u78bc\u3002</p> <p></p> <p>\u63a5\u8457\u793a\u7bc4\u70ba\u4f7f\u7528\u8005 <code>shivam</code> \u8a2d\u5b9a\u5bc6\u78bc\u3002</p> <p></p> <p>\u8acb\u8a18\u7262\u5bc6\u78bc\uff0c\u56e0\u5f8c\u7e8c\u7bc4\u4f8b\u53ef\u80fd\u6703\u7528\u5230\u3002</p> <p>\u540c\u6642\uff0c\u4e5f\u793a\u7bc4\u8b8a\u66f4 root \u4f7f\u7528\u8005\u5bc6\u78bc\u3002\u7531\u4e00\u822c\u4f7f\u7528\u8005\u5207\u63db\u6210 root \u6642\uff0c\u9700\u8981\u8f38\u5165 root \u5bc6\u78bc\uff1b\u4f7f\u7528 root \u767b\u5165\u4e5f\u6703\u8981\u6c42\u5bc6\u78bc\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#usermod","title":"usermod","text":"<p><code>usermod</code> \u6307\u4ee4\u7528\u65bc\u4fee\u6539\u4f7f\u7528\u8005\u5c6c\u6027\uff0c\u4f8b\u5982\u5bb6\u76ee\u9304\u6216 Shell\u3002</p> <p>\u793a\u7bc4\u5c07\u4f7f\u7528\u8005 <code>amit</code> \u7684\u767b\u5165 Shell \u8b8a\u66f4\u70ba <code>/bin/bash</code>\u3002</p> <p></p> <p>\u540c\u7406\uff0c\u53ef\u4ee5\u4fee\u6539\u5176\u4ed6\u5c6c\u6027\u3002\u4f7f\u7528 <code>usermod -h</code> \u67e5\u770b\u53ef\u4fee\u6539\u5c6c\u6027\u5217\u8868\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#userdel","title":"userdel","text":"<p><code>userdel</code> \u6307\u4ee4\u7528\u65bc\u522a\u9664\u4f7f\u7528\u8005\u3002\u522a\u9664\u5f8c\uff0c\u8a72\u4f7f\u7528\u8005\u76f8\u95dc\u8cc7\u8a0a\u5747\u6703\u88ab\u79fb\u9664\u3002</p> <p>\u793a\u7bc4\u522a\u9664\u4f7f\u7528\u8005 <code>amit</code>\u3002\u522a\u9664\u5f8c\uff0c\u5728 <code>/etc/passwd</code> \u8207 <code>/etc/shadow</code> \u6a94\u6848\u4e2d\u627e\u4e0d\u5230\u8a72\u4f7f\u7528\u8005\u689d\u76ee\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#_6","title":"\u7ba1\u7406\u7fa4\u7d44\u7684\u91cd\u8981\u6307\u4ee4","text":"<p>\u7ba1\u7406\u7fa4\u7d44\u7684\u6307\u4ee4\u8207\u7ba1\u7406\u4f7f\u7528\u8005\u76f8\u4f3c\uff0c\u6545\u6b64\u4e0d\u8a73\u7d30\u8aaa\u660e\u3002\u60a8\u53ef\u4ee5\u5728\u7cfb\u7d71\u4e0a\u7df4\u7fd2\u4e0b\u5217\u6307\u4ee4\u3002</p> \u6307\u4ee4 \u529f\u80fd\u8aaa\u660e groupadd &lt;\u7fa4\u7d44\u540d\u7a31&gt; \u5efa\u7acb\u65b0\u7fa4\u7d44 groupmod &lt;\u7fa4\u7d44\u540d\u7a31&gt; \u4fee\u6539\u7fa4\u7d44\u5c6c\u6027 groupdel &lt;\u7fa4\u7d44\u540d\u7a31&gt; \u522a\u9664\u7fa4\u7d44 gpasswd  &lt;\u7fa4\u7d44\u540d\u7a31&gt; \u4fee\u6539\u7fa4\u7d44\u5bc6\u78bc <p></p> <p>\u793a\u7bc4\u5c07\u4f7f\u7528\u8005 <code>shivam</code> \u52a0\u5165\u5148\u524d\u5efa\u7acb\u7684\u7fa4\u7d44\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#_7","title":"\u6210\u70ba\u8d85\u7d1a\u4f7f\u7528\u8005","text":"<p>\u5728\u57f7\u884c\u4e0b\u5217\u6307\u4ee4\u524d\uff0c\u78ba\u5b9a\u60a8\u5df2\u4f7f\u7528 <code>passwd</code> \u6307\u4ee4\u70ba\u4f7f\u7528\u8005 <code>shivam</code> \u8207 <code>root</code> \u8a2d\u5b9a\u5bc6\u78bc\u3002</p> <p><code>su</code> \u6307\u4ee4\u53ef\u5207\u63db\u4f7f\u7528\u8005\u3002\u793a\u7bc4\u5207\u63db\u6210 <code>shivam</code> \u4f7f\u7528\u8005\u3002</p> <p></p> <p>\u63a5\u8457\u5617\u8a66\u67e5\u770b <code>/etc/shadow</code> \u6a94\u6848\u3002</p> <p></p> <p>\u4f5c\u696d\u7cfb\u7d71\u4e0d\u5141\u8a31 <code>shivam</code> \u4f7f\u7528\u8005\u5b58\u53d6 <code>/etc/shadow</code>\uff0c\u6b64\u6a94\u975e\u5e38\u91cd\u8981\uff0c\u5b58\u653e\u4f7f\u7528\u8005\u5bc6\u78bc\uff0c\u50c5\u9650 <code>root</code> \u6216\u5177\u8d85\u7d1a\u4f7f\u7528\u8005\u6b0a\u9650\u8005\u53ef\u8b80\u3002</p> <p><code>sudo</code> \u6307\u4ee4\u8b93\u4e00\u822c\u4f7f\u7528\u8005\u53ef\u4f7f\u7528 root \u6b0a\u9650\u57f7\u884c\u6307\u4ee4\u3002 \u8acb\u8a18\u4f4f root \u4f7f\u7528\u8005\u64c1\u6709\u7cfb\u7d71\u4e0a\u6240\u6709\u6b0a\u9650\u3002\u4e5f\u53ef\u4f7f\u7528 <code>su</code> \u5207\u63db\u6210 root \u4f7f\u7528\u8005\u4e26\u8b80\u53d6\u8a72\u6a94\u6848\uff0c\u4f46\u9808\u8f38\u5165 root \u5bc6\u78bc\u3002\u73fe\u4ee3\u4f5c\u696d\u7cfb\u7d71\u591a\u7528 <code>sudo</code> \u65b9\u5f0f\u63d0\u5347\u6b0a\u9650\uff0c\u4f7f\u7528\u8005\u8f38\u5165\u81ea\u5df1\u7684\u5bc6\u78bc\uff0c\u4e14\u9700\u8981\u5c6c\u65bc <code>sudo</code> \u7fa4\u7d44\u3002</p> <p>\u5982\u4f55\u8b93\u5176\u4ed6\u4f7f\u7528\u8005\u53d6\u5f97\u8d85\u7d1a\u4f7f\u7528\u8005\u6b0a\u9650\uff1f</p> <p>\u5148\u7528 <code>su</code> \u6307\u4ee4\u5207\u63db\u6210 root \u4f7f\u7528\u8005\uff08\u9700\u8981\u8f38\u5165 root \u5bc6\u78bc\uff09\u3002</p> <p></p> <p>\u82e5\u5fd8\u8a18\u8a2d\u5b9a root \u5bc6\u78bc\uff0c\u53ef\u8f38\u5165 <code>exit</code> \u8fd4\u56de\u4e00\u822c\u4f7f\u7528\u8005\uff0c\u7136\u5f8c\u4f7f\u7528 <code>passwd</code> \u6307\u4ee4\u8a2d\u5b9a\u5bc6\u78bc\u3002</p> <p>\u6a94\u6848 <code>/etc/sudoers</code> \u8a18\u9304\u5141\u8a31\u4f7f\u7528 <code>sudo</code> \u7684\u4f7f\u7528\u8005\u6e05\u55ae\u3002 \u5728 Red Hat \u7cfb\u7d71\u4e2d\uff0c\u9810\u8a2d\u4e26\u7121\u6b64\u6a94\uff0c\u9700\u8981\u5b89\u88dd <code>sudo</code> \u8edf\u9ad4\u5305\u3002</p> <p></p> <p>\u5f8c\u7e8c\u6703\u8a73\u7d30\u8aaa\u660e <code>yum</code> \u6307\u4ee4\u3002</p> <p>\u5617\u8a66\u958b\u555f <code>/etc/sudoers</code>\uff0c\u88e1\u9762\u542b\u6709\u8a31\u591a\u898f\u5247\uff0c\u4f8b\u5982 root \u53ef\u5f9e\u4efb\u4f55\u4f4d\u7f6e\u57f7\u884c\u4efb\u4f55\u6307\u4ee4\u3002</p> <p></p> <p>\u7d66\u4e88\u4f7f\u7528\u8005 root \u6b0a\u9650\u7684\u7c21\u55ae\u65b9\u6cd5\u662f\u5c07\u5176\u52a0\u5165\u64c1\u6709\u5168\u90e8\u6b0a\u9650\u57f7\u884c\u6307\u4ee4\u7684\u7fa4\u7d44\u3002<code>wheel</code> \u662f Red Hat Linux \u4e2d\u5177\u6709\u6b64\u6b0a\u9650\u7684\u7fa4\u7d44\u3002</p> <p></p> <p>\u5c07\u4f7f\u7528\u8005 <code>shivam</code> \u52a0\u5165 <code>wheel</code> \u7fa4\u7d44\uff0c\u4ee5\u8ce6\u4e88 sudo \u6b0a\u9650\u3002</p> <p></p> <p>\u5207\u63db\u56de\u4f7f\u7528\u8005 <code>shivam</code>\uff0c\u5617\u8a66\u8b80\u53d6 <code>/etc/shadow</code>\u3002</p> <p></p> <p>\u6b64\u6642\u9700\u4ee5 <code>sudo</code> \u57f7\u884c\u6307\u4ee4\u624d\u80fd\u5b58\u53d6\u8a72\u6a94\u6848\uff0c\u56e0\u70ba\u53ea\u6709\u5177\u5099 <code>sudo</code> \u6b0a\u9650\u7684\u4f7f\u7528\u8005\u624d\u80fd\u5b58\u53d6\u3002\u525b\u525b\u5df2\u5c07 <code>shivam</code> \u52a0\u5165 <code>wheel</code> \u7fa4\u7d44\uff0c\u7372\u5f97\u6b64\u6b0a\u9650\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#_8","title":"\u6a94\u6848\u6b0a\u9650","text":"<p>Linux \u4f5c\u696d\u7cfb\u7d71\u4e2d\uff0c\u6bcf\u500b\u6a94\u6848\u6216\u76ee\u9304\u5747\u6709\u5c6c\u65bc\u6a94\u6848\u64c1\u6709\u8005\u3001\u540c\u7fa4\u7d44\u4f7f\u7528\u8005\u8207\u5176\u4ed6\u4eba\u7684\u5b58\u53d6\u6b0a\u9650\uff0c\u78ba\u4fdd\u4f7f\u7528\u8005\u9593\u6b0a\u9650\u9694\u96e2\u3002</p> <p>\u53ef\u4f7f\u7528 <code>ls</code> \u6307\u4ee4\u67e5\u770b\u6a94\u6848\u6b0a\u9650\u3002\u4ee5\u4e0b\u6aa2\u8996 <code>/etc/passwd</code> \u6a94\u6848\u6b0a\u9650\u3002</p> <p></p> <p>\u4ee5\u4e0b\u8aaa\u660e\u8f38\u51fa\u4e2d\u8207\u6a94\u6848\u6b0a\u9650\u76f8\u95dc\u7684\u91cd\u8981\u6b04\u4f4d\u3002</p> <p></p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#chmod","title":"Chmod \u6307\u4ee4","text":"<p><code>chmod</code> \u6307\u4ee4\u7528\u65bc\u4fee\u6539\u6a94\u6848\u8207\u76ee\u9304\u6b0a\u9650\u3002</p> <p>\u6b0a\u9650\u901a\u5e38\u4ee5\u6578\u5b57\u65b9\u5f0f\u6307\u5b9a\uff0c\u53ef\u4ee5\u5c07\u6b0a\u9650\u8996\u70ba\u4e00\u7d44\u4f4d\u5143\uff0c1 \u8868\u793a\u5141\u8a31\uff0c0 \u8868\u793a\u7981\u6b62\u3002</p> \u6b0a\u9650\u8aaa\u660e rwx \u6b0a\u9650 \u4e8c\u9032\u4f4d \u5341\u9032\u4f4d \u8b80\u5beb\u57f7\u884c rwx 111 7 \u8b80\u5beb rw- 110 6 \u8b80\u57f7\u884c r-x 101 5 \u50c5\u8b80 r-- 100 4 \u5beb\u57f7\u884c -wx 011 3 \u50c5\u5beb -w- 010 2 \u50c5\u57f7\u884c --x 001 1 \u7121\u6b0a\u9650 --- 000 0 <p>\u793a\u7bc4\u5efa\u7acb\u65b0\u6a94\u6848\u4e26\u67e5\u770b\u5176\u6b0a\u9650\u3002</p> <p></p> <p>\u7fa4\u7d44\u6240\u6709\u8005\u7121\u5beb\u5165\u6b0a\u9650\u3002\u4f7f\u7528 <code>chmod</code> \u7d66\u4e88\u7fa4\u7d44\u6240\u6709\u8005\uff08root\uff09\u5beb\u5165\u6b0a\u9650\u3002</p> <p></p> <p><code>chmod</code> \u4e5f\u53ef\u7528\u4f86\u8abf\u6574\u76ee\u9304\u6b0a\u9650\uff0c\u65b9\u6cd5\u76f8\u540c\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#chown","title":"Chown \u6307\u4ee4","text":"<p><code>chown</code> \u6307\u4ee4\u7528\u65bc\u66f4\u6539\u6a94\u6848\u6216\u76ee\u9304\u7684\u64c1\u6709\u8005\u3002</p> <p>\u6307\u4ee4\u8a9e\u6cd5\uff1a<code>chown &lt;\u65b0\u64c1\u6709\u8005&gt; &lt;\u6a94\u6848\u540d\u7a31&gt;</code></p> <p></p> <p>\u82e5\u7121 sudo \u6b0a\u9650\uff0c\u9700\u52a0\u4e0a <code>sudo</code> \u6307\u4ee4\u57f7\u884c\u3002 \u793a\u7bc4\u5207\u63db\u6210 <code>shivam</code> \u4f7f\u7528\u8005\uff0c\u5617\u8a66\u66f4\u6539\u6a94\u6848\u64c1\u6709\u8005\u3002\u4e8b\u5148\u5df2\u5c07\u8a72\u6a94\u64c1\u6709\u8005\u6539\u70ba root\u3002</p> <p></p> <p><code>chown</code> \u4ea6\u53ef\u7528\u65bc\u76ee\u9304\u6240\u6709\u8005\u66f4\u6539\uff0c\u4f7f\u7528\u65b9\u5f0f\u76f8\u540c\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#chgrp","title":"Chgrp \u6307\u4ee4","text":"<p><code>chgrp</code> \u6307\u4ee4\u7528\u4f86\u66f4\u6539\u6a94\u6848\u6216\u76ee\u9304\u7684\u7fa4\u7d44\u64c1\u6709\u6b0a\uff0c\u8a9e\u6cd5\u8207 <code>chown</code> \u985e\u4f3c\u3002</p> <p></p> <p>\u540c\u6a23\u53ef\u7528\u65bc\u76ee\u9304\u7fa4\u7d44\u66f4\u6539\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#ssh","title":"SSH \u6307\u4ee4","text":"<p><code>ssh</code> \u6307\u4ee4\u7528\u65bc\u9060\u7aef\u767b\u5165\u7cfb\u7d71\u3001\u7cfb\u7d71\u9593\u50b3\u8f38\u6a94\u6848\u4ee5\u53ca\u5728\u9060\u7aef\u4e3b\u6a5f\u57f7\u884c\u6307\u4ee4\u3002<code>SSH</code> \u5168\u540d\u70ba secure shell\uff0c\u63d0\u4f9b\u5169\u53f0\u4e3b\u6a5f\u4e4b\u9593\u52a0\u5bc6\u5b89\u5168\u7684\u9023\u7dda\uff0c\u9069\u7528\u65bc\u4e0d\u5b89\u5168\u7db2\u8def\u5982\u7db2\u969b\u7db2\u8def\u3002</p> <p>\u53c3\u8003\uff1ahttps://www.ssh.com/ssh/command/</p> <p>\u63a5\u8457\u4ecb\u7d39\u514d\u5bc6\u78bc\u8a8d\u8b49\uff0c\u70ba SSH \u8a8d\u8b49\u4e2d\u5b89\u5168\u4e14\u6700\u5e38\u7528\u65b9\u5f0f\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#ssh_1","title":"\u4f7f\u7528 SSH \u514d\u5bc6\u78bc\u8a8d\u8b49","text":"<p>\u6b64\u6cd5\u53ef\u5728 SSH \u767b\u5165\u6642\u4e0d\u9700\u8f38\u5165\u5bc6\u78bc\u3002\u9069\u5408\u8173\u672c\u81ea\u52d5\u57f7\u884c SSH \u4efb\u52d9\u3002</p> <p>\u514d\u5bc6\u78bc\u8a8d\u8b49\u4f7f\u7528\u516c\u79c1\u9470\u914d\u5c0d\u3002\u516c\u9470\u53ef\u5206\u4eab\uff0c\u79c1\u9470\u5fc5\u9808\u4fdd\u5bc6\u3002 \u6b64\u8655\u4e0d\u6df1\u5165\u8a8d\u8b49\u539f\u7406\uff0c\u53ef\u53c3\u8003 https://www.digitalocean.com/community/tutorials/understanding-the-ssh-encryption-and-connection-process</p> <p>\u8a2d\u5b9a SSH \u514d\u5bc6\u78bc\u8a8d\u8b49\u6b65\u9a5f\uff1a</p> <ol> <li> <p>\u7522\u751f\u516c\u79c1\u9470\u5c0d  </p> <p>\u82e5 ~/.ssh \u76ee\u9304\u5df2\u6709\u9470\u5319\u5c0d\uff0c\u7121\u9700\u518d\u7522\u751f\u3002</p> <p>\u5b89\u88dd\u5305\u542b ssh \u6307\u4ee4\u7684 <code>openssh</code> \u5957\u4ef6\u3002</p> <p></p> <p>\u4f7f\u7528 <code>ssh-keygen</code> \u6307\u4ee4\u7522\u751f\u9470\u5319\u5c0d\uff0c\u63d0\u793a\u53ef\u63a1\u9810\u8a2d\u503c\u3002</p> <p></p> <p>\u57f7\u884c\u5b8c <code>ssh-keygen</code> \u6210\u529f\uff0c\u53ef\u5728 ~/.ssh \u76ee\u9304\u770b\u5230\u5169\u628a\u9470\u5319\uff1a <code>id_rsa</code>\uff08\u79c1\u9470\uff09\u8207 <code>id_rsa.pub</code>\uff08\u516c\u9470\uff09\u3002\u6ce8\u610f\u79c1\u9470\u50c5\u80fd\u7531\u60a8\u8b80\u53d6\u548c\u4fee\u6539\u3002</p> <p></p> </li> <li> <p>\u5c07\u516c\u9470\u50b3\u8f38\u5230\u9060\u7aef\u4e3b\u6a5f</p> <p>\u50b3\u8f38\u516c\u9470\u6709\u591a\u7a2e\u65b9\u5f0f\uff0c\u4ee5\u4e0b\u793a\u7bc4\u5e38\u7528\u7684 <code>ssh-copy-id</code> \u6307\u4ee4\u3002</p> <p></p> <p>\u5b89\u88dd <code>openssh-clients</code> \u5957\u4ef6\u4ee5\u4f7f\u7528 <code>ssh-copy-id</code>\u3002</p> <p></p> <p>\u4f7f\u7528 <code>ssh-copy-id</code> \u5c07\u60a8\u7684\u516c\u9470\u8907\u88fd\u81f3\u9060\u7aef\u4e3b\u6a5f\u3002</p> <p></p> <p>\u4ee5\u5bc6\u78bc\u8a8d\u8b49\u65b9\u5f0f SSH \u767b\u5165\u9060\u7aef\u4e3b\u6a5f\u3002</p> <p></p> <p>\u73fe\u5728\u60a8\u7684\u516c\u9470\u61c9\u5df2\u5beb\u5165\u9060\u7aef\u4e3b\u6a5f\u7684 <code>~/.ssh/authorized_keys</code>\u3002</p> <p></p> <p><code>~/.ssh/authorized_keys</code> \u5132\u5b58\u5141\u8a31 SSH \u5b58\u53d6\u7684\u516c\u9470\u6e05\u55ae\u3002</p> </li> </ol>"},{"location":"level101/linux_basics/linux_server_administration/#_9","title":"\u5982\u4f55\u5728\u9060\u7aef\u4e3b\u6a5f\u57f7\u884c\u6307\u4ee4\uff1f","text":"<p>\u683c\u5f0f\uff1a</p> <pre><code>ssh &lt;\u4f7f\u7528\u8005&gt;@&lt;\u4e3b\u6a5f\u540d\u7a31\u6216 IP&gt; &lt;\u6307\u4ee4&gt;\n</code></pre> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#_10","title":"\u5982\u4f55\u5f9e\u4e00\u53f0\u4e3b\u6a5f\u50b3\u9001\u6a94\u6848\u81f3\u53e6\u4e00\u53f0\u4e3b\u6a5f\uff1f","text":"<p>\u683c\u5f0f\uff1a</p> <pre><code>scp &lt;\u4f86\u6e90&gt; &lt;\u76ee\u7684\u5730&gt;\n</code></pre> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#_11","title":"\u5957\u4ef6\u7ba1\u7406","text":"<p>\u5957\u4ef6\u7ba1\u7406\u662f\u6307\u5b89\u88dd\u8207\u7dad\u8b77\u7cfb\u7d71\u8edf\u9ad4\u7684\u904e\u7a0b\u3002Linux \u767c\u884c\u7248\u901a\u5e38\u7531\u5957\u4ef6\u767c\u884c\u8005\u63d0\u4f9b\u6240\u9700\u8edf\u9ad4\u3002\u4e0d\u540c\u767c\u884c\u7248\u4f7f\u7528\u4e0d\u540c\u5957\u4ef6\u7cfb\u7d71\u3002</p> \u5957\u4ef6\u7cfb\u7d71 \u767c\u884c\u7248\u7bc4\u4f8b Debian \u98a8\u683c (<code>.deb</code>) Debian\u3001Ubuntu Red Hat \u98a8\u683c (<code>.rpm</code>) Fedora\u3001CentOS\u3001Red Hat Enterprise Linux <p>Linux \u4e2d\u5e38\u898b\u7684\u5957\u4ef6\u7ba1\u7406\u6307\u4ee4</p> \u6307\u4ee4 \u529f\u80fd\u8aaa\u660e yum install &lt;\u5957\u4ef6\u540d\u7a31&gt; \u5b89\u88dd\u5957\u4ef6 yum update &lt;\u5957\u4ef6\u540d\u7a31&gt; \u5c07\u5957\u4ef6\u66f4\u65b0\u81f3\u6700\u65b0\u7248 yum remove &lt;\u5957\u4ef6\u540d\u7a31&gt; \u79fb\u9664\u5957\u4ef6 yum search &lt;\u95dc\u9375\u5b57&gt; \u641c\u5c0b\u5957\u4ef6 <p>DNF \u662f YUM \u7684\u5f8c\u7e7c\u8005\uff0c\u76ee\u524d Fedora \u4ee5 DNF \u7ba1\u7406\u5957\u4ef6\uff0c\u5c07\u4f86\u6709\u671b\u53d6\u4ee3\u6240\u6709 RPM \u57fa\u790e\u7684 Linux \u767c\u884c\u7248\u7684 YUM\u3002</p> <p></p> <p>\u641c\u5c0b <code>httpd</code> \u95dc\u9375\u5b57\u6709\u627e\u5230\u76f8\u7b26\u5957\u4ef6\u3002\u63a5\u4e0b\u4f86\u5b89\u88dd <code>httpd</code>\u3002</p> <p></p> <p>\u5b89\u88dd\u5b8c\u5f8c\uff0c\u4f7f\u7528 <code>yum remove</code> \u6307\u4ee4\u79fb\u9664 <code>httpd</code> \u5957\u4ef6\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#_12","title":"\u7a0b\u5e8f\u7ba1\u7406","text":"<p>\u672c\u7bc0\u4ecb\u7d39\u4e00\u4e9b\u7528\u65bc\u76e3\u63a7 Linux \u7a0b\u5e8f\u7684\u91cd\u8981\u6307\u4ee4\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#psprocess-status","title":"ps\uff08process status\uff09","text":"<p><code>ps</code> \u6307\u4ee4\u53ef\u53d6\u5f97\u9032\u7a0b\u8cc7\u8a0a\u6216\u5217\u51fa\u9032\u7a0b\u5217\u8868\u3002</p> <p></p> <p>\u82e5\u57f7\u884c <code>ps</code> \u51fa\u73fe\u300cps command not found\u300d\u932f\u8aa4\uff0c\u8acb\u5b89\u88dd <code>procps</code> \u5957\u4ef6\u3002</p> <p>\u55ae\u7368\u57f7\u884c <code>ps</code> \u4e0d\u592a\u5be6\u7528\uff0c\u4e0b\u65b9\u7bc4\u4f8b\u7528 <code>ps aux</code> \u5217\u51fa\u7cfb\u7d71\u4e2d\u6240\u6709\u9032\u7a0b\u3002</p> <p>\u53c3\u8003\uff1ahttps://unix.stackexchange.com/questions/106847/what-does-aux-mean-in-ps-aux</p> <p></p> <p>\u4e5f\u53ef\u4ee5\u52a0\u4e0a\u9032\u7a0b\u865f PID \u53c3\u6578\uff0c\u67e5\u8a62\u7279\u5b9a\u9032\u7a0b\u8cc7\u8a0a\u3002</p> <p></p> <p>\u642d\u914d grep \u53ef\u4ee5\u7cbe\u78ba\u641c\u5c0b\u7279\u5b9a\u9032\u7a0b\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#top","title":"top","text":"<p><code>top</code> \u6307\u4ee4\u53ef\u5373\u6642\u986f\u793a\u7cfb\u7d71\u4e2d\u57f7\u884c\u4e4b\u7a0b\u5e8f\u8cc7\u8a0a\u53ca\u7cfb\u7d71\u72c0\u614b\u6458\u8981\u3002</p> <p></p> <p>\u5c0d\u6bcf\u500b\u7a0b\u5e8f\uff0c<code>top</code> \u5217\u51fa\u9032\u7a0b ID\u3001\u64c1\u6709\u8005\u3001\u512a\u5148\u5ea6\u3001\u72c0\u614b\u3001CPU \u8207\u8a18\u61b6\u9ad4\u4f7f\u7528\u7387\u7b49\u7b49\u8cc7\u8a0a\uff0c\u540c\u6642\u4e5f\u5217\u51fa\u6574\u9ad4\u8a18\u61b6\u9ad4\u3001CPU \u4f7f\u7528\u60c5\u6cc1\u53ca\u7cfb\u7d71\u4e0a\u7dda\u6642\u9593\u8207\u8ca0\u8f09\u5e73\u5747\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#_13","title":"\u8a18\u61b6\u9ad4\u7ba1\u7406","text":"<p>\u672c\u7bc0\u4ecb\u7d39\u4e00\u4e9b\u53ef\u7528\u4f86\u6aa2\u8996\u7cfb\u7d71\u8a18\u61b6\u9ad4\u8cc7\u8a0a\u7684\u91cd\u8981\u6307\u4ee4\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#free","title":"free","text":"<p><code>free</code> \u6307\u4ee4\u7528\u65bc\u986f\u793a\u7cfb\u7d71\u8a18\u61b6\u9ad4\u4f7f\u7528\u72c0\u6cc1\uff0c\u5305\u62ec RAM \u7e3d\u7528\u91cf\u3001\u7a7a\u9592\u3001\u53ca\u5feb\u53d6\uff0f\u7de9\u885d\u5340\u6240\u4f54\u7528\u7a7a\u9593\u3002</p> <p></p> <p>\u9810\u8a2d\u4ee5 KB \u70ba\u55ae\u4f4d\u3002\u52a0\u4e0a\u53c3\u6578\u53ef\u986f\u793a\u6613\u8b80\u683c\u5f0f\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#vmstat","title":"vmstat","text":"<p><code>vmstat</code> \u53ef\u7528\u65bc\u986f\u793a\u8a18\u61b6\u9ad4\u5916\uff0c\u9084\u6709 IO\u3001CPU \u7b49\u4f7f\u7528\u72c0\u6cc1\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#_14","title":"\u6aa2\u67e5\u78c1\u789f\u7a7a\u9593","text":"<p>\u672c\u7bc0\u4ecb\u7d39\u4e00\u4e9b\u53ef\u7528\u65bc\u6aa2\u8996 Linux \u78c1\u789f\u7a7a\u9593\u7684\u6307\u4ee4\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#dfdisk-free","title":"df\uff08disk free\uff09","text":"<p><code>df</code> \u6307\u4ee4\u986f\u793a\u6bcf\u500b\u639b\u8f09\u7684\u6a94\u6848\u7cfb\u7d71\u7684\u7e3d\u5bb9\u91cf\u3001\u5df2\u7528\u53ca\u53ef\u7528\u7a7a\u9593\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#dudisk-usage","title":"du\uff08disk usage\uff09","text":"<p><code>du</code> \u6307\u4ee4\u7528\u65bc\u986f\u793a\u6a94\u6848\u6216\u76ee\u9304\u7684\u78c1\u789f\u4f7f\u7528\u91cf\u3002</p> <p></p> <p>\u4e0b\u65b9\u7bc4\u4f8b\u5408\u8a08\u5217\u51fa <code>/</code> \u6839\u76ee\u9304\u4e0b\u6700\u5927\u7684\u524d 5 \u500b\u76ee\u9304\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#daemons","title":"Daemons","text":"<p>\u80cc\u666f\u57f7\u884c\u7684\u7a0b\u5f0f\u7a31\u70ba daemon\uff08\u5b88\u8b77\u7a0b\u5e8f\uff09\u3002\u50b3\u7d71\u4e0a\uff0cdaemon \u7a0b\u5e8f\u540d\u7a31\u6703\u4ee5 <code>d</code> \u70ba\u7d50\u5c3e\uff0c\u4f8b\u5982 <code>sshd</code>\u3001<code>httpd</code>\u3002daemon \u7121\u6cd5\u76f4\u63a5\u4e92\u52d5\uff0c\u56e0\u70ba\u5b83\u5011\u5728\u80cc\u666f\u57f7\u884c\u3002</p> <p>\u670d\u52d9\uff08Service\uff09\u8207 daemon \u7d93\u5e38\u7b49\u540c\u4f7f\u7528\u3002</p>"},{"location":"level101/linux_basics/linux_server_administration/#systemd","title":"Systemd","text":"<p><code>systemd</code> \u662f Linux \u4f5c\u696d\u7cfb\u7d71\u7684\u7cfb\u7d71\u8207\u670d\u52d9\u7ba1\u7406\u7a0b\u5f0f\u3002<code>systemd</code> \u7684\u55ae\u5143\uff08unit\uff09\u662f\u5176\u69cb\u6210\u57fa\u790e\uff0c\u7531\u55ae\u5143\u8a2d\u5b9a\u6a94\u8868\u793a\u3002</p> <p>\u4e0b\u65b9\u7bc4\u4f8b\u986f\u793a\u4f4d\u65bc <code>/usr/lib/systemd/system</code> \u76ee\u9304\u7684\u55ae\u5143\u8a2d\u5b9a\u6a94\uff0c\u9019\u4e9b\u7531\u5df2\u5b89\u88dd\u7684 RPM \u5957\u4ef6\u63d0\u4f9b\u3002\u5176\u4e2d ending with <code>.service</code> \u7684\u662f\u670d\u52d9\u55ae\u5143\u3002</p> <p></p>"},{"location":"level101/linux_basics/linux_server_administration/#_15","title":"\u7ba1\u7406\u7cfb\u7d71\u670d\u52d9","text":"<p>\u670d\u52d9\u55ae\u5143\u4ee5 <code>.service</code> \u70ba\u526f\u6a94\u540d\u3002\u900f\u904e <code>systemctl</code> \u53ef\u555f\u52d5\u3001\u505c\u6b62\u3001\u91cd\u555f\u670d\u52d9\u3002</p> \u6307\u4ee4 \u529f\u80fd\u8aaa\u660e systemctl start name.service \u555f\u52d5\u670d\u52d9 systemctl stop name.service \u505c\u6b62\u670d\u52d9 systemctl restart name.service \u91cd\u555f\u670d\u52d9 systemctl status name.service \u67e5\u770b\u670d\u52d9\u72c0\u614b systemctl reload name.service \u91cd\u65b0\u52a0\u8f09\u670d\u52d9\u8a2d\u5b9a"},{"location":"level101/linux_basics/linux_server_administration/#_16","title":"\u65e5\u8a8c","text":"<p>\u672c\u7bc0\u4ecb\u7d39 Linux \u4e2d\u7cfb\u7d71\u8207\u61c9\u7528\u7a0b\u5f0f\u5e38\u7528\u7684\u65e5\u8a8c\u6a94\u6848\u8207\u76ee\u9304\uff0c\u5c0d\u7cfb\u7d71\u6545\u969c\u6392\u9664\u975e\u5e38\u6709\u7528\u3002</p> <p></p>"},{"location":"level101/linux_networking/conclusion/","title":"\u7d50\u8ad6","text":"<p>\u81f3\u6b64\uff0c\u6211\u5011\u5df2\u5b8c\u6574\u700f\u89bd\u4e86 TCP/IP \u5354\u5b9a\u68e7\u3002\u5e0c\u671b\u5728\u8ab2\u7a0b\u7d50\u675f\u5f8c\uff0c\u7576\u5927\u5bb6\u5728\u700f\u89bd\u5668\u958b\u555f\u4efb\u4f55\u7db2\u7ad9\u6642\uff0c\u80fd\u5920\u6709\u4e0d\u540c\u7684\u8996\u89d2\u3002</p> <p>\u5728\u8ab2\u7a0b\u4e2d\uff0c\u6211\u5011\u4e5f\u5256\u6790\u4e86\u9019\u500b\u6d41\u7a0b\u4e2d\u5e38\u898b\u7684\u4efb\u52d9\uff0c\u9019\u4e9b\u90fd\u5c6c\u65bc SRE \u7684\u7bc4\u7587\u3002</p>"},{"location":"level101/linux_networking/conclusion/#_2","title":"\u8ab2\u5f8c\u7df4\u7fd2","text":"<ol> <li>\u5728 <code>dev</code> \u74b0\u5883\u4e2d\u67b6\u8a2d\u81ea\u5df1\u7684 DNS \u89e3\u6790\u5668\uff0c\u4f5c\u70ba <code>example.com</code> \u7684\u6b0a\u5a01 DNS \u4f3a\u670d\u5668\uff0c\u4e26\u70ba\u5176\u4ed6\u7db2\u57df\u8f49\u767c\u89e3\u6790\u8acb\u6c42\u3002\u66f4\u65b0 <code>resolv.conf</code> \u4f7f\u7528\u5728 <code>localhost</code> \u57f7\u884c\u7684\u65b0 DNS \u89e3\u6790\u5668\u3002</li> <li>\u5728 <code>localhost</code> \u67b6\u8a2d\u4e00\u500b\u540d\u70ba <code>dummy.example.com</code> \u7684\u7db2\u7ad9\uff0c\u4e26\u4f7f\u7528\u81ea\u7c3d\u7ae0\u6191\u8b49\u57f7\u884c\u7db2\u9801\u4f3a\u670d\u5668\u3002\u66f4\u65b0\u53d7\u4fe1\u4efb\u7684\u6191\u8b49\u6388\u6b0a\uff0c\u6216\u4ee5\u53c3\u6578\u50b3\u5165\u81ea\u7c3d\u7ae0 CA \u7684\u516c\u9470\uff0c\u4f7f\u5f97\u57f7\u884c <code>curl https://dummy.example.com -v</code> \u6642\u4e0d\u6703\u51fa\u73fe\u81ea\u7c3d\u7ae0\u6191\u8b49\u8b66\u544a\u3002</li> <li>\u66f4\u65b0\u8def\u7531\u8868\uff0c\u4f7f\u7528\u540c\u4e00\u7db2\u8def\u5167\u53e6\u4e00\u53f0\u4e3b\u6a5f\uff08container/VM\uff09\u4f5c\u70ba <code>8.8.8.8/32</code> \u7684\u9598\u9053\uff0c\u4e26\u57f7\u884c <code>ping 8.8.8.8</code>\u3002\u540c\u6642\u5c0d\u65b0\u9598\u9053\u9032\u884c\u5c01\u5305\u64f7\u53d6\uff0c\u78ba\u8a8d L3 \u8df3\u8f49\u5982\u9810\u671f\u822c\u904b\u4f5c\uff08\u53ef\u80fd\u9700\u8981\u505c\u7528 <code>icmp_redirect</code>\uff09\u3002</li> </ol>"},{"location":"level101/linux_networking/dns/","title":"DNS","text":"<p>\u7db2\u57df\u540d\u7a31\u662f\u7db2\u7ad9\u7684\u4eba\u985e\u6613\u8b80\u540d\u7a31\u3002\u7db2\u969b\u7db2\u8def\u53ea\u8a8d\u8b58 IP \u4f4d\u5740\uff0c\u4f46\u7531\u65bc\u8a18\u61b6\u4e00\u4e32\u6beb\u7121\u610f\u7fa9\u7684\u6578\u5b57\u4e0d\u5be6\u969b\uff0c\u56e0\u6b64\u6539\u7528\u7db2\u57df\u540d\u7a31\u3002\u9019\u4e9b\u7db2\u57df\u540d\u7a31\u6703\u7531 DNS \u57fa\u790e\u67b6\u69cb\u8f49\u63db\u6210 IP \u4f4d\u5740\u3002\u7576\u6709\u4eba\u5617\u8a66\u5728\u700f\u89bd\u5668\u4e2d\u6253\u958b www.linkedin.com \u6642\uff0c\u700f\u89bd\u5668\u6703\u5617\u8a66\u5c07 www.linkedin.com \u8f49\u63db\u6210 IP \u4f4d\u5740\u3002\u6b64\u904e\u7a0b\u7a31\u70ba DNS \u89e3\u6790\u3002\u4e0b\u9762\u7528\u7c21\u55ae\u7684\u507d\u4ee3\u78bc\u63cf\u8ff0\u9019\u500b\u904e\u7a0b\uff1a</p> <pre><code>ip, err = getIPAddress(domainName)\nif err:\n  print(\"unknown Host Exception while trying to resolve:%s\".format(domainName))\n</code></pre> <p>\u73fe\u5728\uff0c\u8b93\u6211\u5011\u4e86\u89e3 <code>getIPAddress</code> \u51fd\u6578\u5167\u90e8\u6703\u505a\u4ec0\u9ebc\u3002\u700f\u89bd\u5668\u6703\u6709\u81ea\u5df1\u7684 DNS \u5feb\u53d6\uff0c\u6703\u5148\u6aa2\u67e5\u662f\u5426\u5df2\u6709\u5c0d\u61c9\u7684 <code>domainName</code> \u5230 IP \u4f4d\u5740\u7684\u6620\u5c04\uff0c\u82e5\u6709\uff0c\u700f\u89bd\u5668\u4fbf\u76f4\u63a5\u4f7f\u7528\u8a72 IP \u4f4d\u5740\u3002\u82e5\u7121\u6b64\u6620\u5c04\uff0c\u700f\u89bd\u5668\u6703\u547c\u53eb <code>gethostbyname</code> \u7cfb\u7d71\u547c\u53eb\uff0c\u8acb\u4f5c\u696d\u7cfb\u7d71\u627e\u51fa\u8a72 <code>domainName</code> \u5c0d\u61c9\u7684 IP \u4f4d\u5740\u3002</p> <pre><code>def getIPAddress(domainName):\n    resp, fail = lookupCache(domainName)\n    If not fail:\n       return resp\n    else:\n       resp, err = gethostbyname(domainName)\n       if err:\n         return null, err\n       else:\n          return resp\n</code></pre> <p>\u63a5\u8457\uff0c\u6211\u5011\u7406\u89e3\u7576\u547c\u53eb gethostbyname \u51fd\u6578\u6642\uff0c\u4f5c\u696d\u7cfb\u7d71\u6838\u5fc3\u6703\u505a\u4ec0\u9ebc\u3002Linux \u4f5c\u696d\u7cfb\u7d71\u6703\u67e5\u770b\u6a94\u6848 /etc/nsswitch.conf\uff0c\u901a\u5e38\u6703\u6709\u4e00\u884c\uff1a</p> <pre><code>hosts:      files dns\n</code></pre> <p>\u6b64\u884c\u8868\u793a\u4f5c\u696d\u7cfb\u7d71\u5148\u67e5\u627e\u6a94\u6848 (<code>/etc/hosts</code>)\uff0c\u82e5\u7121\u5c0d\u61c9\uff0c\u5247\u4f7f\u7528 DNS \u5354\u5b9a\u9032\u884c\u89e3\u6790\u3002</p> <p><code>/etc/hosts</code> \u6a94\u6848\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p>IP \u4f4d\u5740 \u5b8c\u6574\u7db2\u57df\u540d\u7a31 [\u5b8c\u6574\u7db2\u57df\u540d\u7a31].*</p> <pre><code>127.0.0.1 localhost.localdomain localhost\n::1 localhost.localdomain localhost\n</code></pre> <p>\u82e5\u8a72\u6a94\u6848\u4e2d\u5b58\u5728\u5c0d\u61c9\u6b64\u7db2\u57df\u7684\u6620\u5c04\uff0c\u4f5c\u696d\u7cfb\u7d71\u5373\u56de\u50b3\u8a72 IP \u4f4d\u5740\u3002\u8b93\u6211\u5011\u5728\u6b64\u6a94\u6848\u65b0\u589e\u4e00\u884c\uff1a</p> <pre><code>127.0.0.1 test.linkedin.com\n</code></pre> <p>\u7136\u5f8c\u57f7\u884c ping \u547d\u4ee4\u53bb\u6e2c\u8a66 test.linkedin.com\u3002</p> <pre><code>ping test.linkedin.com -n\n</code></pre> <pre><code>PING test.linkedin.com (127.0.0.1) 56(84) bytes of data.\n64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.047 ms\n64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.036 ms\n64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.037 ms\n</code></pre> <p>\u5982\u524d\u6240\u8ff0\uff0c\u82e5 <code>/etc/hosts</code> \u4e2d\u6c92\u6709\u5c0d\u61c9\uff0c\u4f5c\u696d\u7cfb\u7d71\u6703\u900f\u904e DNS \u5354\u5b9a\u5617\u8a66\u89e3\u6790\u3002Linux \u7cfb\u7d71\u6703\u5411 <code>/etc/resolv.conf</code> \u4e2d\u7684\u7b2c\u4e00\u500b IP \u767c\u9001 DNS \u8acb\u6c42\u3002\u82e5\u7121\u56de\u61c9\uff0c\u6703\u4f9d\u5e8f\u5411 <code>resolv.conf</code> \u4e2d\u5176\u4ed6\u4f3a\u670d\u5668\u8acb\u6c42\u3002\u9019\u4e9b\u4f3a\u670d\u5668\u7a31\u70ba DNS \u89e3\u6790\u5668\u3002DNS \u89e3\u6790\u5668\u901a\u5e38\u7531 DHCP \u6216\u7cfb\u7d71\u7ba1\u7406\u54e1\u975c\u614b\u8a2d\u5b9a\u914d\u7f6e\u3002 Dig \u662f\u4e00\u500b\u7528\u6236\u7a7a\u9593\u7684 DNS \u5de5\u5177\uff0c\u53ef\u5efa\u7acb\u4e26\u767c\u9001 DNS \u8acb\u6c42\u7d66\u89e3\u6790\u5668\uff0c\u4e26\u5c07\u56de\u61c9\u8f38\u51fa\u5728\u7d42\u7aef\u6a5f\u3002</p> <pre><code># \u5728\u4e00\u500b shell \u4e2d\u57f7\u884c\u6b64\u6307\u4ee4\u4ee5\u6355\u6349\u6240\u6709 DNS \u8acb\u6c42\nsudo tcpdump -s 0 -A -i any port 53\n# \u5728\u53e6\u4e00\u500b shell \u4e2d\u767c\u9001 dig \u8acb\u6c42\ndig linkedin.com\n</code></pre> <pre><code>13:19:54.432507 IP 172.19.209.122.56497 &gt; 172.23.195.101.53: 527+ [1au] A? linkedin.com. (41)\n....E..E....@.n....z...e...5.1.:... .........linkedin.com.......)........\n13:19:54.485131 IP 172.23.195.101.53 &gt; 172.19.209.122.56497: 527 1/0/1 A 108.174.10.10 (57)\n....E..U..@.|.  ....e...z.5...A...............linkedin.com..............3..l.\n\n..)........\n</code></pre> <p>\u5c01\u5305\u622a\u53d6\u986f\u793a\u5411 <code>172.23.195.101:53</code>\uff08\u5373 <code>/etc/resolv.conf</code> \u4e2d\u7684\u89e3\u6790\u5668\uff09\u9001\u51fa linkedin.com \u7684 DNS \u8acb\u6c42\uff0c\u4e26\u7531 <code>172.23.195.101</code> \u56de\u50b3 linkedin.com \u7684 IP \u4f4d\u5740 <code>108.174.10.10</code>\u3002</p> <p>\u73fe\u5728\uff0c\u6211\u5011\u4f86\u4e86\u89e3 DNS \u89e3\u6790\u5668\u5982\u4f55\u5c0b\u627e linkedin.com \u7684 IP \u4f4d\u5740\u3002DNS \u89e3\u6790\u5668\u9996\u5148\u67e5\u770b\u5feb\u53d6\u3002\u7531\u65bc\u7db2\u8def\u4e2d\u8a31\u591a\u88dd\u7f6e\u90fd\u53ef\u80fd\u67e5\u8a62\u6b64\u7db2\u57df\u540d\u7a31\uff0c\u56e0\u6b64\u89e3\u6790\u7d50\u679c\u53ef\u80fd\u5df2\u6709\u5feb\u53d6\u3002\u82e5\u5feb\u53d6\u5931\u6557\uff0c\u958b\u59cb DNS \u89e3\u6790\u6d41\u7a0b\u3002DNS \u4f3a\u670d\u5668\u6703\u5c07 \u201clinkedin.com\u201d \u62c6\u89e3\u6210 \u201c.\u201d\u3001 \u201ccom.\u201d \u8207 \u201clinkedin.com.\u201d\uff0c\u4e26\u5f9e \u201c.\u201d \u958b\u59cb\u89e3\u6790\u3002\u201c.\u201d \u662f\u7a31\u70ba\u6839\u7db2\u57df\uff08Root Domain\uff09\uff0c\u5176 IP \u662f\u89e3\u6790\u5668\u5df2\u77e5\u7684\u3002DNS \u89e3\u6790\u5668\u8a62\u554f\u6839\u57df\u540d\u4f3a\u670d\u5668\u4ee5\u5c0b\u627e\u5c0d\u300ccom.\u300d\u8ca0\u8cac\u7684\u9802\u5c64\u57df\uff08TLD\uff09\u4f3a\u670d\u5668\u3002\u53d6\u5f97 \u201ccom.\u201d \u7684 TLD \u57df\u540d\u4f3a\u670d\u5668\u4f4d\u5740\u5f8c\uff0c\u518d\u67e5\u8a62\u8a72 TLD \u57df\u540d\u4f3a\u670d\u5668\u4ee5\u7372\u5f97 \u201clinkedin.com\u201d \u7684\u6b0a\u5a01\u57df\u540d\u4f3a\u670d\u5668\u3002\u6700\u5f8c\uff0c\u89e3\u6790\u5668\u518d\u67e5\u8a62 LinkedIn \u7684\u6b0a\u5a01\u57df\u540d\u4f3a\u670d\u5668\u4ee5\u53d6\u5f97 \u201clinkedin.com\u201d \u7684 IP \u4f4d\u5740\u3002\u6574\u500b\u6d41\u7a0b\u53ef\u900f\u904e\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4\u89c0\u5bdf\uff1a</p> <pre><code>dig +trace linkedin.com\n</code></pre> <pre><code>linkedin.com.       3600    IN  A   108.174.10.10\n</code></pre> <p>\u6b64 DNS \u56de\u61c9\u6709\u4e94\u500b\u6b04\u4f4d\uff0c\u7b2c\u4e00\u6b04\u662f\u67e5\u8a62\u5c0d\u8c61\uff0c\u6700\u5f8c\u4e00\u6b04\u662f\u56de\u61c9\u7d50\u679c\u3002\u7b2c\u4e8c\u6b04\u662f\u5b58\u6d3b\u6642\u9593\uff08TTL\uff0cTime-to-Live\uff09\uff0c\u8868\u793a DNS \u56de\u61c9\u7684\u6709\u6548\u79d2\u6578\u3002\u6b64\u4f8b\u4e2d\u5b57\u4e32\u5c0d\u61c9\u7684 IP \u6709\u6548\u6642\u9593\u70ba 1 \u5c0f\u6642\u3002\u9019\u5c31\u662f\u70ba\u4ec0\u9ebc\u89e3\u6790\u5668\u8207\u61c9\u7528\u7a0b\u5f0f\uff08\u700f\u89bd\u5668\uff09\u6703\u4fdd\u7559\u5feb\u53d6\u7684\u65b9\u5f0f\u3002\u8d85\u904e 1 \u5c0f\u6642\u5f8c\uff0c\u518d\u6b21\u8acb\u6c42 linkedin.com \u5c07\u88ab\u8996\u70ba\u5feb\u53d6\u5931\u6548\uff0c\u5fc5\u9808\u91cd\u65b0\u9032\u884c\u6574\u500b\u89e3\u6790\u6d41\u7a0b\u3002 \u7b2c\u56db\u6b04\u8868\u793a DNS \u56de\u61c9/\u8acb\u6c42\u7684\u985e\u578b\u3002\u5e38\u898b\u7684 DNS \u67e5\u8a62\u985e\u578b\u5305\u62ec A, AAAA, NS, TXT, PTR, MX \u8207 CNAME\u3002</p> <ul> <li>A \u7d00\u9304\u56de\u50b3\u7db2\u57df\u7684 IPv4 \u4f4d\u5740</li> <li>AAAA \u7d00\u9304\u56de\u50b3\u7db2\u57df\u7684 IPv6 \u4f4d\u5740</li> <li>NS \u7d00\u9304\u56de\u50b3\u8a72\u7db2\u57df\u7684\u6b0a\u5a01\u540d\u7a31\u4f3a\u670d\u5668</li> <li>CNAME \u7d00\u9304\u70ba\u7db2\u57df\u5225\u540d\u3002\u6709\u4e9b\u7db2\u57df\u6307\u5411\u5176\u4ed6\u7db2\u57df\uff0c\u89e3\u8b6f\u8a72\u5225\u540d\u7db2\u57df\u6703\u56de\u50b3 IP\uff0c\u800c\u9019 IP \u4e5f\u9069\u7528\u65bc\u539f\u5148\u7684\u7db2\u57df\u3002\u4f8b\u5982 www.linkedin.com \u7684 IP \u5c31\u8207 <code>2-01-2c3e-005a.cdx.cedexis.net</code> \u76f8\u540c\u3002</li> <li>\u70ba\u7c21\u6f54\u8d77\u898b\uff0c\u672c\u7bc7\u4e0d\u6df1\u5165\u8a0e\u8ad6\u5176\u4ed6 DNS \u7d00\u9304\u985e\u578b\uff0c\u8a73\u7d30 RFC \u53ef\u53c3\u8003\u6b64\u8655\u3002</li> </ul> <pre><code>dig A linkedin.com +short\n108.174.10.10\n\ndig AAAA linkedin.com +short\n2620:109:c002::6cae:a0a\n\ndig NS linkedin.com +short\ndns3.p09.nsone.net.\ndns4.p09.nsone.net.\ndns2.p09.nsone.net.\nns4.p43.dynect.net.\nns1.p43.dynect.net.\nns2.p43.dynect.net.\nns3.p43.dynect.net.\ndns1.p09.nsone.net.\n\ndig www.linkedin.com CNAME +short\n2-01-2c3e-005a.cdx.cedexis.net.\n</code></pre> <p>\u6709\u4e86 DNS \u7684\u57fa\u790e\u77e5\u8b58\uff0c\u6211\u5011\u4f86\u770b\u770b SRE\uff08Site Reliability Engineer\uff09\u89d2\u8272\u4e2d DNS \u7684\u61c9\u7528\u5834\u666f\u3002</p>"},{"location":"level101/linux_networking/dns/#sre","title":"SRE \u89d2\u8272\u4e2d\u7684\u61c9\u7528","text":"<p>\u672c\u7bc0\u6db5\u84cb SRE \u80fd\u5f9e DNS \u5c0e\u51fa\u7684\u4e00\u4e9b\u5e38\u898b\u89e3\u6c7a\u65b9\u6848\u3002</p> <ol> <li>\u6bcf\u5bb6\u516c\u53f8\u90fd\u5fc5\u9808\u7dad\u8b77\u5167\u90e8 DNS \u57fa\u790e\u67b6\u69cb\uff0c\u652f\u63f4\u4f01\u696d\u5167\u7db2\u7db2\u7ad9\u8207\u5167\u90e8\u670d\u52d9\uff08\u8cc7\u6599\u5eab\u3001\u5167\u90e8\u61c9\u7528\u5982 Wiki \u7b49\uff09\u3002\u57fa\u790e\u67b6\u69cb\u5718\u968a\u9700\u7dad\u8b77\u9019\u5957 DNS \u7cfb\u7d71\u3002\u6b64\u57fa\u790e\u67b6\u69cb\u5fc5\u9808\u512a\u5316\u4e26\u5177\u5099\u53ef\u64f4\u5c55\u6027\uff0c\u907f\u514d\u6210\u70ba\u55ae\u9ede\u6545\u969c\u4f86\u6e90\u3002\u5167\u90e8 DNS \u7684\u6545\u969c\u53ef\u80fd\u5c0e\u81f4\u5fae\u670d\u52d9 API \u547c\u53eb\u5931\u6557\uff0c\u9032\u800c\u5f15\u8d77\u7d1a\u806f\u6548\u61c9\u3002</li> <li>DNS \u53ef\u7528\u65bc\u670d\u52d9\u767c\u73fe\uff0c\u4f8b\u5982\u4e3b\u6a5f\u540d\u7a31 <code>serviceb.internal.example.com</code> \u53ef\u5217\u8209\u5728 <code>example.com</code> \u4f01\u696d\u5167\u90e8\u57f7\u884c\u670d\u52d9 <code>b</code> \u7684\u5be6\u4f8b\u3002\u96f2\u7aef\u4f9b\u61c9\u5546\u63d0\u4f9b\u555f\u7528 DNS \u670d\u52d9\u767c\u73fe\u7684\u9078\u9805\uff08\u7bc4\u4f8b\uff09\u3002</li> <li>DNS \u88ab\u96f2\u7aef\u53ca CDN \u4f9b\u61c9\u5546\u7528\u65bc\u670d\u52d9\u64f4\u5c55\u3002\u5728 Azure/AWS \u4e2d\uff0c\u8ca0\u8f09\u5e73\u8861\u5668\u6703\u88ab\u6307\u6d3e\u4e00\u500b CNAME \u53d6\u4ee3\u76f4\u63a5 IP \u4f4d\u5740\u3002\u7576\u670d\u52d9\u64f4\u5c55\u6642\uff0c\u7cfb\u7d71\u6703\u8abf\u6574\u9019\u4e9b CNAME \u6307\u5411\u7684\u771f\u5be6 IP \u4f4d\u5740\uff0c\u9019\u4e5f\u662f\u6b64\u985e\u5225\u540d\u57df\u7684 A \u7d00\u9304\u751f\u5b58\u6642\u9593\u5e38\u7dad\u6301\u5728\u7d04 1 \u5206\u9418\u7684\u539f\u56e0\u4e4b\u4e00\u3002</li> <li>DNS \u4e5f\u80fd\u8b93\u5ba2\u6236\u7aef\u53d6\u5f97\u8ddd\u96e2\u5176\u4f4d\u7f6e\u8f03\u8fd1\u7684 IP \u4f4d\u5740\uff0c\u4f7f\u5176 HTTP \u547c\u53eb\u56de\u61c9\u901f\u5ea6\u66f4\u5feb\uff0c\u5c24\u5176\u662f\u516c\u53f8\u65bc\u4e0d\u540c\u5730\u7406\u5340\u57df\u7686\u6709\u90e8\u7f72\u3002</li> <li>SRE \u9700\u7406\u89e3 DNS \u56de\u61c9\u7f3a\u4e4f\u9a57\u8b49\u6a5f\u5236\uff0c\u5bb9\u6613\u906d\u5192\u5145\u3002\u6b64\u5b89\u5168\u554f\u984c\u7531\u5176\u5b83\u5354\u5b9a\u5982 HTTPS \u89e3\u6c7a\uff08\u5f8c\u7e8c\u6703\u63d0\u5230\uff09\uff0c\u800c DNSSEC \u53ef\u9632\u6b62\u507d\u9020\u6216\u906d\u7ac4\u6539\u7684 DNS \u56de\u61c9\u3002</li> <li>\u904e\u671f\u7684 DNS \u5feb\u53d6\u53ef\u80fd\u9020\u6210\u554f\u984c\u3002\u6709\u4e9b\u61c9\u7528 \u53ef\u80fd\u4ecd\u4f7f\u7528\u5df2\u904e\u671f\u7684 DNS \u7d00\u9304\u9032\u884c API \u547c\u53eb\uff0c\u7dad\u904b\u6642\u9700\u7279\u5225\u7559\u610f\u9019\u9ede\u3002</li> <li>DNS \u8ca0\u8f09\u5e73\u8861\u8207\u670d\u52d9\u767c\u73fe\u5fc5\u9808\u77ad\u89e3 TTL\uff0c\u56e0\u6b64\u66f4\u6539 DNS \u7d00\u9304\u5f8c\uff0c\u4f3a\u670d\u5668\u53ea\u80fd\u5728\u8a72 TTL \u671f\u9650\u904e\u5f8c\u624d\u5f9e\u6d41\u91cf\u6c60\u4e2d\u522a\u9664\u3002\u82e5\u672a\u4f9d\u6b64\u57f7\u884c\uff0c\u90e8\u5206\u6d41\u91cf\u53ef\u80fd\u6703\u5931\u6557\uff0c\u56e0\u70ba\u4f3a\u670d\u5668\u5c1a\u88ab\u5feb\u53d6\u671f\u671b\u6709\u6548\u3002</li> </ol> <p>\u4ee5\u4e0a\u4fbf\u662f DNS \u57fa\u790e\u8207 SRE \u76f8\u95dc\u61c9\u7528\u7684\u4ecb\u7d39\u3002</p>"},{"location":"level101/linux_networking/http/","title":"HTTP","text":"<p>\u5230\u76ee\u524d\u70ba\u6b62\uff0c\u6211\u5011\u53ea\u53d6\u5f97\u4e86 linkedin.com \u7684 IP \u4f4d\u5740\u3002linkedin.com \u7684 HTML \u9801\u9762\u662f\u7531\u700f\u89bd\u5668\u900f\u904e HTTP \u5354\u5b9a\u4f86\u63d0\u4f9b\u4e26\u6e32\u67d3\u7684\u3002\u700f\u89bd\u5668\u5411\u524d\u9762\u6c7a\u5b9a\u7684\u4f3a\u670d\u5668 IP \u767c\u9001 HTTP \u8acb\u6c42\u3002\u8acb\u6c42\u4e2d\u5305\u542b\u52d5\u8a5e GET\u3001PUT\u3001POST\uff0c\u5f8c\u9762\u63a5\u8def\u5f91\u8207\u67e5\u8a62\u53c3\u6578\uff0c\u4ee5\u53ca\u591a\u884c\u7684\u9375-\u503c\u5c0d\uff0c\u7528\u4f86\u63d0\u4f9b\u95dc\u65bc\u7528\u6236\u7aef\u7684\u8cc7\u8a0a\u548c\u5176\u80fd\u529b\uff0c\u4f8b\u5982\u53ef\u4ee5\u63a5\u53d7\u7684\u5167\u5bb9\u578b\u614b\uff0c\u4ee5\u53ca\u4e3b\u9ad4\uff08\u901a\u5e38\u51fa\u73fe\u5728 POST \u6216 PUT \u4e2d\uff09\u3002</p> <pre><code># \u4f8b\u5982\uff0c\u5728\u4f60\u7684\u5bb9\u5668\u4e2d\u57f7\u884c\u4e0b\u5217\u547d\u4ee4\uff0c\u89c0\u5bdf\u6a19\u982d\u5167\u5bb9\ncurl linkedin.com -v\n</code></pre> <pre><code>* Connected to linkedin.com (108.174.10.10) port 80 (#0)\n&gt; GET / HTTP/1.1\n&gt; Host: linkedin.com\n&gt; User-Agent: curl/7.64.1\n&gt; Accept: */*\n&gt; \n&lt; HTTP/1.1 301 Moved Permanently\n&lt; Date: Mon, 09 Nov 2020 10:39:43 GMT\n&lt; X-Li-Pop: prod-esv5\n&lt; X-LI-Proto: http/1.1\n&lt; Location: https://www.linkedin.com/\n&lt; Content-Length: 0\n&lt; \n* Connection #0 to host linkedin.com left intact\n* Closing connection 0\n</code></pre> <p>\u5728\u9019\u88e1\uff0c\u7b2c\u4e00\u884c\u4e2d <code>GET</code> \u662f\u52d5\u8a5e\uff0c<code>/</code> \u662f\u8def\u5f91\uff0c<code>1.1</code> \u662f HTTP \u5354\u5b9a\u7248\u672c\u3002\u63a5\u8457\u662f\u591a\u7d44\u9375\u503c\u5c0d\uff0c\u63d0\u4f9b\u5ba2\u6236\u7aef\u80fd\u529b\u8207\u4e00\u4e9b\u4f3a\u670d\u5668\u8cc7\u8a0a\u3002\u4f3a\u670d\u5668\u56de\u61c9\u5305\u542b HTTP \u7248\u672c\u3001\u72c0\u614b\u78bc\u8207\u72c0\u614b\u8a0a\u606f\u3002\u72c0\u614b\u78bc\u4e2d <code>2xx</code> \u4ee3\u8868\u6210\u529f\uff0c<code>3xx</code> \u4ee3\u8868\u91cd\u5c0e\u5411\uff0c<code>4xx</code> \u8868\u5ba2\u6236\u7aef\u932f\u8aa4\uff0c<code>5xx</code> \u8868\u4f3a\u670d\u5668\u7aef\u932f\u8aa4\u3002</p> <p>\u6211\u5011\u63a5\u8457\u4f86\u770b\u770b HTTP/1.0 \u8207 HTTP/1.1 \u7684\u5dee\u7570\u3002</p> <pre><code># \u5728\u7d42\u7aef\u6a5f\u8f38\u5165\ntelnet  www.linkedin.com 80\n# \u8907\u88fd\u4e26\u8cbc\u4e0a\u4ee5\u4e0b\u5167\u5bb9\uff0c\u4e26\u5728\u6700\u5f8c\u7a7a\u4e00\u884c\uff0c\u5728 telnet \u7684\u6a19\u6e96\u8f38\u5165\u4e2d\u5b8c\u6210\nGET / HTTP/1.1\nHOST:linkedin.com\nUSER-AGENT: curl\n\n</code></pre> <p>\u9019\u6a23\u6703\u53d6\u5f97\u4f3a\u670d\u5668\u56de\u61c9\uff0c\u4e26\u7b49\u5f85\u5f8c\u7e8c\u8f38\u5165\uff0c\u56e0\u70ba\u5230\u5e95\u5c64\u8207 www.linkedin.com \u7684\u9023\u7dda\u53ef\u4ee5\u88ab\u91cd\u8907\u4f7f\u7528\u4ee5\u57f7\u884c\u66f4\u591a\u8acb\u6c42\u3002\u900f\u904e TCP \u7684\u77e5\u8b58\u53ef\u4ee5\u7406\u89e3\u9019\u7a2e\u597d\u8655\u3002\u4f46\u5728 HTTP/1.0 \u4e2d\uff0c\u4f3a\u670d\u5668\u56de\u61c9\u5f8c\u6703\u7acb\u5373\u95dc\u9589\u9023\u7dda\uff0c\u4e5f\u5c31\u662f\u8aaa\u6bcf\u500b\u8acb\u6c42\u90fd\u9700\u8981\u65b0\u958b\u9023\u7dda\u3002HTTP/1.1 \u4e2d\uff0c\u4e00\u689d\u958b\u555f\u7684\u9023\u7dda\u4e2d\u53ea\u80fd\u6709\u4e00\u500b\u300c\u57f7\u884c\u4e2d\uff08inflight\uff09\u300d\u7684\u8acb\u6c42\uff0c\u4f46\u53ef\u4ee5\u9023\u7e8c\u4e0d\u65b7\u7528\u540c\u4e00\u689d\u9023\u7dda\u505a\u591a\u6b21\u8acb\u6c42\u3002HTTP/2.0 \u76f8\u8f03 HTTP/1.1 \u7684\u512a\u9ede\u662f\uff0c\u53ef\u540c\u6642\u6709\u591a\u500b\u57f7\u884c\u4e2d\u8acb\u6c42\u5171\u7528\u540c\u4e00\u9023\u7dda\u3002\u6211\u5011\u66ab\u4e14\u53ea\u8a0e\u8ad6\u901a\u7528 HTTP\uff0c\u800c\u4e0d\u6df1\u5165\u5404\u7248\u672c\u5354\u5b9a\u7d30\u7bc0\uff0c\u9019\u4e9b\u90fd\u80fd\u5728\u8ab2\u7a0b\u7d50\u675f\u5f8c\u638c\u63e1\u3002</p> <p>HTTP \u7a31\u4f5c\u7121\u72c0\u614b\u5354\u5b9a (stateless protocol)\u3002\u63a5\u4e0b\u4f86\u6211\u5011\u7406\u89e3\u4ec0\u9ebc\u662f\u300c\u7121\u72c0\u614b\u300d\u3002\u5047\u8a2d\u6211\u5011\u5df2\u767b\u5165 linkedin.com\uff0c\u5ba2\u6236\u7aef\u6bcf\u500b\u5411 linkedin.com \u767c\u51fa\u7684\u8acb\u6c42\u4e26\u4e0d\u8a18\u61b6\u7528\u6236\u4e0a\u4e0b\u6587\uff0c\u82e5\u6bcf\u6b21\u700f\u89bd\u7db2\u9801\u6642\u90fd\u8981\u6c42\u4f7f\u7528\u8005\u767b\u5165\uff0c\u5c07\u6beb\u7121\u610f\u7fa9\u3002HTTP \u7684\u9019\u500b\u554f\u984c\u7531 COOKIE \u89e3\u6c7a\u3002\u7576\u4f7f\u7528\u8005\u767b\u5165\u5f8c\uff0c\u6703\u5efa\u7acb\u4e00\u500b session\uff0c\u4e26\u4ee5 SET-COOKIE \u6a19\u982d\u628a session \u8b58\u5225\u78bc\u50b3\u7d66\u700f\u89bd\u5668\u3002\u700f\u89bd\u5668\u6703\u4fdd\u7559\u8a72 cookie \u76f4\u5230\u4f3a\u670d\u5668\u8a2d\u5b9a\u7684\u904e\u671f\u6642\u9593\uff0c\u4e4b\u5f8c\u6bcf\u6b21\u5411 linkedin.com \u767c\u9001\u8acb\u6c42\u90fd\u6703\u651c\u5e36 cookie\u3002\u66f4\u591a\u95dc\u65bc Cookie \u7684\u8cc7\u8a0a\u53ef\u67e5\u770b \u9019\u88e1\u3002Cookie \u662f\u50cf\u5bc6\u78bc\u4e00\u6a23\u91cd\u8981\u7684\u8cc7\u8a0a\uff0c\u4e14\u7531\u65bc HTTP \u662f\u7d14\u6587\u5b57\u5354\u5b9a\uff0c\u4e2d\u9593\u4eba\u653b\u64ca\u8005\u53ef\u4ee5\u6514\u622a\u5bc6\u78bc\u6216 cookie\uff0c\u9032\u800c\u4fb5\u72af\u7528\u6236\u96b1\u79c1\u3002\u985e\u4f3c\u5730\uff0c\u5982 DNS \u7bc0\u6240\u63d0\uff0c\u82e5 linkedin.com \u7684 IP \u88ab\u60e1\u610f\u507d\u88dd\uff0c\u6703\u5c0d\u7528\u6236\u9020\u6210\u91e3\u9b5a\u653b\u64ca\uff0c\u4ee4\u7528\u6236\u8aa4\u5c07 LinkedIn \u5bc6\u78bc\u8f38\u5165\u81f3\u60e1\u610f\u7db2\u7ad9\u3002\u70ba\u4e86\u89e3\u6c7a\u9019\u4e9b\u554f\u984c\uff0cHTTPS \u88ab\u5f15\u5165\uff0c\u4e14\u5176\u4f7f\u7528\u5fc5\u9808\u88ab\u5f37\u5236\u57f7\u884c\u3002</p> <p>HTTPS \u9700\u8981\u63d0\u4f9b\u4f3a\u670d\u5668\u8eab\u4efd\u8b58\u5225\u4ee5\u53ca\u7528\u6236\u7aef\u8207\u4f3a\u670d\u5668\u9593\u8cc7\u6599\u7684\u52a0\u5bc6\u3002\u4f3a\u670d\u5668\u7ba1\u7406\u54e1\u9700\u7522\u751f\u4e00\u5c0d\u79c1\u9470\u8207\u516c\u9470\uff0c\u4ee5\u53ca\u6191\u8b49\u8acb\u6c42\uff0c\u4e26\u7531\u6191\u8b49\u6388\u6b0a\u4e2d\u5fc3 (CA) \u7c3d\u7f72\u8a72\u8acb\u6c42\u4e26\u8f49\u6210\u6191\u8b49\u3002\u4f3a\u670d\u5668\u7ba1\u7406\u54e1\u9700\u5c07\u6191\u8b49\u8207\u79c1\u9470\u8a2d\u5b9a\u5230\u7db2\u9801\u4f3a\u670d\u5668\u4e0a\u3002\u6191\u8b49\u4e2d\u8f09\u6709\u4f3a\u670d\u5668\u8cc7\u8a0a\uff08\u4f8b\u5982\u670d\u52d9\u7684\u7db2\u57df\u540d\u7a31\u3001\u5230\u671f\u65e5\uff09\uff0c\u4ee5\u53ca\u4f3a\u670d\u5668\u7684\u516c\u9470\u3002\u79c1\u9470\u662f\u4f3a\u670d\u5668\u7684\u79d8\u5bc6\uff0c\u82e5\u79c1\u9470\u5916\u6d29\uff0c\u8a72\u4f3a\u670d\u5668\u7684\u4fe1\u4efb\u5c07\u5316\u70ba\u70cf\u6709\u3002\u9023\u7dda\u6642\uff0c\u5ba2\u6236\u7aef\u5148\u9001\u51fa HELLO\uff0c\u4f3a\u670d\u5668\u56de\u50b3\u6191\u8b49\u7d66\u5ba2\u6236\u7aef\u3002\u5ba2\u6236\u7aef\u900f\u904e\u6aa2\u67e5\u6191\u8b49\u7684\u6709\u6548\u671f\u9650\u3001\u662f\u5426\u7531\u4fe1\u4efb\u7684\u6a5f\u69cb\u7c3d\u767c\uff0c\u4ee5\u53ca\u6191\u8b49\u7684\u4e3b\u6a5f\u540d\u7a31\u662f\u5426\u8207\u4f3a\u670d\u5668\u76f8\u7b26\u7b49\u6b65\u9a5f\uff0c\u9a57\u8b49\u8a72\u6191\u8b49\u4ee5\u78ba\u4fdd\u4f3a\u670d\u5668\u6b63\u78ba\u3001\u7121\u91e3\u9b5a\u98a8\u96aa\u3002\u9a57\u8b49\u901a\u904e\u5f8c\uff0c\u5ba2\u6236\u7aef\u4f7f\u7528\u4f3a\u670d\u5668\u7684\u516c\u9470\u52a0\u5bc6\uff0c\u8207\u4f3a\u670d\u5668\u5354\u5546\u5171\u7528\u7684\u5c0d\u7a31\u91d1\u9470\u8207\u5bc6\u78bc\u6f14\u7b97\u6cd5\u3002\u9664\u4e86\u64c1\u6709\u79c1\u9470\u7684\u4f3a\u670d\u5668\u5916\uff0c\u4efb\u4f55\u4eba\u7121\u6cd5\u8b80\u61c2\u9019\u4e9b\u8cc7\u6599\u3002\u5354\u5546\u5b8c\u6210\u5f8c\uff0c\u96d9\u65b9\u4f7f\u7528\u6b64\u5c0d\u7a31\u91d1\u9470\u8207\u6f14\u7b97\u6cd5\u52a0\u5bc6\u5f80\u5f8c\u7684\u8cc7\u6599\u50b3\u8f38\uff0c\u5305\u62ec\u9996\u6b21\u7684 HTTP \u8acb\u6c42\u3002\u4e4b\u6240\u4ee5\u5f9e\u975e\u5c0d\u7a31\u52a0\u5bc6\u8f49\u70ba\u5c0d\u7a31\u52a0\u5bc6\uff0c\u662f\u56e0\u70ba\u5c0d\u7a31\u52a0\u5bc6\u901a\u5e38\u5728\u8cc7\u6e90\u4f7f\u7528\u4e0a\u8f03\u8f15\u91cf\uff0c\u907f\u514d\u5c0d\u7528\u6236\u7aef\u8a2d\u5099\u9020\u6210\u904e\u5927\u8ca0\u64d4\u3002</p> <pre><code># \u5728\u7d42\u7aef\u6a5f\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4\uff0c\u67e5\u770b\u6191\u8b49\u76f8\u95dc\u8a73\u7d30\u8cc7\u8a0a\uff0c\u5982\u4e3b\u65e8\u540d\u7a31(\u7db2\u57df\u540d\u7a31)\u3001\u767c\u884c\u8005\u8cc7\u8a0a\u3001\u5230\u671f\u65e5\ncurl https://www.linkedin.com -v \n</code></pre> <pre><code>* Connected to www.linkedin.com (13.107.42.14) port 443 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* successfully set certificate verify locations:\n*   CAfile: /etc/ssl/cert.pem\n  CApath: none\n* TLSv1.2 (OUT), TLS handshake, Client hello (1):\n} [230 bytes data]\n* TLSv1.2 (IN), TLS handshake, Server hello (2):\n{ [90 bytes data]\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n{ [3171 bytes data]\n* TLSv1.2 (IN), TLS handshake, Server key exchange (12):\n{ [365 bytes data]\n* TLSv1.2 (IN), TLS handshake, Server finished (14):\n{ [4 bytes data]\n* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\n} [102 bytes data]\n* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):\n} [1 bytes data]\n* TLSv1.2 (OUT), TLS handshake, Finished (20):\n} [16 bytes data]\n* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):\n{ [1 bytes data]\n* TLSv1.2 (IN), TLS handshake, Finished (20):\n{ [16 bytes data]\n* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384\n* ALPN, server accepted to use h2\n* Server certificate:\n*  subject: C=US; ST=California; L=Sunnyvale; O=LinkedIn Corporation; CN=www.linkedin.com\n*  start date: Oct  2 00:00:00 2020 GMT\n*  expire date: Apr  2 12:00:00 2021 GMT\n*  subjectAltName: host \"www.linkedin.com\" matched cert's \"www.linkedin.com\"\n*  issuer: C=US; O=DigiCert Inc; CN=DigiCert SHA2 Secure Server CA\n*  SSL certificate verify ok.\n* Using HTTP2, server supports multi-use\n* Connection state changed (HTTP/2 confirmed)\n* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\n* Using Stream ID: 1 (easy handle 0x7fb055808200)\n* Connection state changed (MAX_CONCURRENT_STREAMS == 100)!\n  0 82117    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n* Connection #0 to host www.linkedin.com left intact\nHTTP/2 200 \ncache-control: no-cache, no-store\npragma: no-cache\ncontent-length: 82117\ncontent-type: text/html; charset=utf-8\nexpires: Thu, 01 Jan 1970 00:00:00 GMT\nset-cookie: JSESSIONID=ajax:2747059799136291014; SameSite=None; Path=/; Domain=.www.linkedin.com; Secure\nset-cookie: lang=v=2&amp;lang=en-us; SameSite=None; Path=/; Domain=linkedin.com; Secure\nset-cookie: bcookie=\"v=2&amp;70bd59e3-5a51-406c-8e0d-dd70befa8890\"; domain=.linkedin.com; Path=/; Secure; Expires=Wed, 09-Nov-2022 22:27:42 GMT; SameSite=None\nset-cookie: bscookie=\"v=1&amp;202011091050107ae9b7ac-fe97-40fc-830d-d7a9ccf80659AQGib5iXwarbY8CCBP94Q39THkgUlx6J\"; domain=.www.linkedin.com; Path=/; Secure; Expires=Wed, 09-Nov-2022 22:27:42 GMT; HttpOnly; SameSite=None\nset-cookie: lissc=1; domain=.linkedin.com; Path=/; Secure; Expires=Tue, 09-Nov-2021 10:50:10 GMT; SameSite=None\nset-cookie: lidc=\"b=VGST04:s=V:r=V:g=2201:u=1:i=1604919010:t=1605005410:v=1:sig=AQHe-KzU8i_5Iy6MwnFEsgRct3c9Lh5R\"; Expires=Tue, 10 Nov 2020 10:50:10 GMT; domain=.linkedin.com; Path=/; SameSite=None; Secure\nx-fs-txn-id: 2b8d5409ba70\nx-fs-uuid: 61bbf94956d14516302567fc882b0000\nexpect-ct: max-age=86400, report-uri=\"https://www.linkedin.com/platform-telemetry/ct\"\nx-xss-protection: 1; mode=block\ncontent-security-policy-report-only: default-src 'none'; connect-src 'self' www.linkedin.com www.google-analytics.com https://dpm.demdex.net/id lnkd.demdex.net blob: https://linkedin.sc.omtrdc.net/b/ss/ static.licdn.com static-exp1.licdn.com static-exp2.licdn.com static-exp3.licdn.com; script-src 'sha256-THuVhwbXPeTR0HszASqMOnIyxqEgvGyBwSPBKBF/iMc=' 'sha256-PyCXNcEkzRWqbiNr087fizmiBBrq9O6GGD8eV3P09Ik=' 'sha256-2SQ55Erm3CPCb+k03EpNxU9bdV3XL9TnVTriDs7INZ4=' 'sha256-S/KSPe186K/1B0JEjbIXcCdpB97krdzX05S+dHnQjUs=' platform.linkedin.com platform-akam.linkedin.com platform-ecst.linkedin.com platform-azur.linkedin.com static.licdn.com static-exp1.licdn.com static-exp2.licdn.com static-exp3.licdn.com; img-src data: blob: *; font-src data: *; style-src 'self' 'unsafe-inline' static.licdn.com static-exp1.licdn.com static-exp2.licdn.com static-exp3.licdn.com; media-src dms.licdn.com; child-src blob: *; frame-src 'self' lnkd.demdex.net linkedin.cdn.qualaroo.com; manifest-src 'self'; report-uri https://www.linkedin.com/platform-telemetry/csp?f=g\ncontent-security-policy: default-src *; connect-src 'self' https://media-src.linkedin.com/media/ www.linkedin.com s.c.lnkd.licdn.com m.c.lnkd.licdn.com s.c.exp1.licdn.com s.c.exp2.licdn.com m.c.exp1.licdn.com m.c.exp2.licdn.com wss://*.linkedin.com dms.licdn.com https://dpm.demdex.net/id lnkd.demdex.net blob: https://accounts.google.com/gsi/status https://linkedin.sc.omtrdc.net/b/ss/ www.google-analytics.com static.licdn.com static-exp1.licdn.com static-exp2.licdn.com static-exp3.licdn.com media.licdn.com media-exp1.licdn.com media-exp2.licdn.com media-exp3.licdn.com; img-src data: blob: *; font-src data: *; style-src 'unsafe-inline' 'self' static-src.linkedin.com *.licdn.com; script-src 'report-sample' 'unsafe-inline' 'unsafe-eval' 'self' spdy.linkedin.com static-src.linkedin.com *.ads.linkedin.com *.licdn.com static.chartbeat.com www.google-analytics.com ssl.google-analytics.com bcvipva02.rightnowtech.com www.bizographics.com sjs.bizographics.com js.bizographics.com d.la4-c1-was.salesforceliveagent.com slideshare.www.linkedin.com https://snap.licdn.com/li.lms-analytics/ platform.linkedin.com platform-akam.linkedin.com platform-ecst.linkedin.com platform-azur.linkedin.com; object-src 'none'; media-src blob: *; child-src blob: lnkd-communities: voyager: *; frame-ancestors 'self'; report-uri https://www.linkedin.com/platform-telemetry/csp?f=l\nx-frame-options: sameorigin\nx-content-type-options: nosniff\nstrict-transport-security: max-age=2592000\nx-li-fabric: prod-lva1\nx-li-pop: afd-prod-lva1\nx-li-proto: http/2\nx-li-uuid: Ybv5SVbRRRYwJWf8iCsAAA==\nx-msedge-ref: Ref A: CFB9AC1D2B0645DDB161CEE4A4909AEF Ref B: BOM02EDGE0712 Ref C: 2020-11-09T10:50:10Z\ndate: Mon, 09 Nov 2020 10:50:10 GMT\n\n* Closing connection 0\n</code></pre> <p>\u5728\u9019\u88e1\uff0c\u6211\u7684\u7cfb\u7d71\u4fe1\u4efb\u7684\u6191\u8b49\u6388\u6b0a\u4e2d\u5fc3\u6e05\u55ae\u5b58\u653e\u65bc <code>/etc/ssl/cert.pem</code>\u3002cURL \u6703\u6aa2\u67e5\u6191\u8b49\u4e2d\u7684 CN\uff08\u4e3b\u65e8\u540d\u7a31\uff09\u90e8\u5206\u662f\u5426\u70ba www.linkedin.com\uff0c\u540c\u6642\u78ba\u8a8d\u6191\u8b49\u672a\u904e\u671f\uff0c\u4e26\u4f7f\u7528\u7c3d\u767c\u8005 DigiCert \u7684\u516c\u9470\uff08\u540c\u6a23\u5b58\u5728 <code>/etc/ssl/cert.pem</code>\uff09\u9a57\u8b49\u6191\u8b49\u7c3d\u7ae0\u3002\u9a57\u8b49\u901a\u904e\u5f8c\uff0c\u4f7f\u7528 www.linkedin.com \u7684\u516c\u9470\u5354\u5546\u5bc6\u78bc\u5957\u4ef6 <code>TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</code> \u8207\u5c0d\u7a31\u91d1\u9470\u3002\u96a8\u5f8c\u5305\u542b\u9996\u6b21 HTTP \u8acb\u6c42\u7684\u8cc7\u6599\u50b3\u8f38\u7686\u6703\u4f7f\u7528\u8a72\u5bc6\u78bc\u5957\u4ef6\u53ca\u5c0d\u7a31\u91d1\u9470\u9032\u884c\u52a0\u5bc6\u3002</p>"},{"location":"level101/linux_networking/intro/","title":"Linux \u7db2\u8def\u57fa\u790e","text":""},{"location":"level101/linux_networking/intro/#_1","title":"\u5148\u5099\u77e5\u8b58","text":"<ul> <li>\u5c0d TCP/IP \u5354\u8b70\u5806\u758a\u4e2d\u5e38\u7528\u8853\u8a9e\u5982 DNS\u3001TCP\u3001UDP \u548c HTTP \u6709\u9ad8\u968e\u8a8d\u8b58</li> <li>Linux \u6307\u4ee4\u884c\u57fa\u790e</li> </ul>"},{"location":"level101/linux_networking/intro/#_2","title":"\u672c\u8ab2\u7a0b\u7684\u5b78\u7fd2\u671f\u5f85","text":"<p>\u5728\u6574\u500b\u8ab2\u7a0b\u4e2d\uff0c\u6211\u5011\u6703\u8b1b\u89e3\u7ad9\u9ede\u53ef\u9760\u6027\u5de5\u7a0b\u5e2b\uff08SRE\uff09\u5982\u4f55\u512a\u5316\u7cfb\u7d71\u4ee5\u63d0\u5347\u5176\u7db2\u8def\u5806\u758a\u7684\u6548\u80fd\uff0c\u4ee5\u53ca\u7576\u7db2\u8def\u5806\u758a\u4e2d\u4efb\u4e00\u5c64\u51fa\u73fe\u554f\u984c\u6642\u5982\u4f55\u9032\u884c\u6545\u969c\u6392\u9664\u3002\u672c\u8ab2\u7a0b\u5c07\u6df1\u5165\u63a2\u8a0e\u50b3\u7d71 TCP/IP \u5354\u8b70\u5806\u758a\u7684\u6bcf\u4e00\u5c64\uff0c\u671f\u671b SRE \u80fd\u5920\u5c0d\u7db2\u969b\u7db2\u8def\u7684\u904b\u4f5c\u6709\u8d85\u8d8a\u6982\u89c0\u7684\u6e05\u6670\u8a8d\u77e5\u3002</p>"},{"location":"level101/linux_networking/intro/#_3","title":"\u672c\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u7684\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u8457\u91cd\u5728\u57fa\u790e\u77e5\u8b58\u3002\u6211\u5011\u4e0d\u6703\u6db5\u84cb\u5982 HTTP/2.0\u3001QUIC\u3001TCP \u64c1\u585e\u63a7\u5236\u5354\u8b70\u3001Anycast\u3001BGP\u3001CDN\u3001\u901a\u9053\u6280\u8853 \u53ca \u591a\u64ad \u7b49\u6982\u5ff5\u3002\u6211\u5011\u671f\u671b\u672c\u8ab2\u7a0b\u80fd\u63d0\u4f9b\u5b78\u7fd2\u9019\u4e9b\u6982\u5ff5\u6240\u9700\u7684\u76f8\u95dc\u57fa\u790e\u3002</p>"},{"location":"level101/linux_networking/intro/#_4","title":"\u8ab2\u7a0b\u6982\u89bd","text":"<p>\u672c\u8ab2\u7a0b\u63a2\u8a0e\u554f\u984c\uff1a\u300c\u7576\u4f60\u5728\u700f\u89bd\u5668\u4e2d\u958b\u555f linkedin.com \u6642\uff0c\u6703\u767c\u751f\u4ec0\u9ebc\u4e8b\uff1f\u300d\u8ab2\u7a0b\u6309\u7167 TCP/IP \u5354\u5b9a\u5806\u758a\u7684\u6d41\u7a0b\u9032\u884c\u8b1b\u89e3\u3002\u66f4\u5177\u9ad4\u5730\uff0c\u672c\u8ab2\u7a0b\u6db5\u84cb\u61c9\u7528\u5c64\u5354\u8b70\uff08DNS \u548c HTTP\uff09\u3001\u904b\u8f38\u5c64\u5354\u8b70\uff08UDP \u548c TCP\uff09\u3001\u7db2\u8def\u5c64\u5354\u8b70\uff08IP\uff09\u4ee5\u53ca\u8cc7\u6599\u93c8\u8def\u5c64\u5354\u8b70\u7b49\u4e3b\u984c\u3002</p>"},{"location":"level101/linux_networking/intro/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ol> <li>DNS</li> <li>UDP</li> <li>HTTP</li> <li>TCP</li> <li>IP \u8def\u7531</li> </ol>"},{"location":"level101/linux_networking/ipr/","title":"IP \u8def\u7531\u8207\u8cc7\u6599\u9023\u7d50\u5c64","text":"<p>\u6211\u5011\u5c07\u6df1\u5165\u4e86\u89e3\u96e2\u958b\u7528\u6236\u7aef\u7684\u5c01\u5305\u5982\u4f55\u62b5\u9054\u4f3a\u670d\u5668\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\u7576\u5c01\u5305\u5230\u9054 IP \u5c64\u6642\uff0c\u50b3\u8f38\u5c64\u6703\u586b\u5165\u4f86\u6e90\u57e0\u8207\u76ee\u6a19\u57e0\u3002IP/\u7db2\u8def\u5c64\u6703\u586b\u5165\u76ee\u6a19 IP\uff08\u5f9e DNS \u63a2\u5f97\uff09\uff0c\u7136\u5f8c\u5728\u8def\u7531\u8868\u4e0a\u67e5\u627e\u81f3\u76ee\u6a19 IP \u7684\u8def\u5f91\u3002</p> <pre><code># Linux `route -n` \u6307\u4ee4\u986f\u793a\u9810\u8a2d\u7684\u8def\u7531\u8868\nroute -n\n</code></pre> <pre><code>Kernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         172.17.0.1      0.0.0.0         UG    0      0        0 eth0\n172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 eth0\n</code></pre> <p>\u6b64\u8655\uff0c\u76ee\u7684\u5730 IP \u8207 Genmask \u9032\u884c\u4f4d\u5143\u8207\u904b\u7b97\uff08AND\uff09\uff0c\u82e5\u7d50\u679c\u8207\u8def\u7531\u8868\u4e2d\u7684\u76ee\u7684\u5730\u6b04\u4f4d\u76f8\u540c\uff0c\u5247\u6703\u9078\u64c7\u8a72\u9598\u9053\u5668\uff08Gateway\uff09\u53ca\u4ecb\u9762\u505a\u8def\u7531\u3002\u6b64\u4f8b\u4e2d linkedin.com \u7684 IP <code>108.174.10.10</code> \u8207 <code>255.255.255.0</code> \u505a AND \u904b\u7b97\u5f8c\u5f97\u5230 <code>108.174.10.0</code>\uff0c\u4e26\u672a\u8207\u8def\u7531\u8868\u4e2d\u4efb\u4e00\u76ee\u7684\u5730\u6b04\u4f4d\u76f8\u7b26\u3002\u63a5\u8457 Linux \u5c07\u76ee\u7684\u5730 IP \u8207 <code>0.0.0.0</code> \u505a AND \u904b\u7b97\uff0c\u7d50\u679c\u70ba <code>0.0.0.0</code>\uff0c\u7b26\u5408\u9810\u8a2d\u8def\u7531\u5217\u3002</p> <p>\u8def\u7531\u8868\u6703\u4f9d Genmask \u4e2d\u8a2d\u5b9a\u70ba 1 \u7684\u4f4d\u5143\u6578\u591a\u5be1\u4f86\u6392\u5e8f\u8655\u7406\uff0c\u82e5\u7121\u5339\u914d\u6642\uff0cGenmask \u70ba <code>0.0.0.0</code> \u7684\u5217\u5373\u70ba\u9810\u8a2d\u8def\u7531\u3002 \u6b64\u6b65\u9a5f\u7d50\u675f\u5f8c\uff0cLinux \u6c7a\u5b9a\u8981\u900f\u904e\u4ecb\u9762 <code>eth0</code> \u5c07\u5c01\u5305\u9001\u5230\u4e0b\u4e00\u8df3\u8def\u7531\u5668 <code>172.17.0.1</code>\u3002\u5c01\u5305\u7684\u4f86\u6e90 IP \u5c07\u8a2d\u70ba <code>eth0</code> \u4ecb\u9762\u7684 IP\u3002 \u63a5\u8457\uff0c\u8981\u9001\u5230 <code>172.17.0.1</code>\uff0cLinux \u5fc5\u9808\u627e\u51fa\u8a72 IP \u5c0d\u61c9\u7684 MAC \u4f4d\u5740\u3002MAC \u4f4d\u5740\u5f9e\u5167\u90e8 ARP \u5feb\u53d6\u67e5\u5f97\uff0c\u8a72\u5feb\u53d6\u5b58\u6709 IP \u4f4d\u5740\u8207 MAC \u4f4d\u5740\u7684\u5c0d\u61c9\u95dc\u4fc2\u3002\u82e5\u5feb\u53d6\u672a\u547d\u4e2d\uff0cLinux \u6703\u5728\u5167\u90e8\u7db2\u8def\u5ee3\u64ad ARP \u8acb\u6c42\uff0c\u8a62\u554f\u8ab0\u64c1\u6709 <code>172.17.0.1</code>\u3002\u64c1\u6709\u8a72 IP \u7684\u4e3b\u6a5f\u6703\u767c\u9001 ARP \u56de\u61c9\uff0c\u6838\u5fc3\uff08Kernel\uff09\u5c07\u5176\u5feb\u53d6\uff0c\u63a5\u8457\u5c07\u5c01\u5305\u767c\u9001\u7d66\u9598\u9053\u5668\uff0c\u5c01\u5305\u4e2d\u6703\u5c07\u4f86\u6e90 MAC \u8a2d\u70ba <code>eth0</code> \u7684 MAC \u4f4d\u5740\uff0c\u76ee\u7684 MAC \u8a2d\u70ba\u525b\u624d\u53d6\u5f97\u7684 <code>172.17.0.1</code> \u7684 MAC \u4f4d\u5740\u3002\u6bcf\u4e00\u8df3\u8def\u7531\u904e\u7a0b\u985e\u4f3c\uff0c\u76f4\u5230\u5c01\u5305\u9001\u9054\u5be6\u969b\u4f3a\u670d\u5668\u3002\u50b3\u8f38\u5c64\u8207\u5176\u4ee5\u4e0a\u5c64\u7d1a\u7684\u8655\u7406\u5247\u53ea\u6703\u5728\u7d42\u7aef\u4f3a\u670d\u5668\u7aef\u6642\u624d\u57f7\u884c\uff0c\u4e2d\u9593\u8df3\u9ede\u53ea\u6d89\u53ca IP/\u7db2\u8def\u5c64\u3002</p> <p></p> <p>\u8def\u7531\u8868\u4e2d\u770b\u5230\u4e00\u500b\u7279\u6b8a\u9598\u9053\u5668\u662f <code>0.0.0.0</code>\u3002\u6b64\u9598\u9053\u5668\u4ee3\u8868\u4e0d\u9700\u8981 Layer3\uff08\u7db2\u8def\u5c64\uff09\u8df3\u8f49\u5373\u53ef\u9001\u51fa\u5c01\u5305\uff0c\u4ee3\u8868\u4f86\u6e90\u8207\u76ee\u7684\u5730\u5728\u540c\u4e00\u7db2\u8def\u5167\u3002\u6838\u5fc3\u5fc5\u9808\u627e\u51fa\u76ee\u7684\u5730\u7684 MAC\uff0c\u4e26\u9069\u7576\u5730\u586b\u5165\u4f86\u6e90\u8207\u76ee\u7684 MAC\uff0c\u7136\u5f8c\u5c07\u5c01\u5305\u9001\u51fa\uff0c\u4f7f\u5176\u5728\u4e2d\u9593\u6c92\u6709\u4efb\u4f55\u7db2\u8def\u5c64\u8df3\u8f49\u7684\u60c5\u6cc1\u4e0b\u62b5\u9054\u76ee\u7684\u5730\u3002</p> <p>\u5982\u540c\u6211\u5011\u5728\u5176\u4ed6\u7ae0\u7bc0\u8ddf\u96a8\u7684\u6d41\u7a0b\uff0c\u63a5\u4e0b\u4f86\u4ee5 SRE \u5be6\u52d9\u7684\u89d2\u5ea6\u5b8c\u6210\u672c\u55ae\u5143\u3002</p>"},{"location":"level101/linux_networking/ipr/#sre","title":"SRE \u89d2\u8272\u7684\u61c9\u7528\u5834\u666f","text":"<ol> <li>\u4e00\u822c\u800c\u8a00\uff0c\u8def\u7531\u8868\u7531 DHCP \u81ea\u52d5\u914d\u7f6e\uff0c\u96a8\u610f\u8b8a\u66f4\u4e26\u975e\u826f\u597d\u4f5c\u6cd5\u3002\u82e5\u6709\u7279\u5225\u539f\u56e0\u5fc5\u9808\u8abf\u6574\u8def\u7531\u8868\uff0c\u61c9\u53ea\u5728\u975e\u5e38\u5fc5\u8981\u6642\u624d\u63a1\u53d6\u6b64\u4f5c\u6cd5\u3002</li> <li>\u66f4\u59a5\u5584\u7406\u89e3\u932f\u8aa4\u8a0a\u606f\uff0c\u4f8b\u5982 \u201cNo route to host\u201d\uff08\u627e\u4e0d\u5230\u4e3b\u6a5f\u8def\u7531\uff09\u932f\u8aa4\u53ef\u80fd\u4ee3\u8868\u76ee\u7684\u4e3b\u6a5f\u7684 MAC \u4f4d\u5740\u627e\u4e0d\u5230\uff0c\u4e5f\u53ef\u80fd\u4ee3\u8868\u76ee\u7684\u4e3b\u6a5f\u96e2\u7dda\u3002</li> <li>\u5076\u723e\u67e5\u770b ARP \u8868\u80fd\u5e6b\u52a9\u78ba\u8a8d\u662f\u5426\u767c\u751f IP \u4f4d\u5740\u885d\u7a81\uff0c\u5373\u540c\u4e00 IP \u88ab\u932f\u8aa4\u6307\u6d3e\u7d66\u5169\u53f0\u4e3b\u6a5f\uff0c\u5c0e\u81f4\u7cfb\u7d71\u884c\u70ba\u7570\u5e38\u3002</li> </ol>"},{"location":"level101/linux_networking/tcp/","title":"TCP","text":"<p>TCP \u662f\u4e00\u7a2e\u8207 UDP \u985e\u4f3c\u7684\u50b3\u8f38\u5c64\u5354\u8b70\uff0c\u4f46\u5b83\u4fdd\u8b49\u53ef\u9760\u6027\u3001\u6d41\u91cf\u63a7\u5236\u53ca\u64c1\u585e\u63a7\u5236\u3002 TCP \u900f\u904e\u4f7f\u7528\u5e8f\u5217\u865f\u4f86\u4fdd\u8b49\u53ef\u9760\u50b3\u9001\u3002TCP \u9023\u7dda\u662f\u7531\u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u7684\u3002\u5728\u9019\u500b\u904e\u7a0b\u4e2d\uff0c\u5ba2\u6236\u7aef\u6703\u9001\u51fa\u5e36\u6709\u521d\u59cb\u5e8f\u5217\u865f\u7684 <code>SYN</code> \u5c01\u5305\uff0c\u4f3a\u670d\u5668\u6536\u5230\u5f8c\u56de\u50b3\u4e00\u500b\u5e36\u6709\u78ba\u8a8d\u8a0a\u865f\u7684 <code>SYN</code> \u5c01\u5305\u8207\u4f3a\u670d\u5668\u81ea\u5df1\u7684\u5e8f\u5217\u865f\u3002\u7576\u5ba2\u6236\u7aef\u78ba\u8a8d\u6536\u5230\u4f3a\u670d\u5668\u7684 <code>SYN</code> \u5c01\u5305\u6642\uff0c\u9023\u7dda\u5373\u5efa\u7acb\u3002\u5f9e\u6b64\u4ee5\u5f8c\uff0c\u6bcf\u7b46\u8cc7\u6599\u90fd\u88ab\u8996\u70ba\u5df2\u88ab\u53ef\u9760\u6210\u529f\u50b3\u9001\uff0c\u4e00\u65e6\u76f8\u95dc\u4e00\u65b9\u63a5\u6536\u5230\u8a72\u5e8f\u5217\u865f\u7684\u78ba\u8a8d\u56de\u61c9\u3002</p> <p></p> <pre><code># \u82e5\u8981\u4e86\u89e3\u63e1\u624b\u904e\u7a0b\uff0c\u8acb\u5728\u4e00\u500b bash \u8996\u7a97\u57f7\u884c\u5c01\u5305\u64f7\u53d6\ntcpdump -S -i any port 80\n# \u5728\u53e6\u4e00\u500b bash \u8996\u7a97\u57f7\u884c curl\ncurl www.linkedin.com\n</code></pre> <p></p> <p>\u6b64\u5716\u4e2d\uff0c\u5ba2\u6236\u7aef\u767c\u9001\u4e00\u500b <code>SYN</code> \u6a19\u8a8c (\u7528 [S] \u8868\u793a)\uff0c\u5e8f\u5217\u865f\u70ba <code>1522264672</code>\u3002\u4f3a\u670d\u5668\u6536\u5230\u5f8c\u4ee5\u5e36\u6709\u78ba\u8a8d\u6a19\u8a8c <code>ACK</code> (\u7528 [.] \u8868\u793a) \u53ca\u81ea\u5df1\u7684\u5e8f\u5217\u865f\u6a19\u8a8c <code>SYN</code> (\u7528 [S] \u8868\u793a) \u56de\u8986\u3002\u4f3a\u670d\u5668\u4f7f\u7528\u5e8f\u5217\u865f <code>1063230400</code>\uff0c\u4e26\u78ba\u8a8d\u5b83\u671f\u5f85\u5ba2\u6236\u7aef\u767c\u9001\u5e8f\u5217\u865f <code>1522264673</code>\uff08\u5ba2\u6236\u7aef\u5e8f\u5217\u865f + 1\uff09\u3002\u5ba2\u6236\u7aef\u767c\u9001\u4e00\u500b\u9577\u5ea6\u70ba\u96f6\u7684\u78ba\u8a8d\u5c01\u5305\u7d66\u4f3a\u670d\u5668\uff08\u4f3a\u670d\u5668\u5e8f\u5217\u865f + 1\uff09\uff0c\u6b64\u6642\u9023\u7dda\u6b63\u5f0f\u5efa\u7acb\u3002\u9019\u5c31\u662f\u6240\u8b02\u7684\u4e09\u6b21\u63e1\u624b\u3002\u4e4b\u5f8c\uff0c\u5ba2\u6236\u7aef\u767c\u9001\u4e86\u4e00\u500b\u9577\u5ea6\u70ba 76 \u5b57\u7bc0\u7684\u5c01\u5305\uff0c\u4e26\u5c07\u5e8f\u5217\u865f\u589e\u52a0 76\u3002\u4f3a\u670d\u5668\u56de\u61c9\u4e00\u500b 170 \u5b57\u7bc0\u7684\u5c01\u5305\u4e26\u95dc\u9589\u9023\u7dda\u3002\u9019\u5c31\u662f\u6211\u5011\u5148\u524d\u63d0\u5230 HTTP/1.1 \u8207 HTTP/1.0 \u7684\u5dee\u7570\uff1a\u5728 HTTP/1.1 \u4e2d\uff0c\u540c\u4e00\u9023\u7dda\u53ef\u4ee5\u91cd\u8907\u4f7f\u7528\uff0c\u6e1b\u5c11\u4e86\u6bcf\u6b21 HTTP \u8acb\u6c42\u90fd\u9700\u7d93\u904e\u4e09\u6b21\u63e1\u624b\u7684\u984d\u5916\u8ca0\u64d4\u3002\u82e5\u5728\u5ba2\u6236\u7aef\u8207\u4f3a\u670d\u5668\u4e4b\u9593\u6f0f\u5931\u5c01\u5305\uff0c\u4f3a\u670d\u5668\u5c07\u4e0d\u6703\u56de\u9001 <code>ACK</code>\uff0c\u5ba2\u6236\u7aef\u6703\u91cd\u8a66\u50b3\u9001\u76f4\u5230\u6536\u5230\u78ba\u8a8d\u3002\u9019\u6a23\u78ba\u4fdd\u4e86\u53ef\u9760\u6027\u3002 \u6d41\u91cf\u63a7\u5236\u5247\u662f\u7531\u6bcf\u500b\u5340\u6bb5\u4e2d\u7684 <code>WIN</code> \u5927\u5c0f\u6b04\u4f4d\u5be6\u73fe\u3002<code>WIN</code> \u5927\u5c0f\u8868\u793a\u5167\u6838\u4e2d\u53ef\u7528\u65bc\u7de9\u885d\u63a5\u6536\u5340\u6bb5\u7684 TCP \u7de9\u885d\u5340\u9577\u5ea6\u3002\u6578\u503c\u70ba 0 \u8868\u793a\u63a5\u6536\u65b9\u7684\u7de9\u885d\u5340\u5df2\u7a4d\u58d3\u8a31\u591a\u8cc7\u6599\uff0c\u767c\u9001\u65b9\u5fc5\u9808\u66ab\u505c\u767c\u9001\uff0c\u8b93\u63a5\u6536\u65b9\u80fd\u5920\u8ddf\u4e0a\u3002\u9019\u9805\u6d41\u91cf\u63a7\u5236\u53ef\u9632\u6b62\u300c\u63a5\u6536\u65b9\u901f\u5ea6\u6162\uff0c\u767c\u9001\u65b9\u901f\u5ea6\u5feb\u300d\u7684\u554f\u984c\u3002</p> <p>TCP \u4e5f\u6709\u64c1\u585e\u63a7\u5236\u6a5f\u5236\uff0c\u7528\u65bc\u5224\u65b7\u5728\u672a\u6536\u5230 <code>ACK</code> \u524d\u53ef\u6709\u591a\u5c11\u5c01\u5305\u5728\u50b3\u8f38\u4e2d\u3002Linux \u5141\u8a31\u6211\u5011\u914d\u7f6e\u64c1\u585e\u63a7\u5236\u7b97\u6cd5\uff0c\u9019\u90e8\u5206\u5728\u6b64\u4e0d\u505a\u6df1\u5165\u4ecb\u7d39\u3002</p> <p>\u7576\u95dc\u9589\u9023\u7dda\u6642\uff0c\u5ba2\u6236\u7aef\u6216\u4f3a\u670d\u5668\u6703\u547c\u53eb close \u7cfb\u7d71\u547c\u53eb\u3002\u5047\u8a2d\u662f\u5ba2\u6236\u7aef\u547c\u53eb\uff0c\u5ba2\u6236\u7aef\u5167\u6838\u6703\u9001\u51fa\u4e00\u500b <code>FIN</code> \u5c01\u5305\u7d66\u4f3a\u670d\u5668\u3002\u4f3a\u670d\u5668\u5167\u6838\u5728\u4f3a\u670d\u5668\u61c9\u7528\u547c\u53eb close \u524d\u4e0d\u6703\u95dc\u9589\u9023\u7dda\u3002\u7576\u4f3a\u670d\u5668\u61c9\u7528\u547c\u53eb close \u5f8c\uff0c\u4f3a\u670d\u5668\u4e5f\u6703\u767c\u9001\u4e00\u500b <code>FIN</code> \u5c01\u5305\uff0c\u5ba2\u6236\u7aef\u5247\u9032\u5165 <code>TIME_WAIT</code> \u72c0\u614b 2*MSS\uff08\u7d04 120 \u79d2\uff09\uff0c\u6b64\u671f\u9593\u8a72\u9023\u7dda socket \u4e0d\u53ef\u91cd\u8907\u4f7f\u7528\uff0c\u4ee5\u907f\u514d\u6b98\u7559\u820a\u5c01\u5305\u5c0e\u81f4 TCP \u72c0\u614b\u7570\u5e38\u3002</p> <p></p> <p>\u638c\u63e1\u4e86 TCP \u8207 HTTP \u7684\u77e5\u8b58\u4e4b\u5f8c\uff0c\u6211\u5011\u4f86\u770b\u770b SRE \u5728\u5de5\u4f5c\u4e2d\u5982\u4f55\u61c9\u7528\u3002</p>"},{"location":"level101/linux_networking/tcp/#sre","title":"SRE \u89d2\u8272\u4e2d\u7684\u61c9\u7528","text":"<ol> <li>\u5229\u7528\u8ca0\u8f09\u5e73\u8861\u5668\u64f4\u5c55 HTTP \u6548\u80fd\uff0c\u9700\u8981\u5c0d TCP \u8207 HTTP \u6709\u6df1\u5165\u4e86\u89e3\u3002\u5e02\u9762\u4e0a\u6709 \u4e0d\u540c\u5f62\u5f0f\u7684\u8ca0\u8f09\u5e73\u8861\uff0c\u4f8b\u5982 L4\u3001L7 \u8ca0\u8f09\u5e73\u8861\u8207\u76f4\u63a5\u4f3a\u670d\u5668\u56de\u50b3\uff08Direct Server Return\uff09\u7b49\u3002\u6839\u64da\u6548\u80fd\u8207\u5408\u898f\u9700\u6c42\uff0c\u53ef\u4ee5\u9078\u64c7\u5728\u8ca0\u8f09\u5e73\u8861\u5668\u6216\u76f4\u63a5\u5728\u4f3a\u670d\u5668\u7aef\u57f7\u884c HTTPS \u89e3\u9664\u8ca0\u8f09\u3002</li> <li>\u8abf\u6574 <code>sysctl</code> \u53c3\u6578\u4e2d\u7684 <code>rmem</code> \u548c <code>wmem</code>\uff08\u5982\u540c\u6211\u5011\u5c0d UDP \u7684\u8abf\u6574\uff09\u53ef\u63d0\u5347\u767c\u9001\u7aef\u8207\u63a5\u6536\u7aef\u7684\u541e\u5410\u7387\u3002</li> <li><code>sysctl</code> \u53c3\u6578 <code>tcp_max_syn_backlog</code> \u8207 socket \u8b8a\u6578 <code>somax_conn</code> \u6c7a\u5b9a\u5167\u6838\u53ef\u5b8c\u6210\u4e09\u6b21\u63e1\u624b\u4f46\u5c1a\u672a\u7531\u61c9\u7528\u547c\u53eb accept \u7cfb\u7d71\u547c\u53eb\u7684\u540c\u6642\u9023\u7dda\u6578\u91cf\u3002\u9019\u5728\u55ae\u7dda\u7a0b\u61c9\u7528\u4e2d\u7279\u5225\u6709\u7528\u3002\u7576 backlog \u6eff\u4e86\uff0c\u65b0\u7684\u9023\u7dda\u6703\u505c\u7559\u5728 <code>SYN_RCVD</code> \u72c0\u614b\uff08\u7528 <code>netstat</code> \u80fd\u770b\u5230\uff09\u76f4\u5230\u61c9\u7528\u547c\u53eb accept\u3002</li> <li>\u5982\u679c\u77ed\u66ab\u9023\u7dda\u904e\u591a\uff0c\u61c9\u7528\u53ef\u80fd\u6703\u8017\u76e1\u6a94\u6848\u63cf\u8ff0\u7b26\u3002\u6df1\u5165\u77ad\u89e3 tcp_reuse \u8207 tcp_recycle \u53c3\u6578\u53ef\u4ee5\u5e6b\u52a9\u7e2e\u77ed\u5728 <code>TIME_WAIT</code> \u72c0\u614b\u7684\u7b49\u5f85\u6642\u9593\uff08\u4f46\u6b64\u65b9\u6cd5\u98a8\u96aa\u4e5f\u5b58\u5728\uff09\u3002\u8b93\u61c9\u7528\u91cd\u7528\u9023\u7dda\u6c60\u800c\u975e\u5927\u91cf\u5efa\u7acb\u65b0\u9023\u7dda\uff0c\u4e5f\u662f\u6539\u5584\u7b56\u7565\u4e4b\u4e00\u3002</li> <li>\u900f\u904e\u6aa2\u8996\u6307\u6a19\u8207\u5224\u65b7\u74f6\u9838\u4f4d\u7f6e\uff0c\u662f\u61c9\u7528\u6216\u662f\u7db2\u8def\u7aef\u554f\u984c\u3002\u4f8b\u5982\uff0c\u82e5\u6709\u592a\u591a socket \u8655\u65bc <code>CLOSE_WAIT</code> \u72c0\u614b\uff0c\u554f\u984c\u591a\u534a\u5728\u61c9\u7528\u5c64\uff1b\u53cd\u8986\u91cd\u50b3\uff08retransmission\uff09\u8f03\u53ef\u80fd\u662f\u7db2\u8def\u6216\u4f5c\u696d\u7cfb\u7d71\u68e7\u7684\u554f\u984c\u3002\u638c\u63e1\u57fa\u790e\u539f\u7406\u53ef\u5e6b\u52a9\u6211\u5011\u66f4\u6e96\u78ba\u5b9a\u4f4d\u554f\u984c\u74f6\u9838\u3002</li> </ol>"},{"location":"level101/linux_networking/udp/","title":"UDP","text":"<p>UDP \u662f\u4e00\u7a2e\u50b3\u8f38\u5c64\u5354\u8b70\u3002DNS \u662f\u4e00\u7a2e\u61c9\u7528\u5c64\u5354\u8b70\uff0c\u4e14\u5927\u591a\u6578\u6642\u9593\u662f\u904b\u884c\u65bc UDP \u4e4b\u4e0a\u3002\u5728\u6df1\u5165\u4e86\u89e3 UDP \u4e4b\u524d\uff0c\u8b93\u6211\u5011\u5148\u8a66\u8457\u7406\u89e3\u4ec0\u9ebc\u662f\u61c9\u7528\u5c64\u548c\u50b3\u8f38\u5c64\u3002DNS \u5354\u8b70\u7531 DNS \u7528\u6236\u7aef\uff08\u4f8b\u5982 <code>dig</code>\uff09\u548c DNS \u4f3a\u670d\u5668\uff08\u4f8b\u5982 <code>named</code>\uff09\u4f7f\u7528\u3002\u50b3\u8f38\u5c64\u78ba\u4fdd DNS \u8acb\u6c42\u80fd\u5230\u9054 DNS \u4f3a\u670d\u5668\u7684\u7a0b\u5e8f\uff0c\u540c\u6a23\u7684\u56de\u61c9\u4e5f\u80fd\u9001\u56de DNS \u7528\u6236\u7aef\u7684\u7a0b\u5e8f\u3002\u4e00\u53f0\u7cfb\u7d71\u4e0a\u53ef\u4ee5\u57f7\u884c\u591a\u500b\u7a0b\u5e8f\uff0c\u4e26\u4e14\u5b83\u5011\u53ef\u4ee5\u76e3\u807d\u4efb\u4f55\u57e0\u53e3\u3002DNS \u4f3a\u670d\u5668\u901a\u5e38\u76e3\u807d\u7684\u57e0\u865f\u662f <code>53</code>\u3002\u7576\u7528\u6236\u7aef\u767c\u51fa DNS \u8acb\u6c42\u5f8c\uff0c\u586b\u5beb\u597d\u5fc5\u8981\u7684\u61c9\u7528\u7a0b\u5f0f\u8ca0\u8f09\uff0c\u5b83\u6703\u900f\u904e sendto \u7cfb\u7d71\u547c\u53eb\u5c07\u8ca0\u8f09\u50b3\u7d66\u6838\u5fc3\u3002\u6838\u5fc3\u6311\u9078\u4e00\u500b\u96a8\u6a5f\u7684\u57e0\u865f\uff08&gt;1024\uff09\u4f5c\u70ba\u4f86\u6e90\u57e0\uff0c\u5c07 53 \u8a2d\u70ba\u76ee\u7684\u57e0\uff0c\u4e26\u5c07\u5c01\u5305\u9001\u5230\u4f4e\u5c64\u7db2\u8def\u3002\u7576\u4f3a\u670d\u5668\u7aef\u7684\u6838\u5fc3\u6536\u5230\u5c01\u5305\u6642\uff0c\u5b83\u6703\u6aa2\u67e5\u57e0\u865f\u4e26\u5c07\u5c01\u5305\u6392\u5165 DNS \u4f3a\u670d\u5668\u7a0b\u5e8f\u7684\u61c9\u7528\u7de9\u885d\u5340\uff0c\u6b64\u7a0b\u5e8f\u6703\u547c\u53eb recvfrom \u4f86\u8b80\u53d6\u5c01\u5305\u3002\u9019\u500b\u904e\u7a0b\u5728\u6838\u5fc3\u5167\u90e8\u7a31\u70ba\u591a\u5de5\uff08\u5c07\u591a\u500b\u61c9\u7528\u7a0b\u5e8f\u7684\u5c01\u5305\u5408\u4f75\u81f3\u540c\u4e00\u4f4e\u5c64\uff09\u8207\u89e3\u591a\u5de5\uff08\u5c07\u55ae\u4e00\u4f4e\u5c64\u7684\u5c01\u5305\u5206\u914d\u7d66\u591a\u500b\u61c9\u7528\uff09\u3002\u591a\u5de5\u8207\u89e3\u591a\u5de5\u662f\u7531\u50b3\u8f38\u5c64\u57f7\u884c\u7684\u3002</p> <p>UDP \u662f\u6700\u7c21\u55ae\u7684\u50b3\u8f38\u5c64\u5354\u8b70\u4e4b\u4e00\uff0c\u53ea\u505a\u591a\u5de5\u8207\u89e3\u591a\u5de5\u3002\u53e6\u4e00\u7a2e\u5e38\u898b\u7684\u50b3\u8f38\u5c64\u5354\u8b70 TCP \u5247\u505a\u66f4\u591a\u4e8b\u60c5\uff0c\u4f8b\u5982\u53ef\u9760\u50b3\u8f38\u3001\u6d41\u91cf\u63a7\u5236\u548c\u64c1\u585e\u63a7\u5236\u3002UDP \u8a2d\u8a08\u6210\u8f15\u91cf\u4e14\u901a\u8a0a\u958b\u92b7\u4f4e\uff0c\u56e0\u6b64\u4e0d\u505a\u9664\u4e86\u591a\u5de5\u8207\u89e3\u591a\u5de5\u4ee5\u5916\u7684\u4efb\u4f55\u4e8b\u3002\u5982\u679c\u5728 UDP \u4e0a\u904b\u884c\u7684\u61c9\u7528\u7a0b\u5f0f\u9700\u8981 TCP \u7684\u529f\u80fd\uff0c\u4ed6\u5011\u5fc5\u9808\u81ea\u5df1\u5be6\u4f5c\u3002</p> <p>\u6b64Python Wiki \u7bc4\u4f8b\u5c55\u793a\u4e86\u4e00\u500b UDP \u7528\u6236\u7aef\u8207\u4f3a\u670d\u5668\u7684\u7bc4\u4f8b\uff0c\u7576\u4e2d\u300cHello World\u300d\u70ba\u61c9\u7528\u8ca0\u8f09\uff0c\u50b3\u9001\u5230\u76e3\u807d\u57e0\u865f\u70ba <code>5005</code> \u7684\u4f3a\u670d\u5668\u3002\u4f3a\u670d\u5668\u63a5\u6536\u8a72\u5c01\u5305\u4e26\u5370\u51fa\u4f86\u81ea\u5ba2\u6236\u7aef\u7684\u300cHello World\u300d\u5b57\u4e32\u3002</p>"},{"location":"level101/linux_networking/udp/#sre","title":"SRE \u89d2\u8272\u7684\u61c9\u7528","text":"<ol> <li>\u82e5\u5e95\u5c64\u7db2\u8def\u901f\u5ea6\u7de9\u6162\uff0c\u4e14 UDP \u5c64\u7121\u6cd5\u5c07\u5c01\u5305\u6392\u5165\u81f3\u7db2\u8def\u5c64\uff0c\u61c9\u7528\u7a0b\u5f0f\u7684 <code>sendto</code> \u7cfb\u7d71\u547c\u53eb\u6703\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6838\u5fc3\u91cb\u653e\u51fa\u90e8\u5206\u7de9\u885d\u5340\u7a7a\u9593\u3002\u6b64\u60c5\u6cc1\u6703\u5f71\u97ff\u7cfb\u7d71\u7684\u541e\u5410\u91cf\u3002\u8abf\u9ad8\u4f7f\u7528 sysctl \u8b8a\u6578 net.core.wmem_max \u8207 net.core.wmem_default \u7684\u5beb\u5165\u8a18\u61b6\u9ad4\u7de9\u885d\u503c\uff0c\u53ef\u4ee5\u7d66\u61c9\u7528\u7a0b\u5f0f\u5728\u9762\u5c0d\u6162\u901f\u7db2\u8def\u6642\u66f4\u597d\u7684\u7de9\u885d\u7a7a\u9593\u3002</li> <li>\u540c\u6a23\u5730\uff0c\u82e5\u63a5\u6536\u7aef\u7a0b\u5f0f\u6d88\u8cbb\u7de9\u6162\uff0c\u6838\u5fc3\u7121\u6cd5\u5c07\u66f4\u591a\u5c01\u5305\u6392\u5165\u5df2\u6eff\u7684\u7de9\u885d\u5340\uff0c\u5c07\u6703\u4e1f\u68c4\u9019\u4e9b\u5c01\u5305\u3002\u56e0\u70ba UDP \u4e0d\u4fdd\u8b49\u53ef\u9760\u6027\uff0c\u9019\u4e9b\u4e1f\u5305\u6703\u9020\u6210\u8cc7\u6599\u907a\u5931\uff0c\u9664\u975e\u7531\u61c9\u7528\u5c64\u8ffd\u8e64\u3002\u8abf\u9ad8 rmem_default \u8207 rmem_max sysctl \u8b8a\u6578\uff0c\u53ef\u4ee5\u8b93\u6162\u901f\u7684\u61c9\u7528\u7a0b\u5f0f\u5728\u9762\u5c0d\u5feb\u901f\u767c\u9001\u7aef\u6642\u6709\u7de9\u885d\u7684\u7a7a\u9593\u3002</li> </ol>"},{"location":"level101/messagequeue/further_reading/","title":"\u7d50\u8ad6","text":"<p>\u6211\u5011\u5df2\u4ecb\u7d39\u4e86\u8a0a\u606f\u670d\u52d9\u7684\u57fa\u672c\u6982\u5ff5\u3002\u9084\u6709\u8a31\u591a\u77e5\u8b58\u8207\u5be6\u4f5c\u503c\u5f97\u5b78\u7fd2\u8207\u63a2\u7d22\u3002\u5e0c\u671b\u672c\u8ab2\u7a0b\u80fd\u70ba\u4f60\u6253\u4e0b\u826f\u597d\u57fa\u790e\uff0c\u4e26\u6fc0\u767c\u4f60\u9032\u4e00\u6b65\u6df1\u5165\u7814\u7a76\u7684\u8208\u8da3\u3002</p>"},{"location":"level101/messagequeue/further_reading/#_2","title":"\u5ef6\u4f38\u95b1\u8b80","text":"<p>https://sudhir.io/the-big-little-guide-to-message-queues</p> <p>\u4e86\u89e3\u8a0a\u606f\u4ee3\u7406\uff1a\u900f\u904e ActiveMQ \u548c Kafka \u63a2\u7d22\u8a0a\u606f\u50b3\u905e\u6a5f\u5236</p> <p>\u5f71\u7247\uff1aJakub Korab \u8b1b\u8ff0\u9b54\u6cd5\u8a0a\u606f\u67b6\u69cb\u7684\u8ff7\u601d</p> <p>G. Fu\u3001Y. Zhang \u548c G. Yu\uff0c\u300c\u8a0a\u606f\u6392\u968a\u7cfb\u7d71\u7684\u516c\u5e73\u6bd4\u8f03\u300d\uff0c\u767c\u8868\u65bc IEEE Access\uff0c\u5377 9\uff0c\u9801 421-432\uff0c2021\uff0cdoi: 10.1109/ACCESS.2020.3046503\u3002 (PDF)</p> <p>\u96f2\u539f\u751f\u61c9\u7528\u7a0b\u5f0f\u8a2d\u8a08\u6a21\u5f0f\uff1a\u7b2c 2 \u7ae0 \u901a\u8a0a\u6a21\u5f0f</p> <p>Azure \u8a0a\u606f\u670d\u52d9\u6bd4\u8f03\uff1aEvent Grid\u3001Event Hubs \u8207 Service Bus \u7684\u9078\u64c7</p> <p>Exactly-once \u8a0a\u606f\u50b3\u905e</p> <p>\u4efb\u52d9\u4f47\u5217</p> <p>RabbitMQ \u6559\u5b78</p>"},{"location":"level101/messagequeue/intro/","title":"\u8a0a\u606f\u670d\u52d9","text":""},{"location":"level101/messagequeue/intro/#_2","title":"\u672c\u8ab2\u7a0b\u7684\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u8a13\u7df4\u7d50\u675f\u5f8c\uff0c\u60a8\u5c07\u4e86\u89e3\u4ec0\u9ebc\u662f\u8a0a\u606f\u670d\u52d9\uff0c\u5b78\u7fd2\u4e0d\u540c\u985e\u578b\u7684\u8a0a\u606f\u670d\u52d9\u5be6\u4f5c\uff0c\u4e26\u7406\u89e3\u4e00\u4e9b\u57fa\u672c\u6982\u5ff5\u8207\u53d6\u6368\u3002</p>"},{"location":"level101/messagequeue/intro/#_3","title":"\u672c\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u7684\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u4e0d\u6703\u6df1\u5165\u63a2\u8a0e\u4efb\u4f55\u7279\u5b9a\u7684\u8a0a\u606f\u670d\u52d9\u3002</p>"},{"location":"level101/messagequeue/intro/#_4","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ul> <li>\u8a0a\u606f\u670d\u52d9\u4ecb\u7d39</li> <li>\u50b3\u905e\u4fdd\u8b49</li> <li>\u8a0a\u606f\u6392\u5e8f\u8207\u4e26\u884c\u8655\u7406</li> <li>Fan Out / In</li> <li>\u6bd2\u4e38\u8a0a\u606f\u8207\u6b7b\u4fe1</li> </ul>"},{"location":"level101/messagequeue/intro/#_5","title":"\u4ecb\u7d39","text":"<p>\u5728\u73fe\u4eca\u7684\u5206\u6563\u5f0f\u7cfb\u7d71\u8207\u5fae\u670d\u52d9\u67b6\u69cb\u4e2d\uff0c\u8a0a\u606f\u670d\u52d9\u5728\u78ba\u4fdd\u5404\u5143\u4ef6\u9593\u53ef\u9760\u7684\u901a\u8a0a\u8207\u5354\u4f5c\u4e2d\u626e\u6f14\u91cd\u8981\u89d2\u8272\u3002\u9019\u4e9b\u670d\u52d9\u5141\u8a31\u975e\u540c\u6b65\u8a0a\u606f\u4ea4\u63db\uff0c\u5e36\u4f86\u591a\u9805\u597d\u8655\uff0c\u4f8b\u5982\u63d0\u5347\u6548\u80fd\u3001\u6539\u5584\u5bb9\u932f\u80fd\u529b\u8207\u589e\u5f37\u64f4\u5145\u6027\u3002</p> <p>\u672c\u6587\u5c07\u6982\u8ff0\u5404\u7a2e\u53ef\u7528\u7684\u8a0a\u606f\u670d\u52d9\u985e\u578b\uff0c\u5305\u62ec\u901a\u7528\u8a0a\u606f\u4f47\u5217\u3001\u767c\u5e03/\u8a02\u95b1\u8a0a\u606f\u3001\u4e32\u6d41\u8655\u7406\u3001\u7121\u4e2d\u4ecb\u8005\u8a0a\u606f\u7cfb\u7d71\uff0c\u4ee5\u53ca\u8cc7\u6599\u5eab\u4f5c\u70ba\u4f47\u5217\u7684\u7cfb\u7d71\u3002\u6211\u5011\u4e5f\u5c07\u63a2\u8a0e\u95dc\u9375\u6982\u5ff5\uff0c\u5982\u50b3\u905e\u4fdd\u8b49\u3001\u8a0a\u606f\u6392\u5e8f\u3001\u4e26\u884c\u8655\u7406\u3001\u6bd2\u4e38\u8a0a\u606f\u8207\u6b7b\u4fe1\uff0c\u9019\u4e9b\u90fd\u662f\u7406\u89e3\u8a0a\u606f\u670d\u52d9\u5982\u4f55\u904b\u4f5c\u53ca\u5176\u6709\u6548\u5229\u7528\u65b9\u5f0f\u7684\u8981\u9ede\u3002</p>"},{"location":"level101/messagequeue/intro/#_6","title":"\u8a0a\u606f\u670d\u52d9\u985e\u578b\uff1a","text":"<p>\u672c\u7bc0\u5c07\u4ecb\u7d39\u5404\u7a2e\u8a0a\u606f\u670d\u52d9\uff0c\u6bcf\u7a2e\u8a2d\u8a08\u7528\u65bc\u89e3\u6c7a\u5206\u6563\u5f0f\u7cfb\u7d71\u4e2d\u4e0d\u540c\u9700\u6c42\u8207\u61c9\u7528\u5834\u666f\u3002</p> <ol> <li> <p>\u901a\u7528\u8a0a\u606f\u4f47\u5217\uff1a \u901a\u7528\u8a0a\u606f\u4f47\u5217\u7528\u9014\u5ee3\u6cdb\uff0c\u53ef\u61c9\u7528\u65bc\u5404\u5f0f\u975e\u7279\u6b8a\u5834\u666f\uff0c\u5f9e\u4efb\u52d9\u5206\u914d\u3001\u8acb\u6c42\u7de9\u885d\uff0c\u5230\u5fae\u670d\u52d9\u9593\u901a\u8a0a\u7686\u53ef\u4f7f\u7528\u3002\u9019\u4e9b\u7cfb\u7d71\u8a2d\u8a08\u7528\u4ee5\u78ba\u4fdd\u8a0a\u606f\u53ef\u9760\u50b3\u905e\uff0c\u4e26\u78ba\u4fdd\u8a0a\u606f\u6309\u7167\u6b63\u78ba\u9806\u5e8f\u8655\u7406\uff0c\u901a\u5e38\u80fd\u8655\u7406\u6bcf\u79d2\u6700\u591a\u7d04 100,000 \u689d\u8a0a\u606f\u91cf\u3002\u8a0a\u606f\u4f47\u5217\u901a\u5e38\u652f\u6301\u591a\u7a2e\u8a0a\u606f\u6a21\u5f0f\uff0c\u5982\u9ede\u5c0d\u9ede\u8207\u767c\u5e03/\u8a02\u95b1\uff0c\u70ba\u4e0d\u540c\u61c9\u7528\u63d0\u4f9b\u5f48\u6027\u3002\u901a\u7528\u8a0a\u606f\u4f47\u5217\u7bc4\u4f8b\u5305\u62ec RabbitMQ\u3001ActiveMQ \u8207 Amazon SQS\u3002\u900f\u904e\u4f7f\u7528\u9019\u4e9b\u8a0a\u606f\u4f47\u5217\uff0c\u958b\u767c\u8005\u53ef\u4ee5\u4f7f\u61c9\u7528\u89e3\u8026\u4e26\u7368\u7acb\u64f4\u5c55\uff0c\u63d0\u5347\u6574\u9ad4\u7cfb\u7d71\u97cc\u6027\u8207\u6548\u80fd\u3002</p> </li> <li> <p>\u767c\u5e03/\u8a02\u95b1 (Pub/Sub) \u8a0a\u606f\uff1a \u767c\u5e03-\u8a02\u95b1\u8a0a\u606f\u670d\u52d9\u5141\u8a31\u767c\u5e03\u8005\u5c07\u8a0a\u606f\u50b3\u9001\u7d66\u591a\u500b\u8a02\u95b1\u8005\uff0c\u7121\u9700\u4e00\u5c0d\u4e00\u9023\u7dda\uff0c\u9054\u6210\u751f\u7522\u8005\u8207\u6d88\u8cbb\u8005\u7684\u89e3\u8026\uff0c\u4f7f\u7cfb\u7d71\u66f4\u5177\u64f4\u5c55\u6027\u8207\u5bb9\u932f\u6027\u3002Pub/Sub \u7cfb\u7d71\u5c24\u5176\u9069\u7528\u65bc\u591a\u500b\u6d88\u8cbb\u8005\u9700\u63a5\u6536\u4e26\u8655\u7406\u76f8\u540c\u8a0a\u606f\u7684\u5834\u666f\uff0c\u4f8b\u5982\u767c\u9001\u901a\u77e5\u3001\u7d00\u9304\u6216\u8cc7\u6599\u8907\u88fd\u3002\u6b64\u6a21\u578b\u652f\u6301\u52d5\u614b\u8a02\u95b1\u7ba1\u7406\uff0c\u5141\u8a31\u6d88\u8cbb\u8005\u5728\u57f7\u884c\u6642\u8a02\u95b1\u6216\u53d6\u6d88\u8a02\u95b1\u7279\u5b9a\u4e3b\u984c\u6216\u983b\u9053\u3002Pub/Sub \u8a0a\u606f\u670d\u52d9\u7bc4\u4f8b\u5305\u62ec Google Cloud Pub/Sub\u3001Apache Pulsar\u3001Azure Event Grid\u3001AWS SNS \u548c NATS\u3002\u63a1\u7528 Pub/Sub \u8a0a\u606f\u7cfb\u7d71\uff0c\u958b\u767c\u8005\u53ef\u4ee5\u69cb\u5efa\u4e8b\u4ef6\u9a45\u52d5\u67b6\u69cb\uff0c\u964d\u4f4e\u7cfb\u7d71\u8907\u96dc\u5ea6\uff0c\u4e26\u7c21\u5316\u65b0\u670d\u52d9\u6574\u5408\u3002</p> </li> <li> <p>\u4e32\u6d41\u8655\u7406\uff1a \u4e32\u6d41\u8655\u7406\u670d\u52d9\u8a2d\u8a08\u7528\u65bc\u8655\u7406\u5927\u91cf\u5373\u6642\u8cc7\u6599\uff08\u4f8b\u5982\u6bcf\u79d2\u767e\u842c\u689d\u8a0a\u606f\uff09\uff0c\u5141\u8a31\u6301\u7e8c\u8cc7\u6599\u6d41\u7684\u8655\u7406\u8207\u5206\u6790\u3002\u9019\u4e9b\u670d\u52d9\u652f\u6301\u8907\u96dc\u4e8b\u4ef6\u8655\u7406\u3001\u6642\u9593\u7a97\u683c\u805a\u5408\u53ca\u6709\u72c0\u614b\u7684\u8f49\u63db\uff0c\u70ba\u5efa\u7acb\u5373\u6642\u5206\u6790\u3001\u76e3\u63a7\u8207\u8b66\u793a\u61c9\u7528\u63d0\u4f9b\u7a69\u5065\u5e73\u53f0\u3002\u4e32\u6d41\u8655\u7406\u7cfb\u7d71\u5e38\u7d50\u5408\u5167\u5b58\u8207\u78c1\u789f\u5132\u5b58\uff0c\u5e73\u8861\u6548\u80fd\u8207\u6301\u4e45\u6027\uff0c\u4e26\u652f\u6301\u6c34\u5e73\u64f4\u5c55\uff0c\u4f7f\u958b\u767c\u8005\u80fd\u4ee5\u4f4e\u5ef6\u9072\u8655\u7406\u9f90\u5927\u8cc7\u6599\u91cf\u3002\u4e32\u6d41\u8655\u7406\u7bc4\u4f8b\u5305\u62ec Apache Kafka\u3001Amazon Kinesis Data Streams\u3001Azure Event Hubs\u3001RocketMQ\u3001Apache Pulsar \u8207 Redis Streams\u3002\u5229\u7528\u4e32\u6d41\u8655\u7406\u670d\u52d9\uff0c\u7d44\u7e54\u80fd\u5f9e\u8cc7\u6599\u4e2d\u5373\u6642\u7372\u53d6\u5bf6\u8cb4\u6d1e\u898b\uff0c\u4e26\u66f4\u6709\u6548\u505a\u51fa\u8cc7\u6599\u9a45\u52d5\u6c7a\u7b56\u3002</p> </li> <li> <p>\u7121\u4e2d\u4ecb\u8005 (Brokerless)\uff1a \u7121\u4e2d\u4ecb\u8005\u8a0a\u606f\u7cfb\u7d71\u5141\u8a31\u751f\u7522\u8005\u8207\u6d88\u8cbb\u8005\u76f4\u63a5\u901a\u8a0a\uff0c\u4e0d\u9700\u4f9d\u8cf4\u4e2d\u592e\u4ee3\u7406\uff0c\u4f7f\u5ef6\u9072\u964d\u4f4e\u3001\u6548\u80fd\u63d0\u5347\u3002\u5728\u6b64\u7cfb\u7d71\u4e2d\uff0c\u7bc0\u9ede\u900f\u904e\u9ede\u5c0d\u9ede\u67b6\u69cb\u76f8\u4e92\u6e9d\u901a\uff0c\u7c21\u5316\u90e8\u7f72\u4e26\u6e1b\u5c11\u5c0d\u5c08\u7528\u8a0a\u606f\u4ee3\u7406\u57fa\u790e\u67b6\u69cb\u7684\u9700\u6c42\u3002\u6b64\u7cfb\u7d71\u7279\u5225\u9069\u5408\u9ad8\u6548\u80fd\u3001\u4f4e\u5ef6\u9072\u61c9\u7528\uff0c\u6216\u7db2\u8def\u9023\u7dda\u4e0d\u7a69\u5b9a\u7684\u60c5\u6cc1\u3002\u7121\u4e2d\u4ecb\u8005\u8a0a\u606f\u7cfb\u7d71\u7bc4\u4f8b\u6709 ZeroMQ\u3001nanomsg\u3001Chronicle Queue \u8207 Disruptor\u3002\u63a1\u7528\u7121\u4e2d\u4ecb\u8005\u7cfb\u7d71\uff0c\u958b\u767c\u8005\u53ef\u5efa\u7acb\u8f15\u91cf\u3001\u5feb\u901f\u4e14\u9ad8\u6548\u7684\u5206\u6563\u5f0f\u7cfb\u7d71\u7d44\u4ef6\u901a\u8a0a\u7ba1\u9053\u3002</p> </li> <li> <p>\u8cc7\u6599\u5eab\u4f5c\u70ba\u4f47\u5217\uff1a \u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u50b3\u7d71\u95dc\u806f\u5f0f\u6216 NoSQL \u8cc7\u6599\u5eab\u53ef\u7528\u4f5c\u8a0a\u606f\u4f47\u5217\uff0c\u4f7f\u8207\u73fe\u6709\u7cfb\u7d71\u6574\u5408\u66f4\u7c21\u55ae\uff0c\u4e26\u5229\u7528\u719f\u6089\u7684\u8cc7\u6599\u7ba1\u7406\u5de5\u5177\u3002\u6b64\u65b9\u6cd5\u7279\u5225\u9069\u7528\u65bc\u8f03\u5c0f\u898f\u6a21\u61c9\u7528\uff0c\u6216\u5f9e\u55ae\u9ad4\u67b6\u69cb\u9077\u79fb\u81f3\u5206\u6563\u5f0f\u67b6\u69cb\u7684\u904e\u6e21\u968e\u6bb5\u3002\u4f7f\u7528\u8cc7\u6599\u5eab\u4f5c\u70ba\u4f47\u5217\uff0c\u53ef\u5584\u7528\u5167\u5efa\u7684\u4ea4\u6613\u3001\u7d22\u5f15\u8207\u67e5\u8a62\u529f\u80fd\u6709\u6548\u7ba1\u7406\u8a0a\u606f\u3002\u7bc4\u4f8b\u5982 PostgreSQL \u7684 LISTEN/NOTIFY \u529f\u80fd\u6216\u5229\u7528 Amazon DynamoDB Streams\u3002\u96d6\u7136\u8cc7\u6599\u5eab\u4f5c\u70ba\u4f47\u5217\u7684\u6548\u80fd\u8207\u64f4\u5c55\u6027\u53ca\u529f\u80fd\u901a\u5e38\u4e0d\u53ca\u5c08\u7528\u8a0a\u606f\u670d\u52d9\uff0c\u6709\u6642\u88ab\u8996\u70ba\u53cd\u6a21\u5f0f\uff0c\u4f46\u5728\u7279\u5b9a\u4f7f\u7528\u5834\u666f\u6216\u9700\u6c42\u8f03\u4f4e\u6642\u662f\u53ef\u884c\u9078\u9805\u3002</p> </li> </ol>"},{"location":"level101/messagequeue/intro/#_7","title":"\u6bd4\u8f03\u8868","text":"\u6548\u80fd \u64f4\u5c55\u6027 \u5f48\u6027 \u8907\u96dc\u5ea6 \u529f\u80fd\u6027 \u6613\u7528\u6027 \u901a\u7528\u8a0a\u606f\u4f47\u5217 \u4e2d\u7b49 \u4e2d\u7b49 \u9ad8 \u4e2d\u7b49 \u9ad8 \u4e2d\u7b49 \u767c\u5e03/\u8a02\u95b1 \u4e2d\u7b49\u81f3\u9ad8 \u9ad8 \u9ad8 \u4e2d\u7b49 \u4e2d\u7b49\u81f3\u9ad8 \u4e2d\u7b49\u81f3\u9ad8 \u4e32\u6d41\u8655\u7406 \u9ad8 \u9ad8 \u4e2d\u7b49\u81f3\u9ad8 \u9ad8 \u9ad8 \u4e2d\u7b49 \u7121\u4e2d\u4ecb\u8005 \u9ad8 \u4e2d\u7b49 \u4e2d\u7b49 \u4f4e\u81f3\u4e2d\u7b49 \u4e2d\u7b49 \u9ad8 \u8cc7\u6599\u5eab\u4f5c\u70ba\u4f47\u5217 \u4f4e\u81f3\u4e2d\u7b49 \u4f4e\u81f3\u4e2d\u7b49 \u4e2d\u7b49 \u4f4e \u4f4e\u81f3\u4e2d\u7b49 \u9ad8"},{"location":"level101/messagequeue/key_concepts/","title":"\u4e3b\u8981\u6982\u5ff5","text":"<p>\u8b93\u6211\u5011\u770b\u770b\u8ac7\u8ad6\u6d88\u606f\u7cfb\u7d71\u6642\u7684\u4e00\u4e9b\u4e3b\u8981\u6982\u5ff5</p>"},{"location":"level101/messagequeue/key_concepts/#_2","title":"\u50b3\u905e\u4fdd\u8b49","text":"<p>\u6d88\u606f\u670d\u52d9\u7684\u4e00\u500b\u91cd\u8981\u65b9\u9762\u662f\u78ba\u4fdd\u6d88\u606f\u80fd\u50b3\u9001\u7d66\u9810\u671f\u7684\u63a5\u6536\u8005\u3002\u4e0d\u540c\u7cfb\u7d71\u63d0\u4f9b\u4e0d\u540c\u7b49\u7d1a\u7684\u50b3\u905e\u4fdd\u8b49\uff0c\u4e86\u89e3\u9019\u4e9b\u4fdd\u8b49\u5c0d\u65bc\u9078\u64c7\u9069\u5408\u60a8\u9700\u6c42\u7684\u6d88\u606f\u670d\u52d9\u5f88\u91cd\u8981\u3002</p> <ul> <li> <p>\u6700\u591a\u4e00\u6b21\u50b3\u905e\uff08at-most-once-delivery\uff09  \u6b64\u4fdd\u8b49\u78ba\u4fdd\u6d88\u606f\u6700\u591a\u50b3\u9001\u4e00\u6b21\u7d66\u9810\u671f\u63a5\u6536\u8005\u3002\u63db\u53e5\u8a71\u8aaa\uff0c\u6d88\u606f\u53ef\u80fd\u6703\u907a\u5931\uff0c\u4f46\u7d55\u4e0d\u6703\u50b3\u9001\u8d85\u904e\u4e00\u6b21\u3002\u6b64\u65b9\u5f0f\u9069\u7528\u65bc\u53ef\u4ee5\u5bb9\u5fcd\u6d88\u606f\u907a\u5931\u4f46\u4e0d\u5e0c\u671b\u91cd\u8907\u7684\u5834\u666f\u3002</p> </li> <li> <p>\u81f3\u5c11\u4e00\u6b21\u50b3\u905e\uff08at-least-once-delivery\uff09 \u4f9d\u6b64\u4fdd\u8b49\uff0c\u6d88\u606f\u81f3\u5c11\u6703\u50b3\u9001\u4e00\u6b21\u7d66\u9810\u671f\u63a5\u6536\u8005\uff0c\u4f46\u5728\u5931\u6557\u6642\u53ef\u80fd\u6703\u88ab\u591a\u6b21\u50b3\u9001\u3002\u6b64\u65b9\u5f0f\u9069\u7528\u65bc\u4e0d\u5141\u8a31\u6d88\u606f\u907a\u5931\uff0c\u4f46\u63a5\u6536\u8005\u80fd\u7ba1\u7406\u91cd\u8907\u6d88\u606f\u7684\u60c5\u6cc1\u3002</p> </li> <li> <p>\u6070\u597d\u4e00\u6b21\u50b3\u905e\uff08exactly-once-delivery\uff09 \u6b64\u4fdd\u8b49\u78ba\u4fdd\u6d88\u606f\u6070\u597d\u50b3\u9001\u4e00\u6b21\u7d66\u9810\u671f\u63a5\u6536\u8005\uff0c\u65e2\u4e0d\u907a\u5931\u4e5f\u4e0d\u91cd\u8907\u3002\u9019\u662f\u6700\u56b4\u683c\u7684\u50b3\u905e\u4fdd\u8b49\uff0c\u9069\u5408\u7121\u6cd5\u5bb9\u5fcd\u6d88\u606f\u907a\u5931\u8207\u91cd\u8907\u7684\u61c9\u7528\u3002\u7136\u800c\uff0c\u9808\u6ce8\u610f\uff0c\u7531\u65bc\u5206\u6563\u5f0f\u7cfb\u7d71\u7684\u8907\u96dc\u6027\u548c\u6f5b\u5728\u5931\u6557\uff0c\u4efb\u4f55\u6d88\u606f\u7cfb\u7d71\u90fd\u5f88\u96e3\u751a\u81f3\u4e0d\u53ef\u80fd\u5b8c\u5168\u4fdd\u8b49\u6070\u597d\u4e00\u6b21\u50b3\u905e\u3002</p> </li> </ul> <p>\u9078\u64c7\u5408\u9069\u7684\u50b3\u905e\u4fdd\u8b49\u53d6\u6c7a\u65bc\u60a8\u7684\u61c9\u7528\u5177\u9ad4\u9700\u6c42\u3002\u4f8b\u5982\uff0c\u5728\u91d1\u878d\u4ea4\u6613\u4e2d\uff0c\u6070\u597d\u4e00\u6b21\u50b3\u905e\u4fdd\u8b49\u5c0d\u907f\u514d\u91cd\u8907\u8655\u7406\u652f\u4ed8\u6216\u907a\u6f0f\u4ea4\u6613\u81f3\u95dc\u91cd\u8981\uff1b\u800c\u5728\u65e5\u8a8c\u76e3\u63a7\u7cfb\u7d71\u4e2d\uff0c\u6700\u591a\u4e00\u6b21\u50b3\u905e\u5373\u53ef\u6e1b\u5c11\u7cfb\u7d71\u8ca0\u64d4\u3002</p>"},{"location":"level101/messagequeue/key_concepts/#_3","title":"\u6d88\u606f\u6392\u5e8f\u8207\u4e26\u884c\u8655\u7406","text":"<p>\u5728\u5206\u6563\u5f0f\u6d88\u606f\u7cfb\u7d71\u4e2d\uff0c\u78ba\u4fdd\u6d88\u606f\u6b63\u78ba\u6392\u5e8f\u53ca\u4f75\u884c\u8655\u7406\u662f\u4e00\u5927\u6311\u6230\u3002\u4ee5\u4e0b\u7b56\u7565\u6709\u52a9\u65bc\u7dad\u6301\u9806\u5e8f\u548c\u78ba\u4fdd\u4e26\u884c\uff1a</p> <ul> <li> <p>\u56b4\u683c\u6392\u5e8f\uff1a\u67d0\u4e9b\u60c5\u6cc1\u4e0b\u5fc5\u9808\u7dad\u8b77\u56b4\u683c\u9806\u5e8f\uff0c\u4f8b\u5982\u8655\u7406\u91d1\u878d\u4ea4\u6613\u3002\u9019\u53ef\u80fd\u9700\u8981\u984d\u5916\u8ca0\u64d4\uff0c\u5982\u5e8f\u5217\u865f\u3001\u7de9\u885d\u53ca\u6d88\u606f\u91cd\u6392\u5e8f\u3002</p> </li> <li> <p>\u90e8\u5206\u6392\u5e8f\uff1a\u90e8\u5206\u6392\u5e8f\u9069\u7528\u65bc\u53ea\u9700\u5c0d\u6d88\u606f\u5b50\u96c6\u6392\u5e8f\u7684\u60c5\u6cc1\u3002\u4f8b\u5982\uff0c\u7279\u5b9a\u7fa4\u7d44\u6216\u5206\u5340\u4e2d\u7684\u6d88\u606f\u5fc5\u9808\u6309\u5e8f\u8655\u7406\uff0c\u4f46\u4e0d\u540c\u7fa4\u7d44\u6216\u5206\u5340\u9593\u7684\u6d88\u606f\u53ef\u7368\u7acb\u8655\u7406\u3002</p> </li> <li> <p>\u7121\u5e8f\u8655\u7406\uff1a\u5728\u67d0\u4e9b\u60c5\u5883\u4e0b\uff0c\u6d88\u606f\u4ee5\u4efb\u610f\u9806\u5e8f\u8655\u7406\u7686\u53ef\u63a5\u53d7\u3002\u6b64\u65b9\u6cd5\u6e1b\u5c11\u8907\u96dc\u5ea6\u4e26\u63d0\u5347\u4e26\u884c\u5ea6\uff0c\u5f9e\u800c\u6539\u5584\u6574\u9ad4\u7cfb\u7d71\u6548\u80fd\u3002</p> </li> </ul> <p>\u7dad\u6301\u6392\u5e8f\u4e14\u4fdd\u8b49\u4e26\u884c\u7684\u7b56\u7565\uff1a\u53ef\u900f\u904e\u4f9d\u9375\u5206\u5340\u6d88\u606f\u3001\u4f7f\u7528\u5e8f\u5217\u865f\u548c\u7de9\u885d\u6a5f\u5236\u4f86\u4fdd\u6301\u6392\u5e8f\uff0c\u540c\u6642\u5141\u8a31\u4f75\u884c\u8655\u7406\u3002\u5c0d\u6392\u5e8f\u9700\u6c42\u8207\u4e26\u884c\u6027\u7684\u6b0a\u8861\u81f3\u95dc\u91cd\u8981\uff0c\u4ee5\u9054\u6700\u4f73\u7cfb\u7d71\u8868\u73fe\u3002</p>"},{"location":"level101/messagequeue/key_concepts/#_4","title":"\u6247\u51fa / \u6247\u5165","text":"<p>\u6247\u51fa\uff08Fan Out\uff09\u8207\u6247\u5165\uff08Fan In\uff09\u662f\u6d88\u606f\u7cfb\u7d71\u4e2d\u5169\u500b\u91cd\u8981\u6982\u5ff5\uff0c\u5206\u5225\u6d89\u53ca\u6d88\u606f\u5728\u591a\u500b\u6d88\u8cbb\u8005\u9593\u7684\u5206\u767c\u8207\u591a\u500b\u751f\u7522\u8005\u6d88\u606f\u7684\u805a\u5408\u3002</p>"},{"location":"level101/messagequeue/key_concepts/#_5","title":"\u6247\u51fa","text":"<p>\u6247\u51fa\u662f\u4e00\u7a2e\u6a21\u5f0f\uff0c\u5c07\u55ae\u4e00\u6d88\u606f\u767c\u9001\u81f3\u591a\u500b\u6d88\u8cbb\u8005\uff0c\u78ba\u4fdd\u6bcf\u500b\u6d88\u8cbb\u8005\u90fd\u6536\u5230\u6d88\u606f\u526f\u672c\u3002\u6b64\u6a21\u5f0f\u53ef\u900f\u904e\u767c\u5e03\u8a02\u95b1\uff08Pub/Sub\uff09\u6a5f\u5236\u5be6\u73fe\uff0c\u6216\u5728\u5982 RabbitMQ \u7b49\u6d88\u606f\u4ee3\u7406\u4e2d\u5efa\u7acb\u591a\u500b\u64c1\u6709\u7368\u7279\u8def\u7531\u9375\u7684\u7d81\u5b9a\u3002\u6247\u51fa\u9069\u7528\u65bc\u591a\u500b\u670d\u52d9\u6216\u61c9\u7528\u9700\u7368\u7acb\u8655\u7406\u540c\u4e00\u6d88\u606f\u7684\u5834\u666f\uff0c\u5982\u767c\u9001\u901a\u77e5\u7d66\u591a\u4f4d\u8a02\u95b1\u8005\u3001\u8cc7\u6599\u5eab\u9593\u7684\u8cc7\u6599\u8907\u88fd\u7b49\u3002</p>"},{"location":"level101/messagequeue/key_concepts/#_6","title":"\u6247\u5165","text":"<p>\u6247\u5165\u662f\u4e00\u7a2e\u6a21\u5f0f\uff0c\u4f86\u81ea\u591a\u500b\u751f\u7522\u8005\u7684\u6d88\u606f\u6703\u805a\u5408\uff0c\u7136\u5f8c\u7531\u55ae\u4e00\u6216\u591a\u500b\u6d88\u8cbb\u8005\u96c6\u4e2d\u8655\u7406\u3002\u53ef\u900f\u904e\u591a\u500b\u751f\u7522\u8005\u5c07\u6d88\u606f\u9001\u81f3\u5171\u7528\u968a\u5217\uff0c\u7531\u6d88\u8cbb\u8005\u6d88\u8cbb\u8a72\u968a\u5217\u5be6\u73fe\u3002\u6247\u5165\u9069\u7528\u65bc\u9700\u8981\u96c6\u4e2d\u8655\u7406\u6216\u6574\u5408\u591a\u6e90\u8cc7\u6599\u7684\u60c5\u5883\uff0c\u5982\u5f59\u7e3d\u4f86\u81ea\u591a\u500b\u670d\u52d9\u7684\u65e5\u8a8c\uff0c\u6216\u5408\u4f75\u591a\u500b\u7269\u806f\u7db2\u88dd\u7f6e\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002</p>"},{"location":"level101/messagequeue/key_concepts/#dead-letters","title":"\u6bd2\u4e38\u6d88\u606f\u8207\u6b7b\u4fe1\uff08Dead Letters\uff09","text":"<p>\u5728\u6d88\u606f\u7cfb\u7d71\u4e2d\uff0c\u6bd2\u4e38\u6d88\u606f\u662f\u6307\u53ef\u80fd\u5c0e\u81f4\u6d88\u606f\u8655\u7406\u7ba1\u7dda\u932f\u8aa4\u6216\u5d29\u6f70\u7684\u554f\u984c\u6d88\u606f\u3002\u70ba\u56e0\u61c9\u6b64\u985e\u6d88\u606f\uff0c\u6d88\u606f\u670d\u52d9\u901a\u5e38\u4f7f\u7528\u6b7b\u4fe1\u968a\u5217\uff08Dead Letter Queues, DLQ\uff09\u3002</p> <p>\u6bd2\u4e38\u6d88\u606f\u662f\u6307\u56e0\u683c\u5f0f\u932f\u8aa4\u3001\u8cc7\u6599\u907a\u5931\u6216\u932f\u8aa4\u7b49\u539f\u56e0\u7121\u6cd5\u8655\u7406\u7684\u6d88\u606f\u3002\u7576\u6d88\u8cbb\u8005\u9047\u5230\u6bd2\u4e38\u6d88\u606f\u6642\uff0c\u5fc5\u9808\u59a5\u5584\u8655\u7406\u4ee5\u907f\u514d\u5d29\u6f70\u6216\u9677\u5165\u7121\u9650\u91cd\u8a66\u5faa\u74b0\u3002</p> <p>\u6b7b\u4fe1\u968a\u5217\uff08DLQ\uff09\u662f\u7528\u65bc\u5b58\u653e\u6bd2\u4e38\u6d88\u606f\u6216\u7121\u6cd5\u6210\u529f\u8655\u7406\u6d88\u606f\u7684\u7368\u7acb\u968a\u5217\u3002\u554f\u984c\u6d88\u606f\u4e26\u672a\u76f4\u63a5\u4e1f\u68c4\uff0c\u800c\u662f\u8f49\u9001\u81f3 DLQ\uff0c\u8b93\u5de5\u7a0b\u5e2b\u5206\u6790\u4e26\u89e3\u6c7a\u554f\u984c\u3002</p> <p>\u70ba\u6709\u6548\u8655\u7406\u6bd2\u4e38\u6d88\u606f\uff0c\u60a8\u53ef\u5be6\u4f5c\u932f\u8aa4\u8655\u7406\u8207\u76e3\u63a7\uff0c\u8a2d\u5b9a\u5e36\u9000\u907f\u7b56\u7565\u7684\u91cd\u8a66\u6a5f\u5236\uff0c\u4e26\u4f7f\u7528 DLQ \u9032\u884c\u5f8c\u7e8c\u5206\u6790\u548c\u4fee\u5fa9\u3002\u5b9a\u671f\u76e3\u63a7 DLQ\uff0c\u8fa8\u8b58\u9020\u6210\u6bd2\u4e38\u6d88\u606f\u7684\u6a21\u5f0f\uff0c\u4e26\u5728\u6d88\u606f\u8655\u7406\u7ba1\u7dda\u4e2d\u7372\u5f97\u6539\u9032\u4ee5\u907f\u514d\u672a\u4f86\u554f\u984c\u3002</p>"},{"location":"level101/messagequeue/key_concepts/#_7","title":"\u6d88\u606f\u6a21\u5f0f","text":""},{"location":"level101/messagequeue/key_concepts/#_8","title":"\u9ede\u5c0d\u9ede\uff08\u57fa\u65bc\u968a\u5217\uff09","text":"<p>\u6b64\u6a21\u5f0f\u4e2d\uff0c\u6d88\u606f\u7531\u55ae\u4e00\u751f\u7522\u8005\u767c\u9001\u7d66\u55ae\u4e00\u6d88\u8cbb\u8005\uff0c\u900f\u904e\u6d88\u606f\u968a\u5217\u5b8c\u6210\u3002\u5373\u4f7f\u968a\u5217\u6709\u591a\u500b\u6d88\u8cbb\u8005\u76e3\u807d\uff0c\u6d88\u606f\u50c5\u6703\u88ab\u4e00\u500b\u6d88\u8cbb\u8005\u6d88\u8cbb\u3002\u6b64\u6a21\u5f0f\u78ba\u4fdd\u6d88\u606f\u7531\u55ae\u4e00\u6d88\u8cbb\u8005\u8655\u7406\uff0c\u9069\u5408\u9700\u9806\u5e8f\u8655\u7406\u6d88\u606f\u6216\u6307\u5b9a\u6d88\u8cbb\u8005\u8655\u7406\u7684\u5834\u666f\u3002</p>"},{"location":"level101/messagequeue/key_concepts/#_9","title":"\u767c\u5e03\u8a02\u95b1\u6a21\u5f0f","text":"<p>\u767c\u5e03\u8a02\u95b1\u6a21\u5f0f\u4e2d\uff0c\u751f\u7522\u8005\u5c07\u6d88\u606f\u767c\u4f48\u81f3\u4e3b\u984c\uff08topic\uff09\uff0c\u591a\u500b\u6d88\u8cbb\u8005\u8a02\u95b1\u8a72\u4e3b\u984c\u4ee5\u63a5\u6536\u6d88\u606f\u3002\u6b64\u6a21\u5f0f\u652f\u6301\u4e00\u5c0d\u591a\u901a\u4fe1\uff0c\u55ae\u4e00\u6d88\u606f\u53ef\u540c\u6642\u50b3\u9001\u7d66\u591a\u500b\u6d88\u8cbb\u8005\u3002\u975e\u5e38\u9069\u5408\u4e8b\u4ef6\u9a45\u52d5\u67b6\u69cb\u53ca\u9700\u8981\u5373\u6642\u66f4\u65b0\u6216\u901a\u77e5\u7684\u61c9\u7528\u3002</p>"},{"location":"level101/metrics_and_monitoring/alerts/","title":"Proactive Monitoring with Alerts","text":""},{"location":"level101/metrics_and_monitoring/alerts/#_1","title":"Proactive Monitoring with Alerts","text":""},{"location":"level101/metrics_and_monitoring/alerts/#_2","title":"\u4f7f\u7528\u8b66\u793a\u9032\u884c\u4e3b\u52d5\u76e3\u63a7","text":"<p>\u524d\u9762\u6211\u5011\u8a0e\u8ad6\u4e86\u5f9e\u670d\u52d9\u53ca\u5176\u5e95\u5c64\u57fa\u790e\u8a2d\u65bd\u6536\u96c6\u95dc\u9375\u6307\u6a19\u6578\u64da\u9ede\u7684\u4e0d\u540c\u65b9\u6cd5\u3002\u9019\u4e9b\u6578\u64da\u8b93\u6211\u5011\u66f4\u4e86\u89e3\u670d\u52d9\u7684\u904b\u4f5c\u72c0\u6cc1\u3002\u76e3\u63a7\u7684\u4e3b\u8981\u76ee\u6a19\u4e4b\u4e00\u662f\u53ca\u65e9\u5075\u6e2c\u670d\u52d9\u6027\u80fd\u4e0b\u964d\uff08\u7e2e\u77ed\u5e73\u5747\u5075\u6e2c\u6642\u9593\uff0cMean Time To Detect\uff09\uff0c\u4e26\u901a\u77e5\u76f8\u95dc\u4eba\u54e1\uff0c\u8b93\u554f\u984c\u80fd\u88ab\u907f\u514d\u6216\u53ca\u65e9\u4fee\u5fa9\uff0c\u9032\u800c\u7e2e\u77ed\u5e73\u5747\u4fee\u5fa9\u6642\u9593\uff08MTTR\uff0cMean Time To Recover\uff09\u3002\u4f8b\u5982\uff0c\u82e5\u7576\u670d\u52d9\u7684\u8cc7\u6e90\u4f7f\u7528\u7387\u8d85\u904e90\uff05\u6642\u4f60\u6703\u88ab\u901a\u77e5\uff0c\u5c31\u80fd\u63a1\u53d6\u9810\u9632\u63aa\u65bd\uff0c\u907f\u514d\u56e0\u8cc7\u6e90\u77ed\u7f3a\u800c\u5c0e\u81f4\u670d\u52d9\u5d29\u6f70\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u7576\u670d\u52d9\u56e0\u67d0\u4e9b\u554f\u984c\u4e2d\u65b7\u6642\uff0c\u53ca\u65e9\u5075\u6e2c\u4e26\u901a\u77e5\u6b64\u985e\u4e8b\u4ef6\uff0c\u80fd\u5e6b\u52a9\u4f60\u5feb\u901f\u4fee\u5fa9\u554f\u984c\u3002</p> <p> </p> <p> \u5716 8\uff1a\u5728 Slack \u4e0a\u6536\u5230\u7684\u8b66\u793a\u901a\u77e5 </p> <p>\u5982\u4eca\uff0c\u5927\u591a\u6578\u53ef\u7528\u7684\u76e3\u63a7\u670d\u52d9\u90fd\u63d0\u4f9b\u8a2d\u5b9a\u8b66\u793a\u6a5f\u5236\uff0c\u91dd\u5c0d\u55ae\u4e00\u6216\u591a\u500b\u6307\u6a19\u7d44\u5408\u8a2d\u5b9a\u8b66\u6212\u689d\u4ef6\uff0c\u4e3b\u52d5\u76e3\u63a7\u670d\u52d9\u5065\u5eb7\u72c0\u6cc1\u3002\u9019\u4e9b\u8b66\u793a\u5177\u5099\u4e00\u7d44\u5b9a\u7fa9\u597d\u7684\u898f\u5247\u6216\u689d\u4ef6\uff0c\u7576\u898f\u5247\u88ab\u89f8\u767c\u6642\uff0c\u7cfb\u7d71\u6703\u901a\u77e5\u4f60\u3002\u9019\u4e9b\u898f\u5247\u53ef\u4ee5\u5f88\u7c21\u55ae\uff0c\u5982\u7576\u6307\u6a19\u503c\u8d85\u904e n \u6642\u767c\u51fa\u901a\u77e5\uff0c\u4e5f\u53ef\u4ee5\u5f88\u8907\u96dc\uff0c\u4f8b\u5982\u6bd4\u8f03\u4e00\u6bb5\u671f\u9593\u5167\u7684\u9031\u74b0\u6bd4\uff08WoW\uff09\u6a19\u6e96\u5dee\u3002\u76e3\u63a7\u5de5\u5177\u6703\u901a\u77e5\u4f60\u6709\u8b66\u793a\u89f8\u767c\uff0c\u591a\u6578\u5de5\u5177\u652f\u63f4\u5373\u6642\u901a\u8a0a\uff08IM\uff09\u5e73\u53f0\u3001\u7c21\u8a0a\u3001\u96fb\u5b50\u90f5\u4ef6\u6216\u96fb\u8a71\u901a\u77e5\u3002\u5716 8 \u986f\u793a\u8a18\u61b6\u9ad4\u4f7f\u7528\u7387\u8d85\u904e\u4e3b\u6a5f\u7e3d RAM \u7a7a\u9593\u7684 90\uff05 \u6642\uff0c\u5728 Slack \u4e0a\u6536\u5230\u7684\u8b66\u793a\u793a\u7bc4\u3002</p>"},{"location":"level101/metrics_and_monitoring/best_practices/","title":"Best Practices for Monitoring","text":""},{"location":"level101/metrics_and_monitoring/best_practices/#_1","title":"Best Practices for Monitoring","text":""},{"location":"level101/metrics_and_monitoring/best_practices/#_2","title":"\u76e3\u63a7\u7684\u6700\u4f73\u5be6\u8e10","text":"<p>\u5728\u5efa\u7acb\u670d\u52d9\u76e3\u63a7\u6642\uff0c\u8acb\u8a18\u4f4f\u4ee5\u4e0b\u6700\u4f73\u5be6\u8e10\u3002</p> <ul> <li> <p>\u4f7f\u7528\u6b63\u78ba\u7684\u6307\u6a19\u985e\u578b\u2014\u76ee\u524d\u5927\u591a\u6578\u53ef\u7528\u7684\u51fd\u5f0f\u5eab\u90fd\u63d0\u4f9b\u591a\u7a2e\u6307\u6a19\u985e\u578b\u3002\u8acb\u9078\u64c7\u9069\u5408\u76e3\u63a7\u7cfb\u7d71\u7684\u6307\u6a19\u985e\u578b\u3002\u4ee5\u4e0b\u662f\u6307\u6a19\u985e\u578b\u53ca\u5176\u7528\u9014\u3002</p> <ul> <li> <p>Gauge\uff08\u91cf\u6e2c\u5668\uff09\u2014Gauge \u662f\u4e00\u7a2e\u5e38\u6578\u578b\u6307\u6a19\u3002\u6307\u6a19\u521d\u59cb\u5316\u5f8c\uff0c\u9664\u975e\u60a8\u523b\u610f\u66f4\u65b0\uff0c\u6307\u6a19\u503c\u4e0d\u6703\u6539\u8b8a\u3002</p> </li> <li> <p>Timer\uff08\u8a08\u6642\u5668\uff09\u2014Timer \u7528\u65bc\u6e2c\u91cf\u5b8c\u6210\u4efb\u52d9\u6240\u9700\u7684\u6642\u9593\u3002</p> </li> <li> <p>Counter\uff08\u8a08\u6578\u5668\uff09\u2014Counter \u7528\u65bc\u8a08\u6578\u7279\u5b9a\u4e8b\u4ef6\u767c\u751f\u7684\u6b21\u6578\u3002</p> </li> </ul> </li> </ul> <p>\u6709\u95dc\u9019\u4e9b\u6307\u6a19\u985e\u578b\u7684\u66f4\u591a\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1\u8cc7\u6599\u985e\u578b\u3002</p> <ul> <li> <p>\u907f\u514d\u904e\u5ea6\u76e3\u63a7\u2014\u76e3\u63a7\u53ef\u80fd\u662f\u4e00\u9805\u9f90\u5927\u7684\u5de5\u7a0b\u5de5\u4f5c\u3002\u56e0\u6b64\uff0c\u8acb\u78ba\u4fdd\u4e0d\u6703\u82b1\u8cbb\u904e\u591a\u6642\u9593\u548c\u8cc7\u6e90\u5728\u76e3\u63a7\u670d\u52d9\u4e0a\uff0c\u540c\u6642\u78ba\u4fdd\u6240\u6709\u91cd\u8981\u7684\u6307\u6a19\u88ab\u6355\u6349\u3002</p> </li> <li> <p>\u9632\u6b62\u8b66\u5831\u75b2\u52de\u2014\u8a2d\u5b9a\u8b66\u5831\u6642\uff0c\u8acb\u91dd\u5c0d\u91cd\u8981\u4e14\u53ef\u63a1\u53d6\u884c\u52d5\u7684\u6307\u6a19\u3002\u5982\u679c\u6536\u5230\u904e\u591a\u975e\u95dc\u9375\u7684\u8b66\u5831\uff0c\u96a8\u8457\u6642\u9593\u63a8\u79fb\u60a8\u53ef\u80fd\u6703\u958b\u59cb\u5ffd\u7565\u8b66\u5831\u901a\u77e5\uff0c\u5c0e\u81f4\u932f\u904e\u95dc\u9375\u8b66\u5831\u3002</p> </li> <li> <p>\u5efa\u7acb\u8b66\u5831\u904b\u4f5c\u624b\u518a\u2014\u91dd\u5c0d\u6bcf\u500b\u8b66\u5831\uff0c\u8acb\u78ba\u4fdd\u6709\u4e00\u4efd\u6587\u4ef6\u8aaa\u660e\u8b66\u5831\u89f8\u767c\u6642\u9700\u8981\u57f7\u884c\u7684\u884c\u52d5\u548c\u6aa2\u67e5\u3002\u9019\u8b93\u5718\u968a\u4e2d\u7684\u4efb\u4f55\u5de5\u7a0b\u5e2b\u90fd\u80fd\u81ea\u884c\u8655\u7406\u8b66\u5831\u4e26\u63a1\u53d6\u5fc5\u8981\u884c\u52d5\uff0c\u800c\u7121\u9700\u4ed6\u4eba\u5354\u52a9\u3002</p> </li> </ul>"},{"location":"level101/metrics_and_monitoring/command-line_tools/","title":"Command-line Tools","text":""},{"location":"level101/metrics_and_monitoring/command-line_tools/#_1","title":"Command-line Tools","text":""},{"location":"level101/metrics_and_monitoring/command-line_tools/#_2","title":"\u6307\u4ee4\u884c\u5de5\u5177","text":"<p>\u73fe\u4eca\u5927\u591a\u6578 Linux \u767c\u884c\u7248\u90fd\u9644\u5e36\u4e00\u7d44\u7528\u65bc\u76e3\u63a7\u7cfb\u7d71\u6548\u80fd\u7684\u5de5\u5177\u3002\u9019\u4e9b\u5de5\u5177\u5e6b\u52a9\u60a8\u6e2c\u91cf\u4e26\u7406\u89e3\u5404\u7a2e\u5b50\u7cfb\u7d71\u7d71\u8a08\u8cc7\u6599\uff08CPU\u3001\u8a18\u61b6\u9ad4\u3001\u7db2\u8def\u7b49\u7b49\uff09\u3002\u8b93\u6211\u5011\u4f86\u770b\u770b\u4e00\u4e9b\u5ee3\u6cdb\u4f7f\u7528\u7684\u5de5\u5177\u3002</p> <ul> <li> <p><code>ps/top</code>\uff1a\u9032\u7a0b\u72c0\u614b\u6307\u4ee4 (<code>ps</code>) \u986f\u793a Linux \u7cfb\u7d71\u4e2d\u6240\u6709\u76ee\u524d\u6b63\u5728\u57f7\u884c\u7684\u9032\u7a0b\u8cc7\u8a0a\u3002<code>top</code> \u6307\u4ee4\u8207 <code>ps</code> \u985e\u4f3c\uff0c\u4f46\u6703\u5b9a\u671f\u66f4\u65b0\u986f\u793a\u7684\u8cc7\u8a0a\uff0c\u76f4\u5230\u7a0b\u5f0f\u7d42\u6b62\u70ba\u6b62\u3002<code>top</code> \u7684\u9032\u968e\u7248\u672c\u7a31\u70ba <code>htop</code>\uff0c\u5177\u6709\u66f4\u53cb\u5584\u7684\u4f7f\u7528\u4ecb\u9762\u53ca\u4e00\u4e9b\u984d\u5916\u529f\u80fd\u3002\u9019\u4e9b\u6307\u4ee4\u884c\u5de5\u5177\u9644\u5e36\u9078\u9805\u4ee5\u4fee\u6539\u6307\u4ee4\u7684\u904b\u4f5c\u8207\u8f38\u51fa\u3002\u4ee5\u4e0b\u662f <code>ps</code> \u6307\u4ee4\u652f\u63f4\u7684\u4e00\u4e9b\u91cd\u8981\u9078\u9805\uff1a</p> <ul> <li> <p><code>-p &lt;pid1, pid2,...&gt;</code>\uff1a\u986f\u793a\u5339\u914d\u6307\u5b9a\u9032\u7a0b ID \u7684\u9032\u7a0b\u8cc7\u8a0a\u3002\u540c\u6a23\u5730\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>-u &lt;uid&gt;</code> \u8207 <code>-g &lt;gid&gt;</code> \u4f86\u986f\u793a\u5c6c\u65bc\u7279\u5b9a\u4f7f\u7528\u8005\u6216\u7fa4\u7d44\u7684\u9032\u7a0b\u8cc7\u8a0a\u3002</p> </li> <li> <p><code>-a</code>\uff1a\u986f\u793a\u5176\u4ed6\u4f7f\u7528\u8005\u7684\u9032\u7a0b\u8cc7\u8a0a\uff0c\u4ee5\u53ca\u81ea\u5df1\u7684\u9032\u7a0b\u3002</p> </li> <li> <p><code>-x</code>\uff1a\u7576\u986f\u793a\u7b26\u5408\u5176\u4ed6\u9078\u9805\u7684\u9032\u7a0b\u6642\uff0c\u5305\u542b\u4e0d\u5177\u63a7\u5236\u7d42\u7aef\u7684\u9032\u7a0b\u3002</p> </li> </ul> </li> </ul> <p> <p> \u5716 2\uff1atop \u6307\u4ee4\u7d50\u679c </p> </p> <ul> <li> <p><code>ss</code>\uff1asocket \u7d71\u8a08\u6307\u4ee4 (<code>ss</code>) \u7528\u65bc\u986f\u793a\u7cfb\u7d71\u4e0a\u7684\u7db2\u8def socket \u8cc7\u8a0a\u3002\u9019\u5de5\u5177\u662f\u5df2\u68c4\u7528\u7684 netstat \u7684\u7e7c\u4efb\u8005\u3002\u4ee5\u4e0b\u662f <code>ss</code> \u6307\u4ee4\u652f\u63f4\u7684\u4e00\u4e9b\u9078\u9805\uff1a</p> <ul> <li> <p><code>-t</code>\uff1a\u986f\u793a TCP socket\u3002\u540c\u7406\uff0c<code>-u</code> \u986f\u793a UDP socket\uff0c<code>-x</code> \u986f\u793a UNIX \u9818\u57df socket\uff0c\u4f9d\u6b64\u985e\u63a8\u3002</p> </li> <li> <p><code>-l</code>\uff1a\u53ea\u986f\u793a\u76e3\u807d\u4e2d\u7684 socket\u3002</p> </li> <li> <p><code>-n</code>\uff1a\u547d\u4ee4\u6307\u793a\u4e0d\u89e3\u6790\u670d\u52d9\u540d\u7a31\uff0c\u800c\u662f\u76f4\u63a5\u986f\u793a\u57e0\u865f\u3002</p> </li> </ul> </li> </ul> <p> <p> \u5716 3\uff1a\u7cfb\u7d71\u76e3\u807d socket \u5217\u8868 </p></p> <ul> <li><code>free</code>\uff1a<code>free</code> \u6307\u4ee4\u986f\u793a\u4e3b\u6a5f\u7684\u8a18\u61b6\u9ad4\u4f7f\u7528\u7d71\u8a08\u8cc7\u6599\uff0c\u5982\u53ef\u7528\u8a18\u61b6\u9ad4\u3001\u5df2\u7528\u8a18\u61b6\u9ad4\u8207\u7a7a\u9592\u8a18\u61b6\u9ad4\u3002\u6b64\u6307\u4ee4\u5e38\u8207 <code>-h</code> \u9078\u9805\u642d\u914d\u4f7f\u7528\uff0c\u4ee5\u4eba\u985e\u53ef\u8b80\u683c\u5f0f\u986f\u793a\u7d71\u8a08\u8cc7\u6599\u3002</li> </ul> <p> </p> <p> \u5716 4\uff1a\u4e3b\u6a5f\u8a18\u61b6\u9ad4\u7d71\u8a08\uff08\u4eba\u985e\u53ef\u8b80\u683c\u5f0f\uff09 </p> <ul> <li><code>df</code>\uff1a<code>df</code> \u6307\u4ee4\u986f\u793a\u78c1\u789f\u7a7a\u9593\u4f7f\u7528\u7d71\u8a08\u8cc7\u6599\u3002\u5e38\u642d\u914d <code>-i</code> \u9078\u9805\u986f\u793a inode \u4f7f\u7528\u60c5\u6cc1\u3002<code>-h</code> \u9078\u9805\u53ef\u7528\u65bc\u4ee5\u4eba\u985e\u53ef\u8b80\u683c\u5f0f\u986f\u793a\u7d71\u8a08\u8cc7\u6599\u3002</li> </ul> <p> </p> <p> \u5716 5\uff1a\u7cfb\u7d71\u78c1\u789f\u7a7a\u9593\u4f7f\u7528\u7d71\u8a08\uff08\u4eba\u985e\u53ef\u8b80\u683c\u5f0f\uff09 </p> <ul> <li> <p><code>sar</code>\uff1a<code>sar</code> \u5de5\u5177\u53ef\u5373\u6642\u76e3\u63a7\u591a\u7a2e\u5b50\u7cfb\u7d71\uff0c\u5982 CPU \u8207\u8a18\u61b6\u9ad4\u3002\u53ef\u4f7f\u7528 <code>-o</code> \u9078\u9805\u6307\u5b9a\u7684\u6a94\u6848\u5132\u5b58\u8cc7\u6599\uff0c\u6709\u52a9\u65bc\u8b58\u5225\u7570\u5e38\u60c5\u6cc1\u3002</p> </li> <li> <p><code>iftop</code>\uff1a\u4ecb\u9762\u6d41\u91cf\u6307\u4ee4 (<code>iftop</code>) \u986f\u793a\u4e3b\u6a5f\u5728\u7279\u5b9a\u4ecb\u9762\u4e0a\u7684\u983b\u5bec\u4f7f\u7528\u60c5\u6cc1\u3002\u6b64\u6307\u4ee4\u5e38\u7528\u65bc\u8b58\u5225\u6d3b\u8e8d\u9023\u7dda\u7684\u983b\u5bec\u4f7f\u7528\u3002<code>-i</code> \u9078\u9805\u6307\u5b9a\u76e3\u63a7\u7684\u7db2\u8def\u4ecb\u9762\u3002</p> </li> </ul> <p> </p> <p> \u5716 6\uff1a\u4e3b\u6a5f\u6d3b\u8e8d\u9023\u7dda\u7684\u7db2\u8def\u983b\u5bec\u4f7f\u7528 </p> <ul> <li> <p><code>tcpdump</code>\uff1a<code>tcpdump</code> \u6307\u4ee4\u662f\u4e00\u6b3e\u7db2\u8def\u76e3\u63a7\u5de5\u5177\uff0c\u53ef\u64f7\u53d6\u7db2\u8def\u4e0a\u6d41\u52d5\u7684\u5c01\u5305\u4e26\u986f\u793a\u5c01\u5305\u63cf\u8ff0\u3002\u4ee5\u4e0b\u662f\u90e8\u5206\u53ef\u7528\u9078\u9805\uff1a</p> <ul> <li> <p><code>-i &lt;interface&gt;</code>\uff1a\u76e3\u807d\u4ecb\u9762</p> </li> <li> <p><code>host &lt;IP/hostname&gt;</code>\uff1a\u904e\u6ffe\u6307\u5b9a\u4e3b\u6a5f\u7684\u50b3\u8f38\u6d41\u91cf\uff08\u542b\u767c\u9001\u8207\u63a5\u6536\uff09</p> </li> <li> <p><code>src/dst</code>\uff1a\u986f\u793a\u4f86\u6e90 (src) \u6216\u76ee\u7684\u5730 (dst) \u7684\u55ae\u5411\u6d41\u91cf</p> </li> <li> <p><code>port &lt;port number&gt;</code>\uff1a\u904e\u6ffe\u7279\u5b9a\u57e0\u7684\u6d41\u91cf</p> </li> </ul> </li> </ul> <p> </p> <p> \u5716 7\uff1a\u4e3b\u6a5f\u4e0a <code>docker0</code> \u4ecb\u9762\u7684 <code>tcpdump</code> \u5c01\u5305 </p>"},{"location":"level101/metrics_and_monitoring/conclusion/","title":"\u7d50\u8ad6","text":"<p>\u70ba\u4e86\u7dad\u8b77\u8207\u6392\u9664\u7cfb\u7d71\u6545\u969c\uff0c\u5efa\u7acb\u4e00\u5957\u5065\u5168\u7684\u76e3\u63a7\u8207\u8b66\u793a\u7cfb\u7d71\u662f\u5fc5\u8981\u7684\u3002\u900f\u904e\u5305\u542b\u95dc\u9375\u6307\u6a19\u7684\u5100\u8868\u677f\uff0c\u4f60\u53ef\u4ee5\u5728\u540c\u4e00\u500b\u5730\u65b9\u4e00\u89bd\u670d\u52d9\u7684\u6548\u80fd\u72c0\u6cc1\u3002\u660e\u78ba\u5b9a\u7fa9\u7684\u8b66\u793a\uff08\u5177\u5099\u5408\u7406\u7684\u9580\u6abb\u8207\u901a\u77e5\u6a5f\u5236\uff09\u80fd\u5e6b\u52a9\u4f60\u5feb\u901f\u8fa8\u8b58\u670d\u52d9\u57fa\u790e\u67b6\u69cb\u6216\u8cc7\u6e90\u98fd\u548c\u7684\u4efb\u4f55\u7570\u5e38\u3002\u900f\u904e\u63a1\u53d6\u5fc5\u8981\u884c\u52d5\uff0c\u4f60\u53ef\u4ee5\u907f\u514d\u670d\u52d9\u964d\u7d1a\uff0c\u4e26\u7e2e\u77ed\u670d\u52d9\u6545\u969c\u7684\u5e73\u5747\u5075\u6e2c\u6642\u9593\uff08MTTD\uff09\u3002</p> <p>\u9664\u4e86\u5167\u90e8\u76e3\u63a7\u4e4b\u5916\uff0c\u76e3\u63a7\u771f\u5be6\u4f7f\u7528\u8005\u9ad4\u9a57\u6709\u52a9\u65bc\u7406\u89e3\u7528\u6236\u611f\u53d7\u5230\u7684\u670d\u52d9\u6548\u80fd\u3002\u56e0\u70ba\u670d\u52d9\u4e2d\u6d89\u53ca\u8a31\u591a\u6a21\u7d44\uff0c\u591a\u6578\u4e0d\u5728\u4f60\u638c\u63a7\u7bc4\u570d\u5167\uff0c\u56e0\u6b64\u5be6\u65bd\u771f\u5be6\u4f7f\u7528\u8005\u76e3\u63a7\u5341\u5206\u91cd\u8981\u3002</p> <p>\u6307\u6a19\u63d0\u4f9b\u7684\u662f\u975e\u5e38\u62bd\u8c61\u7684\u670d\u52d9\u6548\u80fd\u7d30\u7bc0\u3002\u70ba\u4e86\u66f4\u6df1\u5165\u4e86\u89e3\u7cfb\u7d71\u72c0\u614b\u4e26\u5728\u4e8b\u4ef6\u767c\u751f\u6642\u52a0\u5feb\u6062\u5fa9\u901f\u5ea6\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u5be6\u4f5c\u89c0\u6e2c\u6027\u7684\u53e6\u5916\u5169\u5927\u652f\u67f1\uff1a\u65e5\u8a8c\u8207\u8ffd\u8e64\u3002\u65e5\u8a8c\u548c\u8ffd\u8e64\u8cc7\u6599\u53ef\u4ee5\u5354\u52a9\u4f60\u4e86\u89e3\u5c0e\u81f4\u670d\u52d9\u5931\u6557\u6216\u964d\u7d1a\u7684\u539f\u56e0\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5b78\u7fd2\u76e3\u63a7\u8207\u89c0\u6e2c\u6027\u7684\u8cc7\u6e90\uff1a</p> <ul> <li> <p>Google SRE \u66f8\u7c4d\uff1a\u76e3\u63a7\u5206\u6563\u5f0f\u7cfb\u7d71</p> </li> <li> <p>Yuri Shkuro \u7684\u300a\u7cbe\u901a\u5206\u6563\u5f0f\u8ffd\u8e64\u300b</p> </li> </ul>"},{"location":"level101/metrics_and_monitoring/conclusion/#_2","title":"\u53c3\u8003\u8cc7\u6599","text":"<ul> <li> <p>Google SRE \u66f8\u7c4d\uff1a\u76e3\u63a7\u5206\u6563\u5f0f\u7cfb\u7d71</p> </li> <li> <p>Yuri Shkuro \u8457\u300a\u7cbe\u901a\u5206\u6563\u5f0f\u8ffd\u8e64\u300b</p> </li> <li> <p>\u76e3\u63a7\u8207\u89c0\u6e2c\u6027</p> </li> <li> <p>\u96f6\u7b54\u6848\u7684\u4e09\u652f\u67f1</p> </li> <li> <p>\u5de5\u7a0b\u90e8\u843d\u683c\uff1a     LinkedIn\u3001     Grafana\u3001     Elastic.co\u3001     OpenTelemetry</p> </li> </ul>"},{"location":"level101/metrics_and_monitoring/introduction/","title":"Introduction","text":""},{"location":"level101/metrics_and_monitoring/introduction/#_1","title":"Introduction","text":""},{"location":"level101/metrics_and_monitoring/introduction/#_2","title":"\u5148\u6c7a\u689d\u4ef6","text":"<ul> <li> <p>Linux \u57fa\u790e</p> </li> <li> <p>Python \u8207\u7db2\u8def</p> </li> <li> <p>\u7cfb\u7d71\u8a2d\u8a08</p> </li> <li> <p>Linux \u7db2\u8def\u57fa\u790e</p> </li> </ul>"},{"location":"level101/metrics_and_monitoring/introduction/#_3","title":"\u672c\u8ab2\u7a0b\u9810\u671f\u5b78\u7fd2\u6210\u679c","text":"<p>\u76e3\u63a7\u662f\u4efb\u4f55\u7cfb\u7d71\u4e2d\u4e0d\u53ef\u6216\u7f3a\u7684\u4e00\u90e8\u5206\u3002\u4f5c\u70ba SRE\uff0c\u60a8\u9700\u8981 \u5177\u5099\u670d\u52d9\u57fa\u790e\u67b6\u69cb\u76e3\u63a7\u7684\u57fa\u672c\u7406\u89e3\u3002\u901a\u904e \u672c\u8ab2\u7a0b\u7d50\u675f\uff0c\u60a8\u5c07\u66f4\u597d\u5730\u7406\u89e3\u4ee5\u4e0b\u4e3b\u984c\uff1a</p> <ul> <li> <p>\u4ec0\u9ebc\u662f\u76e3\u63a7\uff1f</p> <ul> <li> <p>\u4ec0\u9ebc\u9700\u8981\u88ab\u8861\u91cf</p> </li> <li> <p>\u5982\u4f55\u4f7f\u7528\u6536\u96c6\u5230\u7684\u6307\u6a19\u4f86\u6539\u5584\u5546\u696d\u6c7a\u7b56\u8207\u6574\u9ad4\u53ef\u9760\u5ea6</p> </li> <li> <p>\u5229\u7528\u8b66\u5831\u7684\u4e3b\u52d5\u76e3\u63a7</p> </li> <li> <p>\u65e5\u8a8c\u8655\u7406\u53ca\u5176\u91cd\u8981\u6027</p> </li> </ul> </li> <li> <p>\u4ec0\u9ebc\u662f\u53ef\u89c0\u5bdf\u6027\uff1f</p> <ul> <li> <p>\u5206\u6563\u5f0f\u8ffd\u8e64</p> </li> <li> <p>\u65e5\u8a8c</p> </li> <li> <p>\u6307\u6a19</p> </li> </ul> </li> </ul>"},{"location":"level101/metrics_and_monitoring/introduction/#_4","title":"\u672c\u8ab2\u7a0b\u672a\u6db5\u84cb\u5167\u5bb9","text":"<ul> <li> <p>\u76e3\u63a7\u57fa\u790e\u67b6\u69cb\u5efa\u7acb\u6307\u5357</p> </li> <li> <p>\u6df1\u5165\u63a2\u8a0e\u4e0d\u540c\u76e3\u63a7\u6280\u8853\u53ca\u5de5\u5177\u7684\u57fa\u6e96\u6e2c\u8a66\u6216\u6bd4\u8f03</p> </li> </ul>"},{"location":"level101/metrics_and_monitoring/introduction/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ul> <li> <p>\u4ecb\u7d39</p> <ul> <li> <p>\u76e3\u63a7\u7684\u56db\u5927\u9ec3\u91d1\u8a0a\u865f</p> </li> <li> <p>\u76e3\u63a7\u70ba\u4f55\u91cd\u8981\uff1f</p> </li> </ul> </li> <li> <p>\u6307\u4ee4\u5217\u5de5\u5177</p> </li> <li> <p>\u7b2c\u4e09\u65b9\u76e3\u63a7</p> </li> <li> <p>\u5229\u7528\u8b66\u5831\u9032\u884c\u4e3b\u52d5\u76e3\u63a7</p> </li> <li> <p>\u76e3\u63a7\u6700\u4f73\u5be6\u8e10</p> </li> <li> <p>\u53ef\u89c0\u5bdf\u6027</p> <ul> <li>\u65e5\u8a8c</li> <li>\u8ffd\u8e64</li> </ul> </li> </ul> <p>\u7d50\u8ad6</p>"},{"location":"level101/metrics_and_monitoring/introduction/#_6","title":"Introduction","text":""},{"location":"level101/metrics_and_monitoring/introduction/#_7","title":"\u4ecb\u7d39","text":"<p>\u76e3\u63a7\u662f\u5f9e\u7cfb\u7d71\u4e2d\u6536\u96c6\u5373\u6642\u6027\u80fd\u6307\u6a19\u3001 \u5206\u6790\u8cc7\u6599\u4ee5\u7372\u53d6\u6709\u610f\u7fa9\u8cc7\u8a0a\u3001\u4e26\u5c07\u8cc7\u6599\u5c55\u793a\u7d66\u4f7f\u7528\u8005\u7684\u904e\u7a0b\u3002 \u7c21\u55ae\u4f86\u8aaa\uff0c\u60a8\u5b9a\u671f\u6e2c\u91cf\u5404\u7a2e\u6307\u6a19\u4ee5\u4e86\u89e3\u7cfb\u7d71\u72c0\u6cc1\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u65bc\u4f7f\u7528\u8005\u8acb\u6c42\u3001\u5ef6\u9072\u548c\u932f\u8aa4\u7387\u3002\u6e2c\u91cf\u5373\u662f\u6539\u9032\u2014\u5982\u679c\u60a8\u80fd\u8861\u91cf\u67d0\u9805\u4e8b\u7269\uff0c\u5c31\u80fd\u7406\u6027\u5206\u6790\u5b83\u3001\u7406\u89e3\u5b83\u3001\u8a0e\u8ad6\u5b83\uff0c\u4e26\u81ea\u4fe1\u5730\u63a1\u53d6\u884c\u52d5\u3002</p>"},{"location":"level101/metrics_and_monitoring/introduction/#_8","title":"\u76e3\u63a7\u7684\u56db\u5927\u9ec3\u91d1\u8a0a\u865f","text":"<p>\u7576\u70ba\u7cfb\u7d71\u8a2d\u7f6e\u76e3\u63a7\u6642\uff0c\u60a8\u9700\u8981\u6c7a\u5b9a\u8981\u8861\u91cf\u4ec0\u9ebc\u6307\u6a19\u3002\u56db\u5927\u9ec3\u91d1\u8a0a\u865f\u63d0\u4f9b\u5c0d\u670d\u52d9\u6548\u80fd\u7684\u826f\u597d\u7406\u89e3\uff0c\u4e26\u70ba\u7cfb\u7d71\u76e3\u63a7\u5960\u5b9a\u57fa\u790e\u3002\u9019\u56db\u5927\u9ec3\u91d1\u8a0a\u865f\u5305\u542b\uff1a</p> <ul> <li> <p>\u6d41\u91cf</p> </li> <li> <p>\u5ef6\u9072</p> </li> <li> <p>\u932f\u8aa4</p> </li> <li> <p>\u98fd\u548c\u5ea6</p> </li> </ul> <p>\u9019\u4e9b\u6307\u6a19\u6709\u52a9\u65bc\u4e86\u89e3\u7cfb\u7d71\u6548\u80fd\u548c\u74f6\u9838\uff0c\u4e26\u6253\u9020\u66f4\u4f73\u7684\u6700\u7d42\u7528\u6236\u9ad4\u9a57\u3002\u5982\u540c Google SRE \u66f8\u7c4d \u4e2d\u6240\u8ff0\uff0c \u5982\u679c\u4f60\u53ea\u80fd\u6e2c\u91cf\u670d\u52d9\u7684\u56db\u500b\u6307\u6a19\uff0c\u5c31\u5c08\u6ce8\u65bc\u9019\u56db\u500b\u3002\u4ee5\u4e0b\u662f\u5c0d\u56db\u5927\u9ec3\u91d1\u8a0a\u865f\u7684\u8a73\u7d30\u8aaa\u660e\uff1a</p> <ul> <li> <p>\u6d41\u91cf\u2014\u6d41\u91cf \u80fd\u5e6b\u52a9\u66f4\u597d\u5730\u7406\u89e3\u670d\u52d9\u9700\u6c42\u3002\u901a\u5e38\u7a31\u70ba\u670d\u52d9 QPS\uff08\u6bcf\u79d2\u67e5\u8a62\u6578\uff09\uff0c      \u6d41\u91cf\u8861\u91cf\u670d\u52d9\u6240\u8655\u7406\u7684\u8acb\u6c42\u6578\u91cf\u3002\u9019\u500b\u8a0a\u865f\u80fd\u5354\u52a9\u60a8\u5224\u65b7\u4f55\u6642\u61c9\u5c07\u670d\u52d9\u64f4\u5145\u4ee5\u61c9\u5c0d\u589e\u9577\u7684\u5ba2\u6236\u9700\u6c42\uff0c\u6216\u7e2e\u6e1b\u4ee5\u964d\u4f4e\u6210\u672c\u3002</p> </li> <li> <p>\u5ef6\u9072\u2014\u5ef6\u9072 \u8861\u91cf\u670d\u52d9\u8655\u7406\u9032\u4f86\u8acb\u6c42\u4e26\u56de\u61c9\u6240\u82b1\u8cbb\u7684\u6642\u9593\u3002\u6e2c\u91cf\u5ef6\u9072\u53ef\u5e6b\u52a9\u53ca\u65e9\u767c\u73fe\u670d\u52d9\u6548\u80fd\u9010\u6f38\u4e0b\u964d\u7684\u72c0\u6cc1\u3002      \u5206\u8fa8\u6210\u529f\u8acb\u6c42\u548c\u5931\u6557\u8acb\u6c42\u7684\u5ef6\u9072\u5dee\u7570\u5f88\u91cd\u8981\u3002\u4f8b\u5982\uff0c\u7531\u65bc\u8207\u8cc7\u6599\u5eab\u6216\u5176\u4ed6\u91cd\u8981\u5f8c\u7aef\u9023\u7dda\u4e2d\u65b7\u5f15\u767c\u7684 HTTP 5XX \u932f\u8aa4      \u53ef\u80fd\u6703\u5f88\u5feb\u88ab\u56de\u61c9\u3002\u7136\u800c\uff0c\u56e0 HTTP 500 \u8868\u793a\u8acb\u6c42\u5931\u6557\uff0c\u5c07 500 \u932f\u8aa4\u7d0d\u5165\u6574\u9ad4\u5ef6\u9072\u8a08\u7b97\uff0c\u53ef\u80fd\u6703\u9020\u6210\u8aa4\u5c0e\u3002</p> </li> <li> <p>\u932f\u8aa4\u7387\u2014\u932f\u8aa4\u7387 \u8861\u91cf\u7528\u6236\u7aef\u5931\u6557\u8acb\u6c42\u6578\u3002\u9019\u4e9b\u5931\u6557\u901a\u5e38\u53ef\u5f9e\u56de\u61c9\u78bc\u5224\u65b7\uff08\u5982 HTTP 5XX \u932f\u8aa4\uff09\uff0c      \u4f46\u4e5f\u53ef\u80fd\u56e0\u932f\u8aa4\u7d50\u679c\u8cc7\u6599\u6216\u653f\u7b56\u9055\u898f\u800c\u88ab\u8996\u70ba\u932f\u8aa4\u3002\u4f8b\u5982\uff0c      \u60a8\u53ef\u80fd\u6536\u5230 HTTP 200 \u56de\u61c9\uff0c      \u4f46\u56de\u61c9\u5167\u5bb9\u70ba\u4e0d\u5b8c\u6574\u8cc7\u6599\uff0c\u6216\u662f\u56de\u61c9\u6642\u9593\u8d85\u51fa\u7d04\u5b9a\u7684      SLA\u3002\u56e0\u6b64\uff0c\u9664\u4e86\u56de\u61c9\u78bc\u4e4b\u5916\uff0c\u60a8\u9084\u9700\u8981\u900f\u904e\u5176\u4ed6\u6a5f\u5236\uff08\u7a0b\u5f0f\u78bc\u908f\u8f2f\u6216\u5d4c\u5165\u5f0f\u76e3\u63a7\uff09\u4f86\u6355\u6349\u932f\u8aa4\u72c0\u6cc1\u3002</p> </li> <li> <p>\u98fd\u548c\u5ea6\u2014\u98fd\u548c\u5ea6 \u8861\u91cf\u670d\u52d9\u8cc7\u6e90\u7684\u5229\u7528\u7387\u3002\u6b64\u8a0a\u865f\u544a\u77e5\u670d\u52d9\u8cc7\u6e90\u7684\u72c0\u614b\u4ee5\u53ca\u4f7f\u7528\u7a0b\u5ea6\u3002\u8cc7\u6e90\u5305\u542b\u8a18\u61b6\u9ad4\u3001\u904b\u7b97\u80fd\u529b\u3001\u7db2\u8def I/O \u7b49\u3002\u670d\u52d9\u6548\u80fd\u5f80\u5f80\u5728\u8cc7\u6e90\u5229\u7528\u9054 100% \u524d\u5373\u9010\u6f38\u9000\u5316\uff0c\u56e0\u6b64\u8a2d\u5b9a\u5229\u7528\u7387\u76ee\u6a19\u5f88\u91cd\u8981\u3002\u5ef6\u9072\u589e\u52a0\u5373\u662f\u98fd\u548c\u5ea6\u63d0\u5347\u7684\u826f\u597d\u6307\u6a19\uff1b\u6e2c\u91cf\u5ef6\u9072\u7684 99 \u767e\u5206\u4f4d\u6578      \u6709\u52a9\u65bc\u53ca\u65e9\u5075\u6e2c\u98fd\u548c\u72c0\u6cc1\u3002</p> </li> </ul> <p>\u8996\u670d\u52d9\u985e\u578b\u4e0d\u540c\uff0c\u60a8\u53ef\u7528\u4e0d\u540c\u65b9\u5f0f\u8861\u91cf\u9019\u4e9b\u8a0a\u865f\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u70ba Web \u4f3a\u670d\u5668\u6e2c\u91cf\u6bcf\u79d2\u8655\u7406\u7684\u67e5\u8a62\u6578\uff1b\u800c\u5c0d\u8cc7\u6599\u5eab\u4f3a\u670d\u5668\uff0c\u5247\u53ef\u85c9\u7531\u4ea4\u6613\u6578\u8207\u5efa\u7acb\u7684\u8cc7\u6599\u5eab\u9023\u7dda\u6578\u4e86\u89e3\u6d41\u91cf\u60c5\u6cc1\u3002\u900f\u904e\u984d\u5916\u7684\u7a0b\u5f0f\u78bc\u908f\u8f2f\uff08\u76e3\u63a7\u5957\u4ef6\u8207\u5d4c\u5165\u5f0f\u76e3\u63a7\uff09\uff0c\u60a8\u53ef\u4ee5\u5b9a\u671f\u6e2c\u91cf\u9019\u4e9b\u8a0a\u865f\u4e26\u52a0\u4ee5\u5132\u5b58\u4ee5\u4f9b\u5f8c\u7e8c\u5206\u6790\u3002\u96d6\u7136\u9019\u4e9b\u6307\u6a19\u53cd\u6620\u670d\u52d9\u7aef\u6548\u80fd\uff0c\u60a8\u4ecd\u9700\u78ba\u4fdd\u4f7f\u7528\u8005\u7aef\u4e5f\u5f97\u5230\u826f\u597d\u7684\u4f7f\u7528\u9ad4\u9a57\uff0c\u56e0\u6b64\u53ef\u80fd\u9808\u5f9e\u670d\u52d9\u57fa\u790e\u67b6\u69cb\u4e4b\u5916\u76e3\u63a7\uff0c\u9019\u5728\u7b2c\u4e09\u65b9\u76e3\u63a7\u4e2d\u6709\u6240\u8aaa\u660e\u3002</p>"},{"location":"level101/metrics_and_monitoring/introduction/#_9","title":"\u76e3\u63a7\u70ba\u4f55\u91cd\u8981\uff1f","text":"<p>\u76e3\u63a7\u5728\u670d\u52d9\u6210\u529f\u4e2d\u626e\u6f14\u95dc\u9375\u89d2\u8272\u3002\u5982\u524d\u6240\u8ff0\uff0c\u76e3\u63a7\u63d0\u4f9b\u6548\u80fd\u6d1e\u5bdf\uff0c\u5354\u52a9\u4e86\u89e3\u670d\u52d9\u5065\u5eb7\u72c0\u614b\u3002\u5229\u7528\u9577\u671f\u7d2f\u7a4d\u7684\u6b77\u53f2\u8cc7\u6599\uff0c\u60a8\u53ef\u4ee5\u6253\u9020\u667a\u80fd\u5316\u61c9\u7528\uff0c\u6eff\u8db3\u7279\u5b9a\u9700\u6c42\u3002\u4e3b\u8981\u7528\u4f8b\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u7e2e\u77ed\u554f\u984c\u89e3\u6c7a\u6642\u9593\u2014\u900f\u904e\u826f\u597d\u7684\u76e3\u63a7\u57fa\u790e\u67b6\u69cb\uff0c\u60a8\u53ef\u4ee5\u5feb\u901f\u5b9a\u4f4d\u4e26\u89e3\u6c7a\u554f\u984c\uff0c\u6e1b\u5c11\u554f\u984c\u5e36\u4f86\u7684\u5f71\u97ff\u3002</p> </li> <li> <p>\u5546\u696d\u6c7a\u7b56\u2014\u9577\u671f\u6536\u96c6\u7684\u8cc7\u6599\u53ef\u5e6b\u52a9\u60a8\u4f5c\u51fa\u5546\u696d\u6c7a\u7b56\uff0c\u5982\u7522\u54c1\u767c\u4f48\u9031\u671f\u3001\u6295\u5165\u958b\u767c\u7684\u529f\u80fd\u3001\u4ee5\u53ca\u805a\u7126\u7684\u5730\u5340\uff0c\u85c9\u7531\u6578\u64da\u9a45\u52d5\u6c7a\u7b56\u63d0\u5347\u6574\u9ad4\u7522\u54c1\u9ad4\u9a57\u3002</p> </li> <li> <p>\u8cc7\u6e90\u898f\u5283\u2014\u85c9\u7531\u5206\u6790\u6b77\u53f2\u8cc7\u6599\uff0c\u60a8\u53ef\u4ee5\u9810\u6e2c\u670d\u52d9\u6240\u9700\u7684\u8a08\u7b97\u8cc7\u6e90\uff0c\u4e26\u9069\u7576\u5206\u914d\uff0c\u9054\u6210\u8ca1\u52d9\u6548\u76ca\u6700\u5927\u5316\u4e14\u4e0d\u72a7\u7272\u4f7f\u7528\u8005\u9ad4\u9a57\u3002</p> </li> </ul> <p>\u5728\u6df1\u5165\u63a2\u8a0e\u76e3\u63a7\u524d\uff0c\u5148\u4e86\u89e3\u4e00\u4e9b\u57fa\u672c\u8853\u8a9e\uff1a</p> <ul> <li> <p>\u6307\u6a19 (Metric)\u2014\u7cfb\u7d71\u7279\u5b9a\u5c6c\u6027\u7684\u91cf\u5316\u5ea6\u91cf\uff0c\u4f8b\u5982\u8a18\u61b6\u9ad4\u6216 CPU \u4f7f\u7528\u7387</p> </li> <li> <p>\u7bc0\u9ede\u6216\u4e3b\u6a5f (Node or host)\u2014\u57f7\u884c\u61c9\u7528\u7a0b\u5f0f\u7684\u7269\u7406\u4f3a\u670d\u5668\u3001\u865b\u64ec\u6a5f\u5668\u6216\u5bb9\u5668</p> </li> <li> <p>QPS\u2014Queries Per Second\uff0c\u670d\u52d9\u6bcf\u79d2\u8655\u7406\u7684\u67e5\u8a62\u6578</p> </li> <li> <p>\u5ef6\u9072 (Latency)\u2014\u4f7f\u7528\u8005\u64cd\u4f5c\u8207\u4f3a\u670d\u5668\u56de\u61c9\u9593\u7684\u6642\u9593\u5dee\uff0c\u5982\u9001\u51fa\u8cc7\u6599\u5eab\u67e5\u8a62\u5230\u6536\u5230\u7b2c\u4e00\u500b\u56de\u61c9\u4f4d\u5143\u7d44\u7684\u6642\u9593</p> </li> <li> <p>\u932f\u8aa4\u7387 (Error rate)\u2014\u5728\u7279\u5b9a\u6642\u9593\u5167\uff08\u901a\u5e38\u70ba\u4e00\u79d2\uff09\u89c0\u5bdf\u5230\u7684\u932f\u8aa4\u6578</p> </li> <li> <p>\u5716\u8868 (Graph)\u2014\u76e3\u63a7\u4e2d\u7528\u4ee5\u5448\u73fe\u96a8\u6642\u9593\u6536\u96c6\u7684\u4e00\u500b\u6216\u591a\u500b\u6307\u6a19\u6578\u503c</p> </li> <li> <p>\u5100\u8868\u677f (Dashboard)\u2014\u4e00\u7d44\u5716\u8868\u7684\u96c6\u5408\uff0c\u7528\u4ee5\u6982\u89c0\u7cfb\u7d71\u5065\u5eb7\u72c0\u614b</p> </li> <li> <p>\u4e8b\u4ef6 (Incident)\u2014\u5e72\u64fe\u7cfb\u7d71\u6b63\u5e38\u904b\u4f5c\u7684\u4e8b\u4ef6</p> </li> <li> <p>\u5e73\u5747\u5075\u6e2c\u6642\u9593 (MTTD, Mean Time To Detect)\u2014\u670d\u52d9\u5931\u6548\u8d77\u59cb\u81f3\u5075\u6e2c\u8a72\u5931\u6548\u7684\u6642\u9593</p> </li> <li> <p>\u5e73\u5747\u4fee\u5fa9\u6642\u9593 (MTTR, Mean Time To Resolve)\u2014\u4fee\u5fa9\u670d\u52d9\u5931\u6548\u4e26\u6062\u5fa9\u6b63\u5e38\u7684\u6642\u9593</p> </li> </ul> <p>\u5728\u8a0e\u8ad6\u61c9\u7528\u7a0b\u5f0f\u76e3\u63a7\u524d\uff0c\u6211\u5011\u5148\u4f86\u770b\u770b\u76e3\u63a7\u57fa\u790e\u67b6\u69cb\u3002\u4e0b\u5716\u793a\u610f\u4e00\u500b\u57fa\u672c\u7684\u76e3\u63a7\u7cfb\u7d71\u3002</p> <p> </p> <p> \u5716 1\uff1a\u76e3\u63a7\u57fa\u790e\u67b6\u69cb\u793a\u610f\u5716 </p> <p>\u5716 1 \u63cf\u8ff0\u4e86\u4e00\u500b\u76e3\u63a7\u57fa\u790e\u67b6\u69cb\u7684\u6a5f\u5236\uff0c\u7528\u65bc\u5f59\u6574\u7cfb\u7d71\u6307\u6a19\u3001\u6536\u96c6\u53ca\u5132\u5b58\u8cc7\u6599\u4f9b\u986f\u793a\u4f7f\u7528\u3002 \u6b64\u5916\uff0c\u76e3\u63a7\u7cfb\u7d71\u901a\u5e38\u5305\u542b\u8b66\u5831\u5b50\u7cfb\u7d71\uff0c\u5728\u7570\u5e38\u72c0\u6cc1\u6642\u901a\u77e5\u76f8\u95dc\u4eba\u54e1\u3002\u4ee5\u4e0b\u8aaa\u660e\u5404\u500b\u57fa\u790e\u67b6\u69cb\u5143\u4ef6\uff1a</p> <ul> <li> <p>\u4e3b\u6a5f\u6307\u6a19\u4ee3\u7406 (Host metrics agent)\u2014\u4e3b\u6a5f\u6307\u6a19\u4ee3\u7406 \u662f\u5728\u4e3b\u6a5f\u4e0a\u904b\u884c\u7684\u9032\u7a0b\uff0c      \u8ca0\u8cac\u6536\u96c6\u4e3b\u6a5f\u5b50\u7cfb\u7d71\uff08\u5982\u8a18\u61b6\u9ad4\u3001CPU\u3001\u7db2\u8def\uff09\u7684\u6027\u80fd\u7d71\u8a08\u6578\u64da\u3002      \u9019\u4e9b\u6307\u6a19\u6703\u5b9a\u671f\u50b3\u9001\u7d66\u6307\u6a19\u6536\u96c6\u8005\u5132\u5b58\u53ca\u8996\u89ba\u5316\u3002      \u4f8b\u5b50\u6709 collectd\u3001telegraf\u3001\u548c metricbeat\u3002</p> </li> <li> <p>\u6307\u6a19\u5f59\u6574\u5668 (Metric aggregator)\u2014\u6307\u6a19\u5f59\u6574\u5668 \u662f\u904b\u884c\u65bc\u4e3b\u6a5f\u4e0a\u7684\u9032\u7a0b\u3002      \u4e3b\u6a5f\u4e0a\u7684\u61c9\u7528\u7a0b\u5f0f\u900f\u904e      \u5d4c\u5165\u5f0f\u76e3\u63a7 \u6536\u96c6\u670d\u52d9\u6307\u6a19\u3002      \u6536\u96c6\u5230\u7684\u6307\u6a19\u6703\u9001\u4ea4\u5f59\u6574\u5668\u6216\u76f4\u63a5\u900f\u904e API \u767c\u9001\u5230\u6307\u6a19\u6536\u96c6\u8005\u3002      \u5f59\u6574\u5668\u5b9a\u671f\u5c07\u6307\u6a19\u5f59\u6574\u5f8c\u6279\u6b21\u9001\u51fa\u7d66\u6307\u6a19\u6536\u96c6\u8005\u3002      \u4f8b\u5b50\u70ba StatsD\u3002</p> </li> <li> <p>\u6307\u6a19\u6536\u96c6\u5668 (Metrics collector)\u2014\u6307\u6a19\u6536\u96c6\u5668 \u8ca0\u8cac\u6536\u96c6\u4f86\u81ea\u591a\u53f0\u4e3b\u6a5f\u4e0a\u6307\u6a19\u5f59\u6574\u5668\u7684\u6240\u6709\u6307\u6a19\uff0c      \u4e26\u9032\u884c\u89e3\u78bc\u53ca\u5b58\u5132\u3002      \u6307\u6a19\u6536\u96c6\u8207\u5b58\u5132\u53ef\u7531\u55ae\u4e00\u670d\u52d9\u5b8c\u6210\uff0c\u4f8b\u5982 InfluxDB\u3002      \u4f8b\u5b50\u6709 carbon daemons\u3002</p> </li> <li> <p>\u5132\u5b58 (Storage)\u2014\u6642\u9593\u5e8f\u5217\u8cc7\u6599\u5eab\u7528\u65bc\u5b58\u653e\u6240\u6709\u6307\u6a19\u3002      \u4f8b\u5982 OpenTSDB\u3001Whisper\u3001\u548c InfluxDB\u3002</p> </li> <li> <p>\u6307\u6a19\u4f3a\u670d\u5668 (Metrics server)\u2014\u6307\u6a19\u4f3a\u670d\u5668 \u53ef\u4ee5\u662f\u5c07\u6307\u6a19\u8cc7\u6599\u4ee5\u5716\u5f62\u65b9\u5f0f\u5448\u73fe\u7684\u57fa\u672c\u7db2\u9801\u4f3a\u670d\u5668\u3002      \u53e6\u5916\u4e5f\u63d0\u4f9b\u5f59\u6574\u529f\u80fd\u8207\u7a0b\u5f0f\u5316\u5b58\u53d6\u6307\u6a19\u8cc7\u6599\u7684 API\u3002      \u4f8b\u5b50\u6709 Grafana \u548c Graphite-Web\u3002</p> </li> <li> <p>\u8b66\u5831\u7ba1\u7406\u5668 (Alert manager)\u2014\u8b66\u5831\u7ba1\u7406\u5668 \u6703\u5b9a\u671f\u76e3\u63a7\u6307\u6a19\u8cc7\u6599\uff0c      \u4e00\u65e6\u5075\u6e2c\u51fa\u7570\u5e38\u5c31\u6703\u901a\u77e5\u76f8\u95dc\u4eba\u54e1\u3002      \u6bcf\u500b\u8b66\u5831\u90fd\u6709\u4e00\u7d44\u898f\u5247\u7528\u4ee5\u8b58\u5225\u7570\u5e38\u72c0\u6cc1\u3002      \u4eca\u5929\u8a31\u591a\u6307\u6a19\u4f3a\u670d\u5668\u5982 Grafana \u7686\u652f\u6301\u8b66\u5831\u7ba1\u7406\u3002      \u6211\u5011\u5c07\u5728\u5f8c\u6587\u8a73\u7d30\u8a0e\u8ad6\u8b66\u5831\u3002      \u4f8b\u5b50\u6709 Grafana \u548c Icinga\u3002</p> </li> </ul>"},{"location":"level101/metrics_and_monitoring/observability/","title":"Observability","text":""},{"location":"level101/metrics_and_monitoring/observability/#_1","title":"Observability","text":""},{"location":"level101/metrics_and_monitoring/observability/#_2","title":"\u53ef\u89c0\u5bdf\u6027","text":"<p>\u5de5\u7a0b\u5e2b\u5728\u8ac7\u8ad6\u5efa\u7acb\u53ef\u9760\u7cfb\u7d71\u6642\uff0c\u7d93\u5e38\u6703\u4f7f\u7528\u300c\u53ef\u89c0\u5bdf\u6027\uff08Observability\uff09\u300d\u9019\u500b\u8a5e\u3002\u53ef\u89c0\u5bdf\u6027\u6e90\u81ea\u63a7\u5236\u7406\u8ad6\uff0c\u662f\u6307\u900f\u904e\u5c0d\u7cfb\u7d71\u5916\u90e8\u8f38\u51fa\u7684\u4e86\u89e3\uff0c\u53ef\u4ee5\u63a8\u65b7\u7cfb\u7d71\u5167\u90e8\u72c0\u614b\u7684\u80fd\u529b\u3002\u73fe\u4eca\u65e5\u5e38\u4f7f\u7528\u7684\u670d\u52d9\u57fa\u790e\u67b6\u69cb\u8d8a\u4f86\u8d8a\u8907\u96dc\uff1b\u55ae\u9760\u4e3b\u52d5\u76e3\u63a7\u5df2\u4e0d\u8db3\u4ee5\u5feb\u901f\u89e3\u6c7a\u5c0e\u81f4\u61c9\u7528\u5931\u6548\u7684\u554f\u984c\u3002\u900f\u904e\u76e3\u63a7\uff0c\u4f60\u53ef\u4ee5\u9632\u6b62\u5df2\u77e5\u7684\u904e\u5f80\u5931\u8aa4\u91cd\u8907\u767c\u751f\uff0c\u4f46\u5728\u8907\u96dc\u7684\u670d\u52d9\u67b6\u69cb\u4e0b\uff0c\u8a31\u591a\u672a\u77e5\u56e0\u7d20\u53ef\u80fd\u5c0e\u81f4\u6f5b\u5728\u554f\u984c\u3002\u70ba\u4e86\u89e3\u6c7a\u9019\u985e\u60c5\u6cc1\uff0c\u53ef\u4ee5\u8b93\u670d\u52d9\u5177\u5099\u53ef\u89c0\u5bdf\u6027\u3002\u4e00\u500b\u5177\u5099\u53ef\u89c0\u5bdf\u6027\u7684\u7cfb\u7d71\u80fd\u5920\u63d0\u4f9b\u5c0d\u96b1\u542b\u5931\u6548\u6a21\u5f0f\u7684\u9ad8\u5ea6\u7d30\u7c92\u5ea6\u6d1e\u5bdf\u3002\u6b64\u5916\uff0c\u5177\u5099\u53ef\u89c0\u5bdf\u6027\u7684\u7cfb\u7d71\u9084\u6703\u63d0\u4f9b\u5927\u91cf\u95dc\u65bc\u5167\u90e8\u904b\u4f5c\u7684\u4e0a\u4e0b\u6587\u8cc7\u8a0a\uff0c\u5f9e\u800c\u4fc3\u4f7f\u4f60\u5f97\u4ee5\u767c\u73fe\u66f4\u6df1\u5c64\u7684\u7cfb\u7d71\u554f\u984c\u3002</p> <p>\u76e3\u63a7\u53ef\u5354\u52a9\u5075\u6e2c\u6545\u969c\uff1b\u800c\u53ef\u89c0\u5bdf\u6027\u5247\u5e6b\u52a9\u66f4\u52a0\u6df1\u5165\u4e86\u89e3\u7cfb\u7d71\u3002\u5728\u5de5\u7a0b\u5e2b\u4e2d\u9593\uff0c\u5e38\u6709\u4e00\u500b\u8aa4\u89e3\uff0c\u8a8d\u70ba\u76e3\u63a7\u548c\u53ef\u89c0\u5bdf\u6027\u662f\u5169\u500b\u4e0d\u540c\u7684\u6982\u5ff5\u3002\u5be6\u969b\u4e0a\uff0c\u53ef\u89c0\u5bdf\u6027\u662f\u76e3\u63a7\u7684\u8d85\u96c6\u5408\uff0c\u4e5f\u5c31\u662f\u8aaa\uff0c\u76e3\u63a7\u63d0\u5347\u4e86\u670d\u52d9\u7684\u53ef\u89c0\u5bdf\u6027\u3002\u53ef\u89c0\u5bdf\u6027\u7684\u76ee\u6a19\u4e0d\u53ea\u662f\u5075\u6e2c\u554f\u984c\uff0c\u66f4\u5728\u65bc\u4e86\u89e3\u554f\u984c\u5728\u54ea\u88e1\u53ca\u5176\u539f\u56e0\u3002\u9664\u4e86\u6307\u6a19\uff08metrics\uff09\u5916\uff0c\u53ef\u89c0\u5bdf\u6027\u9084\u6709\u53e6\u5916\u5169\u5927\u652f\u67f1\uff1a\u65e5\u8a8c\uff08logs\uff09\u548c\u8ffd\u8e64\uff08traces\uff09\uff0c\u5982\u57169\u6240\u793a\u3002\u96d6\u7136\u9019\u4e09\u500b\u7d44\u4ef6\u4e26\u4e0d\u6703\u8b93\u7cfb\u7d71\u9054\u5230\u767e\u5206\u4e4b\u767e\u7684\u53ef\u89c0\u5bdf\u6027\uff0c\u4f46\u5b83\u5011\u662f\u63d0\u4f9b\u66f4\u597d\u7cfb\u7d71\u7406\u89e3\u7684\u6700\u91cd\u8981\u4e14\u5f37\u5927\u7684\u7d44\u4ef6\u3002\u6bcf\u500b\u652f\u67f1\u90fd\u6709\u5176\u7f3a\u9677\uff0c\u8a73\u60c5\u8acb\u53c3\u8003Three Pillars with Zero Answers\u3002</p> <p> <p> \u57169\uff1a\u4e09\u5927\u53ef\u89c0\u5bdf\u6027\u652f\u67f1 </p></p> <p>\u65e2\u7136\u6211\u5011\u5df2\u7d93\u63a2\u8a0e\u904e\u6307\u6a19\uff0c\u63a5\u4e0b\u4f86\u4f86\u770b\u770b\u53e6\u5916\u5169\u500b\u652f\u67f1\uff08\u65e5\u8a8c\u8207\u8ffd\u8e64\uff09\u3002</p>"},{"location":"level101/metrics_and_monitoring/observability/#_3","title":"\u65e5\u8a8c","text":"<p>\u65e5\u8a8c\uff08\u901a\u5e38\u7a31\u4f5c\u4e8b\u4ef6\uff09\u662f\u670d\u52d9\u904b\u884c\u671f\u9593\u6240\u57f7\u884c\u6d3b\u52d5\u7684\u7d00\u9304\uff0c\u4e26\u5e36\u6709\u76f8\u61c9\u7684\u6642\u9593\u6233\u3002\u6307\u6a19\u63d0\u4f9b\u7cfb\u7d71\u9000\u5316\u7684\u62bd\u8c61\u8cc7\u8a0a\uff0c\u800c\u65e5\u8a8c\u63d0\u4f9b\u5c0e\u81f4\u9019\u4e9b\u9000\u5316\u7684\u8a73\u7d30\u539f\u56e0\u3002\u7531\u61c9\u7528\u7a0b\u5f0f\u548c\u57fa\u790e\u8a2d\u65bd\u5143\u4ef6\u7522\u751f\u7684\u65e5\u8a8c\uff0c\u6709\u52a9\u65bc\u6709\u6548\u7406\u89e3\u7cfb\u7d71\u884c\u70ba\uff0c\u5305\u542b\u61c9\u7528\u932f\u8aa4\u3001\u7570\u5e38\u53ca\u4e8b\u4ef6\u6642\u9593\u7dda\u7b49\u7d30\u7bc0\u3002\u65e5\u8a8c\u8b93\u4f60\u80fd\u56de\u6eaf\u6642\u9593\uff0c\u4e86\u89e3\u5c0e\u81f4\u932f\u8aa4\u7684\u4e8b\u4ef6\u3002\u56e0\u6b64\uff0c\u6aa2\u67e5\u65e5\u8a8c\u662f\u6545\u969c\u6392\u67e5\u7684\u91cd\u8981\u6b65\u9a5f\u3002</p> <p>\u65e5\u8a8c\u8655\u7406\u5305\u542b\u5c07\u4e0d\u540c\u61c9\u7528\u7a0b\u5f0f\u7684\u65e5\u8a8c\u805a\u5408\uff0c\u4e26\u5c07\u5176\u767c\u9001\u81f3\u96c6\u4e2d\u5f0f\u5132\u5b58\u3002\u642c\u79fb\u65e5\u8a8c\u5230\u4e2d\u592e\u5132\u5b58\u80fd\u4fdd\u5b58\u65e5\u8a8c\uff0c\u4ee5\u9632\u61c9\u7528\u5be6\u4f8b\u7121\u6cd5\u5b58\u53d6\u6216\u56e0\u6545\u969c\u5d29\u6f70\u3002\u7576\u65e5\u8a8c\u96c6\u4e2d\u4fdd\u5b58\u5f8c\uff0c\u53ef\u9032\u4e00\u6b65\u5206\u6790\u65e5\u8a8c\uff0c\u5f9e\u4e2d\u64f7\u53d6\u6709\u610f\u7fa9\u7684\u8cc7\u8a0a\u3002\u70ba\u4e86\u7a3d\u6838\u548c\u5408\u898f\u76ee\u7684\uff0c\u5728\u4e2d\u592e\u5132\u5b58\u4e2d\u6703\u4fdd\u5b58\u4e00\u5b9a\u671f\u9593\u7684\u65e5\u8a8c\u3002\u65e5\u8a8c\u5206\u6790\u5668\u53ef\u4ee5\u5f9e\u65e5\u8a8c\u884c\u4e2d\u64f7\u53d6\u6709\u7528\u8cc7\u8a0a\uff0c\u5982\u8acb\u6c42\u7528\u6236\u8cc7\u6599\u3001\u8acb\u6c42\u7684 URL\uff08\u529f\u80fd\uff09\u8207\u56de\u61c9\u6a19\u982d\uff08\u5982\u5167\u5bb9\u9577\u5ea6\uff09\u53ca\u56de\u61c9\u6642\u9593\u3002\u9019\u4e9b\u8cc7\u8a0a\u6703\u6839\u64da\u5c6c\u6027\u5206\u7d44\uff0c\u4e26\u900f\u904e\u8996\u89ba\u5316\u5de5\u5177\u5feb\u901f\u63d0\u4f9b\u7406\u89e3\u7d50\u679c\u3002</p> <p>\u4f60\u53ef\u80fd\u6703\u597d\u5947\u9019\u4e9b\u65e5\u8a8c\u8cc7\u8a0a\u6709\u4f55\u52a9\u76ca\u3002\u9019\u4e9b\u8cc7\u6599\u63d0\u4f9b\u5168\u8c8c\uff0c\u5448\u73fe\u6240\u6709\u76f8\u95dc\u5be6\u9ad4\u7684\u6d3b\u52d5\u3002\u4f8b\u5982\uff0c\u5047\u8a2d\u6709\u4eba\u5c0d\u4e00\u500b Web \u61c9\u7528\u767c\u8d77\u62d2\u7d55\u670d\u52d9\u653b\u64ca\uff08DoS\uff09\u3002\u900f\u904e\u65e5\u8a8c\u8655\u7406\uff0c\u4f60\u53ef\u4ee5\u5feb\u901f\u5f9e\u8a2a\u554f\u65e5\u8a8c\u4e2d\u6aa2\u8996\u6700\u591a\u7684\u5ba2\u6236\u7aef IP\uff0c\u5f9e\u800c\u8fa8\u8b58\u653b\u64ca\u4f86\u6e90\u3002</p> <p>\u540c\u7406\uff0c\u5982\u679c\u61c9\u7528\u7684\u67d0\u500b\u529f\u80fd\u5728\u4ee5\u7279\u5b9a\u8acb\u6c42\u53c3\u6578\u503c\u8a2a\u554f\u6642\u5c0e\u81f4\u9ad8\u932f\u8aa4\u7387\uff0c\u65e5\u8a8c\u5206\u6790\u7d50\u679c\u53ef\u4ee5\u5e6b\u52a9\u4f60\u5feb\u901f\u627e\u51fa\u7570\u5e38\u7684\u53c3\u6578\u503c\u4e26\u63a1\u53d6\u5f8c\u7e8c\u63aa\u65bd\u3002</p> <p> </p> <p> \u571610\uff1a\u4f7f\u7528 ELK \u5806\u758a\u9032\u884c\u65e5\u8a8c\u8655\u7406\u8207\u5206\u6790 </p> <p>\u571610\u5c55\u793a\u4f7f\u7528 ELK\uff08Elasticsearch\u3001Logstash\u3001Kibana\uff09\u7684\u65e5\u8a8c\u8655\u7406\u5e73\u53f0\uff0c\u63d0\u4f9b\u96c6\u4e2d\u5f0f\u65e5\u8a8c\u8655\u7406\u3002Beats \u662f\u4e00\u7d44\u8f15\u91cf\u7d1a\u7684\u8cc7\u6599\u767c\u9001\u5668\uff0c\u53ef\u5c07\u65e5\u8a8c\u3001\u7a3d\u6838\u8cc7\u6599\u3001\u7db2\u8def\u8cc7\u6599\u7b49\u900f\u904e\u7db2\u8def\u50b3\u8f38\u3002\u672c\u5be6\u4f8b\u4e2d\uff0c\u6211\u5011\u4f7f\u7528 Filebeat \u4f5c\u70ba\u65e5\u8a8c\u767c\u9001\u5668\uff0c\u76e3\u63a7\u670d\u52d9\u65e5\u8a8c\u6a94\u4e26\u5c07\u8cc7\u6599\u9001\u5f80 Logstash\u3002Logstash \u89e3\u6790\u65e5\u8a8c\u4e26\u8f49\u63db\u8cc7\u6599\uff0c\u4f7f\u5176\u9069\u5408\u5132\u5b58\u65bc Elasticsearch\u3002\u8f49\u63db\u5f8c\u7684\u65e5\u8a8c\u8cc7\u6599\u5b58\u653e\u5728 Elasticsearch\uff0c\u4e26\u5efa\u7acb\u7d22\u5f15\u4ee5\u4fbf\u5feb\u901f\u6aa2\u7d22\u3002Kibana \u5247\u641c\u5c0b\u4e26\u986f\u793a Elasticsearch \u4e2d\u7684\u65e5\u8a8c\u8cc7\u6599\uff0c\u4e26\u63d0\u4f9b\u4e00\u7d44\u8996\u89ba\u5316\u5de5\u5177\uff0c\u5716\u5f62\u5316\u5448\u73fe\u5f9e\u65e5\u8a8c\u8cc7\u6599\u5f59\u6574\u7684\u6458\u8981\u3002</p> <p>\u5132\u5b58\u65e5\u8a8c\u6210\u672c\u4e0d\u4f4e\u3002\u4e26\u4e14\u5c0d\u4f3a\u670d\u5668\u4e0a\u6240\u6709\u4e8b\u4ef6\u505a\u5ee3\u6cdb\u65e5\u8a8c\u8a18\u9304\uff0c\u6703\u9020\u6210\u9ad8\u6602\u6210\u672c\u53ca\u4f54\u7528\u5927\u91cf\u5132\u5b58\u7a7a\u9593\u3002\u96a8\u8457\u670d\u52d9\u6578\u91cf\u589e\u52a0\uff0c\u6b64\u6210\u672c\u6703\u6309\u6bd4\u4f8b\u4e0a\u5347\u3002</p>"},{"location":"level101/metrics_and_monitoring/observability/#_4","title":"\u8ffd\u8e64","text":"<p>\u5230\u76ee\u524d\u70ba\u6b62\uff0c\u6211\u5011\u5df2\u8ac7\u904e\u6307\u6a19\u8207\u65e5\u8a8c\u7684\u91cd\u8981\u6027\u3002\u6307\u6a19\u63d0\u4f9b\u7cfb\u7d71\u7684\u62bd\u8c61\u6982\u89bd\uff0c\u65e5\u8a8c\u8a18\u9304\u4e86\u767c\u751f\u7684\u4e8b\u4ef6\u3002\u8a66\u60f3\u4e00\u500b\u5305\u542b\u591a\u500b\u5fae\u670d\u52d9\u7684\u8907\u96dc\u5206\u6563\u5f0f\u7cfb\u7d71\uff0c\u4e00\u500b\u4f7f\u7528\u8005\u8acb\u6c42\u9700\u8981\u5728\u7cfb\u7d71\u5167\u591a\u500b\u5fae\u670d\u52d9\u9593\u8655\u7406\u3002\u6307\u6a19\u548c\u65e5\u8a8c\u80fd\u7d66\u4f60\u90e8\u5206\u6709\u95dc\u5982\u4f55\u8655\u7406\u9019\u4e9b\u8acb\u6c42\u7684\u8cc7\u8a0a\uff0c\u4f46\u7121\u6cd5\u63d0\u4f9b\u8de8\u5fae\u670d\u52d9\u7684\u8a73\u7d30\u8cc7\u6599\uff0c\u53ca\u5176\u5982\u4f55\u5f71\u97ff\u7279\u5b9a\u7684\u5ba2\u6236\u8acb\u6c42\u3002\u5982\u679c\u4e00\u500b\u4e0b\u6e38\u5fae\u670d\u52d9\u53cd\u61c9\u9072\u7de9\u5c0e\u81f4\u56de\u61c9\u6642\u9593\u589e\u52a0\uff0c\u4f60\u5c31\u9700\u8981\u8a73\u7d30\u7684\u53ef\u898b\u6027\u6a6b\u8de8\u6240\u6709\u76f8\u95dc\u5fae\u670d\u52d9\uff0c\u4ee5\u8fa8\u8b58\u8a72\u5fae\u670d\u52d9\u3002\u9019\u5c31\u9700\u8981\u8acb\u6c42\u8ffd\u8e64\u6a5f\u5236\u3002</p> <p>\u8ffd\u8e64\u7531\u4e00\u7cfb\u5217 span \u7d44\u6210\uff0c\u6bcf\u500b span \u7d00\u9304\u4e0d\u540c\u5fae\u670d\u52d9\u70ba\u56de\u61c9\u5ba2\u6236\u8acb\u6c42\u6240\u57f7\u884c\u7684\u4e8b\u4ef6\u3002\u7c21\u55ae\u4f86\u8aaa\uff0c\u8ffd\u8e64\u662f\u5f9e\u591a\u500b\u5fae\u670d\u52d9\u8de8\u4e0d\u540c\u7269\u7406\u4e3b\u6a5f\u6536\u96c6\u800c\u4f86\u7684\u5ba2\u6236\u8acb\u6c42\u670d\u52d9\u65e5\u8a8c\u3002\u6bcf\u500b span \u5305\u542b span \u7684\u5143\u8cc7\u6599\uff08\u5982 trace ID \u8207 span ID\uff09\uff0c\u4ee5\u53ca\u4e0a\u4e0b\u6587\u8cc7\u8a0a\uff0c\u5305\u542b\u4ea4\u6613\u76f8\u95dc\u8cc7\u6599\u3002</p> <p> </p> <p> \u571611\uff1aURL \u7e2e\u77ed\u670d\u52d9\u8acb\u6c42\u7684\u8ffd\u8e64\u8207 span </p> <p>\u571611\u662f\u5148\u524d\u6211\u5011\u5728 Python \u5b78\u7fd2\u7bc4\u4f8b\u4e2d\u7684 URL \u7e2e\u77ed\u670d\u52d9\u8ffd\u8e64\u7684\u5716\u5f62\u5c55\u793a\u3002</p> <p>\u8207\u76e3\u63a7\u985e\u4f3c\uff0c\u8ffd\u8e64\u57fa\u790e\u67b6\u69cb\u5305\u542b\u591a\u500b\u6a21\u7d44\u7528\u65bc\u6536\u96c6\u8ffd\u8e64\u3001\u5132\u5b58\u8ffd\u8e64\u548c\u5b58\u53d6\u8ffd\u8e64\u3002\u6bcf\u500b\u5fae\u670d\u52d9\u57f7\u884c\u8ffd\u8e64\u5eab\uff0c\u5728\u80cc\u666f\u6536\u96c6\u8ffd\u8e64\uff0c\u5efa\u7acb\u8a18\u61b6\u9ad4\u5167\u6279\u6b21\u4e26\u63d0\u4ea4\u7d66\u8ffd\u8e64\u5f8c\u7aef\u3002\u8ffd\u8e64\u5f8c\u7aef\u6703\u6b63\u898f\u5316\u63a5\u6536\u5230\u7684\u8ffd\u8e64\u8cc7\u6599\u4e26\u5b58\u5165\u6301\u4e45\u5132\u5b58\u3002\u8ffd\u8e64\u8cc7\u6599\u4f86\u81ea\u591a\u500b\u5fae\u670d\u52d9\uff0c\u56e0\u6b64\u8ffd\u8e64\u5132\u5b58\u901a\u5e38\u4ee5\u905e\u589e\u65b9\u5f0f\u5132\u5b58\u4e26\u4f9d\u7167\u8ffd\u8e64\u8b58\u5225\u78bc\u5efa\u7acb\u7d22\u5f15\u3002\u6b64\u7ba1\u7406\u65b9\u5f0f\u6709\u52a9\u65bc\u91cd\u5efa\u8ffd\u8e64\u8cc7\u6599\u4e26\u9032\u884c\u8996\u89ba\u5316\u3002\u571612\u8aaa\u660e\u4e86\u5206\u6563\u5f0f\u7cfb\u7d71\u8ffd\u8e64\u7684\u69cb\u9020\u3002</p> <p></p> <p> \u571612\uff1a\u5206\u6563\u5f0f\u8ffd\u8e64\u67b6\u69cb </p> <p>\u76ee\u524d\u5df2\u6709\u4e00\u5957\u5de5\u5177\u8207\u6846\u67b6\u53ef\u7528\u4f86\u6253\u9020\u5206\u6563\u5f0f\u8ffd\u8e64\u89e3\u6c7a\u65b9\u6848\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u71b1\u9580\u5de5\u5177\uff1a</p> <ul> <li> <p>OpenTelemetry\uff1a\u96f2\u539f\u751f\u8edf\u9ad4\u7684\u53ef\u89c0\u5bdf\u6027\u6846\u67b6</p> </li> <li> <p>Jaeger\uff1a\u958b\u6e90\u5206\u6563\u5f0f\u8ffd\u8e64\u65b9\u6848</p> </li> <li> <p>Zipkin\uff1a\u958b\u6e90\u5206\u6563\u5f0f\u8ffd\u8e64\u65b9\u6848</p> </li> </ul>"},{"location":"level101/metrics_and_monitoring/third-party_monitoring/","title":"Third-party Monitoring","text":""},{"location":"level101/metrics_and_monitoring/third-party_monitoring/#_1","title":"Third-party Monitoring","text":""},{"location":"level101/metrics_and_monitoring/third-party_monitoring/#_2","title":"\u7b2c\u4e09\u65b9\u76e3\u63a7","text":"<p>\u5982\u4eca\u5927\u591a\u6578\u96f2\u7aef\u670d\u52d9\u63d0\u4f9b\u5546\u90fd\u63d0\u4f9b\u5404\u5f0f\u5404\u6a23\u7684\u76e3\u63a7\u89e3\u6c7a\u65b9\u6848\u3002\u6b64\u5916\uff0c\u50cf\u662fDatadog\u7b49\u8a31\u591a\u516c\u53f8\u4e5f\u63d0\u4f9b\u76e3\u63a7\u5373\u670d\u52d9\uff08Monitoring-as-a-Service\uff09\u3002\u5728\u672c\u7bc0\u4e2d\uff0c\u6211\u5011\u4e0d\u6703\u6df1\u5165\u63a2\u8a0e\u76e3\u63a7\u5373\u670d\u52d9\u3002</p> <p>\u8fd1\u5e74\u4f86\uff0c\u8d8a\u4f86\u8d8a\u591a\u4eba\u80fd\u5920\u9023\u63a5\u5230\u7db2\u969b\u7db2\u8def\u3002\u8a31\u591a\u670d\u52d9\u70ba\u4e86\u56e0\u61c9\u4e0d\u65b7\u589e\u52a0\u7684\u7528\u6236\u57fa\u6578\u800c\u6539\u4ee5\u7dda\u4e0a\u5f62\u5f0f\u63d0\u4f9b\u3002\u7d50\u679c\uff0c\u7db2\u9801\u8b8a\u5f97\u8d8a\u4f86\u8d8a\u5927\uff0c\u4e14\u5ba2\u6236\u7aef\u8173\u672c\u4e5f\u8d8a\u4f86\u8d8a\u591a\u3002\u4f7f\u7528\u8005\u5e0c\u671b\u9019\u4e9b\u670d\u52d9\u5feb\u901f\u4e14\u7121\u932f\u8aa4\u3002\u5f9e\u670d\u52d9\u7aef\u7684\u89d2\u5ea6\u4f86\u770b\uff0c\u7576\u56de\u61c9\u4e3b\u9ad4\u7d44\u6210\u5b8c\u7562\u6642\uff0c\u6703\u9001\u51fa HTTP 200 OK \u56de\u61c9\uff0c\u4e00\u5207\u770b\u4f3c\u6b63\u5e38\u3002\u4f46\u5be6\u969b\u4e0a\u50b3\u8f38\u904e\u7a0b\u6216\u7528\u6236\u7aef\u53ef\u80fd\u767c\u751f\u932f\u8aa4\u3002\u5982\u524d\u6240\u8ff0\uff0c\u4f86\u81ea\u670d\u52d9\u57fa\u790e\u8a2d\u65bd\u5167\u90e8\u7684\u76e3\u63a7\u670d\u52d9\u80fd\u7d66\u4e88\u670d\u52d9\u5065\u5eb7\u72c0\u614b\u7684\u826f\u597d\u53ef\u8996\u6027\uff0c\u4f46\u9019\u9084\u4e0d\u5920\u3002\u4f60\u9700\u8981\u76e3\u63a7\u4f7f\u7528\u8005\u9ad4\u9a57\uff0c\u7279\u5225\u662f\u91dd\u5c0d\u5ba2\u6236\u7aef\u670d\u52d9\u53ef\u7528\u6027\u7684\u76e3\u63a7\u3002\u8a31\u591a\u7b2c\u4e09\u65b9\u670d\u52d9\u5982Catchpoint\u3001Pingdom\u7b49\uff0c\u90fd\u80fd\u9054\u6210\u6b64\u76ee\u6a19\u3002</p> <p>\u7b2c\u4e09\u65b9\u76e3\u63a7\u670d\u52d9\u80fd\u5920\u751f\u6210\u6a21\u64ec\u4f7f\u7528\u8005\u8acb\u6c42\u7684\u5408\u6210\u6d41\u91cf\uff0c\u4f86\u81ea\u4e16\u754c\u5404\u5730\u4e0d\u540c\u5730\u9ede\uff0c\u78ba\u4fdd\u670d\u52d9\u5728\u5168\u7403\u5747\u53ef\u5b58\u53d6\u3002\u5176\u4ed6\u91dd\u5c0d\u771f\u5be6\u4f7f\u7528\u8005\u76e3\u63a7\uff08RUM\uff09\u7684\u7b2c\u4e09\u65b9\u76e3\u63a7\u89e3\u6c7a\u65b9\u6848\uff0c\u5247\u63d0\u4f9b\u4f86\u81ea\u4e0d\u540c\u5730\u7406\u4f4d\u7f6e\u7684\u6548\u80fd\u7d71\u8a08\u8cc7\u6599\uff0c\u5982\u670d\u52d9\u6b63\u5e38\u904b\u4f5c\u6642\u9593\u8207\u56de\u61c9\u6642\u9593\u3002\u9019\u8b93\u4f60\u80fd\u76e3\u63a7\u9019\u4e9b\u5730\u9ede\u7684\u4f7f\u7528\u8005\u9ad4\u9a57\uff0c\u800c\u9019\u4e9b\u5730\u9ede\u53ef\u80fd\u64c1\u6709\u4e0d\u540c\u7684\u7db2\u8def\u9aa8\u5e79\u3001\u4e0d\u540c\u7684\u4f5c\u696d\u7cfb\u7d71\uff0c\u4ee5\u53ca\u4e0d\u540c\u7684\u700f\u89bd\u5668\u548c\u700f\u89bd\u5668\u7248\u672c\u3002Catchpoint \u5168\u7403\u76e3\u63a7\u7db2\u8def \u662f\u4e00\u652f\u9577\u5ea6\u7d04 3 \u5206\u9418\u7684\u5b8c\u6574\u5f71\u7247\uff0c\u89e3\u91cb\u76e3\u63a7\u5ba2\u6236\u7aef\u9ad4\u9a57\u7684\u91cd\u8981\u6027\u3002</p>"},{"location":"level101/python_web/intro/","title":"Python \u8207\u7db2\u8def","text":""},{"location":"level101/python_web/intro/#_1","title":"\u5148\u5099\u77e5\u8b58","text":"<ul> <li>\u57fa\u672c\u7684 Python \u8a9e\u8a00\u7406\u89e3\u3002</li> <li>\u57fa\u672c\u7684 Flask \u6846\u67b6\u719f\u6089\u5ea6\u3002</li> </ul>"},{"location":"level101/python_web/intro/#_2","title":"\u672c\u8ab2\u7a0b\u53ef\u671f\u671b\u4e4b\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u5206\u70ba\u5169\u500b\u9ad8\u5c64\u6b21\u7684\u90e8\u5206\u3002\u7b2c\u4e00\u90e8\u5206\u5047\u8a2d\u4f60\u5df2\u719f\u6089 Python \u8a9e\u8a00\u7684\u57fa\u790e\u64cd\u4f5c\u8207\u8a9e\u6cd5\u4f7f\u7528\uff0c\u6211\u5011\u5c07\u66f4\u6df1\u5165\u63a2\u8a0e Python \u8a9e\u8a00\u672c\u8eab\u3002\u6211\u5011\u6703\u628a Python \u8207\u4f60\u53ef\u80fd\u719f\u6089\u7684\u5176\u4ed6\u7a0b\u5f0f\u8a9e\u8a00\uff08\u5982 Java \u548c C\uff09\u505a\u6bd4\u8f03\u3002\u6211\u5011\u4e5f\u6703\u63a2\u8a0e Python \u7269\u4ef6\u7684\u6982\u5ff5\uff0c\u4e26\u85c9\u6b64\u63a2\u7d22 Python \u7684\u7279\u6027\u5982\u88dd\u98fe\u5668 (decorators)\u3002</p> <p>\u7b2c\u4e8c\u90e8\u5206\u5247\u570d\u7e5e\u65bc\u7db2\u8def\uff0c\u4e26\u5047\u8a2d\u4f60\u719f\u6089 Flask \u6846\u67b6\uff0c\u6211\u5011\u5c07\u5f9e <code>socket</code> \u6a21\u7d44\u958b\u59cb\uff0c\u8655\u7406 HTTP \u8acb\u6c42\u3002\u9019\u5c07\u5e6b\u52a9\u4f60\u4e86\u89e3\u50cf Flask \u9019\u985e\u6846\u67b6\u5167\u90e8\u5982\u4f55\u904b\u4f5c\u3002</p> <p>\u6b64\u5916\uff0c\u70ba\u4e86\u52a0\u5165 SRE \u7684\u98a8\u5473\uff0c\u6211\u5011\u5c07\u5728\u7406\u8ad6\u4e0a\u8a2d\u8a08\u3001\u958b\u767c\u4e26\u90e8\u7f72\u4e00\u500b URL \u7e2e\u77ed\u61c9\u7528\u3002\u6211\u5011\u6703\u5f37\u8abf\u4f5c\u70ba\u8a72\u61c9\u7528/\u670d\u52d9\u7684 SRE\uff0c\u6574\u500b\u904e\u7a0b\u4e2d\u54ea\u4e9b\u90e8\u5206\u66f4\u91cd\u8981\u3002</p>"},{"location":"level101/python_web/intro/#_3","title":"\u672c\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u5167\u5bb9","text":"<p>Python \u5167\u90e8\u6a5f\u5236\u7684\u6df1\u5165\u77e5\u8b58\u53ca\u9032\u968e Python\u3002</p>"},{"location":"level101/python_web/intro/#_4","title":"\u5be6\u9a57\u74b0\u5883\u8a2d\u5b9a","text":"<p>\u5b89\u88dd\u6700\u65b0\u7248 Python\u3002</p>"},{"location":"level101/python_web/intro/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ol> <li>Python \u8a9e\u8a00<ol> <li>\u4e00\u4e9b Python \u6982\u5ff5</li> <li>Python \u7684\u9677\u9631</li> </ol> </li> <li>Python \u8207\u7db2\u8def<ol> <li>Socket</li> <li>Flask</li> </ol> </li> <li>URL \u7e2e\u77ed\u61c9\u7528<ol> <li>\u8a2d\u8a08</li> <li>\u61c9\u7528\u64f4\u5c55</li> <li>\u61c9\u7528\u76e3\u63a7</li> </ol> </li> </ol>"},{"location":"level101/python_web/intro/#python_1","title":"Python \u8a9e\u8a00","text":"<p>\u5047\u8a2d\u4f60\u5c0d C/C++ \u548c Java \u6709\u4e00\u4e9b\u8a8d\u8b58\uff0c\u6211\u5011\u5617\u8a66\u5728\u9019\u5169\u7a2e\u8a9e\u8a00\u8207 Python \u7684\u8a9e\u5883\u4e0b\u8a0e\u8ad6\u4ee5\u4e0b\u554f\u984c\u3002\u4f60\u53ef\u80fd\u807d\u904e C/C++ \u662f\u7de8\u8b6f\u578b\u8a9e\u8a00\uff0c\u800c Python \u662f\u76f4\u8b6f\u578b\u8a9e\u8a00\u3002\u4e00\u822c\u4f86\u8aaa\uff0c\u7de8\u8b6f\u578b\u8a9e\u8a00\u6211\u5011\u6703\u5148\u7de8\u8b6f\u7a0b\u5f0f\uff0c\u7136\u5f8c\u57f7\u884c\u53ef\u57f7\u884c\u6a94\uff1b\u800c Python \u5247\u662f\u76f4\u63a5\u57f7\u884c\u539f\u59cb\u78bc\uff0c\u5982 <code>python hello_world.py</code>\u3002\u800c Java \u96d6\u7136\u662f\u76f4\u8b6f\u8a9e\u8a00\uff0c\u4f46\u9084\u662f\u5148\u6709\u7de8\u8b6f\u968e\u6bb5\uff0c\u518d\u57f7\u884c\u3002\u6240\u4ee5\uff0c\u5169\u8005\u6709\u4ec0\u9ebc\u771f\u6b63\u5dee\u5225\uff1f</p>"},{"location":"level101/python_web/intro/#vs","title":"\u7de8\u8b6f vs \u76f4\u8b6f","text":"<p>\u9019\u807d\u8d77\u4f86\u53ef\u80fd\u6709\u9ede\u602a\uff1aPython \u5728\u67d0\u7a2e\u7a0b\u5ea6\u4e0a\u4e5f\u662f\u7de8\u8b6f\u578b\u8a9e\u8a00\uff01Python \u5167\u5efa\u7de8\u8b6f\u5668\uff01Java \u660e\u986f\u662f\u9019\u6a23\uff0c\u6211\u5011\u7528\u7368\u7acb\u547d\u4ee4\u7de8\u8b6f\u5b83\uff0c\u4f8b\u5982\uff1a<code>javac helloWorld.java</code> \u6703\u7522\u751f <code>.class</code> \u6a94\uff0c\u4e5f\u5c31\u662f\u6240\u8b02\u7684 bytecode\u3002Python \u8207\u5176\u975e\u5e38\u76f8\u4f3c\u3002\u5dee\u5225\u5728\u65bc Python \u4e0d\u9700\u8981\u7368\u7acb\u7684\u7de8\u8b6f\u547d\u4ee4/\u4e8c\u9032\u4f4d\u6a94\u5c31\u80fd\u57f7\u884c\u3002</p> <p>\u90a3 Java \u8207 Python \u5dee\u5225\u5728\u54ea\u88e1\uff1f Java \u7684\u7de8\u8b6f\u5668\u66f4\u56b4\u683c\u4e14\u8907\u96dc\u3002\u4f60\u61c9\u8a72\u77e5\u9053 Java \u662f\u975c\u614b\u578b\u5225\u8a9e\u8a00\uff0c\u7de8\u8b6f\u5668\u80fd\u5728\u7de8\u8b6f\u968e\u6bb5\u9a57\u8b49\u578b\u5225\u76f8\u95dc\u932f\u8aa4\u3002\u800c Python \u662f \u52d5\u614b \u8a9e\u8a00\uff0c\u578b\u5225\u76f4\u5230\u7a0b\u5f0f\u57f7\u884c\u6642\u624d\u77e5\u9053\u3002\u56e0\u6b64 Python \u7de8\u8b6f\u5668\u76f8\u5c0d\u201c\u7c21\u55ae\u201d\u6216\u8aaa\u8f03\u4e0d\u56b4\u683c\u3002\u4f46\u57f7\u884c Python \u7a0b\u5f0f\u6642\u78ba\u5be6\u6709\u7de8\u8b6f\u6b65\u9a5f\u3002\u4f60\u53ef\u80fd\u898b\u904e Python \u7684 <code>.pyc</code> \u4f4d\u5143\u7d44\u78bc\u6a94\u3002\u4ee5\u4e0b\u793a\u7bc4\u5982\u4f55\u67e5\u770b Python \u7a0b\u5f0f\u7684\u4f4d\u5143\u7d44\u78bc\uff1a</p> <pre><code># \u5efa\u7acb Hello World\n$ echo \"print('hello world')\" &gt; hello_world.py\n\n# \u78ba\u8a8d\u53ef\u4ee5\u57f7\u884c\n$ python3 hello_world.py\nhello world\n\n# \u67e5\u770b\u8a72\u7a0b\u5f0f\u7684\u4f4d\u5143\u7d44\u78bc\n$ python -m dis hello_world.py\n 1           0 LOAD_NAME                0 (print)\n             2 LOAD_CONST               0 ('hello world')\n             4 CALL_FUNCTION            1\n             6 POP_TOP\n             8 LOAD_CONST               1 (None)\n            10 RETURN_VALUE\n</code></pre> <p>\u95dc\u65bc <code>dis</code> \u6a21\u7d44\u8acb\u53c3\u8003\u5b98\u65b9\u8aaa\u660e\u3002</p> <p>\u81f3\u65bc C/C++\uff0c\u7576\u7136\u6709\u7de8\u8b6f\u5668\u3002\u4f46\u8f38\u51fa\u7d50\u679c\u8207 Java/Python \u4e0d\u540c\u3002C \u7de8\u8b6f\u5f8c\u6703\u7522\u751f\u6211\u5011\u7a31\u70ba \u6a5f\u5668\u78bc\uff0c\u800c\u975e \u4f4d\u5143\u7d44\u78bc\u3002</p>"},{"location":"level101/python_web/intro/#_6","title":"\u57f7\u884c\u7a0b\u5f0f","text":"<p>\u6211\u5011\u77e5\u9053\u9019\u4e09\u7a2e\u8a9e\u8a00\u7686\u5305\u542b\u7de8\u8b6f\u904e\u7a0b\uff0c\u53ea\u662f\u7de8\u8b6f\u5668\u5dee\u7570\u548c\u8f38\u51fa\u5167\u5bb9\u4e0d\u540c\u3002C/C++ \u7522\u51fa\u7684\u662f\u6a5f\u5668\u78bc\uff0c\u53ef\u88ab\u4f5c\u696d\u7cfb\u7d71\u76f4\u63a5\u8b80\u53d6\u57f7\u884c\u3002\u7576\u4f60\u57f7\u884c\u7a0b\u5f0f\u6642\uff0c\u4f5c\u696d\u7cfb\u7d71\u77e5\u9053\u600e\u9ebc\u57f7\u884c\u5b83\u3002\u4f46\u4f4d\u5143\u7d44\u78bc\u5247\u4e0d\u7136\u3002</p> <p>\u4f4d\u5143\u7d44\u78bc\u662f\u8a9e\u8a00\u5c08\u6709\u7684\u3002Python \u6709\u81ea\u5df1\u5b9a\u7fa9\u7684\u4f4d\u5143\u7d44\u78bc\uff08\u53ef\u7528 <code>dis</code> \u6a21\u7d44\u67e5\u770b\uff09\uff0cJava \u4e5f\u4e00\u6a23\u3002\u56e0\u6b64\u4f5c\u696d\u7cfb\u7d71\u672c\u8eab\u4e0d\u61c2\u600e\u9ebc\u57f7\u884c\u5b83\u3002\u70ba\u4e86\u57f7\u884c\u9019\u4e9b\u4f4d\u5143\u7d44\u78bc\uff0c\u6211\u5011\u6709\u300c\u865b\u64ec\u6a5f\u300d\uff08Virtual Machines\uff0cVM\uff09\u3002\u4f8b\u5982 JVM \u6216 Python VM\uff08CPython\u3001Jython\uff09\u3002\u9019\u4e9b\u6240\u8b02\u7684\u865b\u64ec\u6a5f\u662f\u80fd\u89e3\u8b80\u4f4d\u5143\u7d44\u78bc\u4e26\u5728\u7279\u5b9a\u4f5c\u696d\u7cfb\u7d71\u4e0a\u57f7\u884c\u7684\u7a0b\u5f0f\u3002Python \u6709\u591a\u7a2e VM \u53ef\u7528\u3002CPython \u662f\u7528 C \u5be6\u4f5c\u7684 Python \u865b\u64ec\u6a5f\uff0cJython \u662f Java \u5e73\u53f0\u7684 Python VM \u5be6\u4f5c\u3002\u6700\u7d42\uff0c\u5b83\u5011\u61c9\u8a72\u80fd\u7406\u89e3 Python \u8a9e\u6cd5\uff0c\u7de8\u8b6f\u6210\u4f4d\u5143\u7d44\u78bc\uff0c\u4e26\u57f7\u884c\u8a72\u4f4d\u5143\u7d44\u78bc\u3002 \u4f60\u751a\u81f3\u53ef\u4ee5\u7528\u4efb\u610f\u8a9e\u8a00\u5be6\u4f5c Python VM\uff01\uff08\u4e14\u6709\u4eba\u771f\u7684\u505a\u4e86\uff09</p> <pre><code>                                                              \u4f5c\u696d\u7cfb\u7d71\n\n                                                              +------------------------------------+\n                                                              |                                    |\n                                                              |                                    |\n                                                              |                                    |\nhello_world.py                    Python \u4f4d\u5143\u7d44\u78bc             |         Python VM \u7a0b\u5f0f            |\n                                                              |                                    |\n+----------------+                +----------------+          |         +----------------+         |\n|print(...       |   \u7de8\u8b6f         |LOAD_CONST...   |          |         |\u9010\u884c\u8b80\u53d6\u4f4d\u5143\u7d44\u78bc|         |\n|                +---------------&gt;+                +-------------------&gt;|\u4e26\u57f7\u884c         |         |\n|                |                |                |          |         |                |         |\n|                |                |                |          |         |                |         |\n+----------------+                +----------------+          |         +----------------+         |\n                                                              |                                    |\n                                                              |                                    |\n                                                              |                                    |\nhello_world.c                     \u7279\u5b9a\u5e73\u53f0\u6a5f\u5668\u78bc             |         \u65b0\u57f7\u884c\u5e8f                  |\n                                                              |                                    |\n+----------------+                +----------------+          |         +----------------+         |\n|void main() {   |   \u7de8\u8b6f         | \u4e8c\u9032\u4f4d\u5167\u5bb9     |          |         | \u4e8c\u9032\u4f4d\u5167\u5bb9     |         |\n|                +---------------&gt;+                +-------------------&gt;|                |         |\n|                |                |                |          |         |                |         |\n|                |                |                |          |         |                |         |\n+----------------+                +----------------+          |         +----------------+         |\n                                                              |         \uff08\u6a5f\u5668\u78bc\u76f4\u63a5\u57f7\u884c\uff09         |\n                                                              |                                    |\n                                                              |                                    |\n                                                              +------------------------------------+\n</code></pre> <p>\u4e0a\u8ff0\u5716\u89e3\u9700\u6ce8\u610f\u5169\u9ede\uff1a</p> <ol> <li>\u4e00\u822c\u57f7\u884c Python \u7a0b\u5f0f\u6642\u6703\u555f\u52d5 Python VM \u7a0b\u5f0f\uff0c\u8a72\u7a0b\u5f0f\u8b80\u53d6\u539f\u59cb\u78bc\uff0c\u52d5\u614b\u7de8\u8b6f\u6210\u4f4d\u5143\u7d44\u78bc\u4e26\u57f7\u884c\uff0c\u7de8\u8b6f\u4e26\u975e\u7368\u7acb\u6b65\u9a5f\uff0c\u5716\u4e2d\u50c5\u70ba\u8aaa\u660e\u3002</li> <li>C \u7522\u751f\u7684\u4e8c\u9032\u4f4d\u6a94\u4e0d\u4e00\u5b9a\u662f\u76f4\u63a5\u57f7\u884c\u6a94\uff08\u56e0\u5404\u7a2e\u4e8c\u9032\u4f4d\u683c\u5f0f\u5982 ELF\uff09\uff0c\u57f7\u884c\u524d\u4f5c\u696d\u7cfb\u7d71\u9084\u6709\u5176\u4ed6\u8907\u96dc\u8655\u7406\u6d41\u7a0b\uff0c\u6211\u5011\u4e0d\u5728\u6b64\u4ecb\u7d39\uff0c\u56e0\u5176\u70ba\u4f5c\u696d\u7cfb\u7d71\u5c64\u9762\u5de5\u4f5c\u3002</li> </ol>"},{"location":"level101/python_web/python-concepts/","title":"\u4e00\u4e9b Python \u6982\u5ff5","text":"<p>\u96d6\u7136\u4f60\u9810\u671f\u5df2\u7d93\u4e86\u89e3 Python \u53ca\u5176\u8a9e\u6cd5\u7684\u57fa\u790e\uff0c\u4f46\u8b93\u6211\u5011\u4f86\u8a0e\u8ad6\u4e00\u4e9b\u57fa\u672c\u6982\u5ff5\uff0c\u9019\u5c07\u6709\u52a9\u65bc\u4f60\u66f4\u597d\u5730\u7406\u89e3 Python \u8a9e\u8a00\u3002</p> <p>Python \u7684\u4e00\u5207\u90fd\u662f\u7269\u4ef6\u3002</p> <p>\u9019\u5305\u62ec\u51fd\u6578\u3001\u5217\u8868\u3001\u5b57\u5178\u3001\u985e\u5225\u3001\u6a21\u7d44\u3001\u6b63\u5728\u57f7\u884c\u7684\u51fd\u6578\uff08\u51fd\u6578\u5b9a\u7fa9\u7684\u5be6\u4f8b\uff09\uff0c\u4e00\u5207\u3002\u5728 CPython \u4e2d\uff0c\u9019\u610f\u5473\u8457\u6bcf\u500b\u7269\u4ef6\u5e95\u5c64\u90fd\u6709\u4e00\u500b <code>struct</code> \u8b8a\u6578\u3002</p> <p>\u5728 Python \u7576\u524d\u7684\u57f7\u884c\u74b0\u5883\u4e2d\uff0c\u6240\u6709\u8b8a\u6578\u90fd\u5132\u5b58\u5728\u4e00\u500b dict \u4e2d\u3002\u9019\u662f\u4e00\u500b\u5b57\u4e32\u5230\u7269\u4ef6\u7684\u6620\u5c04\u3002\u5982\u679c\u4f60\u5728\u7576\u524d\u74b0\u5883\u4e2d\u5b9a\u7fa9\u4e86\u4e00\u500b\u51fd\u6578\u548c\u4e00\u500b\u6d6e\u9ede\u6578\u8b8a\u6578\uff0c\u4ee5\u4e0b\u662f\u5b83\u5011\u5982\u4f55\u88ab\u5167\u90e8\u8655\u7406\u3002</p> <pre><code>&gt;&gt;&gt; float_number=42.0\n&gt;&gt;&gt; def foo_func():\n...     pass\n...\n\n# \u6ce8\u610f\u8b8a\u6578\u540d\u7a31\u662f\u5b57\u4e32\uff0c\u5132\u5b58\u5728 dict \u4e2d\n&gt;&gt;&gt; locals()\n{'__name__': '__main__', '__doc__': None, '__package__': None, '__loader__': &lt;class '_frozen_importlib.BuiltinImporter'&gt;, '__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;, 'float_number': 42.0, 'foo_func': &lt;function foo_func at 0x1055847a0&gt;}\n</code></pre>"},{"location":"level101/python_web/python-concepts/#python_1","title":"Python \u51fd\u6578","text":"<p>\u56e0\u70ba\u51fd\u6578\u4e5f\u662f\u7269\u4ef6\uff0c\u6211\u5011\u53ef\u4ee5\u770b\u770b\u51fd\u6578\u64c1\u6709\u7684\u5c6c\u6027\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>&gt;&gt;&gt; def hello(name):\n...     print(f\"Hello, {name}!\")\n...\n&gt;&gt;&gt; dir(hello)\n['__annotations__', '__call__', '__class__', '__closure__', '__code__', '__defaults__', '__delattr__', '__dict__',\n'__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__get__', '__getattribute__', '__globals__', '__gt__',\n'__hash__', '__init__', '__init_subclass__', '__kwdefaults__', '__le__', '__lt__', '__module__', '__name__',\n'__ne__', '__new__', '__qualname__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__',\n'__subclasshook__']\n</code></pre> <p>\u96d6\u7136\u5c6c\u6027\u5f88\u591a\uff0c\u4f46\u6211\u5011\u4f86\u770b\u770b\u4e00\u4e9b\u6709\u8da3\u7684\u3002</p>"},{"location":"level101/python_web/python-concepts/#globals","title":"globals","text":"<p>\u9019\u500b\u5c6c\u6027\uff0c\u9867\u540d\u601d\u7fa9\uff0c\u5305\u542b\u4e86\u5168\u57df\u8b8a\u6578\u7684\u5f15\u7528\u3002\u5982\u679c\u4f60\u60f3\u77e5\u9053\u5728\u51fd\u6578\u4f5c\u7528\u57df\u5167\u6709\u54ea\u4e9b\u5168\u57df\u8b8a\u6578\uff0c\u9019\u53ef\u4ee5\u544a\u8a34\u4f60\u3002\u770b\u770b\u51fd\u6578\u958b\u59cb\u770b\u5230\u65b0\u8b8a\u6578\u5728 globals \u4e2d\u7684\u6a23\u5b50\u3002</p> <pre><code>&gt;&gt;&gt; hello.__globals__\n{'__name__': '__main__', '__doc__': None, '__package__': None, '__loader__': &lt;class '_frozen_importlib.BuiltinImporter'&gt;, '__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;, 'hello': &lt;function hello at 0x7fe4e82554c0&gt;}\n\n# \u65b0\u589e\u5168\u57df\u8b8a\u6578\n&gt;&gt;&gt; GLOBAL=\"g_val\"\n&gt;&gt;&gt; hello.__globals__\n{'__name__': '__main__', '__doc__': None, '__package__': None, '__loader__': &lt;class '_frozen_importlib.BuiltinImporter'&gt;, '__spec__': None, '__annotations__': {}, '__builtins__': &lt;module 'builtins' (built-in)&gt;, 'hello': &lt;function hello at 0x7fe4e82554c0&gt;, 'GLOBAL': 'g_val'}\n</code></pre>"},{"location":"level101/python_web/python-concepts/#code","title":"code","text":"<p>\u9019\u662f\u4e00\u500b\u6709\u8da3\u7684\u5c6c\u6027\uff01\u56e0\u70ba Python \u7684\u4e00\u5207\u7686\u7269\u4ef6\uff0c\u5305\u62ec\u4f4d\u5143\u78bc\u3002\u7de8\u8b6f\u5f8c\u7684 Python \u4f4d\u5143\u78bc\u662f\u4e00\u500b Python \u7a0b\u5f0f\u78bc\u7269\u4ef6\uff0c\u53ef\u4ee5\u900f\u904e <code>__code__</code> \u5c6c\u6027\u5b58\u53d6\u3002\u51fd\u6578\u6709\u4e00\u500b\u76f8\u95dc\u806f\u7684\u7a0b\u5f0f\u78bc\u7269\u4ef6\uff0c\u651c\u5e36\u4e00\u4e9b\u6709\u8da3\u7684\u8cc7\u8a0a\u3002</p> <pre><code># \u51fd\u6578\u5b9a\u7fa9\u6240\u5728\u6a94\u6848\n# \u9019\u88e1\u662f stdin\uff0c\u56e0\u70ba\u5728\u76f4\u8b6f\u5668\u4e2d\u57f7\u884c\n&gt;&gt;&gt; hello.__code__.co_filename\n'&lt;stdin&gt;'\n\n# \u51fd\u6578\u53c3\u6578\u6578\u91cf\n&gt;&gt;&gt; hello.__code__.co_argcount\n1\n\n# \u5340\u57df\u8b8a\u6578\u540d\u7a31\n&gt;&gt;&gt; hello.__code__.co_varnames\n('name',)\n\n# \u51fd\u6578\u7de8\u8b6f\u5f8c\u7684\u4f4d\u5143\u78bc\n&gt;&gt;&gt; hello.__code__.co_code\nb't\\x00d\\x01|\\x00\\x9b\\x00d\\x02\\x9d\\x03\\x83\\x01\\x01\\x00d\\x00S\\x00'\n</code></pre> <p>\u9084\u6709\u66f4\u591a\u7a0b\u5f0f\u78bc\u7269\u4ef6\u7684\u5c6c\u6027\u53ef\u4ee5\u7528 <code>&gt;&gt;&gt; dir(hello.__code__)</code> \u67e5\u770b\u3002</p>"},{"location":"level101/python_web/python-concepts/#decorators","title":"\u88dd\u98fe\u5668\uff08Decorators\uff09","text":"<p>\u8ddf\u51fd\u6578\u76f8\u95dc\u7684\u662f\uff0cPython \u6709\u53e6\u4e00\u500b\u53eb\u505a\u88dd\u98fe\u5668\u7684\u529f\u80fd\u3002\u8b93\u6211\u5011\u770b\u770b\u5b83\u662f\u600e\u9ebc\u904b\u4f5c\u7684\uff0c\u4e26\u4fdd\u6301\u300c\u4e00\u5207\u7686\u7269\u4ef6\u300d\u7684\u89c0\u5ff5\u3002</p> <p>\u9019\u662f\u4e00\u500b\u7bc4\u4f8b\u88dd\u98fe\u5668\uff1a</p> <pre><code>&gt;&gt;&gt; def deco(func):\n...     def inner():\n...             print(\"before\")\n...             func()\n...             print(\"after\")\n...     return inner\n...\n&gt;&gt;&gt; @deco\n... def hello_world():\n...     print(\"hello world\")\n...\n&gt;&gt;&gt;\n&gt;&gt;&gt; hello_world()\nbefore\nhello world\nafter\n</code></pre> <p>\u9019\u88e1 <code>@deco</code> \u8a9e\u6cd5\u7528\u65bc\u88dd\u98fe <code>hello_world</code> \u51fd\u6578\u3002\u5b83\u672c\u8cea\u4e0a\u7b49\u540c\u65bc\uff1a</p> <pre><code>&gt;&gt;&gt; def hello_world():\n...     print(\"hello world\")\n...\n&gt;&gt;&gt; hello_world = deco(hello_world)\n</code></pre> <p><code>deco</code> \u51fd\u6578\u5167\u90e8\u767c\u751f\u4ec0\u9ebc\u770b\u8d77\u4f86\u53ef\u80fd\u6709\u9ede\u8907\u96dc\uff0c\u6211\u5011\u5617\u8a66\u62c6\u89e3\u5b83\u3002</p> <ol> <li>\u5efa\u7acb\u51fd\u6578 <code>hello_world</code></li> <li>\u5c07\u5b83\u50b3\u5165 <code>deco</code> \u51fd\u6578</li> <li><code>deco</code> \u5efa\u7acb\u4e00\u500b\u65b0\u7684\u51fd\u6578<ol> <li>\u65b0\u51fd\u6578\u547c\u53eb <code>hello_world</code> \u51fd\u6578</li> <li>\u4e26\u57f7\u884c\u5176\u4ed6\u5e7e\u500b\u52d5\u4f5c</li> </ol> </li> <li><code>deco</code> \u50b3\u56de\u65b0\u5efa\u7acb\u7684\u51fd\u6578</li> <li><code>hello_world</code> \u88ab\u53d6\u4ee3\u6210\u4e0a\u8ff0\u51fd\u6578</li> </ol> <p>\u6211\u5011\u5229\u7528\u5716\u793a\u5e6b\u52a9\u7406\u89e3\uff1a</p> <pre><code>       \u88dd\u98fe\u524d             \u51fd\u6578\u7269\u4ef6 (ID: 100)\n\n       \"hello_world\"         +--------------------+\n               +            |print(\"hello_world\")|\n               |            |                    |\n               +----------&gt; |                    |\n                            |                    |\n                            +--------------------+\n\n\n       \u88dd\u98fe\u5668\u7684\u4f5c\u7528\n\n       \u5efa\u7acb\u4e00\u500b\u65b0\u51fd\u6578 (ID: 101)\n       +---------------------------------+\n       |\u8f38\u5165\u53c3\u6578\uff1a\u51fd\u6578\u7269\u4ef6 ID: 100        |\n       |                                 |\n       |print(\"before\")                  |\n       |\u547c\u53eb\u51fd\u6578\u7269\u4ef6 ID: 100             |\n       |print(\"after\")                   |\n       |                                 |\n       +---------------------------------+\n                                   ^\n                                   |\n       \u88dd\u98fe\u5f8c                       |\n                                   |\n                                   |\n       \"hello_world\" +--------------+\n</code></pre> <p>\u6ce8\u610f <code>hello_world</code> \u540d\u7a31\u6307\u5411\u4e00\u500b\u65b0\u51fd\u6578\u7269\u4ef6\uff0c\u4f46\u8a72\u51fd\u6578\u7269\u4ef6\u77e5\u9053\u539f\u59cb\u51fd\u6578\u7684\u5f15\u7528\uff08ID\uff09\u3002</p>"},{"location":"level101/python_web/python-concepts/#_1","title":"\u4e00\u4e9b\u6ce8\u610f\u4e8b\u9805","text":"<ul> <li>\u96d6\u7136\u5728 Python \u4e2d\u5efa\u7acb\u539f\u578b\u975e\u5e38\u5feb\u901f\u4e14\u6709\u5927\u91cf\u5eab\u53ef\u7528\uff0c\u4f46\u96a8\u8457\u7a0b\u5f0f\u78bc\u57fa\u790e\u8907\u96dc\u5ea6\u589e\u52a0\uff0c\u578b\u5225\u932f\u8aa4\u8b8a\u5f97\u66f4\u5e38\u898b\u4e14\u96e3\u4ee5\u8655\u7406\u3002\uff08\u5c0d\u6b64\u6709\u89e3\u6c7a\u65b9\u6848\uff0c\u5982 Python \u7684\u578b\u5225\u8a3b\u89e3\u3002\u53ef\u53c3\u8003 mypy\u3002\uff09</li> <li>\u7531\u65bc Python \u662f\u52d5\u614b\u578b\u5225\u8a9e\u8a00\uff0c\u9019\u4ee3\u8868\u6240\u6709\u578b\u5225\u90fd\u662f\u5728\u57f7\u884c\u6642\u6c7a\u5b9a\u3002\u9019\u4f7f\u5f97 Python \u57f7\u884c\u901f\u5ea6\u6bd4\u5176\u4ed6\u975c\u614b\u578b\u5225\u8a9e\u8a00\u6162\u5f88\u591a\u3002</li> <li>Python \u6709\u500b\u6771\u897f\u53eb\u505a GIL\uff08\u5168\u57df\u89e3\u8b6f\u5668\u9396\uff09\uff0c\u9019\u9650\u5236\u4e86\u591a\u6838\u5fc3 CPU \u505a\u5e73\u884c\u8a08\u7b97\u7684\u80fd\u529b\u3002</li> <li>Python \u505a\u7684\u4e00\u4e9b\u602a\u7570\u4e4b\u8655\uff1ahttps://github.com/satwikkansal/wtfpython\u3002</li> </ul>"},{"location":"level101/python_web/python-web-flask/","title":"Python\u3001\u7db2\u9801\u8207 Flask","text":"<p>\u65e9\u671f\u7db2\u7ad9\u90fd\u975e\u5e38\u7c21\u55ae\u3002\u5b83\u5011\u662f\u7c21\u55ae\u7684\u975c\u614b HTML \u5167\u5bb9\u3002\u7db2\u8def\u4f3a\u670d\u5668\u6703\u5728\u6307\u5b9a\u57e0\u53e3\u76e3\u807d\uff0c\u6839\u64da\u6536\u5230\u7684 HTTP \u8acb\u6c42\uff0c\u5f9e\u78c1\u789f\u8b80\u53d6\u6a94\u6848\u4e26\u56de\u50b3\u4f5c\u70ba\u56de\u61c9\u3002\u4f46\u96a8\u8457\u6642\u9593\u6f14\u9032\uff0c\u7db2\u7ad9\u8b8a\u5f97\u8d8a\u4f86\u8d8a\u8907\u96dc\u4e14\u52d5\u614b\u5316\u3002\u4f9d\u64da\u8acb\u6c42\u5167\u5bb9\uff0c\u7cfb\u7d71\u9700\u8981\u57f7\u884c\u591a\u91cd\u64cd\u4f5c\uff0c\u4f8b\u5982\u8b80\u53d6\u8cc7\u6599\u5eab\u6216\u547c\u53eb\u5176\u4ed6 API\uff0c\u6700\u5f8c\u56de\u50b3\u67d0\u7a2e\u56de\u61c9\uff08HTML \u9801\u9762\u3001JSON \u5167\u5bb9\u7b49\uff09\u3002</p> <p>\u56e0\u70ba\u8655\u7406 Web \u8acb\u6c42\u5df2\u4e0d\u518d\u662f\u7c21\u55ae\u7684\u8b80\u6a94\u6848\u4e26\u56de\u50b3\u5167\u5bb9\uff0c\u6211\u5011\u5fc5\u9808\u91dd\u5c0d\u6bcf\u500b HTTP \u8acb\u6c42\u9032\u884c\u7a0b\u5f0f\u8655\u7406\uff0c\u57f7\u884c\u5404\u7a2e\u64cd\u4f5c\u5f8c\u7d44\u6210\u56de\u61c9\u3002</p>"},{"location":"level101/python_web/python-web-flask/#socket","title":"Socket","text":"<p>\u96d6\u7136\u6211\u5011\u6709\u50cf Flask \u9019\u6a23\u7684\u6846\u67b6\uff0cHTTP \u5354\u5b9a\u672c\u8eab\u4ecd\u662f\u5728 TCP \u5354\u5b9a\u4e4b\u4e0a\u904b\u4f5c\u7684\u5354\u5b9a\u3002\u56e0\u6b64\uff0c\u6211\u5011\u5148\u5efa\u7acb\u4e00\u53f0 TCP \u4f3a\u670d\u5668\uff0c\u50b3\u9001 HTTP \u8acb\u6c42\u4e26\u6aa2\u8996\u8acb\u6c42\u7684\u5167\u5bb9\u3002\u8acb\u6ce8\u610f\u9019\u4e0d\u662f Socket \u7a0b\u5f0f\u8a2d\u8a08\u7684\u6559\u5b78\uff0c\u6211\u5011\u9019\u88e1\u505a\u7684\u662f\u5f9e\u6700\u5e95\u5c64\u6aa2\u8996 HTTP \u5354\u5b9a\uff0c\u770b\u770b\u5b83\u7684\u5167\u5bb9\u9577\u4ec0\u9ebc\u6a23\u5b50\u3002\uff08\u53c3\u8003\uff1aRealPython \u7684 Python Socket \u7a0b\u5f0f\u8a2d\u8a08\u6307\u5357\uff09</p> <pre><code>import socket\n\nHOST = '127.0.0.1'  # \u6a19\u6e96\u8ff4\u5708\u63a5\u53e3 (localhost)\nPORT = 65432        # \u76e3\u807d\u7684\u975e\u7279\u6b0a\u57e0\u53e3\uff08\u5927\u65bc1023\uff09\n\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n   s.bind((HOST, PORT))\n   s.listen()\n   conn, addr = s.accept()\n   with conn:\n       print('Connected by', addr)\n       while True:\n           data = conn.recv(1024)\n           if not data:\n               break\n           print(data)\n</code></pre> <p>\u63a5\u8457\uff0c\u6211\u5011\u5728\u700f\u89bd\u5668\u6253\u958b <code>localhost:65432</code> \uff0c\u8f38\u51fa\u6703\u662f\uff1a</p> <pre><code>Connected by ('127.0.0.1', 54719)\nb'GET / HTTP/1.1\\r\\nHost: localhost:65432\\r\\nConnection: keep-alive\\r\\nDNT: 1\\r\\nUpgrade-Insecure-Requests: 1\\r\\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36 Edg/85.0.564.44\\r\\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\\r\\nSec-Fetch-Site: none\\r\\nSec-Fetch-Mode: navigate\\r\\nSec-Fetch-User: ?1\\r\\nSec-Fetch-Dest: document\\r\\nAccept-Encoding: gzip, deflate, br\\r\\nAccept-Language: en-US,en;q=0.9\\r\\n\\r\\n'\n</code></pre> <p>\u7d30\u770b\u5167\u5bb9\u6703\u50cf\u662f HTTP \u5354\u5b9a\u7684\u683c\u5f0f\uff0c\u4e5f\u5c31\u662f\uff1a</p> <pre><code>HTTP \u65b9\u6cd5 URI \u8def\u5f91 HTTP \u7248\u672c\n\u6a19\u982d\u884c \u7528\u5206\u9694\u7b26\u5206\u9694\n</code></pre> <p>\u6240\u4ee5\u96d6\u7136\u5b83\u662f\u4e00\u4e32\u4f4d\u5143\u7d44\u7684\u8cc7\u6599\uff0c\u4f46\u53ea\u8981\u4e86\u89e3 HTTP \u5354\u5b9a\u898f\u7bc4\uff0c\u4f60\u53ef\u4ee5\u5c07\u5b57\u4e32\u62c6\u5206\uff08\u4f8b\u5982\u7528 <code>\\r\\n</code> \u62c6\u5206\uff09\u4e26\u89e3\u6790\u51fa\u6709\u610f\u7fa9\u7684\u8cc7\u8a0a\u3002</p>"},{"location":"level101/python_web/python-web-flask/#flask","title":"Flask","text":"<p>Flask \u548c\u5176\u4ed6\u985e\u4f3c\u6846\u67b6\u6240\u505a\u7684\u4e8b\u60c5\u57fa\u672c\u4e0a\u5c31\u662f\u4e0a\u4e00\u7bc0\u8a0e\u8ad6\u7684\uff0c\u53ea\u662f\u66f4\u70ba\u8907\u96dc\u7cbe\u7dfb\u3002\u4ed6\u5011\u5728 TCP Socket \u67d0\u500b\u57e0\u53e3\u76e3\u807d\u3001\u63a5\u6536 HTTP \u8acb\u6c42\uff0c\u6839\u64da\u5354\u5b9a\u683c\u5f0f\u89e3\u6790\u8cc7\u6599\uff0c\u4e26\u4ee5\u65b9\u4fbf\u4f7f\u7528\u7684\u65b9\u5f0f\u63d0\u4f9b\u7d66\u958b\u767c\u8005\u3002</p> <p>\u4e5f\u5c31\u662f\u8aaa\uff0c\u4f60\u53ef\u4ee5\u7528 <code>request.headers</code> \u8a2a\u554f\u8acb\u6c42\u6a19\u982d\uff0cFlask \u6703\u5c07\u525b\u525b\u4e0a\u8ff0\u7684\u5b57\u4e32\uff08\u7528 <code>\\r\\n</code> \u5206\u5272\uff09\u89e3\u6790\u4e26\u8f49\u6210\u9019\u6a23\u65b9\u4fbf\u7684\u7d50\u69cb\u3002</p> <p>\u53e6\u4e00\u500b\u7bc4\u4f8b\u662f\uff1a\u5728 Flask \u4e2d\u7528 <code>@app.route(\"/hello\")</code> \u8a3b\u518a\u8def\u7531\u3002Flask \u6703\u5728\u5167\u90e8\u7dad\u8b77\u4e00\u500b\u6620\u5c04\u8868\uff0c\u5c07 <code>/hello</code> \u6620\u5c04\u5230\u4f60\u6240\u88dd\u98fe\u7684\u51fd\u5f0f\u3002\u7576\u8acb\u6c42\u7684\u8def\u5f91\u662f <code>/hello</code>\uff08\u7b2c\u4e00\u884c\u4ee5\u7a7a\u683c\u62c6\u5206\u7684\u7b2c\u4e8c\u500b\u90e8\u4efd\uff09\u6642\uff0cFlask \u5c31\u6703\u547c\u53eb\u8a72\u51fd\u5f0f\u4e26\u9001\u56de\u51fd\u5f0f\u7684\u57f7\u884c\u7d50\u679c\u3002</p> <p>\u5176\u4ed6\u7a0b\u5f0f\u8a9e\u8a00\u7684\u5404\u7a2e Web \u6846\u67b6\u4e5f\u90fd\u76f8\u4f3c\u3002\u57fa\u672c\u4e0a\u4ed6\u5011\u7684\u5de5\u4f5c\u5c31\u662f\u4e86\u89e3 HTTP \u5354\u5b9a\uff0c\u89e3\u6790 HTTP \u8acb\u6c42\u8cc7\u6599\uff0c\u4e26\u63d0\u4f9b\u4e00\u500b\u65b9\u4fbf\u7684\u4ecb\u9762\u8b93\u7a0b\u5f0f\u8a2d\u8a08\u5e2b\u64cd\u4f5c HTTP \u8acb\u6c42\u3002</p> <p>\u770b\u8d77\u4f86\u4e26\u6c92\u6709\u4ec0\u9ebc\u9b54\u6cd5\u5427\uff1f</p>"},{"location":"level101/python_web/sre-conclusion/","title":"\u7d50\u8ad6","text":""},{"location":"level101/python_web/sre-conclusion/#_2","title":"\u64f4\u5c55\u61c9\u7528\u7a0b\u5f0f","text":"<p>\u8a2d\u8a08\u8207\u958b\u767c\u53ea\u662f\u65c5\u7a0b\u7684\u4e00\u90e8\u5206\u3002\u6211\u5011\u9072\u65e9\u9700\u8981\u8a2d\u7f6e\u6301\u7e8c\u6574\u5408 (CI) \u548c\u6301\u7e8c\u4ea4\u4ed8 (CD) \u7ba1\u7dda\u3002\u800c\u4e14\u6211\u5011\u5fc5\u9808\u5c07\u6b64\u61c9\u7528\u7a0b\u5f0f\u90e8\u7f72\u5230\u67d0\u500b\u5730\u65b9\u3002</p> <p>\u6700\u521d\uff0c\u6211\u5011\u53ef\u4ee5\u5f9e\u5728\u4efb\u4f55\u96f2\u7aef\u4f9b\u61c9\u5546\u7684\u4e00\u53f0\u865b\u64ec\u6a5f\u4e0a\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f\u958b\u59cb\u3002\u4f46\u9019\u662f\u4e00\u500b\u300c\u55ae\u9ede\u6545\u969c\uff08Single point of failure\uff09\u300d\uff0c\u4f5c\u70ba SRE\uff08\u751a\u81f3\u4e00\u822c\u5de5\u7a0b\u5e2b\uff09\u6211\u5011\u7d55\u4e0d\u5141\u8a31\u9019\u7a2e\u72c0\u6cc1\u3002\u56e0\u6b64\uff0c\u4e00\u500b\u6539\u9032\u662f\u65bc\u8ca0\u8f09\u5e73\u8861\u5668\u5f8c\u9762\u90e8\u7f72\u591a\u500b\u61c9\u7528\u7a0b\u5f0f\u5be6\u4f8b\u3002\u9019\u78ba\u5be6\u53ef\u907f\u514d\u55ae\u4e00\u6a5f\u5668\u6545\u969c\u6240\u5e36\u4f86\u7684\u554f\u984c\u3002</p> <p>\u5728\u9019\u88e1\u64f4\u5c55\u610f\u5473\u8457\u5728\u8ca0\u8f09\u5e73\u8861\u5668\u5f8c\u7aef\u65b0\u589e\u66f4\u591a\u5be6\u4f8b\u3002\u4f46\u9019\u7a2e\u64f4\u5c55\u6709\u4e00\u5b9a\u7684\u6975\u9650\u3002\u4e4b\u5f8c\uff0c\u7cfb\u7d71\u4e2d\u5176\u4ed6\u74f6\u9838\u5c07\u6703\u51fa\u73fe\uff0c\u4f8b\u5982\uff1a\u8cc7\u6599\u5eab\u6703\u6210\u70ba\u74f6\u9838\uff0c\u6216\u8005\u53ef\u80fd\u662f\u8ca0\u8f09\u5e73\u8861\u5668\u672c\u8eab\u3002\u4f60\u600e\u9ebc\u77e5\u9053\u662f\u4ec0\u9ebc\u6210\u70ba\u74f6\u9838\uff1f\u4f60\u9700\u8981\u5c0d\u61c9\u7528\u7a0b\u5f0f\u67b6\u69cb\u7684\u5404\u65b9\u9762\u64c1\u6709\u53ef\u89c0\u6e2c\u6027\u3002</p> <p>\u53ea\u6709\u64c1\u6709\u5ea6\u91cf\u6578\u64da\uff0c\u4f60\u624d\u77e5\u9053\u54ea\u88e1\u51fa\u4e86\u554f\u984c\u3002\u80fd\u88ab\u5ea6\u91cf\u7684\uff0c\u624d\u80fd\u88ab\u4fee\u5fa9\uff01</p> <p>\u60f3\u66f4\u6df1\u5165\u4e86\u89e3\u64f4\u5c55\u6027\uff0c\u8acb\u53c3\u8003 School Of SRE \u7684\u64f4\u5c55\u6027\u6a21\u7d44\uff0c\u4e26\u5728\u5b78\u7fd2\u5f8c\uff0c\u5c07\u4f60\u7684\u9ad4\u6703\u8207\u6536\u7a6b\u61c9\u7528\u5230\u6b64\u61c9\u7528\u7a0b\u5f0f\u4e2d\u3002\u601d\u8003\u5982\u4f55\u8b93\u6b64\u61c9\u7528\u7a0b\u5f0f\u5177\u5099\u5730\u7406\u5206\u5e03\u3001\u9ad8\u53ef\u7528\u8207\u53ef\u64f4\u5c55\u6027\u3002</p>"},{"location":"level101/python_web/sre-conclusion/#_3","title":"\u76e3\u63a7\u7b56\u7565","text":"<p>\u61c9\u7528\u7a0b\u5f0f\u4e00\u65e6\u90e8\u7f72\uff0c\u5b83\u6703\u6b63\u5e38\u904b\u4f5c\u3002\u4f46\u4e0d\u6703\u6c38\u9060\u5982\u6b64\u3002\u53ef\u9760\u6027\u662f\u6211\u5011\u5de5\u4f5c\u7684\u6838\u5fc3\uff0c\u6211\u5011\u900f\u904e\u8a2d\u8a08\u8b93\u7cfb\u7d71\u53ef\u9760\uff0c\u4f46\u554f\u984c\u4ecd\u7136\u6703\u767c\u751f\u3002\u6a5f\u5668\u6703\u6545\u969c\uff0c\u786c\u789f\u6703\u7570\u5e38\u884c\u70ba\uff0c\u6709\u7455\u75b5\u7684\u7a0b\u5f0f\u78bc\u6703\u88ab\u63a8\u9001\u5230\u751f\u7522\u74b0\u5883\u3002\u6240\u6709\u9019\u4e9b\u53ef\u80fd\u7684\u60c5\u6cc1\u90fd\u6703\u8b93\u7cfb\u7d71\u7684\u53ef\u9760\u6027\u964d\u4f4e\u3002\u90a3\u6211\u5011\u600e\u9ebc\u505a\uff1f\u6211\u5011\u76e3\u63a7\uff01</p> <p>\u6211\u5011\u76e3\u63a7\u7cfb\u7d71\u5065\u5eb7\u72c0\u614b\uff0c\u4e00\u65e6\u6709\u4efb\u4f55\u7570\u5e38\uff0c\u6211\u5011\u5e0c\u671b\u80fd\u7acb\u5373\u6536\u5230\u8b66\u5831\u3002</p> <p>\u73fe\u5728\u4ee5 URL \u7e2e\u77ed\u61c9\u7528\u7a0b\u5f0f\u70ba\u4f8b\uff0c\u6211\u5011\u9700\u8981\u76e3\u63a7\u5b83\uff0c\u4e26\u5728\u767c\u751f\u554f\u984c\u6642\u7372\u5f97\u901a\u77e5\u3002\u4f46\u6211\u5011\u9996\u5148\u8981\u6c7a\u5b9a\u7684\u662f\uff0c\u4ec0\u9ebc\u662f\u6211\u5011\u9700\u8981\u76e3\u63a7\u7684\u300c\u67d0\u500b\u6771\u897f\u300d\u3002</p> <ol> <li>\u7531\u65bc\u5b83\u662f\u4e00\u500b\u63d0\u4f9b HTTP \u8acb\u6c42\u670d\u52d9\u7684\u7db2\u9801\u61c9\u7528\uff0c\u6211\u5011\u60f3\u76e3\u63a7 HTTP \u72c0\u614b\u78bc\u8207\u5ef6\u9072\u3002</li> <li>\u8acb\u6c42\u91cf\u4e5f\u662f\u76e3\u63a7\u91cd\u9ede\u4e4b\u4e00\uff0c\u5982\u679c\u61c9\u7528\u63a5\u6536\u5230\u7570\u5e38\u7684\u6d41\u91cf\uff0c\u53ef\u80fd\u5c31\u6709\u554f\u984c\u3002</li> <li>\u6211\u5011\u4e5f\u8981\u76e3\u63a7\u8cc7\u6599\u5eab\uff0c\u4f9d\u7167\u6240\u9078\u7528\u7684\u8cc7\u6599\u5eab\u65b9\u6848\uff0c\u76e3\u63a7\u5982\u67e5\u8a62\u6642\u9593\u3001\u8acb\u6c42\u91cf\u3001\u786c\u789f\u4f7f\u7528\u7387\u7b49\u3002</li> <li>\u6700\u5f8c\uff0c\u5fc5\u9808\u6709\u4e00\u4e9b\u5916\u90e8\u76e3\u63a7\uff0c\u5f9e\u4f60\u8cc7\u6599\u4e2d\u5fc3\u5916\u7684\u88dd\u7f6e\u5468\u671f\u6027\u6e2c\u8a66\u3002\u9019\u6a21\u64ec\u9867\u5ba2\u4f7f\u7528\u60c5\u6cc1\uff0c\u78ba\u4fdd\u7cfb\u7d71\u5f9e\u5ba2\u6236\u7aef\u89c0\u9ede\u4f9d\u7136\u6b63\u5e38\u904b\u4f5c\u3002</li> </ol>"},{"location":"level101/python_web/sre-conclusion/#sre","title":"SRE \u89d2\u8272\u4e2d\u7684\u61c9\u7528","text":"<p>\u5728 SRE \u4e16\u754c\u88e1\uff0cPython \u662f\u88ab\u5ee3\u6cdb\u7528\u4f86\u64b0\u5beb\u5c0f\u5de5\u5177\u8207\u8173\u672c\u7684\u8a9e\u8a00\u3002\u7531\u65bc SRE \u958b\u767c\u7684\u5de5\u5177\u6703\u64cd\u4f5c\u95dc\u9375\u57fa\u790e\u8a2d\u65bd\uff0c\u4e14\u5177\u6709\u6975\u5927\u6b0a\u9650\uff08\u53ef\u80fd\u6703\u9020\u6210\u7cfb\u7d71\u5d29\u6f70\uff09\uff0c\u4f7f\u7528\u7a0b\u5f0f\u8a9e\u8a00\u53ca\u5176\u7279\u6027\u6642\u5fc5\u9808\u975e\u5e38\u8b39\u614e\u3002\u540c\u6642\uff0c\u5728\u8abf\u8a66\u554f\u984c\u6642\uff0c\u4e86\u89e3\u8a9e\u8a00\u672c\u8eab\u8207\u5176\u7279\u6027\u4e5f\u975e\u5e38\u91cd\u8981\u3002\u4f5c\u70ba SRE\uff0c\u5c0d Python \u8a9e\u8a00\u6709\u6df1\u5165\u4e86\u89e3\uff0c\u5c0d\u6211\u89e3\u6c7a\u975e\u5e38\u68d8\u624b\u7684\u9664\u932f\u554f\u984c\u6709\u6975\u5927\u5e6b\u52a9\uff0c\u4e5f\u8b93\u6211\u5728\u505a\u8a2d\u8a08\u6c7a\u7b56\u6642\u66f4\u52a0\u654f\u92b3\u8207\u6709\u81ea\u4fe1\u3002</p> <p>\u96d6\u7136\u7de8\u5beb\u5de5\u5177\u672a\u5fc5\u662f SRE \u7684\u4e3b\u8981\u5de5\u4f5c\uff0c\u4f46\u652f\u63f4\u5de5\u5177\u6216\u670d\u52d9\u66f4\u53ef\u80fd\u662f\u65e5\u5e38\u4efb\u52d9\u3002\u6253\u9020\u4e00\u6b3e\u61c9\u7528\u6216\u5de5\u5177\u53ea\u662f\u7522\u54c1\u5316\u7684\u4e00\u5c0f\u90e8\u5206\u3002\u96d6\u7136\u5728\u8a2d\u8a08\u61c9\u7528\u672c\u8eab\u9700\u8981\u8003\u616e\u5176\u5065\u58ef\u6027\uff0c\u4f46\u4f5c\u70ba SRE\uff0c\u4f60\u8981\u8ca0\u8cac\u8a72\u7522\u54c1\u90e8\u7f72\u5f8c\u7684\u53ef\u9760\u6027\u8207\u7a69\u5b9a\u6027\u3002\u70ba\u4e86\u78ba\u4fdd\u9019\u9ede\uff0c\u4f60\u5fc5\u9808\u5148\u7406\u89e3\u61c9\u7528\uff0c\u7136\u5f8c\u64ec\u5b9a\u76e3\u63a7\u7b56\u7565\uff0c\u4e26\u70ba\u5404\u7a2e\u5931\u6548\u60c5\u5883\u505a\u597d\u6e96\u5099\u3002</p>"},{"location":"level101/python_web/sre-conclusion/#_4","title":"\u9078\u64c7\u6027\u7df4\u7fd2","text":"<ol> <li>\u88fd\u4f5c\u4e00\u500b\u88dd\u98fe\u5668\uff0c\u7528\u4ee5\u4f9d\u64da\u51fd\u6578\u8f38\u5165\u53c3\u6578\u7de9\u5b58\u51fd\u6578\u56de\u50b3\u503c\u3002</li> <li>\u5c07 URL \u7e2e\u77ed\u61c9\u7528\u90e8\u7f72\u5230\u4efb\u4f55\u96f2\u7aef\u4f9b\u61c9\u5546\u3002</li> <li>\u4f7f\u7528\u591a\u7a2e\u53ef\u7528\u7684\u76e3\u63a7\u5de5\u5177\uff08\u4f8b\u5982 Catchpoint\u3001Datadog \u7b49\uff09\u4f86\u8a2d\u7f6e\u76e3\u63a7\u3002</li> <li>\u5728 TCP socket \u4e4b\u4e0a\u6253\u9020\u4e00\u500b\u7c21\u6613\u7248\u985e Flask \u6846\u67b6\u3002</li> </ol>"},{"location":"level101/python_web/sre-conclusion/#_5","title":"\u7e3d\u7d50","text":"<p>\u672c\u6a21\u7d44\u7684\u7b2c\u4e00\u90e8\u5206\uff0c\u65e8\u5728\u8b93\u4f60\u66f4\u4e86\u89e3\u9078\u64c7 Python \u4f5c\u70ba\u7a0b\u5f0f\u8a9e\u8a00\u6642\u6703\u767c\u751f\u7684\u4e8b\uff0c\u4ee5\u53ca Python \u7a0b\u5f0f\u904b\u4f5c\u7684\u5167\u90e8\u6a5f\u5236\u3002\u7406\u89e3 Python \u5982\u4f55\u5167\u90e8\u4ee5\u7269\u4ef6\u5f62\u5f0f\u8655\u7406\u4e8b\u7269\u5f8c\uff0c\u5f88\u591a\u8868\u9762\u770b\u4f3c\u795e\u5947\u7684\u73fe\u8c61\u6703\u8b8a\u5f97\u66f4\u6613\u7406\u89e3\u3002</p> <p>\u7b2c\u4e8c\u90e8\u5206\u5c07\u5148\u89e3\u91cb\u50cf Flask \u9019\u6a23\u7684\u6846\u67b6\u5982\u4f55\u904b\u4f5c\uff0c\u4e26\u4e14\u57fa\u65bc TCP\u3001HTTP \u7b49\u5354\u5b9a\u7684\u77e5\u8b58\u3002\u63a5\u8457\u63a2\u8a0e\u61c9\u7528\u7a0b\u5f0f\u6574\u500b\u958b\u767c\u751f\u547d\u9031\u671f\uff0c\u5305\u62ec\u8207 SRE \u76f8\u95dc\u7684\u5167\u5bb9\u3002\u96d6\u7136\u8a2d\u8a08\u8207\u67b6\u69cb\u7bc4\u7587\u4e0d\u6703\u6db5\u84cb\u6240\u6709\u7d30\u7bc0\uff0c\u4f46\u6703\u63d0\u4f9b\u4f5c\u70ba SRE \u5fc5\u9808\u95dc\u6ce8\u7684\u91cd\u8981\u9762\u5411\uff0c\u4ee5\u53ca\u70ba\u4f55\u9019\u4e9b\u9762\u5411\u5982\u6b64\u91cd\u8981\u7684\u6982\u8ff0\u3002</p>"},{"location":"level101/python_web/url-shorten-app/","title":"URL \u7e2e\u77ed\u61c9\u7528\u7a0b\u5f0f","text":"<p>\u8b93\u6211\u5011\u7528 Flask \u5efa\u7acb\u4e00\u500b\u975e\u5e38\u7c21\u55ae\u7684 URL \u7e2e\u77ed\u61c9\u7528\u7a0b\u5f0f\uff0c\u4e26\u5617\u8a66\u6db5\u84cb\u958b\u767c\u904e\u7a0b\u4e2d\u7684\u6240\u6709\u9762\u5411\uff0c\u5305\u62ec\u53ef\u9760\u6027\u65b9\u9762\u3002\u6211\u5011\u4e0d\u6703\u5efa\u7acb\u4f7f\u7528\u8005\u4ecb\u9762\uff0c\u5c07\u8a2d\u8a08\u4e00\u7d44\u6700\u7c21\u55ae\u7684 API\uff0c\u4f7f\u8a72\u61c9\u7528\u7a0b\u5f0f\u80fd\u826f\u597d\u904b\u4f5c\u3002</p>"},{"location":"level101/python_web/url-shorten-app/#_1","title":"\u8a2d\u8a08","text":"<p>\u6211\u5011\u4e0d\u6703\u76f4\u63a5\u8df3\u53bb\u64b0\u5beb\u7a0b\u5f0f\u78bc\u3002\u9996\u5148\u8981\u505a\u7684\u662f\u8490\u96c6\u9700\u6c42\uff0c\u63d0\u51fa\u4e00\u500b\u65b9\u6848\uff0c\u8acb\u540c\u5115\u5be9\u67e5\u8a2d\u8a08/\u65b9\u6848\uff0c\u6301\u7e8c\u6f14\u5316\u3001\u8fed\u4ee3\u4e26\u8a18\u9304\u6c7a\u7b56\u8207\u53d6\u6368\uff0c\u6700\u5f8c\u624d\u5be6\u4f5c\u3002\u96d6\u7136\u9019\u88e1\u4e0d\u6703\u5beb\u51fa\u5b8c\u6574\u7684\u8a2d\u8a08\u6587\u4ef6\uff0c\u4f46\u6703\u5728\u6b64\u63d0\u51fa\u4e00\u4e9b\u91cd\u8981\u7684\u8a2d\u8a08\u554f\u984c\u3002</p>"},{"location":"level101/python_web/url-shorten-app/#1-api","title":"1. \u9ad8\u968e\u64cd\u4f5c\u8207 API \u7aef\u9ede","text":"<p>\u7531\u65bc\u662f URL \u7e2e\u77ed\u61c9\u7528\u7a0b\u5f0f\uff0c\u6211\u5011\u9700\u8981\u4e00\u500b API \u80fd\u5728\u8f38\u5165\u539f\u59cb\u9023\u7d50\u5f8c\u7522\u751f\u7e2e\u77ed\u9023\u7d50\uff0c\u9084\u6709\u4e00\u500b API/\u7aef\u9ede\u80fd\u63a5\u53d7\u7e2e\u77ed\u7684\u9023\u7d50\u4e26\u91cd\u65b0\u5c0e\u5411\u81f3\u539f\u59cb URL\u3002\u6211\u5011\u4e0d\u6703\u5305\u542b\u4f7f\u7528\u8005\u76f8\u95dc\u7684\u529f\u80fd\uff0c\u4ee5\u4fdd\u6301\u7c21\u6f54\u3002\u9019\u5169\u500b API \u61c9\u8db3\u4ee5\u8b93\u61c9\u7528\u7a0b\u5f0f\u53ef\u7528\u4e14\u6709\u6548\u3002</p>"},{"location":"level101/python_web/url-shorten-app/#2","title":"2. \u5982\u4f55\u7e2e\u77ed\uff1f","text":"<p>\u7d66\u5b9a\u4e00\u500b URL\uff0c\u6211\u5011\u9700\u8981\u7522\u751f\u5b83\u7684\u7e2e\u77ed\u7248\u672c\u3002\u4e00\u7a2e\u65b9\u6cd5\u662f\u5c0d\u6bcf\u500b\u9023\u7d50\u4f7f\u7528\u96a8\u6a5f\u5b57\u5143\u3002\u53e6\u4e00\u7a2e\u65b9\u6cd5\u662f\u4f7f\u7528\u67d0\u7a2e\u96dc\u6e4a\u6f14\u7b97\u6cd5\u3002\u9019\u6a23\u505a\u7684\u597d\u8655\u662f\u76f8\u540c\u7684\u9023\u7d50\u6703\u91cd\u8907\u4f7f\u7528\u76f8\u540c\u7684\u96dc\u6e4a\u503c\u3002\u6bd4\u5982\uff1a\u82e5\u5f88\u591a\u4eba\u90fd\u7e2e\u77ed <code>https://www.linkedin.com</code>\uff0c\u4ed6\u5011\u5c07\u6703\u5f97\u5230\u76f8\u540c\u7684\u7e2e\u77ed\u503c\uff0c\u6bd4\u8d77\u82e5\u63a1\u7528\u96a8\u6a5f\u5b57\u5143\u7522\u751f\u6703\u5c0e\u81f4\u8cc7\u6599\u5eab\u591a\u7b46\u8cc7\u6599\u6709\u512a\u52e2\u3002</p> <p>\u90a3\u9ebc\u96dc\u6e4a\u885d\u7a81\u600e\u9ebc\u8fa6\uff1f\u5373\u4f7f\u662f\u96a8\u6a5f\u5b57\u5143\u65b9\u6cd5\uff0c\u96d6\u7136\u6a5f\u7387\u8f03\u4f4e\uff0c\u4f46\u885d\u7a81\u53ef\u80fd\u4ecd\u6703\u767c\u751f\uff0c\u6211\u5011\u9700\u8981\u6ce8\u610f\u9019\u9ede\u3002\u82e5\u767c\u751f\u885d\u7a81\uff0c\u6211\u5011\u53ef\u80fd\u6703\u5728\u5b57\u4e32\u524d\u5f8c\u52a0\u4e0a\u4e00\u4e9b\u96a8\u6a5f\u503c\u4ee5\u907f\u514d\u885d\u7a81\u3002</p> <p>\u6b64\u5916\uff0c\u9078\u64c7\u96dc\u6e4a\u6f14\u7b97\u6cd5\u5f88\u91cd\u8981\uff0c\u6211\u5011\u9700\u8981\u5206\u6790\u4e0d\u540c\u6f14\u7b97\u6cd5\u7684 CPU \u9700\u6c42\u548c\u7279\u6027\uff0c\u9078\u51fa\u6700\u9069\u5408\u7684\u3002</p>"},{"location":"level101/python_web/url-shorten-app/#3-url","title":"3. URL \u662f\u5426\u6709\u6548\uff1f","text":"<p>\u7d66\u5b9a\u4e00\u500b\u8981\u7e2e\u77ed\u7684 URL\uff0c\u8981\u5982\u4f55\u9a57\u8b49\u5b83\u662f\u5426\u6709\u6548\uff1f\u6211\u5011\u662f\u5426\u771f\u7684\u6703\u9a57\u8b49\uff1f\u6700\u57fa\u672c\u7684\u6aa2\u67e5\u53ef\u4ee5\u662f\u7528\u6b63\u898f\u8868\u9054\u5f0f\u9a57\u8b49 URL \u683c\u5f0f\u3002\u66f4\u9032\u4e00\u6b65\u7684\u505a\u6cd5\u662f\u5617\u8a66\u958b\u555f\u6216\u8a2a\u554f\u8a72 URL\u3002\u4f46\u9019\u88e1\u6709\u4e00\u4e9b\u9677\u9631\uff1a</p> <ol> <li>\u6211\u5011\u9700\u8981\u5b9a\u7fa9\u6210\u529f\u7684\u6a19\u6e96\uff0c\u4f8b\u5982 HTTP 200 \u8868\u793a\u6709\u6548\u3002</li> <li>\u82e5\u8a72 URL \u4f4d\u65bc\u79c1\u6709\u7db2\u8def\uff1f</li> <li>\u82e5\u8a72 URL \u66ab\u6642\u7121\u6cd5\u9023\u7dda\uff1f</li> </ol>"},{"location":"level101/python_web/url-shorten-app/#4","title":"4. \u8cc7\u6599\u5132\u5b58","text":"<p>\u6700\u5f8c\u662f\u5132\u5b58\u3002\u6211\u5011\u751f\u6210\u7684\u8cc7\u6599\u8981\u5b58\u5230\u54ea\u88e1\uff1f\u6709\u5f88\u591a\u8cc7\u6599\u5eab\u89e3\u6c7a\u65b9\u6848\uff0c\u6211\u5011\u9700\u8981\u6311\u9078\u6700\u9069\u5408\u6b64\u61c9\u7528\u7684\u3002\u50cf MySQL \u7b49\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u662f\u5408\u7406\u7684\u9078\u64c7\uff0c\u4f46\u8acb\u52d9\u5fc5\u53c3\u8003 School of SRE \u7684 SQL \u8cc7\u6599\u5eab\u7ae0\u7bc0 \u53ca NoSQL \u8cc7\u6599\u5eab\u7ae0\u7bc0 \u4ee5\u7372\u5f97\u66f4\u6df1\u5165\u7684\u6c7a\u7b56\u53c3\u8003\u3002</p>"},{"location":"level101/python_web/url-shorten-app/#5","title":"5. \u5176\u4ed6","text":"<p>\u6211\u5011\u66ab\u6642\u4e0d\u6703\u8003\u616e\u4f7f\u7528\u8005\u7ba1\u7406\u6216\u5176\u4ed6\u529f\u80fd\uff0c\u5982\u6d41\u91cf\u9650\u5236\u3001\u81ea\u8a02\u9023\u7d50\u7b49\uff0c\u4f46\u9019\u4e9b\u529f\u80fd\u65e5\u5f8c\u53ef\u80fd\u6703\u88ab\u6dfb\u52a0\uff0c\u8996\u9700\u6c42\u800c\u5b9a\u3002</p> <p>\u4ee5\u4e0b\u70ba\u4e00\u500b\u6700\u7c21\u53ef\u7528\u7684\u7a0b\u5f0f\u78bc\u7bc4\u4f8b\u4f9b\u53c3\u8003\uff0c\u4e0d\u904e\u5efa\u8b70\u4f60\u81ea\u5df1\u5617\u8a66\u5be6\u4f5c\u3002</p> <pre><code>from flask import Flask, redirect, request\nfrom hashlib import md5\n\napp = Flask(\"url_shortener\")\n\nmapping = {}\n\n@app.route(\"/shorten\", methods=[\"POST\"])\ndef shorten():\n    global mapping\n    payload = request.json\n\n    if \"url\" not in payload:\n        return \"Missing URL Parameter\", 400\n\n    # TODO: \u6aa2\u67e5 URL \u662f\u5426\u6709\u6548\n\n    hash_ = md5()\n    hash_.update(payload[\"url\"].encode())\n    digest = hash_.hexdigest()[:5]  # \u9650\u5236\u9577\u5ea6\u70ba 5 \u5b57\u5143\uff0c\u9650\u5236\u8d8a\u77ed\u885d\u7a81\u6a5f\u7387\u8d8a\u9ad8\n\n    if digest not in mapping:\n        mapping[digest] = payload[\"url\"]\n        return f\"Shortened: r/{digest}\\n\"\n    else:\n        # TODO: \u6aa2\u67e5\u96dc\u6e4a\u885d\u7a81\n        return f\"Already exists: r/{digest}\\n\"\n\n\n@app.route(\"/r/&lt;hash_&gt;\")\ndef redirect_(hash_):\n    if hash_ not in mapping:\n        return \"URL Not Found\", 404\n    return redirect(mapping[hash_])\n\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n\n\"\"\"\n\u57f7\u884c\u7d50\u679c:\n\n\n===&gt; \u7e2e\u77ed\n\n$ curl localhost:5000/shorten -H \"content-type: application/json\" --data '{\"url\":\"https://linkedin.com\"}'\nShortened: r/a62a4\n\n\n===&gt; \u91cd\u65b0\u5c0e\u5411\uff0c\u6ce8\u610f\u56de\u61c9\u78bc 302 \u53ca location \u6a19\u982d\n\n$ curl localhost:5000/r/a62a4 -v\n* Uses proxy env variable NO_PROXY == '127.0.0.1'\n*   Trying ::1...\n* TCP_NODELAY set\n* Connection failed\n* connect to ::1 port 5000 failed: Connection refused\n*   Trying 127.0.0.1...\n* TCP_NODELAY set\n* Connected to localhost (127.0.0.1) port 5000 (#0)\n&gt; GET /r/a62a4 HTTP/1.1\n&gt; Host: localhost:5000\n&gt; User-Agent: curl/7.64.1\n&gt; Accept: */*\n&gt;\n* HTTP 1.0, assume close after body\n&lt; HTTP/1.0 302 FOUND\n&lt; Content-Type: text/html; charset=utf-8\n&lt; Content-Length: 247\n&lt; Location: https://linkedin.com\n&lt; Server: Werkzeug/0.15.4 Python/3.7.7\n&lt; Date: Tue, 27 Oct 2020 09:37:12 GMT\n&lt;\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 3.2 Final//EN\"&gt;\n&lt;title&gt;Redirecting...&lt;/title&gt;\n&lt;h1&gt;Redirecting...&lt;/h1&gt;\n* Closing connection 0\n&lt;p&gt;You should be redirected automatically to target URL: &lt;a href=\"https://linkedin.com\"&gt;https://linkedin.com&lt;/a&gt;.  If not click the link.\n\"\"\"\n</code></pre>"},{"location":"level101/security/conclusion/","title":"\u7d50\u8ad6","text":"<p>\u73fe\u5728\u60a8\u5df2\u5b8c\u6210\u672c\u5b89\u5168\u8ab2\u7a0b\uff0c\u5c0d\u65bc\u96fb\u8166\u7cfb\u7d71\u8207\u7db2\u8def\u53ef\u80fd\u9762\u81e8\u7684\u5b89\u5168\u5a01\u8105\u5df2\u6709\u6240\u8a8d\u8b58\u3002\u4e0d\u50c5\u5982\u6b64\uff0c\u60a8\u4e5f\u80fd\u66f4\u6709\u6548\u5730\u4fdd\u8b77\u81ea\u5df1\u7684\u7cfb\u7d71\uff0c\u4e26\u5411\u4ed6\u4eba\u5efa\u8b70\u5b89\u5168\u63aa\u65bd\u3002</p> <p>\u672c\u8ab2\u7a0b\u63d0\u4f9b\u5b89\u5168\u9818\u57df\u7684\u57fa\u790e\u65e5\u5e38\u77e5\u8b58\uff0c\u4e5f\u52a9\u60a8\u5c07\u5b89\u5168\u7f6e\u65bc\u512a\u5148\u8003\u91cf\u4e4b\u4e0a\u3002</p>"},{"location":"level101/security/conclusion/#_2","title":"\u5176\u4ed6\u8cc7\u6e90","text":"<p>\u4e00\u4e9b\u5f88\u68d2\u7684\u66f8\u7c4d\u8cc7\u6e90\uff1a</p> <ul> <li> <p>Holistic Info-Sec for Web Developers (https://holisticinfosecforwebdevelopers.com/)\u2014\u514d\u8cbb\u53ef\u4e0b\u8f09\u7684\u7cfb\u5217\u66f8\u7c4d\uff0c\u6db5\u84cb\u5ee3\u6cdb\u4e14\u6df1\u5165\uff0c\u4ecb\u7d39\u7db2\u9801\u958b\u767c\u4eba\u54e1\u8207 DevOps \u5de5\u7a0b\u5e2b\u5fc5\u9808\u4e86\u89e3\u7684\u5167\u5bb9\uff0c\u4ee5\u6253\u9020\u7a69\u5065\u3001\u53ef\u9760\u3001\u53ef\u7dad\u8b77\u4e14\u5b89\u5168\u7684\u8edf\u9ad4\u3001\u7db2\u8def\u53ca\u5176\u4ed6\u670d\u52d9\uff0c\u78ba\u4fdd\u6301\u7e8c\u4ea4\u4ed8\uff0c\u6e96\u6642\u7121\u9a5a\u559c\u3002</p> </li> <li> <p>Docker Security: Quick Reference\u2014\u91dd\u5c0d DevOps \u5de5\u7a0b\u5e2b (https://leanpub.com/dockersecurity-quickreference)\u2014\u4ecb\u7d39 Docker \u5b89\u5168\u9810\u8a2d\u8a2d\u5b9a\u3001\u5982\u4f55\u6539\u5584\uff08\u7406\u8ad6\u53ca\u5be6\u4f5c\uff09\uff0c\u4e26\u5305\u542b\u8a31\u591a\u5de5\u5177\u8207\u6280\u8853\u7684\u66f8\u7c4d\u3002</p> </li> <li> <p>How to Hack Like a Legend (https://amzn.to/2uWh1Up)\u2014\u9ed1\u5ba2\u6545\u4e8b\uff0c\u95d6\u5165\u795e\u7955\u7684\u96e2\u5cb8\u516c\u53f8 Sparc Flow\uff0c2018 \u5e74\u3002</p> </li> <li> <p>How to Investigate Like a Rockstar (https://books2read.com/u/4jDWoZ)\u2014\u89aa\u8eab\u7d93\u6b77\u5371\u6a5f\u4ee5\u638c\u63e1\u6cd5\u8b49\u5206\u6790\u7955\u8a23\uff0cSparc Flow\uff0c2017 \u5e74\u3002</p> </li> <li> <p>Real World Cryptography (https://www.manning.com/books/real-world-cryptography)\u2014\u9019\u672c\u65e9\u671f\u91cb\u51fa\u7684\u66f8\u7c4d\u6559\u5c0e\u60a8\u5982\u4f55\u904b\u7528\u5bc6\u78bc\u6280\u8853\uff0c\u65bc\u7cfb\u7d71\u8207\u61c9\u7528\u7a0b\u5f0f\u5404\u5c64\u7d1a\u5be6\u8e10\u5b89\u5168\u3002</p> </li> <li> <p>AWS Security (https://www.manning.com/books/aws-security?utm_source=github&amp;utm_medium=organic&amp;utm_campaign=book_shields_aws_1_31_20)\u2014\u672c\u65e9\u671f\u91cb\u51fa\u66f8\u7c4d\u6db5\u84cb\u5e38\u898b AWS \u5b89\u5168\u8b70\u984c\u8207\u6700\u4f73\u5be6\u52d9\uff0c\u5305\u542b\u5b58\u53d6\u653f\u7b56\u3001\u8cc7\u6599\u4fdd\u8b77\u3001\u5be9\u8a08\u3001\u6301\u7e8c\u76e3\u63a7\u53ca\u4e8b\u4ef6\u56de\u61c9\u3002</p> </li> </ul>"},{"location":"level101/security/conclusion/#_3","title":"\u5f8c\u7e8c\u57f9\u8a13\u5efa\u8b70\uff0f\u9032\u968e\u95b1\u8b80","text":"<ul> <li>CTF \u6d3b\u52d5\uff1ahttps://github.com/apsdehal/awesome-ctf</li> <li>\u6ef2\u900f\u6e2c\u8a66\uff1ahttps://github.com/enaqx/awesome-pentest</li> <li>\u5a01\u8105\u60c5\u5831\uff1ahttps://github.com/hslatman/awesome-threat-intelligence</li> <li>\u5a01\u8105\u5075\u6e2c\u8207\u72e9\u7375\uff1ahttps://github.com/0x4D31/awesome-threat-detection</li> <li>\u7db2\u9801\u5b89\u5168\uff1ahttps://github.com/qazbnm456/awesome-web-security</li> <li>\u5efa\u69cb\u5b89\u5168\u4e14\u53ef\u9760\u7684\u7cfb\u7d71\uff1ahttps://landing.google.com/sre/resources/foundationsandprinciples/srs-book/</li> </ul>"},{"location":"level101/security/fundamentals/","title":"\u7b2c\u4e00\u90e8\u5206\uff1a\u57fa\u790e\u77e5\u8b58","text":""},{"location":"level101/security/fundamentals/#sre","title":"SRE \u7684\u5b89\u5168\u6027\u6982\u8ff0\u4ecb\u7d39","text":"<ul> <li>\u4ed4\u7d30\u89c0\u5bdf\u6703\u767c\u73fe\uff0c\u7db2\u7ad9\u53ef\u9760\u6027\u5de5\u7a0b\uff08Site Reliability Engineering, \u7c21\u7a31 SRE\uff09\u8207\u5b89\u5168\u5de5\u7a0b\u90fd\u95dc\u5fc3\u7cfb\u7d71\u7684\u53ef\u7528\u6027\u3002</li> <li>\u50cf\u662f\u932f\u8aa4\u7684\u7248\u672c\u767c\u5e03\u3001\u5bb9\u91cf\u4e0d\u8db3\u53ca\u932f\u8aa4\u914d\u7f6e\uff0c\u90fd\u53ef\u80fd\u8b93\u7cfb\u7d71\u7121\u6cd5\u4f7f\u7528\uff08\u81f3\u5c11\u662f\u66ab\u6642\u6027\u7684\uff09\u3002</li> <li>\u7834\u58de\u7528\u6236\u4fe1\u4efb\u7684\u5b89\u5168\u6216\u96b1\u79c1\u4e8b\u6545\uff0c\u4e5f\u6703\u524a\u5f31\u7cfb\u7d71\u7684\u5be6\u7528\u6027\u3002</li> <li>\u56e0\u6b64\uff0c\u7cfb\u7d71\u5b89\u5168\u61c9\u662f SRE \u7684\u91cd\u8981\u8003\u91cf\u3002</li> </ul> <ul> <li>SRE \u61c9\u8a72\u53c3\u8207\u91cd\u8981\u7684\u8a2d\u8a08\u8a0e\u8ad6\u53ca\u5be6\u969b\u7cfb\u7d71\u8b8a\u66f4\u3002</li> <li>\u4ed6\u5011\u5728\u7cfb\u7d71\u8a2d\u8a08\u4e2d\u626e\u6f14\u95dc\u9375\u89d2\u8272\uff0c\u56e0\u6b64\u6709\u6642\u4e5f\u6210\u70ba\u7b2c\u4e00\u9053\u9632\u7dda\u3002</li> <li>SRE \u5354\u52a9\u9632\u6b62\u7cdf\u7cd5\u7684\u8a2d\u8a08\u8207\u5be6\u4f5c\uff0c\u9019\u4e9b\u90fd\u53ef\u80fd\u5f71\u97ff\u57fa\u790e\u67b6\u69cb\u7684\u6574\u9ad4\u5b89\u5168\u3002</li> <li>\u6210\u529f\u8a2d\u8a08\u3001\u5be6\u4f5c\u53ca\u7dad\u8b77\u7cfb\u7d71\u9700\u8981\u5c0d\u5b8c\u6574\u7cfb\u7d71\u751f\u547d\u9031\u671f\u7684\u627f\u8afe\u3002\u53ea\u6709\u7576\u5b89\u5168\u8207\u53ef\u9760\u6027\u6210\u70ba\u7cfb\u7d71\u67b6\u69cb\u7684\u6838\u5fc3\u5143\u7d20\u6642\uff0c\u9019\u7a2e\u627f\u8afe\u624d\u53ef\u80fd\u5be6\u73fe\u3002</li> <li>\u8cc7\u8a0a\u5b89\u5168\u7684\u6838\u5fc3\u652f\u67f1\uff1a</li> <li>\u6a5f\u5bc6\u6027\uff08Confidentiality\uff09\u2500\u2500\u53ea\u5141\u8a31\u6709\u6b0a\u9650\u7684\u7528\u6236\u5b58\u53d6\u8cc7\u6599</li> <li>\u5b8c\u6574\u6027\uff08Integrity\uff09\u2500\u2500\u78ba\u4fdd\u8cc7\u6599\u4e0d\u88ab\u672a\u6388\u6b0a\u7528\u6236\u7ac4\u6539\u6216\u8b8a\u66f4</li> <li> <p>\u53ef\u7528\u6027\uff08Availability\uff09\u2500\u2500\u78ba\u4fdd\u7cfb\u7d71\u8207\u8cc7\u6599\u5728\u6388\u6b0a\u7528\u6236\u9700\u8981\u6642\u53ef\u4f7f\u7528</p> </li> <li> <p>\u4ee5\u5b89\u5168\u5de5\u7a0b\u5e2b\u7684\u601d\u7dad\u601d\u8003\uff1a</p> </li> <li> <p>\u5728\u555f\u52d5\u65b0\u61c9\u7528\u6216\u91cd\u69cb\u73fe\u6709\u61c9\u7528\u6642\uff0c\u61c9\u9010\u9805\u6aa2\u8996\u529f\u80fd\uff0c\u4e26\u8003\u616e\uff1a</p> <ul> <li>\u9019\u500b\u529f\u80fd\u5468\u908a\u7684\u6d41\u7a0b\u662f\u5426\u76e1\u53ef\u80fd\u5b89\u5168\uff1f\u63db\u53e5\u8a71\u8aaa\uff0c\u662f\u5426\u5b58\u5728\u6d41\u7a0b\u7f3a\u9677\uff1f</li> <li>\u5047\u5982\u6211\u662f\u60e1\u610f\u8005\uff0c\u6703\u600e\u6a23\u6feb\u7528\u6b64\u529f\u80fd\uff1f\u672a\u80fd\u56e0\u61c9\u529f\u80fd\u88ab\u6feb\u7528\u7684\u53ef\u80fd\u6027\uff0c\u53ef\u80fd\u5c0e\u81f4\u8a2d\u8a08\u7f3a\u9677\u3002</li> <li>\u9019\u500b\u529f\u80fd\u662f\u5426\u9810\u8a2d\u5fc5\u9808\u555f\u7528\uff1f\u82e5\u662f\uff0c\u6709\u6c92\u6709\u65b9\u6cd5\u6216\u9078\u9805\u53ef\u4ee5\u964d\u4f4e\u6b64\u529f\u80fd\u5e36\u4f86\u7684\u98a8\u96aa\uff1f</li> </ul> </li> <li> <p>OWASP\uff08\u958b\u653e\u5f0f\u7db2\u9801\u61c9\u7528\u5b89\u5168\u5c08\u6848\uff09\u7684\u5b89\u5168\u539f\u5247</p> </li> <li>\u6700\u5c0f\u5316\u653b\u64ca\u9762\u7a4d\uff1a<ul> <li>\u6bcf\u589e\u52a0\u4e00\u9805\u529f\u80fd\uff0c\u5c31\u6703\u589e\u52a0\u6574\u9ad4\u61c9\u7528\u7684\u98a8\u96aa\u3002\u5b89\u5168\u958b\u767c\u76ee\u6a19\u5373\u662f\u900f\u904e\u964d\u4f4e\u653b\u64ca\u9762\u7a4d\u4f86\u6e1b\u5c11\u6574\u9ad4\u98a8\u96aa\u3002</li> <li>\u4f8b\u5982\uff0c\u67d0\u7db2\u9801\u61c9\u7528\u63d0\u4f9b\u5e36\u6709\u641c\u5c0b\u529f\u80fd\u7684\u7dda\u4e0a\u8aaa\u660e\u3002\u641c\u5c0b\u529f\u80fd\u53ef\u80fd\u6703\u906d\u53d7 SQL \u6ce8\u5165\u653b\u64ca\u3002\u5982\u679c\u8aaa\u660e\u529f\u80fd\u9650\u5236\u6388\u6b0a\u7528\u6236\u4f7f\u7528\uff0c\u653b\u64ca\u7684\u53ef\u80fd\u6027\u6703\u964d\u4f4e\uff1b\u82e5\u641c\u5c0b\u7d93\u904e\u96c6\u4e2d\u8cc7\u6599\u9a57\u8b49\uff0cSQL \u6ce8\u5165\u98a8\u96aa\u53ef\u5927\u5e45\u6e1b\u5c11\uff1b\u82e5\u8aaa\u660e\u529f\u80fd\u6539\u5beb\u4ee5\u53d6\u6d88\u641c\u5c0b\uff08\u4f8b\u5982\u900f\u904e\u66f4\u597d\u7684 UI\uff09\uff0c\u5373\u4f7f\u8aaa\u660e\u53ef\u4f9b\u5168\u7db2\u8def\u8a2a\u554f\uff0c\u4e5f\u5e7e\u4e4e\u6d88\u9664\u653b\u64ca\u9762\u3002</li> </ul> </li> <li>\u5efa\u7acb\u5b89\u5168\u7684\u9810\u8a2d\u8a2d\u5b9a\uff1a<ul> <li>\u63d0\u4f9b\u300c\u958b\u7bb1\u5373\u53ef\u7528\u300d\u7684\u9ad4\u9a57\u5f88\u91cd\u8981\uff0c\u4f46\u9810\u8a2d\u72c0\u614b\u61c9\u4fdd\u6301\u5b89\u5168\uff0c\u964d\u4f4e\u5b89\u5168\u6027\u61c9\u7531\u7528\u6236\u81ea\u884c\u6c7a\u5b9a\uff08\u82e5\u5141\u8a31\uff09\u3002</li> <li>\u4f8b\u5982\uff0c\u9810\u8a2d\u555f\u7528\u5bc6\u78bc\u8001\u5316\u8207\u8907\u96dc\u5ea6\u6aa2\u67e5\uff0c\u4f7f\u7528\u8005\u53ef\u9078\u64c7\u505c\u7528\u4ee5\u7c21\u5316\u4f7f\u7528\u540c\u6642\u63d0\u9ad8\u98a8\u96aa\u3002</li> <li>\u8def\u7531\u5668\u3001\u7269\u806f\u7db2\u8a2d\u5099\u7684\u9810\u8a2d\u5bc6\u78bc\u61c9\u8a72\u66f4\u6539\u3002</li> </ul> </li> <li>\u6700\u5c0f\u6b0a\u9650\u539f\u5247\uff1a<ul> <li>\u5efa\u8b70\u5e33\u865f\u50c5\u64c1\u6709\u57f7\u884c\u696d\u52d9\u6d41\u7a0b\u6240\u9700\u7684\u6700\u4f4e\u6b0a\u9650\uff0c\u5305\u62ec\u4f7f\u7528\u8005\u6b0a\u5229\u3001\u8cc7\u6e90\u8a31\u53ef\uff08CPU \u9650\u5236\u3001\u8a18\u61b6\u9ad4\u3001\u7db2\u8def\u3001\u6a94\u6848\u7cfb\u7d71\u6b0a\u9650\uff09\u7b49\u3002</li> <li>\u4f8b\u5982\uff1a\u4e2d\u4ecb\u8edf\u9ad4\u4f3a\u670d\u5668\u53ea\u9700\u5b58\u53d6\u7db2\u8def\u3001\u8cc7\u6599\u5eab\u8868\u683c\u8b80\u53d6\u6b0a\u9650\u8207\u5beb\u65e5\u8a8c\u80fd\u529b\uff0c\u61c9\u50c5\u6388\u8207\u9019\u4e9b\u6b0a\u9650\uff0c\u7d55\u4e0d\u53ef\u7d66\u4e88\u7ba1\u7406\u54e1\u6b0a\u9650\u3002</li> </ul> </li> <li>\u6df1\u5ea6\u9632\u79a6\u539f\u5247\uff1a<ul> <li>\u82e5\u55ae\u4e00\u63a7\u7ba1\u63aa\u65bd\u5408\u7406\uff0c\u66f4\u591a\u4e0d\u540c\u5f62\u5f0f\u7684\u63a7\u7ba1\u7d44\u5408\u6703\u66f4\u7406\u60f3\u3002\u6df1\u5ea6\u9632\u79a6\u8b93\u56b4\u91cd\u6f0f\u6d1e\u96e3\u4ee5\u88ab\u5229\u7528\uff0c\u53ca\u4e0d\u592a\u53ef\u80fd\u767c\u751f\u3002</li> <li>\u4f8b\u5982\uff1a\u5b89\u5168\u7de8\u78bc\u53ef\u5305\u542b\u5206\u5c64\u9a57\u8b49\u3001\u96c6\u4e2d\u5be9\u8a08\u63a7\u7ba1\u3001\u8981\u6c42\u6240\u6709\u9801\u9762\u7528\u6236\u767b\u5165\u3002</li> <li>\u4e00\u500b\u6709\u7f3a\u9677\u7684\u7ba1\u7406\u4ecb\u9762\u82e5\u6b63\u78ba\u7ba1\u63a7\u9032\u5165\u7ba1\u7406\u7db2\u8def\u7684\u6b0a\u9650\u3001\u6aa2\u67e5\u7ba1\u7406\u8005\u6388\u6b0a\u4e26\u7d00\u9304\u6240\u6709\u5b58\u53d6\uff0c\u5247\u4e0d\u592a\u53ef\u80fd\u906d\u53d7\u533f\u540d\u653b\u64ca\u3002</li> </ul> </li> <li>\u5b89\u5168\u5931\u6548\uff1a<ul> <li>\u61c9\u7528\u7a0b\u5f0f\u56e0\u591a\u7a2e\u539f\u56e0\u53ef\u80fd\u7121\u6cd5\u8655\u7406\u4ea4\u6613\uff0c\u5982\u4f55\u5931\u6548\u6c7a\u5b9a\u5b89\u5168\u6027\u3002   <pre><code>\n  is_admin = true;\n  try {\n    code_which_may_fail();\n    is_admin = is_user_assigned_role(\"Adminstrator\");\n  }\n  catch (Exception err) {\n    log.error(err.toString());\n  }\n  </code><pre>\n<li>\u82e5 <code>codeWhichMayFail()</code> \u6216 <code>isUserInRole</code> \u767c\u751f\u932f\u8aa4\u6216\u62cb\u51fa\u7570\u5e38\uff0c\u7a0b\u5f0f\u9810\u8a2d\u7528\u6236\u70ba\u7ba1\u7406\u54e1\uff0c\u5f88\u660e\u986f\u662f\u5b89\u5168\u98a8\u96aa\u3002</li>\n\n\n<li>\u4e0d\u8f15\u4fe1\u670d\u52d9\uff1a<ul>\n<li>\u8a31\u591a\u7d44\u7e54\u5229\u7528\u7b2c\u4e09\u65b9\u5408\u4f5c\u5925\u4f34\u7684\u8655\u7406\u80fd\u529b\uff0c\u9019\u4e9b\u7b2c\u4e09\u65b9\u6709\u53ef\u80fd\u63a1\u7528\u4e0d\u540c\u7684\u5b89\u5168\u653f\u7b56\u8207\u59ff\u614b\uff0c\u4e14\u5f88\u96e3\u63a7\u5236\u6216\u5f71\u97ff\u5b83\u5011\u3002</li>\n<li>\u56e0\u6b64\uff0c\u5c0d\u5916\u90e8\u7cfb\u7d71\u4e0d\u61c9\u6709\u96b1\u542b\u7684\u4fe1\u4efb\uff0c\u6240\u6709\u5916\u90e8\u7cfb\u7d71\u61c9\u4ee5\u76f8\u4f3c\u65b9\u5f0f\u8655\u7406\u3002</li>\n<li>\u4f8b\u5982\uff1a\u5fe0\u8aa0\u5ea6\u8a08\u756b\u4f9b\u61c9\u5546\u63d0\u4f9b\u7d66\u7db2\u8def\u9280\u884c\u6709\u95dc\u734e\u52f5\u9ede\u6578\u8207\u514c\u63db\u9805\u76ee\u6e05\u55ae\u7684\u8cc7\u6599\uff0c\u4f46\u7cfb\u7d71\u61c9\u6aa2\u67e5\u8cc7\u6599\u662f\u5426\u5b89\u5168\u986f\u793a\u65bc\u6700\u7d42\u7528\u6236\uff0c\u4e14\u9ede\u6578\u70ba\u6b63\u6578\u4e14\u4e0d\u904e\u65bc\u9f90\u5927\u3002</li>\n</ul>\n</li>\n<li>\u8077\u8cac\u5206\u96e2\uff1a<ul>\n<li>\u9632\u6b62\u8a50\u6b3a\u7684\u95dc\u9375\u539f\u5247\u3002\u8209\u4f8b\u4f86\u8aaa\uff0c\u7533\u8acb\u96fb\u8166\u8207\u9818\u53d6\u96fb\u8166\u4e0d\u5f97\u540c\u4e00\u4eba\uff0c\u907f\u514d\u7528\u6236\u7533\u8acb\u591a\u53f0\u96fb\u8166\u537b\u672a\u9818\u53d6\u3002</li>\n<li>\u67d0\u4e9b\u89d2\u8272\u5176\u4fe1\u4efb\u7b49\u7d1a\u4e0d\u540c\uff0c\u7279\u5225\u662f\u7ba1\u7406\u54e1\uff0c\u901a\u5e38\u4e0d\u61c9\u8207\u4e00\u822c\u4f7f\u7528\u8005\u5171\u7528\u3002</li>\n<li>\u4f8b\u5982\uff1a\u7ba1\u7406\u54e1\u53ef\u63a7\u5236\u7cfb\u7d71\u958b\u95dc\u3001\u8a2d\u5b9a\u5bc6\u78bc\u653f\u7b56\uff0c\u4f46\u4e0d\u61c9\u80fd\u5920\u4ee5\u8d85\u6b0a\u9650\u767b\u9304\u5e97\u9762\u4e26\u4ee3\u4ed6\u4eba\u8cfc\u8cb7\u5546\u54c1\u3002</li>\n</ul>\n</li>\n<li>\u907f\u514d\u5b89\u5168\u96b1\u6666\uff08Security by Obscurity\uff09\uff1a<ul>\n<li>\u900f\u904e\u96b1\u6666\u9054\u6210\u5b89\u5168\u662f\u8106\u5f31\u4e14\u5e38\u5931\u6557\u7684\u63aa\u65bd\uff0c\u4e26\u975e\u4e0d\u61c9\u4fdd\u5bc6\uff0c\u800c\u662f\u4e0d\u61c9\u4ef0\u8cf4\u96b1\u79d8\u7dad\u7e6b\u5b89\u5168\u3002</li>\n<li>\u4f8b\u5982\uff1a\u61c9\u7528\u5b89\u5168\u4e0d\u61c9\u4f9d\u8cf4\u6e90\u78bc\u79d8\u5bc6\uff0c\u5b89\u5168\u61c9\u5efa\u7acb\u65bc\u5bc6\u78bc\u653f\u7b56\u3001\u6df1\u5ea6\u9632\u79a6\u3001\u4ea4\u6613\u9650\u984d\u3001\u7db2\u8def\u5efa\u7f6e\u53ca\u7a3d\u6838\u63a7\u7ba1\u3002</li>\n<li>\u5be6\u4f8b\u898b Linux\uff0c\u6e90\u78bc\u516c\u958b\uff0c\u537b\u80fd\u5728\u6b63\u78ba\u5b89\u5168\u8a2d\u7f6e\u4e0b\u6210\u70ba\u5b89\u5168\u7a69\u5065\u7684\u4f5c\u696d\u7cfb\u7d71\u3002</li>\n</ul>\n</li>\n<li>\u4fdd\u6301\u5b89\u5168\u8a2d\u8a08\u7c21\u55ae\uff1a<ul>\n<li>\u653b\u64ca\u9762\u8207\u7c21\u6f54\u8a2d\u8a08\u76f8\u8f14\u76f8\u6210\u3002\u67d0\u4e9b\u8edf\u9ad4\u5de5\u7a0b\u7fd2\u6163\u504f\u597d\u8907\u96dc\u505a\u6cd5\uff0c\u5f80\u5f80\u672c\u53ef\u7c21\u55ae\u6709\u6548\u3002</li>\n<li>\u958b\u767c\u4eba\u54e1\u61c9\u907f\u514d\u96d9\u91cd\u5426\u5b9a\u53ca\u8907\u96dc\u67b6\u69cb\uff0c\u63a1\u7528\u66f4\u5feb\u4e14\u7c21\u55ae\u65b9\u6cd5\u3002</li>\n<li>\u4f8b\u5982\uff1a\u76f8\u6bd4\u5728\u7368\u7acb\u4e2d\u4ecb\u4f3a\u670d\u5668\u4e0a\u904b\u884c\u591a\u500b singleton \u5be6\u9ad4 bean\uff0c\u66f4\u5b89\u5168\u5feb\u901f\u7684\u505a\u6cd5\u662f\u4f7f\u7528\u9069\u5207\u4e92\u65a5\u6a5f\u5236\u4fdd\u8b77\u7684\u5168\u57df\u8b8a\u6578\u3002</li>\n</ul>\n</li>\n<li>\u6b63\u78ba\u4fee\u5fa9\u5b89\u5168\u554f\u984c\uff1a<ul>\n<li>\u8b58\u5225\u5b89\u5168\u554f\u984c\u5f8c\uff0c\u9700\u5c0d\u5176\u958b\u767c\u6e2c\u8a66\u4e26\u7406\u89e3\u6839\u672c\u539f\u56e0\u3002\u82e5\u6d89\u53ca\u8a2d\u8a08\u6a21\u5f0f\uff0c\u554f\u984c\u5f80\u5f80\u5728\u591a\u500b\u7a0b\u5f0f\u5eab\u4e2d\u5b58\u5728\uff0c\u4fee\u6b63\u6642\u9808\u907f\u514d\u7522\u751f\u526f\u4f5c\u7528\u3002</li>\n<li>\u4f8b\u5982\uff1a\u7528\u6236\u900f\u904e\u8abf\u6574 Cookie \u8b80\u53d6\u5230\u5176\u4ed6\u7528\u6236\u9918\u984d\u3002\u4fee\u6b63\u770b\u4f3c\u7c21\u55ae\uff0c\u4f46 Cookie \u8655\u7406\u7a0b\u5f0f\u5171\u4eab\u6240\u6709\u61c9\u7528\uff0c\u56e0\u6b64\u5fc5\u9808\u5728\u6240\u6709\u53d7\u5f71\u97ff\u61c9\u7528\u6e2c\u8a66\u4fee\u5fa9\u7a0b\u5f0f\u3002</li>\n</ul>\n</li>\n<li>\u53ef\u9760\u6027\u8207\u5b89\u5168\u6027\uff1a<ul>\n<li>\u53ef\u9760\u6027\u8207\u5b89\u5168\u5747\u70ba\u5efa\u7acb\u4fe1\u4efb\u7cfb\u7d71\u7684\u95dc\u9375\uff0c\u4f46\u8981\u540c\u6642\u6253\u9020\u5169\u8005\u5341\u5206\u56f0\u96e3\u3002\u5169\u8005\u96d6\u6709\u5171\u901a\u6027\uff0c\u4f46\u9700\u4e0d\u540c\u8a2d\u8a08\u601d\u8003\u3002\u5ffd\u7565\u5169\u8005\u5fae\u5999\u76f8\u4e92\u95dc\u4fc2\u53ef\u80fd\u5c0e\u81f4\u610f\u5916\u7d50\u679c\u3002</li>\n<li>\u4f8b\u5982\uff1a\u67d0\u5bc6\u78bc\u7ba1\u7406\u61c9\u7528\u56e0\u8ca0\u8f09\u5747\u8861\u8207\u6d41\u91cf\u524a\u6e1b\u7b56\u7565\u6b20\u4f73\u5f15\u8d77\u53ef\u9760\u6027\u554f\u984c\uff0c\u5f8c\u7e8c\u591a\u9805\u5b89\u5168\u63aa\u65bd\u4f7f\u6062\u5fa9\u66f4\u70ba\u8907\u96dc\uff08\u5305\u542b\u9808\u63d2\u5165\u6a5f\u67b6\u7684 HSM \u8a8d\u8b49\u6a5f\u5236\u8207\u5c01\u9396\u5728\u76d2\u4e2d\u7684 HSM \u91d1\u9470\uff0c\u554f\u984c\u53ef\u9032\u4e00\u6b65\u5ef6\u4f38\uff09\u3002</li>\n</ul>\n</li>"},{"location":"level101/security/fundamentals/#authenticationauthorization","title":"\u8a8d\u8b49\uff08Authentication\uff09\u8207\u6388\u6b0a\uff08Authorization\uff09","text":"<ul>\n<li>\u8a8d\u8b49\u662f\u9a57\u8b49\u7528\u6236\u662f\u5426\u70ba\u5176\u8072\u7a31\u8eab\u4efd\u7684\u884c\u70ba\u3002\u6700\u5e38\u898b\u7684\u8a8d\u8b49\u56e0\u5b50\u662f\u5bc6\u78bc\uff0c\u82e5\u7528\u6236\u8f38\u5165\u6b63\u78ba\u5bc6\u78bc\uff0c\u7cfb\u7d71\u5373\u5047\u8a2d\u8eab\u4efd\u6b63\u78ba\u4e26\u6388\u4e88\u5b58\u53d6\u6b0a\u9650\u3002</li>\n<li>\u5176\u4ed6\u6280\u8853\u5305\u62ec\u4e00\u6b21\u6027\u5bc6\u78bc\uff08OTP\uff09\u3001\u8a8d\u8b49\u61c9\u7528\u7a0b\u5f0f\u751a\u81f3\u751f\u7269\u8b58\u5225\u3002\u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u7cfb\u7d71\u8981\u6c42\u901a\u904e\u591a\u91cd\u9a57\u8b49\u56e0\u5b50\uff08MFA\uff09\uff0c\u4ee5\u8d85\u8d8a\u55ae\u4e00\u5bc6\u78bc\u6240\u80fd\u63d0\u4f9b\u7684\u5b89\u5168\u6027\u3002</li>\n<li>\u6388\u6b0a\u662f\u7cfb\u7d71\u5b89\u5168\u4e2d\u6388\u4e88\u7528\u6236\u6b0a\u9650\uff0c\u4ee5\u5b58\u53d6\u7279\u5b9a\u8cc7\u6e90\u6216\u529f\u80fd\u7684\u904e\u7a0b\u3002\u6b64\u8a5e\u5e38\u8207\u5b58\u53d6\u63a7\u5236\u6216\u7528\u6236\u7279\u6b0a\u4e92\u63db\u4f7f\u7528\u3002\u4f8b\u5982\u5141\u8a31\u7528\u6236\u4e0b\u8f09\u7279\u5b9a\u4f3a\u670d\u5668\u6a94\u6848\uff0c\u6216\u8ce6\u4e88\u7279\u5b9a\u7528\u6236\u61c9\u7528\u7ba1\u7406\u54e1\u6b0a\u9650\u3002\u5b89\u5168\u74b0\u5883\u4e2d\uff0c\u6388\u6b0a\u5fc5\u9808\u5728\u8a8d\u8b49\u5f8c\u9032\u884c\uff0c\u7528\u6236\u9808\u5148\u8b49\u660e\u8eab\u4efd\u771f\u5be6\uff0c\u7136\u5f8c\u7531\u7cfb\u7d71\u7ba1\u7406\u54e1\u8ce6\u4e88\u6240\u9700\u8cc7\u6e90\u5b58\u53d6\u6b0a\u3002</li>\n</ul>"},{"location":"level101/security/fundamentals/#_2","title":"\u5e38\u898b\u8a8d\u8b49\u6d41\u7a0b\uff08\u672c\u5730\u8a8d\u8b49\uff09","text":"<ul>\n<li>\u7528\u6236\u4ee5\u5e33\u865f/Email/\u624b\u6a5f\u7b49\u8b58\u5225\u78bc\u8a3b\u518a</li>\n<li>\u61c9\u7528\u5c07\u7528\u6236\u6191\u8b49\u5b58\u5165\u8cc7\u6599\u5eab</li>\n<li>\u7cfb\u7d71\u5bc4\u767c\u9a57\u8b49\u90f5\u4ef6/\u8a0a\u606f\u9a57\u8b49\u8a3b\u518a</li>\n<li>\u8a3b\u518a\u6210\u529f\u5f8c\uff0c\u7528\u6236\u8f38\u5165\u6191\u8b49\u767b\u5165</li>\n<li>\u8a8d\u8b49\u6210\u529f\u5f8c\uff0c\u5141\u8a31\u4f7f\u7528\u7279\u5b9a\u8cc7\u6e90</li>\n</ul>"},{"location":"level101/security/fundamentals/#openidoauth","title":"OpenID/OAuth","text":"<p>OpenID \u662f\u4e00\u7a2e\u8a8d\u8b49\u5354\u5b9a\uff0c\u5141\u8a31\u6211\u5011\u5728\u4e0d\u4f7f\u7528\u672c\u5730\u8a8d\u8b49\u7cfb\u7d71\u7684\u60c5\u6cc1\u4e0b\u8a8d\u8b49\u7528\u6236\u3002\u5728\u6b64\u60c5\u5f62\u4e0b\uff0c\u4f7f\u7528\u8005\u5fc5\u9808\u8a3b\u518a\u65bc OpenID \u63d0\u4f9b\u8005\uff0c\u4e14\u8a72\u63d0\u4f9b\u8005\u9700\u6574\u5408\u5165\u61c9\u7528\u7a0b\u5f0f\u7684\u8a8d\u8b49\u6d41\u7a0b\u3002\u70ba\u9a57\u8b49\u7528\u6236\u8cc7\u6599\uff0c\u6211\u5011\u5fc5\u9808\u5c07\u8a8d\u8b49\u8acb\u6c42\u8f49\u767c\u7d66\u63d0\u4f9b\u8005\uff0c\u8a8d\u8b49\u6210\u529f\u5f8c\u53ef\u63a5\u6536\u6210\u529f\u8a0a\u606f\u53ca\u4f7f\u7528\u8005\u8cc7\u6599\uff0c\u9032\u800c\u57f7\u884c\u76f8\u95dc\u6d41\u7a0b\u3002</p>\n<p>OAuth \u662f\u6388\u6b0a\u6a5f\u5236\uff0c\u5141\u8a31\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\u8005\u6388\u6b0a\u7b2c\u4e09\u65b9\u670d\u52d9\uff08Gmail/Facebook/Instagram \u7b49\uff09\u5b58\u53d6\u3002\u6388\u6b0a\u6210\u529f\u5f8c\uff0c\u61c9\u7528\u7a0b\u5f0f\u6703\u6536\u5230\u4e00\u7d44\u5b58\u53d6\u6b0a\u6756\uff0c\u4ee3\u8868\u53ef\u4ee3\u8868\u7528\u6236\u547c\u53eb\u7279\u5b9a API\u3002OAuth \u9069\u7528\u65bc\u9700\u5b58\u53d6\u4f7f\u7528\u8005\u7279\u5b9a\u8cc7\u6599\u7684\u61c9\u7528\uff0c\u4f8b\u5982\u9023\u7d50 Google Drive\u3001\u4ee3\u767c\u63a8\u6587\u7b49\u3002\u5927\u591a\u6578 OAuth 2.0 \u63d0\u4f9b\u8005\u4ea6\u53ef\u7528\u65bc\u507d\u8a8d\u8b49\uff0c\u4f46\u82e5\u540c\u6642\u7528\u591a\u500b OAuth \u63d0\u4f9b\u8005\u6574\u5408\u672c\u5730\u8a8d\u8b49\uff0c\u6d41\u7a0b\u53ef\u80fd\u6703\u76f8\u7576\u8907\u96dc\u3002</p>"},{"location":"level101/security/fundamentals/#_3","title":"\u5bc6\u78bc\u5b78","text":"<ul>\n<li>\u662f\u4e00\u9580\u7814\u7a76\u5982\u4f55\u96b1\u85cf\u6587\u672c\uff0c\u4f7f\u53ea\u6709\u9810\u5b9a\u63a5\u6536\u65b9\u6216\u6388\u6b0a\u8005\u80fd\u95b1\u8b80\uff0c\u6216\u8005\u4ee5\u4e0d\u53ef\u898b\u58a8\u6c34\u6216\u904e\u53bb\u7684\u6a5f\u68b0\u5bc6\u78bc\u6a5f\u70ba\u4f8b\u96b1\u85cf\u6587\u672c\u7684\u79d1\u5b78\u8207\u6280\u8853\u3002</li>\n<li>\u5bc6\u78bc\u5b78\u7528\u65bc\u4fdd\u8b77\u91cd\u8981\u6216\u5c08\u6709\u8cc7\u8a0a\uff0c\u900f\u904e\u5c07\u660e\u6587\u8f49\u63db\u70ba\u5bc6\u6587\u7684\u65b9\u5f0f\u7de8\u78bc\u79c1\u5bc6\u6578\u64da\u8a0a\u606f\u3002\u57fa\u672c\u4e0a\u6709\u5169\u5927\u65b9\u6cd5\uff0c\u9032\u968e\u6280\u8853\u7686\u6e90\u81ea\u65bc\u6b64\u3002</li>\n</ul>"},{"location":"level101/security/fundamentals/#cipher","title":"\u5bc6\u78bc\uff08Cipher\uff09","text":"<ul>\n<li>\u5bc6\u78bc\u662f\u5bc6\u78bc\u5b78\u7684\u57fa\u790e\u3002\u5bc6\u78bc\u70ba\u4e00\u7d44\u7b97\u6cd5\uff0c\u8ca0\u8cac\u5c0d\u8a0a\u606f\u9032\u884c\u52a0\u5bc6\u8207\u89e3\u5bc6\u3002\u52a0\u5bc6\u7b97\u6cd5 (E) \u4f7f\u7528\u79d8\u5bc6\u9375 (k) \u8207\u8a0a\u606f (m) \u7522\u751f\u5bc6\u6587 (c)\uff0c\u89e3\u5bc6\u7b97\u6cd5 (D) \u4f7f\u7528\u76f8\u540c\u5bc6\u9470 (k) \u8207\u5bc6\u6587 (c) \u56de\u5fa9\u660e\u6587 (m)\u3002\u5f62\u5f0f\u5982\u4e0b\uff1a</li>\n</ul>\n<pre><code>E(k,m) = c\nD(k,c) = m\n</code></pre>\n<ul>\n<li>\u610f\u5373\u5bc6\u78bc\u9808\u6eff\u8db3\u4e0b\u8ff0\u4e00\u81f4\u6027\u689d\u4ef6\u624d\u80fd\u89e3\u5bc6\uff1a</li>\n</ul>\n<pre><code>D(k,E(k,m)) = m\n</code></pre>\n<p>\u4e32\u6d41\u5bc6\u78bc\uff08Stream Cipher\uff09\uff1a</p>\n<ul>\n<li>\u5c07\u8a0a\u606f\u5206\u5272\u6210\u5b57\u5143\u6216\u4f4d\u5143\uff0c\u4f7f\u7528\u8207\u8a0a\u606f\u7b49\u9577\u7684\u5bc6\u9470\u4e32\u6d41\u4ee5\u7368\u7acb\u96a8\u6a5f\u65b9\u5f0f\u52a0\u5bc6\u3002</li>\n<li>\u82e5\u5bc6\u9470\u4e32\u6d41\u5b8c\u5168\u96a8\u6a5f\u4e14\u5b89\u5168\u50b3\u8f38\u7d66\u96d9\u65b9\uff0c\u6b64\u65b9\u6848\u53ef\u8996\u70ba\u7121\u689d\u4ef6\u5b89\u5168\uff0c\u96e3\u4ee5\u7834\u89e3\u3002</li>\n</ul>\n<p>\u5340\u584a\u5bc6\u78bc\uff08Block Cipher\uff09\uff1a</p>\n<ul>\n<li>\u5c07\u8a0a\u606f\u5206\u5272\u6210\u56fa\u5b9a\u9577\u5ea6\u5340\u584a\uff0c\u518d\u5206\u5225\u52a0\u5bc6\u6216\u89e3\u5bc6\u3002</li>\n<li>\n<p>\u5340\u584a\u5bc6\u78bc\u662f\u5c0d\u7a31\u578b\u5bc6\u78bc\uff0c\u5c0d\u9577\u5ea6\u70ba b \u4f4d\u5143\u5340\u584a\u52a0\u5bc6\uff0c\u7522\u751f\u540c\u9577\u5ea6\u5bc6\u6587\u5340\u584a\uff0c\u5e38\u7528\u5340\u584a\u9577\u5ea6\u70ba 64 \u6216 128 \u4f4d\u5143\u3002</p>\n<p>\n</p>\n</li>\n</ul>"},{"location":"level101/security/fundamentals/#_4","title":"\u52a0\u5bc6\u65b9\u5f0f","text":"<ul>\n<li>\u5c0d\u7a31\u91d1\u9470\u52a0\u5bc6\uff08Secret Key\uff09\uff1a\u4f7f\u7528\u76f8\u540c\u5bc6\u9470\u9032\u884c\u52a0\u89e3\u5bc6\u3002</li>\n<li>\u975e\u5c0d\u7a31\u91d1\u9470\u52a0\u5bc6\uff08Public Key\uff09\uff1a\u4f7f\u7528\u4e00\u5c0d\u5bc6\u9470\uff0c\u516c\u958b\u91d1\u9470\u52a0\u5bc6\uff0c\u79c1\u5bc6\u91d1\u9470\u89e3\u5bc6\uff0c\u5169\u8005\u76f8\u4e92\u95dc\u806f\u4f46\u4e0d\u540c\u3002</li>\n</ul>"},{"location":"level101/security/fundamentals/#_5","title":"\u5c0d\u7a31\u91d1\u9470\u52a0\u5bc6\u7bc4\u4f8b","text":"<p>DES</p>\n<ul>\n<li>\n<p>IBM \u65bc 1975 \u5e74\u958b\u767c\u7684\u8cc7\u6599\u52a0\u5bc6\u6a19\u6e96\uff08DES\uff09\u70ba\u5ee3\u6cdb\u4f7f\u7528\u7684\u5c0d\u7a31\u52a0\u5bc6\u6f14\u7b97\u6cd5\uff0c\u5bc6\u9470\u9577\u5ea6\u56fa\u5b9a\u70ba 56 \u4f4d\u5143\uff0c\u5c0d\u6297\u591a\u5e74\u7684\u5bc6\u78bc\u5206\u6790\u4ecd\u5177\u6709\u4e00\u5b9a\u97cc\u6027\u3002\u4f46\u7531\u65bc\u5bc6\u9470\u77ed\uff0c\u5bb9\u6613\u906d\u66b4\u529b\u7834\u89e3\u653b\u64ca\u3002</p>\n</li>\n<li>\n<p>DES \u901a\u5e38\u5728\u5340\u584a\u6a21\u5f0f\u904b\u4f5c\uff0c\u6bcf\u6b21\u52a0\u5bc6 64 \u4f4d\u5143\u8cc7\u6599\u5340\u584a\uff0c\u540c\u4e00\u5bc6\u9470\u53ca\u6f14\u7b97\u6cd5\u9069\u7528\u65bc\u52a0\u89e3\u5bc6\u3002</p>\n</li>\n<li>\n<p>\u7531\u65bc DES \u57fa\u65bc\u7c21\u55ae\u6578\u5b78\u51fd\u5f0f\uff0c\u4fbf\u65bc\u786c\u9ad4\u5be6\u4f5c\u53ca\u52a0\u901f\u3002</p>\n</li>\n</ul>\n<p>Triple DES</p>\n<ul>\n<li>\n<p>\u96a8\u8457\u96fb\u8166\u904b\u7b97\u80fd\u529b\u63d0\u5347\uff0c\u55ae\u6b21 56 \u4f4d\u5143\u5bc6\u9470\u592a\u77ed\uff0c\u7121\u6cd5\u62b5\u79a6\u653b\u64ca\u3002\u4e00\u7a2e\u63d0\u5347\u6709\u6548\u5bc6\u9470\u9577\u5ea6\u505a\u6cd5\u662f\u9023\u7e8c\u591a\u6b21\u4f7f\u7528\u4e0d\u540c\u5bc6\u9470\u52a0\u5bc6\u3002</p>\n</li>\n<li>\n<p>\u5c07 DES \u9023\u7e8c\u52a0\u5bc6\u4e09\u6b21\u7684\u6280\u8853\u7a31\u70ba 3DES\uff0c\u4eca\u65e5\u5df2\u666e\u904d\u8a8d\u70ba\u96e3\u4ee5\u66b4\u529b\u7834\u89e3\uff0c\u4e14\u5176\u6f14\u7b97\u6cd5\u5df2\u5ee3\u6cdb\u6e2c\u8a66\u8d85\u904e 25 \u5e74\uff0c\u8f03\u539f\u59cb DES \u66f4\u53ef\u4fe1\u3002</p>\n</li>\n</ul>\n<p></p>\n<p>AES</p>\n<ul>\n<li>\n<p>2000 \u5e74 10 \u6708 2 \u65e5\uff0c\u7f8e\u570b\u570b\u5bb6\u6a19\u6e96\u66a8\u6280\u8853\u7814\u7a76\u9662\uff08NIST\uff09\u9078\u64c7 Rijndael \u5bc6\u78bc\u4f5c\u70ba AES \u6f14\u7b97\u6cd5\uff0c\u6b64\u6f14\u7b97\u6cd5\u7531 Joan Daemen \u8207 Vincent Rijmen \u63d0\u51fa\uff0c\u652f\u63f4\u53ef\u8b8a\u5340\u584a\u8207\u5bc6\u9470\u9577\u5ea6\uff0c\u5206\u5225\u70ba 128\u3001192 \u6216 256 \u4f4d\u5143\uff0c\u6709\u4e5d\u7a2e\u5bc6\u9470\u8207\u5340\u584a\u9577\u5ea6\u7d44\u5408\u53ef\u7528\u3002</p>\n</li>\n<li>\n<p>AES \u53d6\u4ee3 DES \u8207 3DES\uff0c\u56e0 DES \u5bc6\u9470\u592a\u77ed\uff0c3DES \u904b\u7b97\u904e\u6162\u3002AES \u66f4\u6709\u6548\u7387\u4e14\u901f\u5ea6\u5feb\u7d04 5 \u500d\uff0c\u5c24\u5176\u7d14\u8edf\u9ad4\u52a0\u5bc6\u4e0b\u66f4\u660e\u986f\u3002AES \u7b97\u6cd5\u8f03\u65b0\uff0c\u4f46\u6839\u64da\u5bc6\u78bc\u5b78\u9ec3\u91d1\u6cd5\u5247\uff0c\u8f03\u6210\u719f\u7b97\u6cd5\u66f4\u53d7\u4fe1\u4efb\u3002</p>\n</li>\n</ul>"},{"location":"level101/security/fundamentals/#_6","title":"\u975e\u5c0d\u7a31\u91d1\u9470\u6f14\u7b97\u6cd5","text":"<ul>\n<li>\n<p>\u5728\u5c0d\u7a31\u7cfb\u7d71\u4e2d\uff0cAlice \u4f7f\u7528\u79c1\u9470\u5c07\u8a0a\u606f\u653e\u5165\u76d2\u5b50\uff0c\u4e26\u5229\u7528\u9396\u5c07\u76d2\u5b50\u4e0a\u9396\uff08\u79c1\u9470\u7684\u8907\u88fd\u54c1\uff09\uff0c\u518d\u5bc4\u7d66 Bob\u3002 Bob \u4f7f\u7528\u4e4b\u524d\u53d6\u5f97\u7684\u9470\u5319\u958b\u555f\u76d2\u5b50\u8b80\u53d6\u8a0a\u606f\u3002</p>\n</li>\n<li>\n<p>\u975e\u5c0d\u7a31\u7cfb\u7d71\u4e2d\uff0cBob \u6536\u5230\u76d2\u5b50\u4e0d\u7acb\u523b\u6253\u958b\uff0c\u53cd\u800c\u52a0\u5165\u81ea\u5df1\u7684\u9396\u5f8c\u5bc4\u56de Alice\u3002Alice \u4f7f\u7528\u81ea\u5df1\u79c1\u9470\u958b\u9396\u5f8c\uff0c\u518d\u5bc4\u56de Bob\uff0c\u4fdd\u7559 Bob \u7684\u9396\u3002\u6700\u5f8c\uff0cBob \u4f7f\u7528\u81ea\u5df1\u7684\u79c1\u9470\u89e3\u9396\u53d6\u5f97\u8a0a\u606f\u3002</p>\n</li>\n<li>\n<p>\u975e\u5c0d\u7a31\u7cfb\u7d71\u512a\u52e2\u662f Alice \u4e0d\u5fc5\u5c07\u81ea\u5df1\u9470\u5319\u5bc4\u7d66 Bob\uff0c\u6e1b\u5c11\u7b2c\u4e09\u65b9\uff08\u8b6c\u5982\u4e0d\u8aa0\u5be6\u7684\u90f5\u5dee\uff09\u6514\u622a\u8907\u88fd\u9470\u5319\u7684\u6a5f\u7387\u3002\u7576 Bob \u4e0d\u614e\u8b93\u4ed6\u4eba\u8907\u88fd\u79c1\u9470\uff0c\u53ea\u6709 Alice \u5bc4\u7d66 Bob \u7684\u8a0a\u606f\u5916\u6d29\uff0c\u5bc4\u7d66\u5176\u4ed6\u4eba\u4ecd\u5b89\u5168\u3002</p>\n</li>\n</ul>\n<p>\u8a3b\uff1a\u65bc TLS \u6191\u8b49\u4ea4\u63db\u4e2d\uff0c\u6b64\u65b9\u6848\u662f\u5e38\u7528\u65b9\u6cd5\u3002</p>\n<p>Diffie-Hellman</p>\n<ul>\n<li>\u5354\u5b9a\u6709\u5169\u500b\u7cfb\u7d71\u53c3\u6578 p \u8207 g\uff0c\u5747\u70ba\u516c\u958b\u53c3\u6578\u3002p \u662f\u8cea\u6578\uff0cg \u70ba\u751f\u6210\u5143\u3002\u6bcf\u500b\u7bc4\u570d\u5167\u7684\u6578\u5b57 n\uff0c\u5747\u5b58\u5728\u6307\u6578 k \u4f7f\u5f97 <code>n = g^k mod p</code>\u3002</li>\n<li>Diffie-Hellman \u662f\u4e0d\u5c0d\u7a31\u6f14\u7b97\u6cd5\uff0c\u80fd\u5efa\u7acb\u5c0d\u7a31\u5bc6\u9470\u5171\u4eab\u3002\u73fe\u4ee3\u591a\u63a1\u6df7\u5408\u52a0\u5bc6\uff0c\u5148\u4ee5\u975e\u5c0d\u7a31\u4ea4\u63db\u5c0d\u7a31\u5bc6\u9470\uff0c\u4e4b\u5f8c\u7528\u5c0d\u7a31\u52a0\u89e3\u5bc6\u4fdd\u8b77\u901a\u8a0a\u5167\u5bb9\u3002</li>\n<li>\u53c3\u8003\uff1ahttps://medium.com/@akhigbemmanuel/what-is-the-diffie-hellman-key-exchange-algorithm-84d60025a30d</li>\n</ul>\n<p>RSA</p>\n<ul>\n<li>RSA \u7b97\u6cd5\u5f48\u6027\u9ad8\uff0c\u53ef\u8abf\u6574\u91d1\u9470\u9577\u5ea6\uff08\u901a\u5e38 512 \u5230 2048 \u4f4d\u5143\uff09\uff0c\u5728\u901f\u5ea6\u8207\u5b89\u5168\u6027\u9593\u5e73\u8861\u3002RSA \u9577\u671f\u63a5\u53d7\u5bc6\u78bc\u5206\u6790\u8003\u9a57\uff0c\u5c1a\u672a\u88ab\u7834\u89e3\uff0c\u5b89\u5168\u6027\u80fd\u7372\u9ad8\u5ea6\u4fe1\u4efb\u3002\u5176\u5b89\u5168\u57fa\u790e\u5728\u65bc\u5927\u6578\u5206\u89e3\u7684\u56f0\u96e3\u5ea6\uff0c\u82e5\u627e\u5230\u6709\u6548\u5206\u89e3\u6cd5\uff0cRSA \u5c07\u5931\u6548\u3002</li>\n<li>\u53c3\u8003\uff1ahttps://medium.com/curiositypapers/a-complete-explanation-of-rsa-asymmetric-encryption-742c5971e0f</li>\n</ul>\n<p>\u8a3b\uff1aRSA \u91d1\u9470\u4e5f\u53ef\u7528\u65bc\u5bc6\u9470\u4ea4\u63db\uff0c\u985e\u4f3c Diffie-Hellman\u3002</p>"},{"location":"level101/security/fundamentals/#hashing-algorithm","title":"\u54c8\u5e0c\u51fd\u5f0f\uff08Hashing Algorithm\uff09","text":"<ul>\n<li>\n<p>\u54c8\u5e0c\u662f\u78ba\u4fdd\u8cc7\u6599\u5b8c\u6574\u6027\u7684\u65b9\u6cd5\u4e4b\u4e00\uff0c\u57fa\u65bc\u55ae\u5411\u6578\u5b78\u51fd\u5f0f\uff0c\u6613\u65bc\u8a08\u7b97\u537b\u6975\u96e3\u53cd\u5411\u6c42\u89e3\u3002</p>\n</li>\n<li>\n<p>\u54c8\u5e0c\u51fd\u5f0f\u8f38\u5165\u8cc7\u6599\uff0c\u7522\u751f\u56fa\u5b9a\u9577\u5ea6\u7684\u6458\u8981\uff08\u6307\u7d0b\uff09\uff0c\u7121\u6cd5\u5f9e\u6458\u8981\u53cd\u63a8\u8f38\u5165\u3002\u8f38\u5165\u5fae\u5c0f\u6539\u8b8a\u6703\u5c0e\u81f4\u6458\u8981\u5287\u70c8\u4e0d\u540c\uff0c\u7a31\u70ba\u96ea\u5d29\u6548\u61c9\u3002</p>\n</li>\n<li>\n<p>\u66f4\u591a\u8cc7\u8a0a\uff1a</p>\n</li>\n<li>https://medium.com/@rauljordan/the-state-of-hashing-algorithms-the-why-the-how-and-the-future-b21d5c0440de</li>\n<li>https://medium.com/@StevieCEllis/the-beautiful-hash-algorithm-f18d9d2b84fb</li>\n</ul>\n<p>MD5</p>\n<ul>\n<li>MD5 \u70ba\u55ae\u5411\u54c8\u5e0c\u51fd\u5f0f\uff0c\u80fd\u8f15\u6613\u8a08\u7b97\u51fa\u88ab\u54c8\u5e0c\u7684\u8cc7\u6599\uff0c\u4f46\u50c5\u6191\u6458\u8981\u96e3\u4ee5\u9084\u539f\u539f\u59cb\u8cc7\u6599\u3002</li>\n</ul>\n<p>SHA-1</p>\n<ul>\n<li>MD5 \u5b89\u5168\u6027\u4f4e\u65bc SHA-1\uff0c\u56e0 MD5 \u6709\u4e9b\u5f31\u9ede\u3002SHA-1 \u7522\u751f 160 \u4f4d\u5143\u6458\u8981\uff0c\u8f03 MD5 \u5f37\u3002\u6f14\u7b97\u6cd5\u53ef\u8655\u7406\u9577\u5ea6\u5c0f\u65bc 2^64 \u4f4d\u5143\u8a0a\u606f\u3002</li>\n<li>\u8a3b\uff1a\u8fd1\u5e74 SHA-1 \u4e5f\u88ab\u8b49\u660e\u5df2\u4e0d\u5b89\u5168\uff0c\u76ee\u524d\u5efa\u8b70\u4f7f\u7528 SHA-256\u3002</li>\n</ul>"},{"location":"level101/security/fundamentals/#digital-certificates","title":"\u6578\u4f4d\u6191\u8b49\uff08Digital Certificates\uff09","text":"<ul>\n<li>\n<p>\u6578\u4f4d\u7c3d\u7ae0\u53ef\u7528\u65bc\u6578\u4f4d\u8eab\u4efd\u9a57\u8b49\u3002\u5728\u516c\u9470\u5bc6\u78bc\u5b78\uff08\u5982 RSA\uff09\u4e2d\uff0c\u6bcf\u4f4d\u7528\u6236\u64c1\u6709\u4e00\u5c0d\u516c\u79c1\u9470\u3002\u7528\u79c1\u9470\u52a0\u5bc6\u8cc7\u6599\u5f62\u6210\u7c3d\u7ae0\uff0c\u63a5\u6536\u8005\u7528\u5c0d\u61c9\u516c\u9470\u9a57\u8b49\u7c3d\u7ae0\u771f\u5be6\u6027\u3002</p>\n</li>\n<li>\n<p>\u91d1\u9470\u7ba1\u7406\u96e3\u5ea6\u9ad8\u3002\u4f01\u696d\u4f7f\u7528\u516c\u9470\u57fa\u790e\u5efa\u8a2d\uff08PKI\uff09\u7c21\u5316\u5b89\u5168\u901a\u8a0a\u90e8\u7f72\u8207\u7ba1\u7406\u3002\u7576\u5927\u91cf\u5b89\u5168\u654f\u611f\u901a\u8a0a\u900f\u904e\u7db2\u969b\u7db2\u8def\u6642\uff0c\u9808\u6709\u6548\u6a5f\u5236\u4fdd\u8b77\u8cc7\u6599\u5b89\u5168\u3002</p>\n</li>\n<li>\n<p>PKI \u63d0\u4f9b\u5c64\u7d1a\u5f0f\u5b89\u5168\u67b6\u69cb\u3002\u6bcf\u500b\u53c3\u8207\u8005\u6301\u6709\u7531\u8b49\u66f8\u6388\u6b0a\u4e2d\u5fc3\uff08CA\uff09\u7c3d\u767c\u7684\u6578\u4f4d\u6191\u8b49\uff0c\u6191\u8b49\u5305\u542b\u6709\u6548\u671f\u9650\u3001\u8eab\u4efd\u8cc7\u8a0a\u3001\u901a\u8a0a\u6240\u7528\u52a0\u5bc6\u91d1\u9470\u3001\u7c3d\u767c\u6b64\u6191\u8b49\u7684 CA \u7c3d\u7ae0\u7b49\u3002CA \u53ef\u662f\u516c\u6709\uff08\u5982 VeriSign\u3001Entrust\uff09\u6216\u79c1\u6709\uff08\u7d44\u7e54\u5167\u90e8\u81ea\u884c\u7ba1\u7406\uff09\u3002</p>\n</li>\n<li>\n<p>\u8a0a\u606f\u80fd\u7528\u767c\u9001\u8005\u516c\u9470\u89e3\u5bc6\uff0c\u4ee3\u8868\u79c1\u9470\u6301\u6709\u4eba\u7c3d\u7f72\u6b64\u8a0a\u606f\u3002\u6b64\u904e\u7a0b\u4f9d\u8cf4\u63a5\u6536\u8005\u64c1\u6709\u767c\u9001\u8005\u516c\u9470\u4e14\u80fd\u78ba\u8a8d\u516c\u9470\u78ba\u5c6c\u767c\u9001\u8005\u3002</p>\n</li>\n<li>\n<p>\u8981\u9a57\u8b49 CA \u7c3d\u7ae0\uff0c\u63a5\u6536\u8005\u5fc5\u9808\u53d6\u5f97 CA \u516c\u9470\u3002\u901a\u5e38\u6b64\u904e\u7a0b\u7531\u6191\u8b49\u5b89\u88dd\u968e\u6bb5\u8655\u7406\uff0c\u5404\u7a2e\u700f\u89bd\u5668\u9810\u7f6e\u591a\u500b\u6839 CA \u6191\u8b49\u3002</p>\n</li>\n</ul>\n<p>CA \u8a3b\u518a\u6d41\u7a0b</p>\n<ol>\n<li>\u7d42\u7aef\u8a2d\u5099\u5efa\u7acb\u516c\u79c1\u5bc6\u9470\u5c0d\u3002</li>\n<li>\u7d42\u7aef\u8a2d\u5099\u7522\u751f\u6191\u8b49\u8acb\u6c42\uff08CSR\uff09\uff0c\u9001\u4ea4 CA\u3002</li>\n<li>CA \u63a5\u6536\u7533\u8acb\uff0c\u7d93\u4eba\u5de5\u5be9\u6838\u6279\u51c6\u3002</li>\n<li>CA \u7528\u79c1\u9470\u7c3d\u7f72\u6191\u8b49\u8acb\u6c42\uff0c\u56de\u50b3\u5b8c\u6210\u6191\u8b49\u3002</li>\n<li>\u7d42\u7aef\u8a2d\u5099\u5c07\u6191\u8b49\u5132\u5b58\u65bc\u6c38\u4e45\u5132\u5b58\u5340\uff08\u4f8b\u5982\u786c\u789f\u6216 Cisco \u8def\u7531\u5668\u7684 NVRAM\uff09\u3002</li>\n</ol>\n<p>\u53c3\u8003\uff1ahttps://www.ssh.com/manuals/server-zos-product/55/ch06s03s01.html</p>"},{"location":"level101/security/fundamentals/#_7","title":"\u767b\u5165\u5b89\u5168","text":""},{"location":"level101/security/fundamentals/#ssh","title":"SSH","text":"<ul>\n<li>SSH\uff08Secure Shell\uff09\u662f\u4e00\u5957\u5ee3\u6cdb\u61c9\u7528\u7684\u5f37\u5927\u8edf\u9ad4\u7db2\u8def\u5b89\u5168\u89e3\u6c7a\u65b9\u6848\u3002</li>\n<li>\u96fb\u8166\u767c\u9001\u8cc7\u6599\u5230\u7db2\u8def\u6642\uff0cSSH \u81ea\u52d5\u52a0\u5bc6\uff08\u4e82\u78bc\u5316\uff09\u8cc7\u6599\uff0c\u5230\u9054\u63a5\u6536\u7aef\u5f8c\uff0cSSH \u81ea\u52d5\u89e3\u5bc6\uff08\u9084\u539f\uff09\u3002</li>\n<li>\u6b64\u6a5f\u5236\u63d0\u4f9b\u900f\u660e\u52a0\u5bc6\uff1a\u7528\u6236\u53ef\u7167\u5e38\u4f5c\u696d\uff0c\u7121\u611f\u901a\u8a0a\u5728\u7db2\u8def\u4e0a\u88ab\u5b89\u5168\u52a0\u5bc6\u3002\u6b64\u5916\uff0cSSH \u53ef\u4f7f\u7528\u73fe\u4ee3\u5b89\u5168\u52a0\u5bc6\u6f14\u7b97\u6cd5\uff0c\u8db3\u4ee5\u61c9\u7528\u65bc\u5927\u578b\u4f01\u696d\u91cd\u8981\u4efb\u52d9\u3002</li>\n<li>SSH \u63a1\u7528\u5ba2\u6236\u7aef/\u4f3a\u670d\u5668\u67b6\u69cb\u3002</li>\n<li>SSH \u4f3a\u670d\u5668\u7a0b\u5f0f\u7531\u7cfb\u7d71\u7ba1\u7406\u54e1\u5b89\u88dd\u4e26\u57f7\u884c\uff0c\u63a5\u53d7\u6216\u62d2\u7d55\u9023\u7dda\u8acb\u6c42\u3002\u7528\u6236\u7aef\u7a0b\u5f0f\u642d\u914d\u4f3a\u670d\u5668\u5b8c\u6210\u767b\u9304\u3001\u6a94\u6848\u50b3\u8f38\u3001\u6307\u4ee4\u57f7\u884c\u7b49\u8acb\u6c42\uff0c\u901a\u8a0a\u5168\u7a0b\u52a0\u5bc6\u4e14\u9632\u7be1\u6539\u3002</li>\n</ul>\n\n<p>SSH \u975e\u547d\u4ee4\u5217\u6bbc\uff08Shell\uff09\uff1a</p>\n<ul>\n<li>\u96d6\u7a31 Secure Shell\uff0cSSH \u4e26\u975e\u8ca0\u8cac Unix Bourne Shell\u3001C Shell \u7684\u547d\u4ee4\u89e3\u6790\u5668\uff0c\u4ea6\u7121\u842c\u7528\u5b57\u5143\u5c55\u958b\u3001\u547d\u4ee4\u6b77\u53f2\u7b49\u529f\u80fd\uff0c\u50c5\u958b\u555f\u96d9\u65b9\u4e4b\u9593\u80fd\u57f7\u884c\u9060\u7aef\u6bbc\u5c64\u7684\u901a\u9053\uff0c\u4e26\u4fdd\u969c\u96d9\u65b9\u901a\u4fe1\u7aef\u5230\u7aef\u52a0\u5bc6\u3002</li>\n</ul>\n<p>SSH \u5354\u5b9a\u4e3b\u8981\u7279\u8272\u8207\u4fdd\u8b49\uff1a</p>\n<ul>\n<li>\u8cc7\u6599\u96b1\u79c1\uff08\u5f37\u52a0\u5bc6\uff09</li>\n<li>\u901a\u4fe1\u5b8c\u6574\u6027\uff08\u4fdd\u8b49\u672a\u88ab\u7ac4\u6539\uff09</li>\n<li>\u8a8d\u8b49\uff08\u8eab\u4efd\u9a57\u8b49\uff09</li>\n<li>\u6388\u6b0a\uff08\u7528\u6236\u5b58\u53d6\u63a7\u5236\uff09</li>\n<li>\u8f49\u767c\u6216\u96a7\u9053\u6280\u8853\uff08\u52a0\u5bc6\u5176\u4ed6 TCP/IP \u6703\u8a71\uff09</li>\n</ul>"},{"location":"level101/security/fundamentals/#kerberos","title":"Kerberos","text":"<ul>\n<li>\u6839\u64da\u5e0c\u81d8\u795e\u8a71\uff0c\u4e09\u982d\u72ac\u514b\u67cf\u6d1b\u65af\uff08Kerberos\uff09\u5b88\u8b77\u51a5\u754c\u5927\u9580\u9632\u6b62\u4ea1\u8005\u9003\u9038\u3002</li>\n<li>\u5728\u96fb\u8166\u79d1\u5b78\u4e2d\uff0cKerberos \u70ba\u7db2\u8def\u8a8d\u8b49\u5354\u5b9a\uff0c\u76ee\u524d\u70ba Microsoft Active Directory \u9810\u8a2d\u7528\u6236\u8a8d\u8b49\u6280\u8853\u3002</li>\n<li>Kerberos \u4f7f\u7528\u5c0d\u7a31\u91d1\u9470\u5bc6\u78bc\u4e26\u9700\u8981\u53ef\u4fe1\u7b2c\u4e09\u65b9\u8a8d\u8b49\u670d\u52d9\u9a57\u8b49\u7528\u6236\u8eab\u4efd\u3002Kerberos \u4e09\u500b\u982d\u4ee3\u8868\uff1a</li>\n<li>\u4e00\u500b\u5ba2\u6236\u7aef\uff1a\u7528\u6236\u6216\u670d\u52d9</li>\n<li>\n<p>\u4e00\u53f0\u670d\u52d9\u5668\uff1aKerberos \u4fdd\u8b77\u7684\u4e3b\u6a5f</p>\n<p></p>\n</li>\n<li>\n<p>\u4e00\u500b\u5bc6\u9470\u5206\u767c\u4e2d\u5fc3\uff08KDC\uff09\uff0c\u4f5c\u70ba\u53d7\u4fe1\u4efb\u7684\u7b2c\u4e09\u65b9\u8a8d\u8b49\u670d\u52d9\u3002</p>\n</li>\n</ul>\n<p>KDC \u5305\u542b\u5169\u500b\u4f3a\u670d\u5668\uff1a</p>\n<ul>\n<li>\u8a8d\u8b49\u4f3a\u670d\u5668\uff08AS\uff09\uff1a\u57f7\u884c\u521d\u6b65\u8a8d\u8b49\u4e26\u767c\u653e\u7968\u8b49\u6388\u6b0a\u7968\uff08TGT\uff09</li>\n<li>\n<p>\u7968\u8b49\u6388\u6b0a\u4f3a\u670d\u5668\uff08TGS\uff09\uff1a\u6839\u64da TGT \u767c\u653e\u57fa\u65bc\u670d\u52d9\u7684\u7968\u8b49\uff08service tickets\uff09</p>\n<p></p>\n</li>\n</ul>"},{"location":"level101/security/fundamentals/#certificate-chain","title":"\u6191\u8b49\u93c8\uff08Certificate Chain\uff09","text":"<p>\u4f7f\u7528 OpenSSL \u6307\u4ee4\u8f38\u51fa\u5167\u5bb9\u524d\u7aef\u6703\u986f\u793a\u4e09\u5f35\u6191\u8b49\uff0c\u7de8\u865f\u5206\u5225\u70ba 0\u30011 \u8207 2\u3002\u6bcf\u5f35\u6191\u8b49\u5305\u542b\u4e3b\u9ad4\uff08subject, s\uff09\u53ca\u7c3d\u767c\u8005\uff08issuer, i\uff09\u3002\u7b2c\u4e00\u5f35\u6191\u8b49\uff08\u7de8\u865f 0\uff09\uff0c\u7a31\u70ba\u7d42\u7aef\u5be6\u9ad4\u6191\u8b49\uff0c\u5176\u4e3b\u9ad4\u986f\u793a\u6b64\u6191\u8b49\u6709\u6548\u7bc4\u570d\u70ba google.com \u4e0b\u6240\u6709\u5b50\u57df\uff08<code>*.google.com</code>\uff09\u3002</p>\n<pre><code>$ openssl s_client -connect www.google.com:443 -CApath /etc/ssl/certs\nCONNECTED(00000005)\ndepth=2 OU = GlobalSign Root CA - R2, O = GlobalSign, CN = GlobalSign\nverify return:1\ndepth=1 C = US, O = Google Trust Services, CN = GTS CA 1O1\nverify return:1\ndepth=0 C = US, ST = California, L = Mountain View, O = Google LLC, CN = www.google.com\nverify return:1`\n`---\nCertificate chain\n 0 s:/C=US/ST=California/L=Mountain View/O=Google LLC/CN=www.google.com\n   i:/C=US/O=Google Trust Services/CN=GTS CA 1O1\n 1 s:/C=US/O=Google Trust Services/CN=GTS CA 1O1\n   i:/OU=GlobalSign Root CA - R2/O=GlobalSign/CN=GlobalSign\n---\n</code></pre>\n<p>\u4f3a\u670d\u5668\u6191\u8b49</p>\n<ul>\n<li>\u7c3d\u767c\u8005\u986f\u793a\u7531 Google Internet Authority G2 \u7c3d\u767c\uff0c\u800c\u8a72\u6191\u8b49\u540c\u6642\u662f\u7b2c\u4e8c\u5f35\u6587\u4ef6\uff08\u7de8\u865f 1\uff09\u7684\u4e3b\u9ad4\u3002</li>\n<li>OpenSSL \u6307\u4ee4\u7121\u6cd5\u986f\u793a\u7cfb\u7d71\u4fe1\u4efb\u5b58\u5132\uff08trust store\uff09\uff0c\u8a72\u5b58\u5132\u5217\u6709\u7cfb\u7d71 OpenSSL \u4fe1\u4efb\u7684\u5168\u90e8 CA \u6191\u8b49\u3002</li>\n<li>\n<p>\u5fc5\u9808\u5728\u7cfb\u7d71\u4fe1\u4efb\u5b58\u5132\u4e2d\u5b58\u5728 GlobalSign \u6839\u8b49\u66f8\uff0c\u624d\u80fd\u5b8c\u6210\u9a57\u8b49\u93c8\u3002\u6b64\u5373\u4fe1\u4efb\u93c8\uff08chain of trust\uff09\u6982\u5ff5\u3002\u4e0b\u5716\u70ba\u6982\u7565\u793a\u610f\u3002</p>\n<p></p>\n</li>\n<li>\n<p>\u4fe1\u4efb\u93c8\u793a\u610f\uff1aFirefox \u7684\u4fe1\u4efb\u5b58\u5132\u4e2d\u6839 CA \u5c0d\u6574\u689d\u6191\u8b49\u93c8\u63d0\u4f9b\u521d\u59cb\u4fe1\u4efb\u4e26\u78ba\u4fdd\u7d42\u7aef\u6191\u8b49\u6709\u6548\u3002</p>\n</li>\n</ul>"},{"location":"level101/security/fundamentals/#tls","title":"TLS \u63e1\u624b\u904e\u7a0b","text":"<ol>\n<li>\u7528\u6236\u7aef\u767c\u9001 HELLO \u8a0a\u606f\u7d66\u4f3a\u670d\u5668\uff0c\u9644\u5e36\u652f\u63f4\u7684\u5354\u5b9a\u8207\u6f14\u7b97\u6cd5\u5217\u8868\u3002</li>\n<li>\u4f3a\u670d\u5668\u56de\u8986 HELLO \u4e26\u63d0\u4f9b\u6191\u8b49\u93c8\u3002\u6839\u64da\u7528\u6236\u7aef\u529f\u80fd\uff0c\u4f3a\u670d\u5668\u6311\u9078\u5bc6\u78bc\u5957\u4ef6\u3002</li>\n<li>\u82e5\u5bc6\u78bc\u5957\u4ef6\u652f\u63f4\u81e8\u6642\u5bc6\u9470\u4ea4\u63db\uff08\u5982 ECDHE\uff09\uff0c\u4f3a\u670d\u5668\u8207\u7528\u6236\u7aef\u4f7f\u7528 Diffie-Hellman \u5354\u8b70\u6d3d\u8ac7\u524d\u4e3b\u5bc6\u9470\uff08pre-master key\uff09\u3002\u524d\u4e3b\u5bc6\u9470\u4e0d\u6703\u900f\u904e\u7db2\u8def\u50b3\u8f38\u3002</li>\n<li>\u96d9\u65b9\u7522\u751f\u7528\u65bc\u52a0\u5bc6\u9023\u7dda\u8cc7\u6599\u4e4b\u6703\u8a71\u5bc6\u9470\u3002</li>\n</ol>\n<p>\u63e1\u624b\u7d50\u675f\uff0c\u96d9\u65b9\u5747\u6301\u6709\u6703\u8a71\u5bc6\u9470\uff0c\u7528\u65bc\u5f8c\u7e8c\u6578\u64da\u52a0\u5bc6\u3002\u6b64\u6703\u8a71\u5bc6\u9470 OpenSSL \u7a31\u70ba Master-Key\u3002</p>\n<p>\u8a3b</p>\n<ul>\n<li>TLS \u76ee\u524d\u6709 3 \u7248\u672c\uff1aTLS 1.0\u30011.1 \u8207 1.2\u3002</li>\n<li>TLS 1.0 \u767c\u5e03\u65bc 1999 \u5e74\uff0c\u7d04\u4e8c\u5341\u5e74\u6b77\u53f2\uff0c\u9577\u671f\u5b58\u5728\u6f0f\u6d1e\uff08\u5982 BEAST \u548c POODLE\uff09\uff0c\u540c\u6642\u652f\u63f4\u5f31\u52a0\u5bc6\uff0c\u7121\u6cd5\u4fdd\u969c\u73fe\u4ee3\u9023\u7dda\u5b89\u5168\u3002</li>\n<li>TLS 1.1 \u901a\u5e38\u88ab\u8996\u70ba\u904e\u6e21\u7248\u672c\uff0c\u5177\u540c\u6a23\u52a0\u5bc6\u7f3a\u9677\uff0c\u57fa\u672c\u5df2\u88ab TLS 1.2 \u53d6\u4ee3\uff0c\u4f7f\u7528\u7387\u5f88\u4f4e\u3002</li>\n</ul>"},{"location":"level101/security/fundamentals/#perfect-forward-secrecy","title":"\u300c\u5b8c\u7f8e\u300d\u524d\u5411\u5b89\u5168\uff08Perfect Forward Secrecy\uff09","text":"<ul>\n<li>\u300c\u81e8\u6642\u300d\uff08ephemeral\uff09\u5728\u5bc6\u9470\u4ea4\u63db\u4e2d\u63d0\u4f9b\u4e86\u7a31\u4f5c\u5b8c\u7f8e\u524d\u5411\u5b89\u5168\uff08PFS\uff09\u6216 Forward Secrecy \u7684\u91cd\u8981\u5b89\u5168\u7279\u6027\u3002</li>\n<li>\u975e\u81e8\u6642\u5bc6\u9470\u4ea4\u63db\u4e2d\uff0c\u7528\u6236\u7aef\u6703\u7528\u4f3a\u670d\u5668\u516c\u9470\u52a0\u5bc6\u524d\u4e3b\u5bc6\u9470\u4e26\u50b3\u9001\uff0c\u4f3a\u670d\u5668\u7528\u79c1\u9470\u89e3\u5bc6\u3002\u82e5\u79c1\u9470\u906d\u7aca\uff0c\u653b\u64ca\u8005\u53ef\u56de\u6eaf\u6b64\u63e1\u624b\u8a18\u9304\uff0c\u89e3\u5bc6\u6574\u500b\u6703\u8a71\u5bc6\u9470\u53ca\u904e\u53bb\u901a\u8a0a\u3002</li>\n<li>\u81e8\u6642\u5bc6\u9470\u4ea4\u63db\uff08\u5982 DHE \u6216 ECDHE\uff09\u4e0d\u76f4\u63a5\u50b3\u9001\u524d\u4e3b\u5bc6\u9470\uff0c\u800c\u662f\u96d9\u65b9\u5229\u7528\u516c\u773e\u4ea4\u63db\u7684\u975e\u654f\u611f\u8cc7\u8a0a\u5404\u81ea\u8a08\u7b97\uff0c\u9632\u6b62\u672a\u4f86\u79c1\u9470\u6d29\u9732\u5c0e\u81f4\u901a\u8a0a\u66b4\u9732\uff0c\u9054\u5230\u5b8c\u7f8e\u524d\u5411\u5b89\u5168\u3002</li>\n<li>\u5bc6\u9470\u5728\u8cc7\u6599\u6d41\u4e2d\u6bcf\u9694\u82e5\u5e72\u5340\u584a\u66f4\u63db\u4e00\u6b21\uff0c\u963b\u64cb\u653b\u64ca\u8005\u9760\u6355\u6349\u6574\u4e32\u8cc7\u6599\u4e26\u66b4\u529b\u7834\u89e3\u3002Forward secrecy \u610f\u5473\u8457\u7834\u89e3\u4e86\u8cc7\u6599\u6d41\u4e2d\u67d0\u500b\u5340\u584a\u4e0d\u4ee3\u8868\u80fd\u7834\u89e3\u5176\u4ed6\u5340\u584a\u3002</li>\n<li>\u7f3a\u9ede\uff1a</li>\n<li>PFS \u589e\u52a0\u8a08\u7b97\u8907\u96dc\u5ea6\uff0c\u5e36\u4f86\u63e1\u624b\u5ef6\u9072\u5ef6\u9577\uff0c\u7528\u6236\u9023\u7dda\u901f\u5ea6\u6e1b\u6162\u3002\u70ba\u6e1b\u5c11\u6b64\u5f71\u97ff\uff0c\u96d9\u65b9\u53ef\u900f\u904e\u6703\u8a71\u4fdd\u6301\uff08session resumption\uff09\u6a5f\u5236\u5feb\u53d6\u6703\u8a71\u5bc6\u9470\uff0c\u907f\u514d\u6bcf\u6b21\u9023\u7dda\u90fd\u91cd\u65b0\u5354\u5546\u5bc6\u9470\u3002</li>\n</ul>\n\n<p>\u4ee5\u4e0a\u70ba\u5c0d\u9019\u4efd Markdown \u5167\u5bb9\u7684\u5b8c\u6574\u7e41\u9ad4\u4e2d\u6587\uff08\u81fa\u7063\uff09\u7ffb\u8b6f\uff0c\u4fdd\u7559\u539f\u6587\u683c\u5f0f\u53ca\u7d50\u69cb\u3002\u82e5\u9700\u91dd\u5c0d\u5404\u7bc0\u4e3b\u984c\u9032\u4e00\u6b65\u8aaa\u660e\u6216\u8a73\u89e3\uff0c\u8acb\u544a\u77e5\uff01</p>"},{"location":"level101/security/intro/","title":"\u5b89\u5168\u6027","text":""},{"location":"level101/security/intro/#_2","title":"\u5148\u6c7a\u689d\u4ef6","text":"<ol> <li> <p>Linux \u57fa\u790e</p> </li> <li> <p>Linux \u7db2\u8def</p> </li> </ol>"},{"location":"level101/security/intro/#_3","title":"\u672c\u8ab2\u7a0b\u9810\u671f\u5b78\u7fd2\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u6db5\u84cb\u8cc7\u8a0a\u5b89\u5168\u7684\u57fa\u672c\u539f\u7406\uff0c\u4e26\u6d89\u53ca\u7cfb\u7d71\u5b89\u5168\u3001\u7db2\u8def\u8207\u7db2\u9801\u5b89\u5168\u7b49\u4e3b\u984c\u3002\u6b64\u8ab2\u7a0b\u65e8\u5728\u8b93\u60a8\u719f\u6089\u65e5\u5e38\u64cd\u4f5c\u4e2d\u8cc7\u8a0a\u5b89\u5168\u7684\u57fa\u790e\uff0c\u4e26\u4f5c\u70ba SRE\uff0c\u57f9\u990a\u5728\u958b\u767c\u89e3\u6c7a\u65b9\u6848\u6642\u512a\u5148\u8003\u91cf\u5b89\u5168\u6027\u7684\u601d\u7dad\u3002\u8ab2\u7a0b\u4e5f\u4f5c\u70ba\u5e38\u898b\u98a8\u96aa\u8207\u6700\u4f73\u5be6\u8e10\u7684\u5165\u9580\u4ecb\u7d39\uff0c\u4e26\u63d0\u4f9b\u5be6\u52d9\u65b9\u6cd5\u4f86\u767c\u73fe\u53ef\u80fd\u906d\u53d7\u640d\u5bb3\u7684\u7cfb\u7d71\u8207\u6f0f\u6d1e\uff0c\u907f\u514d\u672a\u59a5\u5584\u4fdd\u8b77\u800c\u88ab\u653b\u7834\u3002</p>"},{"location":"level101/security/intro/#_4","title":"\u672c\u8ab2\u7a0b\u672a\u6db5\u84cb\u5167\u5bb9","text":"<p>\u672c\u6559\u6750\u4e26\u975e\u9053\u5fb7\u99ed\u5ba2\u5de5\u4f5c\u574a\uff0c\u4e5f\u975e\u6df1\u5165\u63a2\u8a0e\u554f\u984c\u57fa\u672c\u539f\u7406\u7684\u8ab2\u7a0b\u3002\u8ab2\u7a0b\u4e0d\u6d89\u53ca\u99ed\u5165\u6216\u5165\u4fb5\u7cfb\u7d71\uff0c\u800c\u662f\u63d0\u4f9b\u4e00\u7a2e\u78ba\u4fdd\u60a8\u4e0d\u6703\u9677\u5165\u6b64\u985e\u60c5\u6cc1\u7684\u505a\u6cd5\uff0c\u4e26\u8b93\u60a8\u4e86\u89e3\u7cfb\u7d71\u53ef\u80fd\u906d\u53d7\u653b\u64ca\u7684\u4e0d\u540c\u65b9\u5f0f\u3002</p>"},{"location":"level101/security/intro/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ol> <li>\u57fa\u790e\u77e5\u8b58</li> <li>\u7db2\u8def\u5b89\u5168</li> <li>\u5a01\u8105\u3001\u653b\u64ca\u8207\u9632\u79a6</li> <li>\u5b89\u5168\u7a0b\u5f0f\u78bc\u64b0\u5beb\u8207\u66f4\u591a</li> <li>\u7d50\u8ad6</li> </ol>"},{"location":"level101/security/network_security/","title":"\u7b2c\u4e8c\u90e8\u5206\uff1a\u7db2\u8def\u5b89\u5168","text":""},{"location":"level101/security/network_security/#_2","title":"\u7c21\u4ecb","text":"<ul> <li>TCP/IP \u662f\u7576\u4eca\u4e3b\u6d41\u7684\u7db2\u8def\u6280\u8853\uff0c\u5b83\u662f\u4e00\u7a2e\u4e94\u5c64\u67b6\u69cb\u3002\u9019\u4e9b\u5c64\u7d1a\u5f9e\u4e0a\u5230\u4e0b\u70ba\uff1a\u61c9\u7528\u5c64\u3001\u50b3\u8f38\u5c64\uff08TCP\uff09\u3001\u7db2\u8def\u5c64\uff08IP\uff09\u3001\u8cc7\u6599\u9023\u7d50\u5c64\u4ee5\u53ca\u5be6\u9ad4\u5c64\u3002\u9664\u4e86 TCP/IP\uff0c\u9084\u6709\u5176\u4ed6\u7684\u7db2\u8def\u6280\u8853\u3002\u70ba\u4e86\u65b9\u4fbf\u8d77\u898b\uff0c\u6211\u5011\u4f7f\u7528 OSI \u7db2\u8def\u6a21\u578b\u4f86\u4ee3\u8868\u975e TCP/IP \u7684\u7db2\u8def\u6280\u8853\u3002\u4e0d\u540c\u7684\u7db2\u8def\u4e4b\u9593\u662f\u900f\u904e\u9598\u9053\uff08gateway\uff09\u4e92\u9023\u7684\uff0c\u9598\u9053\u53ef\u4ee5\u653e\u7f6e\u65bc\u4efb\u4f55\u5c64\u7d1a\u3002</li> <li> <p>OSI \u6a21\u578b\u662f\u4e03\u5c64\u67b6\u69cb\u3002OSI \u67b6\u69cb\u8207 TCP/IP \u67b6\u69cb\u76f8\u4f3c\uff0c\u4f46 OSI \u6a21\u578b\u5728 TCP/IP \u67b6\u69cb\u7684\u61c9\u7528\u5c64\u8207\u50b3\u8f38\u5c64\u4e4b\u9593\uff0c\u984d\u5916\u898f\u5b9a\u4e86\u5169\u5c64\uff1a\u8868\u793a\u5c64\u8207\u6703\u8a71\u5c64\u3002\u5716 5.1 \u986f\u793a\u4e86 TCP/IP \u5c64\u8207 OSI \u5c64\u7684\u5c0d\u61c9\u95dc\u4fc2\u3002TCP/IP \u7684\u61c9\u7528\u5c64\u5c0d\u61c9 OSI \u7684\u61c9\u7528\u5c64\u8207\u8868\u793a\u5c64\uff1bTCP/IP \u7684\u50b3\u8f38\u5c64\u5c0d\u61c9 OSI \u7684\u6703\u8a71\u5c64\u8207\u50b3\u8f38\u5c64\uff1b\u800c TCP/IP \u67b6\u69cb\u4e2d\u7684\u53e6\u5916\u4e09\u5c64\u8207 OSI \u6a21\u578b\u4e2d\u7684\u4e09\u5c64\u662f\u4e00\u4e00\u5c0d\u61c9\u7684\u3002</p> <p> TCP/IP \u67b6\u69cb\u5c64\u8207 OSI \u6a21\u578b\u5c64\u7684\u5c0d\u61c9\u95dc\u4fc2\u3002\u5716\u4e2d\u4ea6\u986f\u793a\u4e86\u5bc6\u78bc\u6f14\u7b97\u6cd5\u7f6e\u653e\u65bc\u7db2\u8def\u5c64\u7d1a\u7684\u4f4d\u7f6e\uff0c\u865b\u7dda\u7bad\u982d \u8868\u793a\u5bc6\u78bc\u6f14\u7b97\u6cd5\u7684\u5be6\u969b\u901a\u8a0a\u65b9\u5411\u3002</p> </li> </ul> <p>OSI \u5404\u5c64\u529f\u80fd\u7c21\u8ff0\u5982\u4e0b\uff1a</p> <ol> <li>\u61c9\u7528\u5c64\uff1a\u4f5c\u70ba\u61c9\u7528\u7a0b\u5f0f\u8207\u7db2\u8def\u7a0b\u5f0f\u7684\u4ecb\u9762\uff0c\u652f\u63f4\u61c9\u7528\u7a0b\u5f0f\u548c\u6700\u7d42\u4f7f\u7528\u8005\u8655\u7406\u3002\u5e38\u898b\u7684\u61c9\u7528\u5c64\u7a0b\u5f0f\u5305\u62ec\u9060\u7aef\u767b\u5165\u3001\u6a94\u6848\u50b3\u8f38\u3001\u96fb\u5b50\u90f5\u4ef6\u8207\u7db2\u9801\u700f\u89bd\u3002</li> <li>\u8868\u793a\u5c64\uff1a\u8ca0\u8cac\u8655\u7406\u4e0d\u540c\u8cc7\u6599\u5f62\u614b\u7684\u554f\u984c\u3002\u6b64\u5354\u5b9a\u5c64\u4f7f\u5f97\u4f4d\u65bc\u901a\u8a0a\u901a\u9053\u96d9\u5074\u7684\u61c9\u7528\u7a0b\u5f0f\uff0c\u5373\u4f7f\u4f7f\u7528\u4e0d\u540c\u5e73\u53f0\uff0c\u4e5f\u80fd\u4e92\u76f8\u7406\u89e3\u8cc7\u6599\u683c\u5f0f\uff0c\u800c\u7121\u9808\u95dc\u6ce8\u8cc7\u6599\u7684\u5448\u73fe\u65b9\u5f0f\u3002</li> <li>\u6703\u8a71\u5c64\uff1a\u8ca0\u8cac\u901a\u8a0a\u9023\u7dda\u7684\u5efa\u7acb\u3001\u7ba1\u7406\u53ca\u95dc\u9589\u3002</li> <li>\u50b3\u8f38\u5c64\uff1a\u63d0\u4f9b\u53ef\u9760\u9023\u7dda\uff0c\u5982\u5c01\u5305\u6392\u5e8f\u3001\u6d41\u91cf\u63a7\u5236\u8207\u64c1\u585e\u63a7\u5236\u3002</li> <li>\u7db2\u8def\u5c64\uff1a\u8ca0\u8cac\u8def\u7531\u8207\u88dd\u7f6e\u7121\u95dc\u7684\u8cc7\u6599\u5c01\u5305\uff0c\u5f9e\u7576\u524d\u8df3\u9ede\u50b3\u9001\u81f3\u4e0b\u4e00\u8df3\u3002</li> <li>\u8cc7\u6599\u9023\u7d50\u5c64\uff1a\u5c07\u88dd\u7f6e\u7121\u95dc\u7684\u8cc7\u6599\u5c01\u5305\u5c01\u88dd\u81f3\u88dd\u7f6e\u76f8\u95dc\u7684\u8cc7\u6599\u6846\u67b6\u4e2d\uff0c\u5206\u70ba\u908f\u8f2f\u93c8\u8def\u63a7\u5236\uff08LLC\uff09\u8207\u5a92\u9ad4\u5b58\u53d6\u63a7\u5236\uff08MAC\uff09\u5169\u500b\u5b50\u5c64\u3002</li> <li> <p>\u5be6\u9ad4\u5c64\uff1a\u8ca0\u8cac\u901a\u8a0a\u5a92\u4ecb\u4e0a\u88dd\u7f6e\u76f8\u95dc\u7684\u6846\u67b6\u50b3\u8f38\u3002</p> </li> <li> <p>\u5f9e\u61c9\u7528\u5c64\u958b\u59cb\uff0c\u61c9\u7528\u7a0b\u5f0f\u7522\u751f\u7684\u8cc7\u6599\u6703\u9010\u5c64\u5f80\u4e0b\u50b3\u905e\u81f3\u5be6\u9ad4\u5c64\u3002\u524d\u4e00\u5c64\u7684\u8cc7\u6599\u6703\u88ab\u7576\u524d\u5c64\u518d\u5305\u8986\u6210\u65b0\u7684\u5c01\u5957\uff08\u985e\u4f3c\u4ee5\u5c0f\u4fe1\u5c01\u88dd\u5165\u5927\u4fe1\u5c01\uff09\uff0c\u4e14\u6bcf\u5c64\u65b0\u589e\u7684\u5c01\u5957\u4e2d\u5305\u542b\u8db3\u5920\u8cc7\u8a0a\u4ee5\u8655\u7406\u8a72\u5c01\u5305\u3002\u61c9\u7528\u5c64\u8cc7\u6599\u6703\u88ab\u5283\u5206\u70ba\u8db3\u5920\u5c0f\u7684\u5340\u584a\uff0c\u4ee5\u65b9\u4fbf\u4e0b\u4e00\u5c64\u5c01\u88dd\u3002</p> </li> <li> <p>\u5728 TCP/IP \u67b6\u69cb\u4e2d\uff0c\u61c9\u7528\u8cc7\u6599\u5340\u584a\u7684\u5c01\u88dd\u904e\u7a0b\u5982\u4e0b\uff1a\u5728\u50b3\u9001\u7aef\uff0c\u7576\u8cc7\u6599\u5f80 TCP \u5c64\u50b3\u905e\u6642\uff0c\u6703\u88ab\u5c01\u88dd\u6210 TCP \u5c01\u5305\uff08\u5305\u542b\u6a19\u982d\u8207\u8cc7\u6599\u90e8\u5206\uff09\uff0cTCP \u5c01\u5305\u518d\u5411\u4e0b\u50b3\u905e\u81f3 IP \u5c64\u6642\uff0c\u88ab\u5c01\u88dd\u9032 IP \u5c01\u5305\uff1bIP \u5c01\u5305\u5247\u88ab\u5c01\u88dd\u9032\u88dd\u7f6e\u76f8\u95dc\u7684\u8cc7\u6599\u6846\u67b6\uff08\u5982 Ethernet \u6846\u67b6\uff09\uff0c\u6846\u67b6\u6709\u6a19\u982d\uff0c\u4e14\u53ef\u80fd\u6709\u5c3e\u7aef\u6aa2\u67e5\u8cc7\u6599\uff08\u5982 Ethernet \u6846\u67b6\u6709 32 \u4f4d\u5143 CRC\uff09\u3002\u6700\u5f8c\u8cc7\u6599\u5728\u5be6\u9ad4\u5c64\u8f49\u63db\u6210\u5a92\u9ad4\u8a0a\u865f\u9032\u884c\u50b3\u8f38\u3002</p> <p> \u5c01\u5305\u7522\u751f\u6d41\u7a0b\u5716</p> </li> <li> <p>\u5728\u63a5\u6536\u7aef\uff0c\u5be6\u9ad4\u5c64\u5c07\u5a92\u9ad4\u8a0a\u865f\u8f49\u63db\u6210\u6846\u67b6\uff0c\u6846\u67b6\u50b3\u905e\u81f3\u8cc7\u6599\u9023\u7d50\u5c64\uff0c\u8cc7\u6599\u9023\u7d50\u5c64\u63d0\u53d6\u6846\u67b6\u5167\u7684 IP \u5c01\u5305\u50b3\u7d66 IP \u5c64\uff0cIP \u5c64\u5c07\u5c01\u5305\u5167\u7684 TCP \u5c01\u5305\u50b3\u7d66 TCP \u5c64\uff0c\u6700\u5f8c TCP \u5c64\u5c07\u8cc7\u6599\u5340\u584a\u4ea4\u7d66\u61c9\u7528\u5c64\u3002\u7576\u5c01\u5305\u62b5\u9054\u8def\u7531\u5668\u6642\uff0c\u53ea\u6703\u4e0a\u50b3\u81f3 IP \u5c64\uff0c\u4e26\u4fee\u6539 IP \u6a19\u982d\u4e2d\u7684\u67d0\u4e9b\u6b04\u4f4d\uff08\u5982\u5c07 TTL \u6e1b 1\uff09\uff0c\u63a5\u8457\u8a72\u5c01\u5305\u518d\u6309\u5c64\u7d1a\u5411\u4e0b\u50b3\u8f38\u81f3\u7269\u7406\u5c64\u7e7c\u7e8c\u8f49\u767c\u3002</p> </li> </ol>"},{"location":"level101/security/network_security/#pki","title":"\u516c\u9470\u57fa\u790e\u8a2d\u65bd\uff08PKI\uff09","text":"<ul> <li>\u70ba\u4e86\u5728\u7db2\u8def\u61c9\u7528\u4e2d\u90e8\u7f72\u5bc6\u78bc\u6f14\u7b97\u6cd5\uff0c\u6211\u5011\u9700\u900f\u904e\u516c\u958b\u7db2\u8def\u5206\u767c\u79d8\u5bc6\u91d1\u9470\u3002\u516c\u958b\u91d1\u9470\u5bc6\u78bc\u5b78\u662f\u5206\u767c\u6b64\u985e\u79d8\u5bc6\u91d1\u9470\u7684\u6700\u4f73\u65b9\u6cd5\u3002\u4f7f\u7528\u516c\u958b\u91d1\u9470\u5bc6\u78bc\u5b78\u9700\u5efa\u7acb\u516c\u9470\u57fa\u790e\u8a2d\u65bd\uff08PKI\uff09\uff0c\u4ee5\u652f\u63f4\u8207\u7ba1\u7406\u516c\u9470\u6191\u8b49\u548c\u6191\u8b49\u6388\u6b0a\u4e2d\u5fc3\uff08CA\uff09\u7db2\u8def\u3002PKI \u4e3b\u8981\u57f7\u884c\u4ee5\u4e0b\u529f\u80fd\uff1a</li> <li>\u5728\u767c\u653e\u516c\u9470\u6191\u8b49\u524d\u9a57\u8b49\u4f7f\u7528\u8005\u5408\u6cd5\u6027\u3002</li> <li>\u4f9d\u4f7f\u7528\u8005\u8acb\u6c42\u767c\u653e\u516c\u9470\u6191\u8b49\u3002</li> <li>\u4f9d\u4f7f\u7528\u8005\u8acb\u6c42\u5ef6\u9577\u516c\u9470\u6191\u8b49\u6709\u6548\u671f\u9593\u3002</li> <li>\u65bc\u4f7f\u7528\u8005\u8981\u6c42\u6216\u79c1\u9470\u5916\u6d29\u6642\u64a4\u92b7\u516c\u9470\u6191\u8b49\u3002</li> <li>\u5132\u5b58\u53ca\u7ba1\u7406\u516c\u9470\u6191\u8b49\u3002</li> <li>\u9632\u6b62\u6578\u4f4d\u7c3d\u7ae0\u4f7f\u7528\u8005\u5426\u8a8d\u5176\u7c3d\u7f72\u3002</li> <li>\u652f\u63f4 CA \u7db2\u8def\uff0c\u8b93\u4e0d\u540c\u7684 CA \u53ef\u8a8d\u8b49\u5f7c\u6b64\u767c\u51fa\u7684\u516c\u9470\u6191\u8b49\u3002</li> <li>X.509 \u898f\u7bc4\u8a73\u898b\uff1ahttps://certificatedecoder.dev/?gclid=EAIaIQobChMI0M731O6G6gIVVSQrCh04bQaAEAAYASAAEgKRkPD_BwE</li> </ul>"},{"location":"level101/security/network_security/#ipsec","title":"IPsec\uff1a\u7db2\u8def\u5c64\u5b89\u5168\u5354\u5b9a","text":"<ul> <li>IPsec \u662f\u7db2\u8def\u5c64\u7684\u91cd\u8981\u5b89\u5168\u5354\u5b9a\u3002</li> <li>IPsec \u70ba\u5efa\u7acb\u865b\u64ec\u79c1\u4eba\u7db2\u8def\uff08VPN\uff09\u7684\u5f37\u5927\u5e73\u53f0\uff0cVPN \u662f\u5efa\u69cb\u65bc\u516c\u5171\u7db2\u8def\u4e0a\u7684\u79c1\u6709\u7db2\u8def\u3002</li> <li>\u5728\u7db2\u8def\u5c64\u90e8\u7f72\u5bc6\u78bc\u6f14\u7b97\u6cd5\u7684\u76ee\u7684\u662f\u52a0\u5bc6\u6216\u9a57\u8b49 IP \u5c01\u5305\uff08\u50c5\u91dd\u5c0d\u6709\u6548\u8ca0\u8f09\u6216\u6574\u500b\u5c01\u5305\uff09\u3002</li> <li>IPsec \u540c\u6642\u5b9a\u7fa9\u5bc6\u9470\u4ea4\u63db\u65b9\u5f0f\uff0c\u56e0\u6b64\u5305\u542b\u9a57\u8b49\u5354\u5b9a\u3001\u52a0\u5bc6\u5354\u5b9a\u8207\u5bc6\u9470\u4ea4\u63db\u5354\u5b9a\uff0c\u5206\u5225\u7a31\u70ba\u9a57\u8b49\u6a19\u982d\uff08AH\uff09\u3001\u5c01\u88dd\u5b89\u5168\u8ca0\u8f09\uff08ESP\uff09\u8207\u7db2\u969b\u7db2\u8def\u5bc6\u9470\u4ea4\u63db\uff08IKE\uff09\u3002</li> </ul>"},{"location":"level101/security/network_security/#pgp-smime","title":"PGP \u8207 S/MIME\uff1a\u96fb\u5b50\u90f5\u4ef6\u5b89\u5168","text":"<ul> <li>\u61c9\u7528\u5c64\u6709\u591a\u7a2e\u5b89\u5168\u5354\u5b9a\uff0c\u6700\u5ee3\u6cdb\u4f7f\u7528\u7684\u70ba\u96fb\u5b50\u90f5\u4ef6\u5b89\u5168\u5354\u5b9a\uff1aPGP \u8207 S/MIME\u3002</li> <li>SMTP\uff08\u7c21\u55ae\u90f5\u4ef6\u50b3\u8f38\u5354\u5b9a\uff09\u7528\u65bc\u5ba2\u6236\u7aef\u5230\u4f3a\u670d\u5668\u7684\u50b3\u9001\u8207\u905e\u9001\uff0c\u4f7f\u7528\u9023\u63a5\u57e0 25\uff0c\u70ba\u5916\u5bc4\u4f3a\u670d\u5668\u3002\u76f8\u53cd\u5730\uff0cPOP\uff08\u90f5\u5c40\u5354\u5b9a\uff09\u5141\u8a31\u7528\u6236\u63a5\u6536\u90f5\u4ef6\u4e26\u4e0b\u8f09\u81f3\u6536\u4ef6\u5323\uff0c\u662f\u6536\u4fe1\u4f3a\u670d\u5668\u3002\u6700\u65b0\u7248\u672c\u70ba POP3\uff0c\u81ea 1996 \u5e74\u8d77\u4f7f\u7528\uff0c\u4f7f\u7528\u9023\u63a5\u57e0 110\u3002</li> </ul> <p>PGP</p> <ul> <li>PGP \u5be6\u73fe\u4e86\u6240\u6709\u4e3b\u8981\u7684\u52a0\u5bc6\u6f14\u7b97\u6cd5\u3001ZIP \u58d3\u7e2e\u6f14\u7b97\u6cd5\u53ca Base64 \u7de8\u78bc\u6f14\u7b97\u6cd5\u3002</li> <li>\u5b83\u80fd\u7528\u65bc\u8a0a\u606f\u9a57\u8b49\u3001\u52a0\u5bc6\u6216\u5169\u8005\u4e26\u884c\u3002PGP \u901a\u5e38\u4f9d\u5e8f\u57f7\u884c\uff1a\u9a57\u8b49\u3001ZIP \u58d3\u7e2e\u3001\u52a0\u5bc6\u8207 Base64 \u7de8\u78bc\u3002</li> <li>Base64 \u7de8\u78bc\u4f7f\u8a0a\u606f\u6e96\u5099\u597d\u7528\u65bc SMTP \u50b3\u9001\u3002</li> </ul> <p>GPG\uff08GnuPG\uff09</p> <ul> <li>GnuPG \u662f\u53e6\u4e00\u7a2e\u57fa\u65bc OpenPGP \u7684\u514d\u8cbb\u52a0\u5bc6\u6a19\u6e96\uff0c\u4f9b\u4f01\u696d\u4f7f\u7528\u3002</li> <li>\u5b83\u53ef\u8996\u70ba Symantec PGP \u7684\u66ff\u4ee3\u54c1\u3002</li> <li>\u4e3b\u8981\u5dee\u7570\u5728\u65bc\u652f\u63f4\u7684\u6f14\u7b97\u6cd5\uff0c\u4f46 GnuPG \u8a2d\u8a08\u4e0a\u8207 PGP \u517c\u5bb9\u3002\u7531\u65bc GnuPG \u662f\u958b\u653e\u539f\u59cb\u78bc\uff0c\u90e8\u5206\u4f01\u696d\u504f\u597d Symantec PGP \u63d0\u4f9b\u7684\u6280\u8853\u652f\u63f4\u8207\u4f7f\u7528\u8005\u4ecb\u9762\u3002</li> <li>\u6ce8\u610f GnuPG \u8207 PGP \u5728\u67d0\u4e9b\u6f14\u7b97\u6cd5\u4e0a\u5b58\u5728\u517c\u5bb9\u6027\u5dee\u7570\uff0c\u4f8b\u5982 IDEA \u6a21\u7d44\u56e0\u5c08\u5229\u554f\u984c\u672a\u96a8 GnuPG \u9810\u8a2d\u63d0\u4f9b\uff0c\u4f46\u5728\u591a\u6578\u61c9\u7528\uff08\u5982\u96fb\u5b50\u90f5\u4ef6\uff09\u53ef\u900f\u904e\u8b8a\u901a\u9054\u6210\u3002</li> </ul> <p>S/MIME</p> <ul> <li>SMTP \u50c5\u80fd\u8655\u7406 7-bit ASCII \u6587\u672c\u8a0a\u606f\uff08\u53ef\u7528 UTF-8 \u64f4\u5145\u4ee5\u6e1b\u8f15\u6b64\u9650\u5236\uff09\u3002POP \u53ef\u8655\u7406\u9664 7-bit ASCII \u4ee5\u5916\u7684\u5167\u5bb9\uff0c\u4f46\u901a\u5e38\u8a2d\u5b9a\u6703\u5c07\u90f5\u4ef6\u5168\u90e8\u4e0b\u8f09\u81f3\u7528\u6236\u7aef\u4e26\u5f9e\u4f3a\u670d\u5668\u522a\u9664\uff0c\u4e0d\u5229\u7528\u6236\u65bc\u591a\u53f0\u96fb\u8166\u5b58\u53d6\u90f5\u4ef6\u3002</li> <li>\u591a\u529f\u80fd\u7db2\u969b\u7db2\u8def\u90f5\u4ef6\u64f4\u5145\u5354\u5b9a\uff08MIME\uff09\u8a2d\u8a08\u7528\u65bc\u652f\u63f4\u591a\u7a2e\u683c\u5f0f\u90f5\u4ef6\u50b3\u9001\uff0c\u5305\u62ec\u975e\u6587\u5b57\u8655\u7406\u6a94\u6848\u3001\u5716\u5f62\u6a94\u3001\u97f3\u6548\u6a94\u53ca\u5f71\u7247\u7247\u6bb5\uff0c\u4e14\u53ef\u6df7\u5408\u591a\u7a2e\u683c\u5f0f\u65bc\u55ae\u4e00\u90f5\u4ef6\u4e2d\u3002</li> <li>\u7db2\u969b\u7db2\u8def\u90f5\u4ef6\u5b58\u53d6\u5354\u5b9a\uff08IMAP\uff09\u904b\u4f5c\u65bc TCP 143 \u7aef\u53e3\uff08\u50c5\u975e\u52a0\u5bc6\uff09\uff0c\u90f5\u4ef6\u6301\u7e8c\u4fdd\u5b58\u65bc\u4f3a\u670d\u5668\uff0c\u76f4\u81f3\u7528\u6236\u522a\u9664\uff0c\u4f7f\u591a\u53f0\u6a5f\u5668\u80fd\u540c\u6b65\u8b80\u53d6\u90f5\u4ef6\u4e26\u4e0b\u8f09\u800c\u4e0d\u522a\u9664\u4f3a\u670d\u5668\u4e0a\u7684\u526f\u672c\u3002</li> </ul> <p>SSL/TLS</p> <ul> <li>SSL \u4f7f\u7528 PKI \u5224\u65b7\u4f3a\u670d\u5668\u7684\u516c\u958b\u91d1\u9470\u662f\u5426\u503c\u5f97\u4fe1\u8cf4\uff0c\u8981\u6c42\u4f3a\u670d\u5668\u4f7f\u7528\u53ef\u4fe1 CA \u7c3d\u767c\u7684\u5b89\u5168\u6191\u8b49\u3002</li> <li>Netscape Navigator 1.0 \u767c\u5e03\u6642\uff0c\u50c5\u4fe1\u4efb RSA Data Security \u516c\u53f8\u7d93\u71df\u7684\u55ae\u4e00 CA\u3002</li> <li>\u4f3a\u670d\u5668\u7684 RSA \u516c\u958b\u91d1\u9470\u5b58\u65bc\u5b89\u5168\u6191\u8b49\u4e2d\uff0c\u700f\u89bd\u5668\u7528\u4ee5\u5efa\u7acb\u5b89\u5168\u901a\u8a0a\u901a\u9053\u3002\u4eca\u65e5\u4f7f\u7528\u7684\u6191\u8b49\u4ecd\u9075\u5faa\u540c\u4e00\u6a19\u6e96\uff08X.509\uff09\u3002</li> <li>Netscape \u6253\u7b97\u8b93\u4f7f\u7528\u8005\u8fa8\u8b58\u5b89\u5168\u8207\u4e0d\u5b89\u5168\u7684\u9023\u7dda\u72c0\u614b\uff0c\u56e0\u6b64\u5728\u7db2\u5740\u6b04\u65c1\u653e\u7f6e\u9396\u982d\u7b26\u865f\uff0c\u4ee5\u8996\u89ba\u5316\u6307\u793a\u5b89\u5168\u6027\u3002\u958b\u9396\u70ba\u4e0d\u5b89\u5168\uff0c\u93fd\u9396\u70ba SSL \u4fdd\u8b77\uff0c\u9019\u6a19\u8a8c\u5df2\u6210\u70ba\u6240\u6709\u700f\u89bd\u5668\u7684\u6a19\u6e96\u3002</li> <li> <p>SSL 2.0 \u9996\u7248\u5f8c\u4e00\u5e74\u63a8\u51fa SSL 3.0\uff0c\u8a72\u5354\u5b9a\u5728 2015 \u5e74 6 \u6708\u88ab\u6b63\u5f0f\u5ee2\u6b62\uff0c\u4f46\u5168\u7403\u4ecd\u5ee3\u6cdb\u4f7f\u7528\u3002IETF \u5236\u5b9a\u51fa\u7565\u6709\u4fee\u6539\u7684 SSL 3.0\uff0c\u4e26\u65bc 1999 \u5e74\u767c\u5e03\u70ba TLS 1.0\u3002SSL \u8207 TLS \u540d\u7a31\u7684\u6df7\u7528\u81f3\u4eca\u4ecd\u5e38\u898b\uff0c\u5b98\u65b9\u4e0a TLS \u662f\u65b0\u7248 SSL\uff0c\u4f46\u5be6\u52d9\u4e0a SSL\u3001TLS \u5e38\u88ab\u7576\u4f5c\u4efb\u4f55\u7248\u672c\u7684\u5354\u5b9a\u540d\u7a31\u3002</p> </li> <li> <p>\u5fc5\u770b\u8cc7\u6e90\uff1a</p> <ul> <li>https://tls.ulfheim.net/</li> <li>https://davidwong.fr/tls13/</li> </ul> </li> </ul>"},{"location":"level101/security/network_security/#_3","title":"\u7db2\u8def\u908a\u754c\u5b89\u5168","text":"<p>\u8b93\u6211\u5011\u770b\u770b\u5982\u4f55\u7dad\u6301\u5468\u754c\uff08perimeter\uff09\uff0c\u5373\u908a\u7de3\u8207\u7b2c\u4e00\u9053\u9632\u7dda\u7684\u9632\u8b77\u3002</p>"},{"location":"level101/security/network_security/#_4","title":"\u4e00\u822c\u9632\u706b\u7246\u67b6\u69cb","text":"<ul> <li>\u9632\u706b\u7246\u662f\u5fc5\u8981\u7684\uff0c\u56e0\u70ba\u5bc6\u78bc\u6f14\u7b97\u6cd5\u7121\u6cd5\u6709\u6548\u963b\u6b62\u60e1\u610f\u5c01\u5305\u9032\u5165\u908a\u7de3\u7db2\u8def\u3002</li> <li>IP \u5c01\u5305\u4e0d\u8ad6\u662f\u5426\u52a0\u5bc6\uff0c\u90fd\u80fd\u88ab\u8f49\u767c\u81f3\u908a\u7de3\u7db2\u8def\u3002</li> <li>1990 \u5e74\u4ee3\u8208\u8d77\u7684\u9632\u706b\u7246\u662f\u9650\u5236\u7db2\u8def\u5b58\u53d6\u7684\u91cd\u8981\u5de5\u5177\u3002\u9632\u706b\u7246\u53ef\u70ba\u786c\u9ad4\u88dd\u7f6e\u3001\u8edf\u9ad4\u5957\u4ef6\u6216\u5169\u8005\u7d50\u5408\u3002</li> <li>\u4f86\u81ea\u5916\u90e8\u9032\u5165\u5167\u90e8\u7db2\u8def\u7684\u5c01\u5305\u9700\u5148\u6aa2\u67e5\uff0c\u9632\u706b\u7246\u7684\u95dc\u9375\u80fd\u529b\u4e4b\u4e00\u662f\u80fd\u5728\u4e0d\u964d\u4f4e\u901a\u8a0a\u901f\u5ea6\u7684\u524d\u63d0\u4e0b\uff0c\u6aa2\u8996\u5c01\u5305\uff0c\u4fdd\u8b77\u5167\u90e8\u7db2\u8def\u5b89\u5168\u3002</li> <li>\u9632\u706b\u7246\u7684\u5c01\u5305\u6aa2\u67e5\u65b9\u6cd5\u591a\u7a2e\uff0c\u4f9d\u65b9\u5f0f\u53ef\u5206\u70ba\u5c01\u5305\u904e\u6ffe\u5668\u3001\u96fb\u8def\u9598\u9053\u5668\u3001\u61c9\u7528\u7a0b\u5f0f\u9598\u9053\u5668\u548c\u52d5\u614b\u5c01\u5305\u904e\u6ffe\u3002</li> </ul>"},{"location":"level101/security/network_security/#_5","title":"\u5c01\u5305\u904e\u6ffe\u5668","text":"<ul> <li>\u6aa2\u67e5\u5f9e\u5916\u90e8\u9032\u5165\u5167\u90e8\u7db2\u8def\u7684\u9032\u5165\u5c01\u5305\u53ca\u5f9e\u5167\u90e8\u51fa\u5916\u7684\u5916\u767c\u5c01\u5305\u3002</li> <li>\u50c5\u6aa2\u67e5 IP \u982d\u548c TCP \u982d\uff0c\u4e0d\u6aa2\u67e5\u61c9\u7528\u5c64\u7522\u751f\u7684\u8ca0\u8f09\u3002</li> <li>\u4f7f\u7528\u4e00\u7d44\u898f\u5247\u5224\u65b7\u5c01\u5305\u662f\u5426\u5141\u8a31\u901a\u904e\u3002</li> <li>\u5206\u70ba\u5169\u7a2e\uff1a<ul> <li>\u7121\u72c0\u614b\uff08Stateless\uff09  <ul> <li>\u5c07\u6bcf\u500b\u5c01\u5305\u8996\u70ba\u7368\u7acb\u7269\u4ef6\uff0c\u4e0d\u8a18\u9304\u5148\u524d\u8655\u7406\u904e\u7684\u5c01\u5305\uff0c\u6839\u64da\u55ae\u4e00\u5c01\u5305\u6c7a\u5b9a\u662f\u5426\u653e\u884c\u3002</li> </ul> </li> <li>\u6709\u72c0\u614b\uff08Stateful\uff09  <ul> <li>\u53c8\u7a31\u9023\u7dda\u72c0\u614b\u904e\u6ffe\uff0c\u8ffd\u8e64\u5167\u90e8\u4e3b\u6a5f\u548c\u5916\u90e8\u4e3b\u6a5f\u9593\u9023\u7dda\u72c0\u614b\uff08TCP \u6216 UDP \u9023\u7dda\u53ca\u662f\u5426\u5df2\u5efa\u7acb\uff09\u3002</li> </ul> </li> </ul> </li> </ul>"},{"location":"level101/security/network_security/#_6","title":"\u96fb\u8def\u9598\u9053\u5668","text":"<ul> <li>\u53c8\u7a31\u96fb\u8def\u5c64\u9598\u9053\u5668\uff0c\u901a\u5e38\u904b\u4f5c\u65bc\u50b3\u8f38\u5c64\u3002</li> <li>\u4f9d\u64da TCP\uff08\u6216 UDP\uff09\u6a19\u982d\u5167\u7684 IP \u5730\u5740\u548c\u57e0\u865f\u8cc7\u8a0a\uff0c\u5224\u65b7\u662f\u5426\u5141\u8a31\u5167\u90e8\u4e3b\u6a5f\u8207\u5916\u90e8\u4e3b\u6a5f\u5efa\u7acb\u9023\u7dda\u3002</li> <li>\u5e38\u548c\u5c01\u5305\u904e\u6ffe\u5668\u7d50\u5408\u4ee5\u7d44\u6210\u52d5\u614b\u5c01\u5305\u904e\u6ffe\u5668\u3002</li> </ul>"},{"location":"level101/security/network_security/#alg","title":"\u61c9\u7528\u7a0b\u5f0f\u9598\u9053\u5668\uff08ALG\uff09","text":"<ul> <li>\u4e5f\u7a31\u4ee3\u7406\u4f3a\u670d\u5668\uff08PROXY Server\uff09</li> <li>\u4f5c\u70ba\u5167\u90e8\u4e3b\u6a5f\u7684\u4ee3\u7406\uff0c\u8655\u7406\u4f86\u81ea\u5916\u90e8\u5ba2\u6236\u7aef\u7684\u670d\u52d9\u8acb\u6c42\u3002</li> <li>\u6df1\u5165\u6aa2\u67e5\u6bcf\u500b IP \u5c01\u5305\uff08\u9032\u5165\u6216\u5916\u51fa\uff09\u3002</li> <li>\u7279\u5225\u6aa2\u67e5\u5c01\u5305\u4e2d\u61c9\u7528\u7a0b\u5f0f\u683c\u5f0f\uff08\u5982 MIME\u3001SQL\uff09\u53ca\u8ca0\u8f09\u662f\u5426\u88ab\u5141\u8a31\u3002<ul> <li>\u56e0\u6b64\uff0c\u6709\u80fd\u529b\u5075\u6e2c\u5c01\u5305\u8ca0\u8f09\u5167\u7684\u96fb\u8166\u75c5\u6bd2\u3001\u60e1\u610f\u7a0b\u5f0f\u78bc\u4e26\u9694\u96e2\u53ef\u7591\u5c01\u5305\uff0c\u4e26\u5c01\u9396\u53ef\u7591 IP \u6216 TCP \u57e0\u3002\u4f46\u540c\u6642\u5e36\u4f86\u8f03\u5927\u8a08\u7b97\u8207\u8a18\u61b6\u9ad4\u8ca0\u64d4\u3002</li> </ul> </li> </ul>"},{"location":"level101/security/network_security/#_7","title":"\u53ef\u4fe1\u7cfb\u7d71\u8207\u5821\u58d8\u4e3b\u6a5f","text":"<ul> <li>\u53ef\u4fe1\u4f5c\u696d\u7cfb\u7d71\uff08Trusted Operating System, TOS\uff09\u7b26\u5408\u7279\u5b9a\u5b89\u5168\u9700\u6c42\u3002\u5224\u65b7\u4f5c\u696d\u7cfb\u7d71\u662f\u5426\u53ef\u4fe1\uff0c\u9808\u8a55\u4f30\uff1a</li> <li>\u7cfb\u7d71\u8a2d\u8a08\u7121\u7f3a\u9677\uff1b</li> <li>\u7cfb\u7d71\u8edf\u9ad4\u7121\u6f0f\u6d1e\uff1b</li> <li>\u7cfb\u7d71\u8a2d\u5b9a\u5408\u5b9c\uff1b</li> <li> <p>\u7cfb\u7d71\u7ba1\u7406\u9069\u7576\u3002</p> </li> <li> <p>\u5821\u58d8\u4e3b\u6a5f  </p> <ul> <li>\u5821\u58d8\u4e3b\u6a5f\u5177\u5099\u5f37\u5065\u9632\u79a6\u6a5f\u5236\uff0c\u5e38\u4f5c\u70ba\u61c9\u7528\u7a0b\u5f0f\u9598\u9053\u5668\u3001\u96fb\u8def\u9598\u9053\u5668\u6216\u5176\u5b83\u9632\u706b\u7246\u985e\u578b\u7684\u4e3b\u6a5f\u3002\u5821\u58d8\u4e3b\u6a5f\u904b\u884c\u65bc\u53ef\u4fe1\u4f5c\u696d\u7cfb\u7d71\uff0c\u7cfb\u7d71\u7121\u591a\u9918\u529f\u80fd\u8207\u7a0b\u5f0f\uff0c\u964d\u4f4e\u932f\u8aa4\u53ef\u80fd\u4e26\u4fbf\u65bc\u5b89\u5168\u6aa2\u6e2c\u3002\u50c5\u5b89\u88dd\u5fc5\u8981\u7684\u7db2\u8def\u61c9\u7528\u7a0b\u5f0f\uff0c\u5982 SSH\u3001DNS\u3001SMTP \u53ca\u8a8d\u8b49\u7a0b\u5f0f\u3002</li> <li>\u5c6c\u65bc\u53d7\u63a7\u9032\u5165\u9ede\uff0c\u5b89\u5168\u76e3\u63a7\u53ef\u96c6\u4e2d\u65bc\u55ae\u4e00\u4f4d\u7f6e\u3002</li> </ul> </li> </ul>"},{"location":"level101/security/network_security/#_8","title":"\u5e38\u7528\u6280\u8853\u8207\u6383\u63cf\u3001\u5c01\u5305\u64f7\u53d6","text":""},{"location":"level101/security/network_security/#nmap","title":"\u4f7f\u7528 Nmap \u6383\u63cf\u57e0\u53e3","text":"<ul> <li>Nmap\uff08Network Mapper\uff09\u662f\u4e00\u6b3e\u514d\u8cbb\u4e14\u958b\u653e\u6e90\u78bc\u7684\u7db2\u8def\u63a2\u7d22\u8207\u5b89\u5168\u7a3d\u6838\u5de5\u5177\uff0c\u7cfb\u7d71\u8207\u7db2\u7ba1\u54e1\u5e38\u7528\u65bc\u7db2\u8def\u76e4\u9ede\u3001\u670d\u52d9\u66f4\u65b0\u7ba1\u7406\u8207\u4e3b\u6a5f/\u670d\u52d9\u904b\u4f5c\u6642\u9593\u76e3\u63a7\u3002</li> <li>\u512a\u9ede\u662f\u514d\u8cbb\u3001\u958b\u653e\u4e14\u529f\u80fd\u591a\u5143\u3002</li> <li>\u7528\u9014\u5305\u542b\u8fa8\u8b58\u7db2\u8def\u4e2d\u6d3b\u52d5\u4e3b\u6a5f\u3001\u8a72\u4e3b\u6a5f\u958b\u555f\u7684\u57e0\u53e3\u3001\u57e0\u53e3\u904b\u884c\u7684\u670d\u52d9\u53ca\u670d\u52d9\u7248\u672c\u8b58\u5225\u3002</li> <li>\u8a73\u60c5\u53c3\u898b http://scanme.nmap.org/\u3002</li> </ul> <pre><code>nmap [\u6383\u63cf\u985e\u578b] [\u9078\u9805] [\u76ee\u6a19\u898f\u683c]\n</code></pre> <p>Nmap \u4f7f\u7528 6 \u7a2e\u57e0\u53e3\u72c0\u614b\uff1a</p> <ul> <li>\u958b\u555f\uff08Open\uff09 \u2014 \u4e3b\u52d5\u63a5\u53d7 TCP\u3001UDP \u6216 SCTP \u9023\u7dda\u7684\u57e0\u3002\u958b\u555f\u57e0\u662f\u653b\u64ca\u8005\u7684\u76ee\u6a19\uff0c\u4e5f\u662f\u7db2\u8def\u670d\u52d9\u5b58\u5728\u7684\u8b49\u660e\u3002</li> <li>\u95dc\u9589\uff08Closed\uff09 \u2014 \u56de\u61c9 Nmap \u5075\u67e5\u5c01\u5305\u4f46\u7121\u61c9\u7528\u7a0b\u5f0f\u76e3\u807d\u7684\u57e0\uff0c\u6709\u52a9\u65bc\u78ba\u8a8d\u4e3b\u6a5f\u5b58\u5728\u8207\u4f5c\u696d\u7cfb\u7d71\u8b58\u5225\u3002</li> <li>\u904e\u6ffe\uff08Filtered\uff09 \u2014 \u7121\u6cd5\u5224\u65b7\u57e0\u662f\u5426\u958b\u555f\uff0c\u56e0\u5c01\u5305\u904e\u6ffe\u5668\u963b\u6b62\u5075\u67e5\u5c01\u5305\u9054\u8a72\u57e0\uff0c\u591a\u7531\u9632\u706b\u7246\u6216\u8def\u7531\u5668\u898f\u5247\u9020\u6210\uff0c\u5075\u67e5\u8cc7\u6599\u901a\u5e38\u6709\u9650\u3002</li> <li>\u672a\u904e\u6ffe\uff08Unfiltered\uff09 \u2014 \u57e0\u53ef\u5b58\u53d6\u4f46\u4e0d\u6e05\u695a\u662f\u5426\u958b\u555f\uff0c\u50c5\u7528\u65bc ACK \u6383\u63cf\u5224\u65b7\u904e\u6ffe\u72c0\u6cc1\uff0c\u5176\u4ed6\u6383\u63cf\u53ef\u5224\u5225\u958b\u555f\u72c0\u614b\u3002</li> <li>\u958b\u555f/\u904e\u6ffe\uff08Open/filtered\uff09 \u2014 \u672a\u80fd\u5224\u5b9a\u662f\u5426\u958b\u555f\u6216\u904e\u6ffe\uff0c\u901a\u5e38\u56e0\u958b\u555f\u57e0\u7121\u56de\u61c9\uff0c\u53ef\u80fd\u5c01\u5305\u906d\u4e1f\u68c4\u6216\u56de\u61c9\u88ab\u963b\u64cb\u3002</li> <li>\u95dc\u9589/\u904e\u6ffe\uff08Closed/filtered\uff09 \u2014 \u7121\u6cd5\u9451\u5b9a\u57e0\u53e3\u662f\u95dc\u9589\u6216\u904e\u6ffe\uff0c\u5728 IP ID \u7a7a\u9592\u6383\u63cf\u4e2d\u4f7f\u7528\u3002</li> </ul>"},{"location":"level101/security/network_security/#nmap_1","title":"Nmap \u6383\u63cf\u985e\u578b\uff1a","text":"<ol> <li>TCP \u5168\u9023\u63a5\u6383\u63cf\uff08TCP Connect\uff09  <ul> <li>\u5b8c\u6210\u4e09\u5411\u4ea4\u63e1\u3002  </li> <li>\u82e5\u57e0\u958b\u555f\uff0cOS \u5b8c\u6210\u9023\u7dda\u5f8c\u6383\u63cf\u5668\u95dc\u9589\u4ee5\u907f\u514d DOS\uff0c\u5c6c\u300c\u6709\u8072\u300d\u6383\u63cf\uff0c\u670d\u52d9\u7aef\u53ef\u8a18\u9304\u4f86\u6e90 IP\uff0c\u53ef\u80fd\u89f8\u767c\u5165\u4fb5\u5075\u6e2c\u7cfb\u7d71\u3002</li> </ul> </li> <li>UDP \u6383\u63cf  <ul> <li>\u6aa2\u67e5 UDP \u57e0\u662f\u5426\u6709\u76e3\u807d\u3002  </li> <li>UDP \u4e0d\u50cf TCP \u56de\u61c9\u6b63\u5411\u78ba\u8a8d\uff0c\u53ea\u6709\u5728\u57e0\u95dc\u9589\u6642\u624d\u56de\u8986\u3002</li> </ul> </li> <li>SYN \u6383\u63cf  <ul> <li>\u53e6\u4e00\u7a2e TCP \u6383\u63cf\uff0c\u53c8\u7a31\u534a\u958b\u6383\u63cf\uff0c\u672a\u5b8c\u6210\u6574\u500b TCP \u9023\u7dda\u3002  </li> <li>\u6383\u63cf\u5668\u9001 SYN \u5c01\u5305\uff0c\u82e5\u56de\u61c9 SYN-ACK \u8868\u793a\u958b\u555f\uff0c\u6383\u63cf\u5668\u56de RST \u5c01\u5305\u95dc\u9589\u9023\u7dda\u3002  </li> <li>\u82e5\u57e0\u95dc\u9589\uff0c\u76ee\u6a19\u56de RST \u5c01\u5305\u3002\u907f\u514d\u670d\u52d9\u7aef\u6536\u5230\u5b8c\u6574\u9023\u7dda\u8acb\u6c42\u3002</li> </ul> </li> <li>FIN \u6383\u63cf  <ul> <li>\u96b1\u853d\u578b\u6383\u63cf\uff0c\u985e\u4f3c SYN \u6383\u63cf\uff0c\u4f46\u9001 FIN \u5c01\u5305\u3002</li> </ul> </li> <li>ACK \u6383\u63cf  <ul> <li>\u5224\u65b7\u57e0\u662f\u5426\u88ab\u904e\u6ffe\u3002</li> </ul> </li> <li>NULL \u6383\u63cf  <ul> <li>\u975e\u5e38\u96b1\u853d\uff0c\u8a2d\u7f6e\u6240\u6709 TCP \u6a19\u8a8c\u4f4d\u95dc\u9589\u3002\u5c01\u5305\u975e\u6b63\u5e38\uff0c\u90e8\u5206\u4e3b\u6a5f\u4e0d\u77e5\u5982\u4f55\u8655\u7406\u3002</li> </ul> </li> <li>XMAS \u6383\u63cf  <ul> <li>\u985e\u4f3c NULL\uff0c\u6240\u6709 TCP \u6a19\u8a8c\u4f4d\u8a2d\u70ba\u958b\u555f\u3002</li> </ul> </li> <li>RPC \u6383\u63cf  <ul> <li>\u5c0b\u627e\u63d0\u4f9b\u9060\u7aef\u7a0b\u5e8f\u8abf\u7528\uff08RPC\uff09\u670d\u52d9\u7684\u88dd\u7f6e\u3002</li> </ul> </li> <li>IDLE \u6383\u63cf  <ul> <li>\u8d85\u96b1\u853d\u65b9\u6cd5\uff0c\u5229\u7528\u5c0d\u5916\u7b2c\u4e09\u65b9\uff08\u55aa\u5c4d\u4e3b\u6a5f\uff09\u8f49\u767c\u6383\u63cf\u5c01\u5305\u3002\u4e0d\u9700\u63a7\u5236\u7b2c\u4e09\u65b9\uff0c\u4f46\u9700\u5148\u884c\u8a2d\u5b9a\u3002\u8f03\u5e38\u7528\u65bc\u60e1\u610f\u653b\u64ca\u3002</li> </ul> </li> </ol> <p>\u6383\u63cf\u6280\u8853\u8a73\u898b https://medium.com/infosec-adventures/nmap-cheatsheet-a423fcdda0ca\u3002</p>"},{"location":"level101/security/network_security/#openvas","title":"OpenVAS","text":"<ul> <li>OpenVAS \u70ba\u5b8c\u6574\u6f0f\u6d1e\u6383\u63cf\u5668\u3002</li> <li>\u70ba\u670d\u52d9\u548c\u5de5\u5177\u6846\u67b6\uff0c\u63d0\u4f9b\u5f37\u5927\u6f0f\u6d1e\u6383\u63cf\u8207\u7ba1\u7406\u529f\u80fd\u3002</li> <li>OpenVAS \u662f\u57fa\u65bc Nessus \u6f0f\u6d1e\u6383\u63cf\u7a0b\u5f0f\u7684\u958b\u6e90\u884d\u751f\u7248\u672c\u3002</li> <li>\u7d44\u6210\u4e09\u90e8\u5206\uff1a\u7d93\u5e38\u66f4\u65b0\u7684\u7db2\u8def\u6f0f\u6d1e\u6e2c\u8a66\uff08NVT\uff09\u3001\u57f7\u884c\u6383\u63cf\u7684\u6383\u63cf\u5668\uff0c\u4ee5\u53ca\u4f7f\u7528 SQLite 3 \u8cc7\u6599\u5eab\u5132\u5b58\u6e2c\u8a66\u8a2d\u5b9a\u8207\u7d50\u679c\u3002</li> <li>\u8a73\u60c5\uff1ahttps://www.greenbone.net/en/install_use_gce/</li> </ul>"},{"location":"level101/security/network_security/#wireshark","title":"Wireshark","text":"<ul> <li>Wireshark \u662f\u5354\u5b9a\u5206\u6790\u5668\u3002</li> <li>\u8a2d\u8a08\u7528\u4ee5\u89e3\u78bc\u5c01\u5305\u5167\u5bb9\u53ca\u5354\u5b9a\u9593\u95dc\u4fc2\uff0c\u7406\u89e3\u5354\u5b9a\u5e8f\u5217\u3002</li> </ul> <p>Wireshark \u7bc4\u4f8b\uff1a</p> <ol> <li>\u53ea\u64f7\u53d6 UDP \u5c01\u5305\uff1a <code>Capture filter = \"udp\"</code></li> <li> <p>\u53ea\u64f7\u53d6 TCP \u5c01\u5305\uff1a <code>Capture filter = \"tcp\"</code></p> </li> <li> <p>TCP/IP \u4e09\u5411\u4ea4\u63e1\u793a\u610f\uff1a </p> </li> <li> <p>\u4ee5 IP \u904e\u6ffe\uff1a\u986f\u793a\u4f86\u6e90\u6216\u76ee\u7684\u70ba\u8a72 IP \u7684\u5c01\u5305 <code>ip.addr == 192.168.1.1</code></p> </li> <li> <p>\u4ee5\u4f86\u6e90 IP \u904e\u6ffe\uff1a <code>ip.src == 192.168.0.1</code></p> </li> <li> <p>\u4ee5\u76ee\u7684 IP \u904e\u6ffe\uff1a <code>ip.dst == 192.168.0.1</code></p> </li> <li> <p>\u4ee5\u5b50\u7db2\u904e\u6ffe\uff1a\u4f86\u6e90\u6216\u76ee\u7684\u70ba\u5b50\u7db2\u7684\u6d41\u91cf <code>ip.addr = 192.168.0.1/24</code></p> </li> <li> <p>\u4ee5\u5354\u5b9a\u904e\u6ffe\uff1a    dns, http, ftp, arp, ssh, telnet, icmp \u7b49</p> </li> <li> <p>\u6392\u9664\u7279\u5b9a IP\uff1a <code>!ip.addr ==192.168.0.1</code></p> </li> <li> <p>\u5169\u5b50\u7db2\u9593\u6d41\u91cf\uff1a <code>ip.addr == 192.168.0.1/24 and ip.addr == 192.168.1.1/24</code></p> </li> <li> <p>\u5169\u5de5\u4f5c\u7ad9\u9593\u6d41\u91cf\uff1a <code>ip.addr == 192.168.0.1 and ip.addr == 192.168.0.2</code></p> </li> <li> <p>MAC \u904e\u6ffe\uff1a <code>eth.addr = 00:50:7f:c5:b6:78</code></p> </li> <li> <p>TCP \u57e0\u904e\u6ffe\uff1a <code>tcp.port == 80</code></p> </li> <li> <p>TCP \u57e0\u4f86\u6e90\u904e\u6ffe\uff1a <code>tcp.srcport == 80</code></p> </li> <li> <p>TCP \u57e0\u76ee\u7684\u904e\u6ffe\uff1a <code>tcp.dstport == 80</code></p> </li> <li> <p>\u641c\u5c0b\u4f7f\u7528\u8005\u4ee3\u7406\uff1a <code>http.user_agent contains Firefox</code>     \u6392\u9664\u689d\u4ef6\uff1a<code>!http.user_agent contains || !http.user_agent contains Chrome</code></p> </li> <li> <p>\u904e\u6ffe\u5ee3\u64ad\u6d41\u91cf\uff1a <code>!(arp or icmp or dns)</code></p> </li> <li> <p>IP \u8207\u57e0\u540c\u6642\u904e\u6ffe\uff1a <code>tcp.port == 80 &amp;&amp; ip.addr == 192.168.0.1</code></p> </li> <li> <p>\u904e\u6ffe HTTP GET \u8acb\u6c42\uff1a <code>http.request</code></p> </li> <li> <p>\u904e\u6ffe\u6240\u6709 HTTP GET \u8acb\u6c42\u53ca\u56de\u61c9\uff1a <code>http.request or http.response</code></p> </li> <li> <p>\u904e\u6ffe\u4e09\u5411\u4ea4\u63e1\u5c01\u5305\uff1a <code>tcp.flags.syn==1 or (tcp.seq==1 and tcp.ack==1 and tcp.len==0 and tcp.analysis.initial_rtt)</code></p> </li> <li> <p>\u4f9d\u6a94\u6848\u985e\u578b\u641c\u5c0b\uff1a <code>frame contains \u201c(attachment|tar|exe|zip|pdf)\u201d</code></p> </li> <li> <p>\u4f9d\u95dc\u9375\u5b57\u641c\u5c0b\u6d41\u91cf\uff1a <code>tcp contains facebook</code> <code>frame contains facebook</code></p> </li> <li> <p>\u5075\u6e2c SYN \u6d2a\u6cdb\uff1a <code>tcp.flags.syn == 1 and tcp.flags.ack == 0</code></p> </li> </ol> <p>Wireshark \u6df7\u96dc\u6a21\u5f0f</p> <ul> <li>\u9810\u8a2d Wireshark \u53ea\u64f7\u53d6\u767c\u5f80\u53ca\u4f86\u6e90\u662f\u672c\u6a5f\u7684\u5c01\u5305\u3002\u555f\u7528\u64f7\u53d6\u8a2d\u5b9a\u4e2d\u7684\u6df7\u96dc\u6a21\u5f0f\uff0c\u53ef\u64f7\u53d6 LAN \u4e2d\u7684\u5927\u90e8\u5206\u6d41\u91cf\u3002</li> </ul>"},{"location":"level101/security/network_security/#dumpcap","title":"Dumpcap","text":"<ul> <li>Dumpcap \u662f\u7db2\u8def\u6d41\u91cf\u64f7\u53d6\u5de5\u5177\uff0c\u80fd\u64f7\u53d6\u5c01\u5305\u4e26\u5beb\u81f3\u6a94\u6848\uff0c\u9810\u8a2d\u683c\u5f0f\u662f <code>pcapng</code>\uff08Wireshark \u7684\u64f7\u53d6\u683c\u5f0f\uff09\u3002</li> <li>\u9810\u8a2d\u64f7\u53d6\u7b2c\u4e00\u53ef\u7528\u7db2\u8def\u4ecb\u9762\uff0c\u7528 <code>pcap</code> \u51fd\u5f0f\u5eab\u64f7\u53d6\u5c01\u5305\u8207\u6642\u9593\u6233\u8a18\u3002</li> <li>\u652f\u63f4\u9577\u6642\u9593\u64f7\u53d6\u4e26\u5099\u6709\u904e\u6ffe\u689d\u4ef6\u3002</li> <li>\u53ef\u7531 Wireshark \u6307\u4ee4\u884c\u5de5\u5177 <code>dumpcap.exe</code> \u4f7f\u7528\u3002</li> </ul>"},{"location":"level101/security/network_security/#daemonlogger","title":"DaemonLogger","text":"<ul> <li>DaemonLogger \u662f\u5c08\u70ba\u7db2\u8def\u8207\u7cfb\u7d71\u7ba1\u7406\u74b0\u5883\u8a2d\u8a08\u7684\u5c01\u5305\u8a18\u9304\u61c9\u7528\u7a0b\u5f0f\u3002</li> <li>\u512a\u9ede\u662f\u64cd\u4f5c\u7c21\u4fbf\uff0c\u6307\u5b9a\u4ecb\u9762\u5373\u53ef\u958b\u59cb\u64f7\u53d6\u4e26\u6301\u7e8c\u8a18\u9304\u3002</li> <li>\u64f7\u53d6\u6eff 2 GB \u5f8c\u81ea\u52d5\u5efa\u7acb\u65b0\u6a94\uff0c\u76f4\u5230\u7a0b\u5f0f\u505c\u6b62\u3002</li> </ul>"},{"location":"level101/security/network_security/#netsniff-ng","title":"netsniff-ng","text":"<ul> <li>netsniff-ng \u662f\u9ad8\u6548\u80fd\u5c01\u5305\u64f7\u53d6\u5de5\u5177\u3002</li> <li>\u4e0d\u540c\u65bc\u5176\u4ed6\u5de5\u5177\u4f9d\u8cf4 <code>libpcap</code>\uff0cnetsniff-ng \u5229\u7528\u96f6\u8907\u88fd\u6a5f\u5236\uff08zero-copy\uff09\u64f7\u53d6\u5c01\u5305\uff0c\u9069\u5408\u9ad8\u6d41\u91cf\u9023\u7d50\u3002</li> <li>\u64f7\u53d6\u6307\u4ee4\u7bc4\u4f8b\uff1a</li> </ul> <pre><code>netsniff-ng \u2013i eth1 \u2013o data.pcap\n</code></pre>"},{"location":"level101/security/network_security/#netflow","title":"NetFlow","text":"<ul> <li>NetFlow \u662f Cisco \u65bc 1996 \u5e74\u5f15\u5165\u7684\u529f\u80fd\uff0c\u53ef\u6536\u96c6\u9032\u51fa\u4ecb\u9762\u7684 IP \u6d41\u91cf\u8cc7\u6599\u3002\u900f\u904e\u5206\u6790\uff0c\u7db2\u7ba1\u80fd\u77ad\u89e3\u983b\u5bec\u4f86\u6e90\u3001\u76ee\u7684\u3001\u5206\u985e\u548c\u64c1\u585e\u6210\u56e0\u3002</li> <li>NetFlow \u67b6\u69cb\u5305\u62ec\u4e09\u8981\u7d20\uff1a</li> <li>\u6d41\u91cf\u532f\u51fa\u5668\uff1a\u5c07\u5c01\u5305\u5f59\u6574\u6210\u6d41\u91cf\u8cc7\u6599\uff0c\u9001\u81f3\u532f\u51fa\u6536\u96c6\u5668\u3002</li> <li>\u6d41\u91cf\u6536\u96c6\u5668\uff1a\u63a5\u6536\u3001\u5132\u5b58\u4e26\u9810\u8655\u7406\u6d41\u91cf\u8cc7\u6599\u3002</li> <li>\u5206\u6790\u61c9\u7528\u7a0b\u5f0f\uff1a\u91dd\u5c0d\u5165\u4fb5\u5075\u6e2c\u6216\u6d41\u91cf\u6a19\u5b9a\u7b49\u76ee\u7684\u5206\u6790\u8cc7\u6599\u3002</li> <li>\u652f\u63f4 NetFlow \u7684\u8def\u7531\u5668\u53ca\u4ea4\u63db\u5668\u53ef\u91dd\u5c0d\u555f\u7528\u4ecb\u9762\u6536\u96c6 IP \u6d41\u91cf\u7d71\u8a08\uff0c\u4e26\u9001\u51fa NetFlow \u8a18\u9304\uff0c\u901a\u5e38\u9001\u81f3\u5c08\u7528\u5206\u6790\u4f3a\u670d\u5668\u3002</li> </ul>"},{"location":"level101/security/network_security/#ids","title":"\u5165\u4fb5\u5075\u6e2c\u7cfb\u7d71\uff08IDS\uff09","text":"<ul> <li>IDS \u80fd\u5075\u6e2c\u74b0\u5883\u4e2d\u7684\u5b89\u5168\u4e8b\u4ef6\uff0c\u4f46\u4e0d\u963b\u64cb\u4e8b\u4ef6\u3002  </li> <li>IDS \u611f\u6e2c\u5668\u53ef\u70ba\u8edf\u9ad4\u6216\u786c\u9ad4\uff0c\u7528\u65bc\u6536\u96c6\u4e26\u5206\u6790\u7db2\u8def\u6d41\u91cf\u3002\u985e\u578b\u5206\u70ba\u7db2\u8def\u578b IDS \u548c\u4e3b\u6a5f\u578b IDS\u3002</li> <li>\u4e3b\u6a5f\u578b IDS \u70ba\u5b89\u88dd\u65bc\u4f3a\u670d\u5668\u7684\u4ee3\u7406\uff0c\u4ee5\u4f4e\u8cc7\u6e90\u76e3\u63a7\u4f5c\u696d\u7cfb\u7d71\u3002</li> <li>\u7db2\u8def\u578b IDS \u53ef\u5d4c\u5165\u7db2\u8def\u8a2d\u5099\u3001\u7368\u7acb\u88dd\u7f6e\u6216\u6a21\u7d44\uff0c\u76e3\u63a7\u7db2\u8def\u6d41\u91cf\u3002</li> </ul> <p>\u57fa\u65bc\u7279\u5fb5\u7684 IDS</p> <ul> <li>\u76e3\u63a7\u6d41\u91cf\uff0c\u82e5\u5075\u6e2c\u5230\u5df2\u77e5\u60e1\u610f\u4e8b\u4ef6\u5373\u767c\u8b66\u5831\u3002</li> <li>\u85c9\u7531\u8207\u5df2\u77e5\u653b\u64ca\u6a21\u5f0f\u8cc7\u6599\u5eab\u6bd4\u5c0d\u8cc7\u6599\u6d41\u800c\u9054\u6210\u3002</li> <li>\u9019\u4e9b\u7279\u5fb5\u660e\u78ba\u5b9a\u7fa9\u54ea\u4e9b\u6d41\u91cf\u6216\u884c\u70ba\u8996\u70ba\u60e1\u610f\u3002</li> <li>\u7279\u5fb5\u5f0f\u5075\u6e2c\u5341\u591a\u5e74\u4f86\u4e00\u76f4\u662f\u7db2\u8def\u9632\u79a6\u4e3b\u5e79\uff0c\u985e\u4f3c\u4e3b\u6a5f\u7aef\u7684\u9632\u6bd2\u65b9\u5f0f\u3002</li> <li>\u6d41\u7a0b\u70ba\uff1a\u5206\u6790\u5e2b\u89c0\u5bdf\u60e1\u610f\u6d3b\u52d5\uff0c\u63d0\u53d6\u6307\u6a19\u4e26\u88fd\u6210\u7279\u5fb5\uff0c\u7576\u6d3b\u52d5\u91cd\u6f14\u5373\u89f8\u767c\u8b66\u5831\u3002</li> <li>\u7bc4\u4f8b\uff1aSNORT\u3001SURICATA\u3002</li> </ul> <p>\u57fa\u65bc\u653f\u7b56\u7684 IDS</p> <ul> <li>\u4e3b\u8981\u662f\u4e3b\u6a5f\u578b IDS\uff0c\u5728\u9055\u53cd\u8a2d\u5b9a\u7684\u5b89\u5168\u653f\u7b56\u6642\u767c\u8b66\u5831\u3002</li> <li>\u653f\u7b56\u4ee3\u8868\u5141\u8a31\u53ca\u7981\u6b62\u884c\u70ba\u3002</li> <li>\u9748\u6d3b\u4e14\u53ef\u5ba2\u88fd\u5316\uff0c\u660e\u78ba\u5b9a\u7fa9\u5141\u8a31\u7684\u884c\u70ba\u3002</li> <li>\u76f8\u8f03\u4e4b\u4e0b\uff0c\u7279\u5fb5\u5f0f\u7cfb\u7d71\u4f9d\u8cf4\u5ee0\u5546\u9810\u8a2d\u8207\u8cc7\u6599\u5eab\u3002</li> </ul> <p>\u57fa\u65bc\u7570\u5e38\u7684 IDS</p> <ul> <li>\u5075\u6e2c\u7570\u5e38\u6d41\u91cf\u504f\u96e2\u6b63\u5e38\u6a21\u5f0f\u7684\u60c5\u6cc1\uff0c\u4f46\u96e3\u4ee5\u754c\u5b9a\u300c\u6b63\u5e38\u300d\u6d41\u91cf\u3002</li> <li>\u6709\u5169\u7a2e\u65b9\u6cd5\uff1a\u7d71\u8a08\u5f0f\u53ca\u975e\u7d71\u8a08\u5f0f\u7570\u5e38\u5075\u6e2c\u3002</li> <li>\u7d71\u8a08\u5f0f\u900f\u904e\u9577\u6642\u9593\u5b78\u7fd2\u6d41\u91cf\u6a21\u5f0f\u3002</li> <li>\u975e\u7d71\u8a08\u5f0f\u5247\u4f9d\u9810\u8a2d\u63a5\u53d7\u7684\u6d41\u91cf\u6a21\u5f0f\u3002</li> </ul> <p>\u4e3b\u6a5f\u578b IDS \u8207\u7db2\u8def\u578b IDS</p> <ul> <li>\u4e3b\u6a5f\u578b IDS \u4fc2\u5206\u6563\u5f0f\u4ee3\u7406\uff0c\u90e8\u7f72\u65bc\u9808\u4fdd\u8b77\u4e4b\u6bcf\u53f0\u4f3a\u670d\u5668\uff0c\u5bc6\u5207\u7d50\u5408\u4f5c\u696d\u7cfb\u7d71\u3002</li> <li>\u7db2\u8def\u578b IDS \u5247\u70ba\u667a\u6167\u5c01\u5305\u76e3\u63a7\u88dd\u7f6e\uff0c\u5f9e\u7db2\u8def\u64f7\u53d6\u8cc7\u6599\uff0c\u8207\u4e3b\u6a5f\u578b IDS \u5f9e\u4e3b\u6a5f\u64f7\u53d6\u8cc7\u6599\u4e0d\u540c\u3002</li> </ul> <p>\u871c\u7f50\uff08Honeypots\uff09</p> <ul> <li>\u4f7f\u7528\u8a98\u990c\u4e3b\u6a5f\u5438\u5f15\u5165\u4fb5\u8005\u6ce8\u610f\uff0c\u907f\u514d\u653b\u64ca\u771f\u6b63\u76ee\u6a19\uff0c\u662f\u9632\u5165\u4fb5\u91cd\u8981\u6280\u5de7\u3002</li> <li>\u871c\u7f50\u53ef\u70ba\u5be6\u9ad4\u8a2d\u5099\u6216\u6a21\u64ec\u7cfb\u7d71\uff0c\u65bc\u5340\u57df\u7db2\u8def\u6216\u6a94\u6848\u7cfb\u7d71\u8a2d\u7f6e\u5177\u6709\u6f0f\u6d1e\u7684\u507d\u88dd\u76ee\u6a19\uff0c\u8a98\u4f7f\u653b\u64ca\u8005\u653b\u64ca\uff0c\u4fdd\u8b77\u771f\u6b63\u8cc7\u7522\u3002</li> <li>\u53ef\u5305\u542b\u4e3b\u6a5f\u3001\u4f3a\u670d\u5668\u3001\u8def\u7531\u5668\u53ca\u6574\u500b\u8a98\u990c LAN\u3002</li> </ul>"},{"location":"level101/security/network_security/#tcpip","title":"\u6f0f\u6d1e\uff08TCP/IP \u5b89\u5168\u554f\u984c\uff09","text":""},{"location":"level101/security/network_security/#ip-ip-spoofing","title":"IP \u6b3a\u9a19\uff08IP Spoofing\uff09","text":"<ul> <li>\u653b\u64ca\u8005\u66ff\u63db\u5c01\u5305\u4e2d\u4f86\u6e90 IP \u4f4d\u5740\uff0c\u6216\u5c11\u898b\u5730\u66ff\u63db\u76ee\u7684 IP \u4f4d\u5740\u3002</li> <li>\u6b3a\u9a19\u901a\u5e38\u7528\u65bc\u91dd\u5c0d\u76ee\u6a19\u4e3b\u6a5f\u767c\u52d5\u653b\u64ca\uff0c\u6216\u89f8\u767c\u963b\u65b7\u670d\u52d9\uff08DoS\uff09\u3002</li> <li>\u5728 DoS \u653b\u64ca\u4e2d\uff0c\u653b\u64ca\u8005\u4fee\u6539 IP \u5c01\u5305\uff0c\u4f7f\u76ee\u6a19\u4e3b\u6a5f\u8aa4\u8a8d\u5c01\u5305\u4f86\u81ea\u53d7\u4fe1\u4efb\u4e3b\u6a5f\u3002\u653b\u64ca\u8005\u9808\u77e5\u4fe1\u4efb\u4e3b\u6a5f IP\uff0c\u4ee5\u6b63\u78ba\u4fee\u6539\u5c01\u5305\u6a19\u982d\uff08\u4f86\u6e90 IP\uff09\u3002</li> </ul> <p>IP \u6b3a\u9a19\u5075\u6e2c\u6280\u8853</p> <ul> <li>\u76f4\u63a5 TTL \u63a2\u6e2c  <ul> <li>\u9001\u5c01\u5305\u81f3\u7591\u4f3c\u6b3a\u9a19 IP \u4e3b\u6a5f\u4e26\u89f8\u767c\u56de\u61c9\uff0c\u6bd4\u8f03\u56de\u61c9 TTL \u8207\u7591\u4f3c\u5c01\u5305 TTL\uff0c\u4e0d\u540c\u5247\u70ba\u6b3a\u9a19\u5c01\u5305\u3002\u6b64\u6cd5\u5728\u653b\u64ca\u8005\u8207\u53d7\u5bb3\u8005\u4f4d\u65bc\u4e0d\u540c\u5b50\u7db2\u6642\u6709\u6548\u3002 </li> </ul> </li> <li>IP \u8b58\u5225\u865f\u6bd4\u5c0d  <ul> <li>\u9001\u63a2\u6e2c\u5c01\u5305\u81f3\u7591\u4f3c\u6b3a\u9a19\u4e3b\u6a5f\u4e26\u89f8\u767c\u56de\u61c9\uff0c\u6bd4\u5c0d IP ID \u662f\u5426\u63a5\u8fd1\u5c01\u5305\u503c\uff0c\u4e0d\u7b26\u5373\u70ba\u6b3a\u9a19\u3002</li> </ul> </li> <li>TCP \u6d41\u91cf\u63a7\u5236\u6cd5  <ul> <li>\u6b3a\u9a19\u8005\u7121\u6cd5\u63a5\u6536\u76ee\u6a19\u7684 SYN-ACK \u56de\u61c9\uff0c\u56e0\u800c\u4e0d\u6703\u56de\u61c9\u64c1\u585e\u8996\u7a97\u8abf\u6574\u3002\u82e5\u63a5\u6536\u7aef\u6d41\u91cf\u6301\u7e8c\uff0c\u8d85\u904e\u8996\u7a97\u5bb9\u91cf\uff0c\u53ef\u80fd\u70ba\u6b3a\u9a19\u3002</li> </ul> </li> </ul>"},{"location":"level101/security/network_security/#covert-channel","title":"\u96b1\u5bc6\u901a\u9053\uff08Covert Channel\uff09","text":"<ul> <li>\u6307\u975e\u6cd5\u5229\u7528\u7cfb\u7d71\u4e4b\u6e9d\u901a\u7ba1\u9053\uff0c\u5728\u672a\u7b26\u5408\u5b89\u5168\u898f\u7bc4\u7684\u60c5\u6cc1\u4e0b\u50b3\u9001\u8cc7\u8a0a\u3002</li> <li> <p>TCP/IP \u4e2d\u53ef\u5229\u7528\u90e8\u5206\u5354\u5b9a\u5efa\u7acb\u96b1\u5bc6\u901a\u9053\u79d8\u5bc6\u50b3\u8f38\u8cc7\u6599\u3002</p> <ul> <li>\u4f8b\u5982 ICMP \u5354\u5b9a\uff0cInternet \u5c64\u7684ICMP Echo Request\u6709\u56fa\u5b9a 8 \u5b57\u7bc0\u6a19\u982d\u8207 56 \u5b57\u7bc0\u6709\u6548\u8ca0\u8f09\uff0c\u6309\u898f\u7bc4\u6709\u6548\u8ca0\u8f09\u4e0d\u8a72\u5305\u542b\u8cc7\u6599\uff0c\u4f46\u653b\u64ca\u8005\u6703\u4fee\u6539\u5c01\u5305\u4ee5\u651c\u5e36\u79d8\u5bc6\u8cc7\u6599\uff0c\u4f7f\u5c01\u5305\u5927\u5c0f\u589e\u52a0\uff0c\u4e14\u5354\u5b9a\u68e7\u7121\u63a7\u5236\u6a5f\u5236\u963b\u6b62\u6b64\u884c\u70ba\u3002\u653b\u64ca\u8005\u4ee5\u6b64\u5efa\u7acb\u5ba2\u6236\u7aef-\u4f3a\u670d\u5668\u7a0b\u5f0f\u7aca\u53d6\u6a5f\u5bc6\uff0c\u7121\u6cd5\u8f15\u6613\u8b66\u793a\u7cfb\u7d71\u7ba1\u7406\u54e1\u3002</li> <li> <p>ICMP \u901a\u9053\u4ea6\u53ef\u7528\u65bc\u5176\u4ed6\u5834\u5408\uff0c\u5982 1996 \u5e74 Loki C&amp;C \u5de5\u5177\u7528 ICMP \u5efa\u7acb\u52a0\u5bc6\u4e92\u52d5\u6703\u8a71\u3002</p> </li> <li> <p>\u76ee\u524d\u8a31\u591a IDS/IPS \u5df2\u53ef\u5075\u6e2c ICMP \u96a7\u9053\u3002</p> <ul> <li>\u6aa2\u67e5 Echo \u56de\u61c9\u8207\u8acb\u6c42\u662f\u5426\u8ca0\u8f09\u76f8\u7b26\u3002</li> <li>\u76e3\u63a7 ICMP \u6d41\u91cf\u91cf\u7d1a\u662f\u5426\u8d85\u904e\u53ef\u63a5\u53d7\u95be\u503c\u3002</li> </ul> </li> </ul> </li> </ul>"},{"location":"level101/security/network_security/#ip-ip-fragmentation-attack","title":"IP \u5206\u6bb5\u653b\u64ca\uff08IP Fragmentation Attack\uff09","text":"<ul> <li>TCP/IP\uff08\u7279\u5225\u662f IP\uff09\u5354\u5b9a\u5141\u8a31\u5c01\u5305\u5206\u6bb5\uff0c\u5229\u7528\u5206\u6bb5\u504f\u79fb\u6b04\u4f4d\u8ffd\u8e64\u4e0d\u540c\u7247\u6bb5\u3002</li> <li>\u76ee\u7684\u7aef\u4f9d\u504f\u79fb\u6b04\u4f4d\u5c07\u5206\u6bb5\u91cd\u7d44\u3002</li> <li>\u5404\u7247\u6bb5\u64c1\u6709\u76f8\u540c\u8b58\u5225\u6b04\u4f4d\u503c\uff0c\u504f\u79fb\u6b04\u4f4d\u6a19\u793a\u7247\u6bb5\u5728\u539f\u59cb\u5c01\u5305\u4e2d\u7684\u4f4d\u7f6e\u3002</li> <li>\u591a\u6578\u8def\u7531\u5668\u8207\u9632\u706b\u7246\u4e0d\u8ca0\u8cac\u5206\u7d44\u91cd\u7d44\u3002\u6b63\u5e38\u5206\u6bb5\u4e92\u4e0d\u91cd\u758a\uff0c\u4f46\u653b\u64ca\u8005\u53ef\u88fd\u9020\u4eba\u70ba\u91cd\u758a\u7684\u5206\u6bb5\uff0c\u8aa4\u5c0e\u8def\u7531\u5668\u8207\u9632\u706b\u7246\u3002</li> <li>\u5c01\u5305\u901a\u5e38\u5c3a\u5bf8\u5c0f\u4e14\u6548\u7387\u4f4e\uff0c\u5c0d\u7aef\u4e5f\u96e3\u8655\u7406\u3002</li> <li>\u8209\u4f8b\uff1aPing of Death\uff08PoD\uff09\u653b\u64ca\uff0c\u4ee5\u904e\u5927\u91cd\u7d44\u5c01\u5305\u9020\u6210\u76ee\u6a19\u7cfb\u7d71\u5d29\u6f70\u3002</li> </ul> <p>TCP \u6a19\u8a8c\u4f4d</p> <ul> <li>TCP \u8cc7\u6599\u4ea4\u63db\u9808\u4e09\u5411\u4ea4\u63e1\u5b8c\u6210\uff0c\u904e\u7a0b\u4e2d\u4f7f\u7528\u591a\u7a2e\u6a19\u8a8c\u4f4d\u5f71\u97ff\u5c01\u5305\u8655\u7406\u3002</li> <li>TCP \u6a19\u982d\u4e2d\u6709 6 \u4f4d\u6a19\u8a8c\uff0c\u5206\u5225\u662f\uff1a\u7dca\u6025\u6307\u6a19\uff08URG\uff09\u3001\u78ba\u8a8d\uff08ACK\uff09\u3001\u63a8\u9001\uff08PSH\uff09\u3001\u91cd\u8a2d\u9023\u7dda\uff08RST\uff09\u3001\u540c\u6b65\u5e8f\u5217\u865f\uff08SYN\uff09\u8207\u9023\u7dda\u7d50\u675f\uff08FIN\uff09\u3002 </li> <li>\u6feb\u7528\u6216\u975e\u6cd5\u7d44\u5408\u9019\u4e9b\u6a19\u8a8c\u53ef\u7528\u65bc DoS \u653b\u64ca\uff0c\u9020\u6210\u4f3a\u670d\u5668\u6216\u7db2\u7ad9\u5d29\u6f70\u3002</li> </ul> <pre><code>| SYN  | FIN  | PSH   | RST  | \u5408\u6cd5\u6027      |  \n|------|------|-------|------|-------------|\n| 1    | 1    | 0     | 0    | \u975e\u6cd5\u7d44\u5408    |\n| 1    | 1    | 1     | 0    | \u975e\u6cd5\u7d44\u5408    |\n| 1    | 1    | 0     | 1    | \u975e\u6cd5\u7d44\u5408    |\n| 1    | 1    | 1     | 1    | \u975e\u6cd5\u7d44\u5408    |\n</code></pre> <ul> <li>\u653b\u64ca\u8005\u6703\u7de8\u5beb\u7279\u88fd\u7a0b\u5f0f\uff0c\u7522\u751f\u4e0a\u8ff0\u975e\u6cd5\u7d44\u5408\uff0c\u5be6\u73fe\u6709\u6548\u7684 DoS \u653b\u64ca\u3002</li> </ul> <p>SYN \u6df9\u6d2a</p> <ul> <li>\u4e09\u5411\u4ea4\u63e1\u4e2d\u7b49\u5f85\u9650\u5236\u554f\u984c\u88ab\u653b\u64ca\u8005\u5229\u7528\u5c0e\u81f4\u670d\u52d9\u7671\u7613\u3002</li> <li>\u653b\u64ca\u8005\u767c\u8d77\u5927\u91cf\u9023\u7dda\u8acb\u6c42\uff08\u901a\u5e38\u7528\u507d\u9020\u7684 IP\uff09\u3002</li> <li>\u76ee\u6a19\u4f3a\u670d\u5668\u9001\u51fa SYN+ACK \u56de\u61c9\uff0c\u4f46\u672a\u6536\u5230\u78ba\u8a8d\uff0c\u9020\u6210\u534a\u958b\u9023\u7dda\u7d2f\u7a4d\u3002</li> <li>\u4f3a\u670d\u5668\u6709\u6700\u5927\u4f75\u767c\u9023\u7dda\u6578\u9650\u5236\uff0c\u5c0e\u81f4\u7121\u6cd5\u518d\u63a5\u53d7\u65b0\u9023\u7dda\u8acb\u6c42\u3002</li> </ul> <p>FIN \u653b\u64ca</p> <ul> <li>\u6b63\u5e38\u5de5\u4f5c\u6642\u767c\u9001 FIN \u8868\u793a\u7d50\u675f\u9023\u7dda\uff0c\u4e26\u9700\u5f7c\u6b64\u78ba\u8a8d\u3002</li> <li>\u653b\u64ca\u6642\u70ba\u507d\u9020\u542b\u6b63\u78ba\u5e8f\u5217\u865f\u7684 FIN \u5c01\u5305\uff0c\u4f7f\u76ee\u6a19\u4e3b\u6a5f\u8a8d\u4f5c\u6709\u6548\u8acb\u6c42\u3002  </li> <li>\u9019\u7a2e\u5e8f\u865f\u9810\u6e2c\u653b\u64ca\u5229\u7528\u4e86 TCP \u5e8f\u865f\u53ef\u5075\u6e2c\u6027\uff0c\u5c0e\u81f4\u9023\u7dda\u5d29\u6f70\u3002</li> </ul>"},{"location":"level101/security/network_security/#connection-hijacking","title":"\u9023\u7dda\u52ab\u6301\uff08Connection Hijacking\uff09","text":"<ul> <li>\u6388\u6b0a\u4f7f\u7528\u8005\uff08\u54e1\u5de5 X\uff09\u900f\u904e TCP \u6703\u8a71\u5411\u7db2\u7ad9\u4f3a\u670d\u5668\u767c\u9001 HTTP \u8acb\u6c42\u3002</li> <li>\u4f3a\u670d\u5668\u63a5\u53d7\u5c01\u5305\u9700\u7b26\u5408\u6b63\u78ba SEQ/ACK \u5e8f\u865f\u4ee5\u5340\u5206\u6703\u8a71\uff0c\u4fdd\u8b49\u5230\u8a0a\u606f\u5b8c\u6574\u6027\u3002  </li> <li>\u653b\u64ca\u8005\u507d\u9020\u54e1\u5de5 IP\uff0c\u5229\u7528\u6b63\u78ba SEQ/ACK \u7d44\u5408\u5c07\u5c01\u5305\u9001\u5f80\u4f3a\u670d\u5668\uff0c\u9020\u6210\u4f3a\u670d\u5668\u5c07\u653b\u64ca\u8005\u8a8d\u5b9a\u70ba\u54e1\u5de5\uff0c\u4e26\u5ffd\u7565\u771f\u5be6\u54e1\u5de5\u7684\u5c01\u5305\u3002\u6700\u7d42\u653b\u64ca\u8005\u63a5\u7ba1\u9023\u7dda\uff0c\u54e1\u5de5\u88ab\u8feb\u65b7\u7dda\u3002</li> </ul> <p>\u6b65\u9a5f\uff1a</p> <ol> <li>\u653b\u64ca\u8005\u4f7f\u7528\u7db2\u8def\u76e3\u63a7\u5de5\u5177\u89c0\u5bdf\u54e1\u5de5 X \u8207\u7db2\u7ad9\u9593\u6d41\u91cf\u3002</li> <li>\u4f3a\u670d\u5668\u6703\u56de\u61c9\u54e1\u5de5 X\u3002</li> <li>\u54e1\u5de5 X \u56de\u61c9\u78ba\u8a8d\u5c01\u5305\u3002</li> <li>\u653b\u64ca\u8005\u767c\u51fa\u507d\u9020\u5c01\u5305\u5230\u4f3a\u670d\u5668\u3002</li> <li>\u4f3a\u670d\u5668\u56de\u61c9\u653b\u64ca\u8005\uff0c\u653b\u64ca\u8005\u6839\u64da\u56de\u61c9\u8abf\u6574 SEQ/ACK\uff0c\u6210\u529f\u63a5\u7ba1\u6703\u8a71\uff0c\u5c0e\u81f4\u54e1\u5de5\u6703\u8a71\u4e2d\u65b7\u3002</li> <li>\u653b\u64ca\u8005\u7e7c\u7e8c\u8207\u4f3a\u670d\u5668\u901a\u8a0a\u3002</li> <li>\u4f3a\u670d\u5668\u56de\u61c9\u4ee5\u78ba\u8a8d\u8cc7\u6599\u9001\u9054\u3002</li> <li>\u653b\u64ca\u8005\u7dad\u6301\u6703\u8a71\u6d41\u4e26\u5728\u9069\u7576\u6642\u6a5f\u767c\u9001 FIN \u7d50\u675f\u6703\u8a71\u3002</li> </ol>"},{"location":"level101/security/network_security/#buffer-overflow","title":"\u7de9\u885d\u5340\u6ea2\u4f4d\uff08Buffer Overflow\uff09","text":"<ul> <li>\u7de9\u885d\u5340\u662f\u7528\u4f86\u66ab\u5b58\u7a0b\u5f0f\u78bc\u8207\u8cc7\u6599\u7684\u8a18\u61b6\u9ad4\u5340\u57df\u3002</li> <li>\u7576\u7a0b\u5f0f\u8a66\u5716\u5beb\u5165\u8d85\u904e\u7de9\u885d\u5340\u5bb9\u91cf\u7684\u8cc7\u6599\u6642\uff0c\u6703\u767c\u751f\u6ea2\u4f4d\u3002</li> <li>\u6ea2\u4f4d\u6703\u8b93\u984d\u5916\u8cc7\u6599\u8986\u5beb\u9130\u8fd1\u6709\u6548\u8cc7\u6599\uff0c\u9020\u6210\u4e0d\u826f\u5f71\u97ff\u3002</li> </ul> <p>\u6a5f\u5236\uff1a</p> <ul> <li>\u7de9\u885d\u5340\u6ea2\u4f4d\u6709\u591a\u7a2e\u578b\u614b\uff0c\u6700\u7d42\u76ee\u6a19\u70ba\u63a7\u5236\u7279\u6b0a\u7a0b\u5f0f\uff0c\u751a\u81f3\u4e3b\u6a5f\u3002\u653b\u64ca\u9700\uff1a</li> <li>\u8b93\u60e1\u610f\u7a0b\u5f0f\u78bc\u51fa\u73fe\u65bc\u7a0b\u5f0f\u78bc\u4f4d\u5740\u7a7a\u9593\u3002</li> <li>\u4f7f\u7a0b\u5f0f\u6d41\u7a0b\u8df3\u8f49\u57f7\u884c\u60e1\u610f\u7a0b\u5f0f\uff0c\u4e26\u8f09\u5165\u5408\u9069\u53c3\u6578\u3002</li> <li>\u7b2c\u4e00\u4efb\u52d9\u53ef\u900f\u904e\u6ce8\u5165\u60e1\u610f\u7a0b\u5f0f\u5230\u76ee\u6a19\u7a7a\u9593\u6216\u5229\u7528\u73fe\u6709\u7a0b\u5f0f\u78bc\u4e26\u5fae\u8abf\u53c3\u6578\u9054\u6210\u3002</li> <li>\u7b2c\u4e8c\u4efb\u52d9\u8f03\u8907\u96dc\uff0c\u9700\u4fee\u6539\u7a0b\u5f0f\u63a7\u5236\u6d41\u7a0b\u3002</li> </ul> <p>\u5c0d\u7b56\uff1a</p> <ul> <li>\u6700\u91cd\u8981\u7684\u662f\u7de8\u78bc\u6b63\u78ba\u7121\u8aa4\u3002</li> <li>\u53e6\u4e00\u6cd5\u662f\u5c07\u8cc7\u6599\u7de9\u885d\u5340\u8a2d\u70ba\u4e0d\u53ef\u57f7\u884c\u5730\u5740\u7a7a\u9593\uff0c\u9632\u6b62\u60e1\u610f\u7a0b\u5f0f\u78bc\u57f7\u884c\u3002</li> </ul>"},{"location":"level101/security/network_security/#_9","title":"\u66f4\u591a\u6b3a\u9a19\u6280\u8853","text":"<p>\u4f4d\u5740\u89e3\u6790\u5354\u5b9a\u6b3a\u9a19\uff08ARP Spoofing\uff09</p> <ul> <li>ARP \u7528\u65bc\u5c07\u5df2\u77e5 IP \u5730\u5740\u5c0d\u61c9\u81f3 MAC \u5730\u5740\u3002</li> <li>\u653b\u64ca\u8005\u901a\u904e\u507d\u9020 Host B \u7684 MAC \u4f4d\u5740\uff0c\u4f7f\u672c\u5730\u7db2\u8def\u4e2d\u7684\u4efb\u610f\u8a2d\u5099\u8aa4\u4fe1\u653b\u64ca\u8005\u70ba\u53d7\u4fe1\u4efb\u7684 Host B\u3002\u5728\u4ea4\u63db\u5668\u74b0\u5883\u4e0b\u6b64\u65b9\u6cd5\u5e38\u898b\u3002</li> <li>\u9632\u7bc4\u65b9\u6cd5\u5305\u62ec\u8a2d\u7f6e\u975c\u614b ARP \u8868\u683c\u65bc\u6240\u6709\u4e3b\u6a5f\u8207\u8def\u7531\u5668\uff0c\u6216\u4f7f\u7528 ARP \u4f3a\u670d\u5668\u66ff\u76ee\u6a19\u4e3b\u6a5f\u56de\u61c9 ARP \u8acb\u6c42\u3002</li> </ul> <p>DNS \u6b3a\u9a19\uff08DNS Spoofing\uff09</p> <ul> <li>\u653b\u64ca\u8005\u4f7f\u76ee\u6a19\u6a5f\u5668\u8aa4\u4ee5\u70ba\u6b32\u9023\u7dda\u7684\u7cfb\u7d71\u70ba\u653b\u64ca\u8005\u4e3b\u6a5f\u3002</li> <li>\u900f\u904e\u4fee\u6539 DNS \u8a18\u9304\uff0c\u5c07\u4e3b\u6a5f\u540d\u7a31\u5c0d\u61c9\u5230\u653b\u64ca\u8005\u7684 IP \u5730\u5740\u3002\u5df2\u6709\u6574\u500b DNS \u4f3a\u670d\u5668\u906d\u8907\u5beb\u7684\u6848\u4f8b\u3002</li> <li>\u9632\u7bc4 DNS \u6b3a\u9a19\u53ef\u900f\u904e\u53cd\u5411\u67e5\u8a62\uff08Reverse Lookup\uff09\u4f86\u9a57\u8b49 IP \u8207\u540d\u7a31\u3002IP \u8207\u540d\u7a31\u901a\u5e38\u5206\u5225\u5b58\u653e\u65bc\u4e0d\u540c\u4f3a\u670d\u5668\uff0c\u96e3\u4ee5\u540c\u6642\u88ab\u653b\u7834\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/","title":"\u7b2c\u4e09\u90e8\u5206\uff1a\u5a01\u8105\u3001\u653b\u64ca\u8207\u9632\u79a6","text":""},{"location":"level101/security/threats_attacks_defences/#dns","title":"DNS \u4fdd\u8b77","text":""},{"location":"level101/security/threats_attacks_defences/#_2","title":"\u66ab\u5b58\u6c61\u67d3\u653b\u64ca","text":"<ul> <li>\u7531\u65bc DNS \u56de\u61c9\u6703\u88ab\u66ab\u5b58\uff0c\u53ef\u4ee5\u91dd\u5c0d\u91cd\u8907\u7684\u8f49\u8b6f\u63d0\u4f9b\u66f4\u5feb\u901f\u7684\u56de\u61c9\u3002DNS \u7684\u8ca0\u67e5\u8a62\u4e5f\u6703\u88ab\u66ab\u5b58\uff0c\u4f8b\u5982\u62fc\u5b57\u932f\u8aa4\u7684\u8a5e\u5f59\uff0c\u4e14\u6240\u6709\u66ab\u5b58\u8cc7\u6599\u6703\u5b9a\u671f\u904e\u671f\u3002</li> <li>\u66ab\u5b58\u6c61\u67d3\u554f\u984c\u51fa\u73fe\u5728\u6240\u8b02\u7684\u300c\u85e5\u5291\u8fb2\u696d\uff08pharming\uff09\u300d\u653b\u64ca\u4e2d\u3002\u6b64\u8853\u8a9e\u7528\u65bc\u63cf\u8ff0\u99ed\u5ba2\u900f\u904e\u507d\u9020 DNS \u6620\u5c04\uff0c\u5c07\u7db2\u7ad9\u6d41\u91cf\u91cd\u65b0\u5c0e\u5411\u5230\u507d\u9020\u7db2\u7ad9\u7684\u653b\u64ca\u3002\u5728\u6b64\u60c5\u6cc1\u4e0b\uff0c\u653b\u64ca\u8005\u8a66\u5716\u5728 DNS \u4e2d\u63d2\u5165\u4e00\u689d\u5047\u7684\u7db2\u57df\u5730\u5740\u8a18\u9304\u3002</li> <li>\u82e5\u4f3a\u670d\u5668\u63a5\u53d7\u4e86\u5047\u7684\u8a18\u9304\uff0c\u66ab\u5b58\u5373\u906d\u6c61\u67d3\uff0c\u5f8c\u7e8c\u5c0d\u8a72\u7db2\u57df\u5730\u5740\u7684\u8acb\u6c42\u5c07\u56de\u50b3\u7531\u653b\u64ca\u8005\u63a7\u5236\u7684\u4f3a\u670d\u5668\u5730\u5740\u3002\u53ea\u8981\u8a72\u5047\u689d\u76ee\u88ab\u4f3a\u670d\u5668\u66ab\u5b58\uff0c\u700f\u89bd\u5668\u6216\u96fb\u5b50\u90f5\u4ef6\u4f3a\u670d\u5668\u5c07\u81ea\u52d5\u5c0e\u5411\u906d\u7ac4\u6539\u7684 DNS \u4f3a\u670d\u5668\u63d0\u4f9b\u7684\u5730\u5740\u3002</li> <li>\u66ab\u5b58\u689d\u76ee\u7684\u5178\u578b\u5b58\u6d3b\u6642\u9593\uff08TTL\uff09\u70ba\u5e7e\u500b\u5c0f\u6642\uff0c\u8db3\u4ee5\u5f71\u97ff\u5927\u91cf\u4f7f\u7528\u8005\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#dnssec","title":"DNSSEC\uff08\u5b89\u5168\u64f4\u5c55\uff09","text":"<ul> <li>\u9577\u9060\u89e3\u6c7a DNS \u554f\u984c\u7684\u65b9\u6cd5\u662f\u8a8d\u8b49\u3002\u82e5\u89e3\u6790\u5668\u7121\u6cd5\u5206\u8fa8\u6709\u6548\u6216\u7121\u6548\u7684\u56de\u61c9\u8cc7\u6599\uff0c\u5247\u9700\u52a0\u5165\u4f86\u6e90\u8a8d\u8b49\u4f86\u9a57\u8b49\u6240\u63a5\u6536\u8cc7\u6599\u8207\u5340\u57df\u7ba1\u7406\u8005\u6240\u8f38\u5165\u8cc7\u6599\u4e00\u81f4\u3002</li> <li>DNS \u5b89\u5168\u64f4\u5c55\uff08DNSSEC\uff09\u9632\u7bc4\u8cc7\u6599\u507d\u9020\u8207\u7834\u58de\uff0c\u4e14\u63d0\u4f9b\u8a8d\u8b49\u4f3a\u670d\u5668\u548c\u8acb\u6c42\u6a5f\u5236\uff0c\u4ee5\u53ca\u78ba\u4fdd\u771f\u5be6\u6027\u8207\u5b8c\u6574\u6027\u7684\u6a5f\u5236\u3002</li> <li>\u5728\u8a8d\u8b49 DNS \u56de\u61c9\u6642\uff0c\u6bcf\u500b DNS \u5340\u57df\u6703\u4ee5\u79c1\u9470\u5c0d\u8cc7\u6599\u7c3d\u7ae0\u3002\u5efa\u8b70\u9810\u5148\u96e2\u7dda\u9032\u884c\u6b64\u7c3d\u7ae0\u3002\u67e5\u8a62\u7279\u5b9a\u8a18\u9304\u6703\u56de\u50b3\u8acb\u6c42\u7684\u8cc7\u6e90\u8a18\u9304\u96c6\uff08RRset\uff09\u4ee5\u53ca\u5176\u7c3d\u7ae0\uff08RRSIG\uff09\u3002\u89e3\u6790\u5668\u518d\u5229\u7528\u9810\u5148\u8a2d\u5b9a\u6216\u900f\u904e DNS \u968e\u5c64\u9375\u8a18\u9304\u5b78\u7fd2\u7684\u516c\u9470\u9032\u884c\u8a8d\u8b49\u3002</li> <li>DNSSEC \u7684\u76ee\u6a19\u662f\u63d0\u4f9b DNS \u56de\u61c9\u7684\u8a8d\u8b49\u8207\u5b8c\u6574\u6027\uff0c\u4e0d\u5305\u542b\u6a5f\u5bc6\u6027\u6216 DDoS \u9632\u8b77\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#bgp","title":"BGP","text":"<ul> <li>BGP \u5373\u908a\u754c\u9598\u9053\u5354\u5b9a\uff08Border Gateway Protocol\uff09\uff0c\u662f\u4e00\u7a2e\u5728\u591a\u500b\u81ea\u6cbb\u7cfb\u7d71\uff08AS\uff09\u9593\u4ea4\u63db\u8def\u7531\u8cc7\u8a0a\u7684\u8def\u7531\u5354\u5b9a\u3002<ul> <li>\u81ea\u6cbb\u7cfb\u7d71\u6307\u64c1\u6709\u76f8\u540c\u7db2\u8def\u653f\u7b56\u4e14\u901a\u5e38\u7531\u55ae\u4e00\u884c\u653f\u6a5f\u69cb\u63a7\u5236\u7684\u4e00\u7d44\u8def\u7531\u5668\u6216\u7db2\u8def\u3002</li> </ul> </li> <li>BGP \u6307\u793a\u8def\u7531\u5668\u5982\u4f55\u9078\u64c7\u4e0b\u4e00\u8df3\u4ee5\u9054\u5230\u76ee\u6a19\u7db2\u8def\u3002</li> <li>BGP \u7528\u65bc\u81ea\u6cbb\u7cfb\u7d71\u5167\u90e8\u8def\u7531\u5668\u9593\uff08\u5167\u90e8\uff09\u53ca\u591a\u81ea\u6cbb\u7cfb\u7d71\u4e4b\u9593\uff08\u5916\u90e8\uff09\u7684\u8cc7\u8a0a\u50b3\u905e\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#bgp_1","title":"BGP \u904b\u4f5c\u539f\u7406","text":"<ul> <li>BGP \u8ca0\u8cac\u5c0b\u627e\u5230\u9054\u76ee\u7684\u5730\u8def\u7531\u5668\u7684\u8def\u5f91\uff0c\u4e14\u9078\u64c7\u7684\u8def\u5f91\u61c9\u70ba\u6700\u77ed\u4e14\u6700\u53ef\u9760\u8005\u3002</li> <li>\u6b64\u6c7a\u7b56\u900f\u904e\u4e00\u7a2e\u7a31\u70ba\u9023\u7d50\u72c0\u614b\uff08Link state\uff09\u7684\u5354\u5b9a\u5b8c\u6210\u3002\u5728\u9023\u7d50\u72c0\u614b\u5354\u5b9a\u4e2d\uff0c\u6bcf\u500b\u8def\u7531\u5668\u5411\u6240\u6709\u5176\u4ed6\u8def\u7531\u5668\u5ee3\u64ad\u5176\u9023\u7d50\u8207 IP \u5b50\u7db2\u72c0\u614b\uff0c\u5404\u8def\u7531\u5668\u6536\u5230\u8cc7\u6599\u5f8c\u5efa\u7acb\u5b8c\u6574\u7684\u7db2\u8def\u62d3\u64b2\u8996\u5716\uff0c\u4e0b\u4e00\u8df3\u8def\u7531\u8868\u57fa\u65bc\u6b64\u8996\u5716\u3002</li> <li>\u9023\u7d50\u72c0\u614b\u5354\u5b9a\u4f7f\u7528\u96fb\u8166\u79d1\u5b78\u9818\u57df\u8457\u540d\u7684 Dijkstra \u6700\u77ed\u8def\u5f91\u6f14\u7b97\u6cd5\uff1a<ul> <li>\u5f9e\u672c\u8def\u7531\u5668\u51fa\u767c\uff0c\u5148\u8003\u91cf\u5230\u76f4\u9023\u9130\u5c45\u7684\u8def\u5f91\u6210\u672c\u3002</li> <li>\u63a5\u8457\u9078\u64c7\u6700\u77ed\u8def\u5f91\u3002</li> <li>\u7136\u5f8c\u91cd\u65b0\u6aa2\u8996\u53ef\u5230\u9054\u7684\u9130\u5c45\uff0c\u66f4\u65b0\u9023\u7d50\u72c0\u614b\u8868\u7684\u6210\u672c\u8cc7\u8a0a\uff0c\u6301\u7e8c\u4f9d\u6b64\u65b9\u5f0f\u76f4\u5230\u6240\u6709\u8def\u7531\u5668\u7686\u88ab\u904d\u6b77\u3002</li> </ul> </li> </ul>"},{"location":"level101/security/threats_attacks_defences/#bgp_2","title":"BGP \u5f31\u9ede","text":"<ul> <li>\u900f\u904e\u7834\u58de BGP \u8def\u7531\u8868\uff0c\u6211\u5011\u5373\u53ef\u5f71\u97ff internet \u4e0a\u7684\u6d41\u91cf\u8def\u5f91\uff01\u6b64\u884c\u70ba\u7a31\u70ba BGP \u52ab\u6301\u3002</li> <li>\u60e1\u610f\u4f86\u6e90\u3001\u932f\u8aa4\u6216\u8def\u7531\u5668\u6ce8\u5165\u865b\u5047\u8def\u7531\u5ee3\u544a\u8cc7\u8a0a\u81f3 BGP \u5206\u6563\u5f0f\u8def\u7531\u8cc7\u6599\u5eab\uff0c\u53ef\u80fd\u5e72\u64fe Internet \u4e3b\u5e79\u904b\u4f5c\u3002</li> <li>\u9ed1\u6d1e\u6d41\u91cf\uff1a</li> <li>\u9ed1\u6d1e\u8def\u7531\u70ba\u901a\u5f80\u300c\u7121\u8655\u300d\u7684\u7db2\u8def\u8def\u7531\uff0c\u7b26\u5408\u6b64\u8def\u7531\u524d\u7db4\u7684\u5c01\u5305\u6703\u88ab\u4e1f\u68c4\u6216\u5ffd\u7565\u3002\u9ed1\u6d1e\u8def\u7531\u50c5\u80fd\u900f\u904e\u76e3\u63a7\u6d41\u5931\u6d41\u91cf\u5075\u6e2c\u3002</li> <li>\u9ed1\u6d1e\u8def\u7531\u662f\u5c0d\u6297\u75c5\u6bd2\u653b\u64ca\u7684\u6700\u4f73\u9632\u79a6\u624b\u6bb5\uff0c\u75c5\u6bd2\u6703\u8b93\u6d41\u91cf\u5f9e\u88ab\u611f\u67d3\u6a5f\u5668\u5f80\u8fd4\u6307\u63ee\u63a7\u5236\u4e3b\u6a5f\u6642\u88ab\u4e1f\u68c4\u3002</li> <li> <p>\u8457\u540d\u7684 BGP \u6ce8\u5165\u653b\u64ca\u66fe\u767c\u751f\u5728 Youtube\u3002</p> </li> <li> <p>\u7bc4\u4f8b\uff1a2008 \u5e74\u5df4\u57fa\u65af\u5766\u4f01\u5716\u5c01\u9396 YouTube\uff0c\u5275\u5efa\u4e00\u689d\u5c0e\u5411\u9ed1\u6d1e\u7684 BGP \u8def\u7531\uff0c\u537b\u610f\u5916\u88ab\u9999\u6e2f ISP \u50b3\u64ad\u5230\u5168\u7403\uff0c\u6578\u767e\u842c\u4eba\u7686\u56e0\u800c\u88ab\u5c0e\u5165\u9ed1\u6d1e\uff0c\u7121\u6cd5\u5b58\u53d6 YouTube\u3002</p> </li> <li>BGP \u6700\u5927\u98a8\u96aa\u662f\u963b\u65b7\u653b\u64ca\uff0c\u5176\u4e2d\u8def\u7531\u5668\u88ab\u5927\u91cf\u5c01\u5305\u6df9\u6c92\uff0c\u5c0e\u81f4\u8cc7\u6e90\u8017\u76e1\u3002\u7576\u7db2\u8def\u627f\u8f09\u904e\u591a BGP \u8a0a\u606f\uff0c\u6703\u4f7f\u8def\u7531\u5668\u63a7\u5236\u8655\u7406\u5668\u3001\u8a18\u61b6\u9ad4\u3001\u8def\u7531\u8868\u904e\u8f09\uff0c\u6e1b\u5c11\u8cc7\u6599\u6d41\u91cf\u983b\u5bec\u3002</li> <li>\u53c3\u8003\u8cc7\u6599\uff1ahttps://medium.com/bugbountywriteup/bgp-the-weak-link-in-the-internet-what-is-bgp-and-how-do-hackers-exploit-it-d899a68ba5bb</li> <li>\u8def\u7531\u632f\u8569\uff08router flapping\uff09\u4e5f\u662f\u4e00\u7a2e\u653b\u64ca\uff0c\u6307 BGP \u8def\u7531\u8868\u5728\u77ed\u6642\u9593\u591a\u6b21\u8b8a\u66f4\uff08\u4f8b\u5982\u6bcf\u79d2 30-50 \u6b21\uff09\uff0c\u64a4\u56de\u548c\u91cd\u65b0\u516c\u544a\u8def\u7531\u3002\u5feb\u901f\u8b8a\u52d5\u6703\u9020\u6210\u8def\u7531\u5668\u904e\u8f09\uff0c\u963b\u7919\u6536\u6582\u6709\u6548\u8def\u7531\uff0c\u5c0d\u4f7f\u7528\u8005\u4f86\u8aaa\u5c0e\u81f4\u8a0a\u606f\u50b3\u9001\u5ef6\u9072\u6216\u5c01\u5305\u907a\u5931\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#bgp_3","title":"BGP \u5b89\u5168\u63aa\u65bd","text":"<ul> <li>\u5efa\u8b70\u4f7f\u7528 BGP \u5c0d\u7b49\u8a8d\u8b49\uff08peer authentication\uff09\u4f5c\u70ba\u9632\u6b62\u60e1\u610f\u884c\u70ba\u7684\u5f37\u529b\u6a5f\u5236\u3002<ul> <li>\u8a8d\u8b49\u6a5f\u5236\u5305\u62ec\u7db2\u8def\u5354\u5b9a\u5b89\u5168\u6027\uff08IPsec\uff09\u6216 BGP MD5 \u9a57\u8b49\u3002</li> </ul> </li> <li>\u53e6\u4e00\u65b9\u6cd5\u70ba\u524d\u7db4\u9650\u5236\uff08prefix limits\uff09\uff0c\u9632\u6b62\u8def\u7531\u8868\u586b\u6eff\u3002\u8def\u7531\u5668\u53ef\u8a2d\u5b9a\u5728\u9130\u5c45\u8d85\u904e\u9810\u8a2d\u8def\u7531\u524d\u7db4\u6578\u91cf\u6642\uff0c\u505c\u7528\u6216\u7d42\u6b62 BGP \u5c0d\u7b49\u9023\u7dda\u4e26\u767c\u51fa\u8b66\u793a\u3002</li> <li>IETF \u6b63\u7a4d\u6975\u6539\u9032\u6b64\u9818\u57df\u6280\u8853\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_3","title":"\u7db2\u9801\u653b\u64ca","text":""},{"location":"level101/security/threats_attacks_defences/#http","title":"HTTP \u56de\u61c9\u5206\u5272\u653b\u64ca","text":"<ul> <li>HTTP \u56de\u61c9\u5206\u5272\u653b\u64ca\u767c\u751f\u5728\u4f3a\u670d\u5668\u8173\u672c\u672a\u59a5\u5584\u6de8\u5316\u5373\u5d4c\u5165\u7528\u6236\u8cc7\u6599\u81f3 HTTP \u56de\u61c9\u6a19\u982d\u6642\u3002</li> <li>\u5e38\u898b\u65bc\u5c07\u7528\u6236\u8cc7\u6599\u5d4c\u5165\u91cd\u5b9a\u5411\u56de\u61c9\uff08HTTP \u72c0\u614b\u78bc 3xx\uff09\u7684 URL \u4e2d\uff0c\u6216\u5728\u56de\u61c9\u8a2d\u5b9a Cookie \u6642\u5c07\u7528\u6236\u8cc7\u6599\u5d4c\u5165 Cookie \u540d\u7a31\u6216\u503c\u3002</li> <li>HTTP \u56de\u61c9\u5206\u5272\u53ef\u88ab\u7528\u65bc\u7db2\u9801\u7de9\u5b58\u6295\u6bd2\u53ca\u8de8\u7db2\u7ad9\u8173\u672c\uff08XSS\uff09\u653b\u64ca\u3002</li> <li>\u653b\u64ca\u8005\u85c9\u7531\u55ae\u4e00 HTTP \u8acb\u6c42\u5f37\u8feb\u7db2\u9801\u4f3a\u670d\u5668\u7522\u751f\u5169\u500b HTTP \u56de\u61c9\u8f38\u51fa\u6d41\uff0c\u76ee\u6a19\u5c07\u6b64\u8996\u70ba\u5169\u4efd\u56de\u61c9\u800c\u975e\u4e00\u4efd\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#csrf-xsrf","title":"\u8de8\u7ad9\u8acb\u6c42\u507d\u9020\uff08CSRF \u6216 XSRF\uff09","text":"<ul> <li>\u8de8\u7ad9\u8acb\u6c42\u507d\u9020\u653b\u64ca\u8a98\u9a19\u53d7\u5bb3\u8005\u700f\u89bd\u5668\u5411\u8106\u5f31\u7db2\u7ad9\u767c\u51fa\u6307\u4ee4\u3002</li> <li>\u8106\u5f31\u6027\u6e90\u81ea\u700f\u89bd\u5668\u6703\u81ea\u52d5\u5305\u542b\u7528\u6236\u8a8d\u8b49\u8cc7\u6599\u3001\u6703\u8a71 ID\u3001IP \u4f4d\u5740\u3001Windows \u7db2\u57df\u6191\u8b49\u7b49\u8cc7\u8a0a\u65bc\u6bcf\u6b21\u8acb\u6c42\u4e2d\u3002</li> <li>\u653b\u64ca\u8005\u5e38\u85c9 CSRF \u767c\u8d77\u4ea4\u6613\u5982\u8f49\u5e33\u3001\u7528\u6236\u767b\u5165/\u767b\u51fa\u3001\u95dc\u9589\u5e33\u6236\u3001\u5b58\u53d6\u654f\u611f\u8cc7\u6599\u53ca\u66f4\u6539\u5e33\u6236\u7d30\u7bc0\u3002</li> <li>\u700f\u89bd\u5668\u81ea\u52d5\u5305\u542b\u6191\u8b49\u5c0e\u81f4\u6b64\u8106\u5f31\u6027\uff0c\u4e14 CSRF \u53ef\u8207\u8de8\u7ad9\u8173\u672c\u7d50\u5408\u7522\u751f\u52d5\u614b\u8f09\u8377\u3002</li> <li>\u6240\u6709\u4f9d\u8cf4\u81ea\u52d5\u6191\u8b49\u7684\u7db2\u7ad9\u7686\u6613\u53d7\u653b\u64ca\u3002\u6d41\u884c\u700f\u89bd\u5668\u7121\u6cd5\u5b8c\u5168\u9632\u7bc4 CSRF\uff0c\u76e1\u5feb\u767b\u51fa\u9ad8\u50f9\u503c\u7db2\u7ad9\u53ef\u7de9\u89e3\u98a8\u96aa\u3002\u5efa\u8b70\u9ad8\u50f9\u503c\u7db2\u7ad9\u8981\u6c42\u7528\u6236\u5728\u540c\u4e00 HTTP \u8acb\u6c42\u4e2d\u624b\u52d5\u63d0\u4f9b\u8a8d\u8b49\u8cc7\u6599\uff0c\u4e26\u9650\u5236\u6703\u8a71 Cookie \u7684\u6709\u6548\u671f\u9650\u4ee5\u964d\u4f4e\u98a8\u96aa\u3002</li> <li>OWASP \u5efa\u8b70\u7db2\u7ad9\u958b\u767c\u8005\u70ba\u654f\u611f\u64cd\u4f5c\u8acb\u6c42\u52a0\u5165\u5fc5\u9700\u7684\u5b89\u5168 token \u4ee5\u9632 CSRF\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#xss","title":"\u8de8\u7ad9\u8173\u672c\uff08XSS\uff09\u653b\u64ca","text":"<ul> <li>\u8de8\u7ad9\u8173\u672c\u767c\u751f\u65bc\u52d5\u614b\u7522\u751f\u7684\u7db2\u9801\u986f\u793a\u672a\u7d93\u59a5\u5584\u9a57\u8b49\u7684\u7528\u6236\u8f38\u5165\u8cc7\u6599\uff0c\u5982\u767b\u5165\u8cc7\u8a0a\uff0c\u653b\u64ca\u8005\u64da\u6b64\u690d\u5165\u60e1\u610f\u8173\u672c\u4e26\u65bc\u4efb\u4f55\u700f\u89bd\u6b64\u9801\u7684\u7528\u6236\u700f\u89bd\u5668\u4e0a\u57f7\u884c\u3002</li> <li>\u6210\u529f\u5229\u7528 XSS \u6f0f\u6d1e\u53ef\u64cd\u5f04\u6216\u7aca\u53d6 Cookie\uff0c\u507d\u9020\u6709\u6548\u7528\u6236\u8acb\u6c42\uff0c\u6d29\u9732\u6a5f\u5bc6\u8cc7\u8a0a\uff0c\u751a\u81f3\u57f7\u884c\u60e1\u610f\u7a0b\u5f0f\u78bc\u3002</li> <li>XSS \u653b\u64ca\u767c\u751f\u65bc\u53d7\u5bb3\u8005\u700f\u89bd\u5668\u7aef\uff0c\u56e0\u7db2\u9801\u61c9\u7528\u672a\u5b8c\u6210\u7528\u6236\u8f38\u5165\u9a57\u8b49\u9020\u6210\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#dom-xss","title":"DOM XSS \u653b\u64ca","text":"<ul> <li>\u57fa\u65bc\u6587\u4ef6\u7269\u4ef6\u6a21\u578b\uff08DOM\uff09\u7684 XSS \u4e0d\u9700\u7db2\u9801\u4f3a\u670d\u5668\u6536\u5230 XSS \u8ca0\u8f09\uff1b\u653b\u64ca\u8005\u76f4\u63a5\u5728\u5ba2\u6236\u7aef\u5d4c\u5165\u8cc7\u6599\u64cd\u63a7 DOM\u3002</li> <li>\u7576\u9801\u9762\u6e32\u67d3\u4e26\u8655\u7406\u5ba2\u6236\u7aef HTML \u5167\u5d4c\u8173\u672c\u6bd4\u5982 JavaScript \u6642\uff0c\u9801\u9762\u7a0b\u5f0f\u78bc\u82e5\u4e0d\u5b89\u5168\u5730\u5d4c\u5165\u6b64\u8cc7\u6599\uff0c\u5373\u91cb\u653e\u8de8\u7ad9\u8173\u672c\u8ca0\u8f09\u3002\u591a\u500b DOM \u7269\u4ef6\u53ef\u7528\u4f5c\u653b\u64ca\u8f09\u5177\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_4","title":"\u9ede\u64ca\u52ab\u6301","text":"<ul> <li>\u6b64\u6280\u5de7\u5c07\u60e1\u610f\u9023\u7d50\u6216\u8173\u672c\u85cf\u65bc\u6b63\u7576\u7db2\u7ad9\u5167\u5bb9\u4e4b\u4e0b\u3002</li> <li>\u7db2\u7ad9\u6309\u9215\u5be6\u969b\u4e0a\u96b1\u85cf\u8457\u770b\u4e0d\u898b\u7684\u9023\u7d50\uff0c\u4f7f\u7528\u8005\u9ede\u64ca\u53ef\u8996\u5c0d\u8c61\u6642\uff0c\u5be6\u5247\u88ab\u6b3a\u9a19\u524d\u5f80\u60e1\u610f\u9801\u9762\u6216\u57f7\u884c\u60e1\u610f\u8173\u672c\u3002</li> <li>Facebook \u7528\u6236\u66fe\u906d\u9047\u9ede\u64ca\u52ab\u6301\uff0c\u8a98\u4f7f\u7528\u6236\u9ede\u9078\u300c\u6309\u8b9a\u300d\u7279\u5b9a\u9801\u9762\uff0c\u52a9\u9577\u60e1\u610f\u653b\u64ca\u81ea 2010 \u5e74\u9663\u4ea1\u7d00\u5ff5\u65e5\u5f8c\u64f4\u6563\u3002</li> <li>\u5c1a\u672a\u6709\u6709\u6548\u9632\u79a6\u65b9\u6cd5\uff0c\u552f\u4e00\u53ef\u884c\u7684\u65b9\u5f0f\u662f\u7981\u7528 JavaScript\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_5","title":"\u8cc7\u6599\u5eab\u653b\u64ca\u8207\u9632\u79a6","text":""},{"location":"level101/security/threats_attacks_defences/#sql","title":"SQL \u6ce8\u5165\u653b\u64ca","text":"<ul> <li>\u5229\u7528\u8cc7\u6599\u5eab\u67e5\u8a62\u7684\u8f38\u5165\u9a57\u8b49\u4e0d\u8db3\u3002</li> <li>\u6210\u529f\u653b\u64ca\u80fd\u5141\u8a31\u5165\u4fb5\u8005\u5b58\u53d6\u3001\u4fee\u6539\u6216\u522a\u9664\u8cc7\u6599\u5eab\u4e2d\u8cc7\u8a0a\u3002</li> <li>\u53ef\u5077\u53d6\u5f8c\u7aef\u8cc7\u6599\u5eab\u4e2d\u654f\u611f\u8cc7\u6599\uff0c\u5982\u7528\u6236\u6191\u8b49\u3001\u96fb\u5b50\u90f5\u4ef6\u5730\u5740\u3001\u500b\u4eba\u8a0a\u606f\u53ca\u4fe1\u7528\u5361\u865f\u3002</li> </ul> <pre><code>SELECT USERNAME,PASSWORD from USERS where USERNAME='&lt;username&gt;' AND PASSWORD='&lt;password&gt;';\n</code></pre> <p>\u6b64\u8655 username \u8207 password \u662f\u4f7f\u7528\u8005\u8f38\u5165\u3002\u82e5\u653b\u64ca\u8005\u5728\u5169\u6b04\u4f4d\u8f38\u5165 <code>OR '1'='1'</code>\uff0cSQL \u67e5\u8a62\u5c07\u6210\u70ba\uff1a</p> <pre><code>SELECT USERNAME,PASSWORD from USERS where USERNAME='' OR '1'='1' AND PASSOWRD='' OR '1'='1';\n</code></pre> <p>\u6b64\u67e5\u8a62\u7d50\u679c\u6c38\u9060\u70ba\u771f\uff0c\u4f7f\u7528\u8005\u76f4\u63a5\u767b\u5165\u3002\u6b64\u70ba\u6700\u57fa\u672c\u7684 SQL \u6ce8\u5165\u7bc4\u4f8b\u3002</p>"},{"location":"level101/security/threats_attacks_defences/#sql_1","title":"\u62b5\u79a6 SQL \u6ce8\u5165\u653b\u64ca","text":"<ul> <li>\u53ef\u85c9\u7531\u904e\u6ffe\u67e5\u8a62\u4ee5\u6d88\u9664\u60e1\u610f\u8a9e\u6cd5\uff0c\u6bd4\u5982\u5229\u7528\u5de5\u5177\u6383\u63cf\u539f\u59cb\u78bc\u3002</li> <li>\u8f38\u5165\u6b04\u4f4d\u61c9\u9650\u5236\u5728\u6700\u5c0f\uff0c\u901a\u5e38 7-12 \u5b57\u5143\u4ee5\u5167\uff0c\u4e26\u9a57\u8b49\u8cc7\u6599\u578b\u614b\uff0c\u5982\u8f38\u5165\u5e74\u9f61\u5fc5\u9808\u70ba\u6700\u591a 3 \u4f4d\u6578\u5b57\u7684\u6574\u6578\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#vpn","title":"VPN","text":"<p>\u865b\u64ec\u79c1\u6709\u7db2\u8def\uff08VPN\uff09\u662f\u4e00\u7a2e\u670d\u52d9\uff0c\u900f\u904e\u516c\u7528\u7db2\u8def\uff08\u4f8b\u5982 Internet\uff09\u63d0\u4f9b\u5b89\u5168\u53ef\u9760\u7684\u9023\u7dda\u3002Cisco \u5b9a\u7fa9 VPN \u70ba\u79c1\u6709\u7db2\u8def\u9593\u900f\u904e\u52a0\u5bc6\u7684\u9023\u7d50\u3002\u81f3\u4eca VPN \u5206\u70ba\u4e09\u7a2e\uff1a</p> <ul> <li>\u9060\u7aef\u5b58\u53d6</li> <li>\u7ad9\u5c0d\u7ad9</li> <li>\u9632\u706b\u7246\u57fa\u790e</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_6","title":"\u8cc7\u5b89\u4e8b\u4ef6","text":"<p>\u5118\u7ba1\u91c7\u53d6\u6700\u5f37\u70c8\u7684\u9632\u8b77\u63aa\u65bd\uff0c\u653b\u64ca\u8005\u4ecd\u53ef\u80fd\u7a81\u7834\u3002\u4efb\u4f55\u9055\u53cd\u6a5f\u5bc6\u6027\uff08Confidentiality\uff09\u3001\u5b8c\u6574\u6027\uff08Integrity\uff09\u6216\u53ef\u7528\u6027\uff08Availability\uff0c\u7a31 CIA\uff09\u5b89\u5168\u539f\u5247\u7684\u4e8b\u4ef6\uff0c\u90fd\u5c6c\u65bc\u8cc7\u5b89\u6f0f\u6d1e\u3002</p>"},{"location":"level101/security/threats_attacks_defences/#dos","title":"\u62d2\u7d55\u670d\u52d9\u653b\u64ca\uff08DoS\uff09","text":"<ul> <li>DoS \u653b\u64ca\u9020\u6210\u7cfb\u7d71\u505c\u6a5f\u6216\u4f7f\u7528\u8005\u7121\u6cd5\u5b58\u53d6\u3002DoS \u653b\u64ca\u5f71\u97ff\u8cc7\u8a0a\u7cfb\u7d71\u7684\u53ef\u7528\u6027\u5b89\u5168\u539f\u5247\u3002\u6b64\u70ba\u5354\u8abf\u5f0f\u4f01\u5716\u963b\u64cb\u670d\u52d9\uff0c\u900f\u904e\u8b93\u96fb\u8166\u8655\u7406\u5927\u91cf\u7121\u5fc5\u8981\u5de5\u4f5c\u4f7f\u7cfb\u7d71\u7121\u6cd5\u63d0\u4f9b\u5408\u6cd5\u670d\u52d9\u3002</li> <li>\u5169\u7a2e\u5e38\u898b DoS \u653b\u64ca\u5982\u4e0b\uff1a</li> <li>\u908f\u8f2f\u653b\u64ca \u2014 \u5229\u7528\u8edf\u9ad4\u7f3a\u9677\u4f7f\u9060\u7aef\u4f3a\u670d\u5668\u5d29\u6f70\u6216\u56b4\u91cd\u6548\u80fd\u4e0b\u964d\u3002\u5b89\u88dd\u6700\u65b0\u7684\u88dc\u4e01\u6709\u52a9\u9632\u7bc4\u3002</li> <li>\u6df9\u6c92\u653b\u64ca \u2014 \u900f\u904e\u767c\u9001\u5927\u91cf\u7121\u7528\u8acb\u6c42\uff0c\u6df9\u6c92\u76ee\u6a19\u4e3b\u6a5f\u7684 CPU\u3001\u8a18\u61b6\u9ad4\u6216\u7db2\u8def\u8cc7\u6e90\u3002</li> <li>\u591a\u6578 DoS \u653b\u64ca\u7784\u6e96\u7cfb\u7d71\u67b6\u69cb\u5f31\u9ede\uff0c\u800c\u975e\u8edf\u9ad4\u932f\u8aa4\u6216\u5b89\u5168\u7f3a\u9677\u3002</li> <li>\u5e38\u898b\u5c01\u5305\u6df9\u6c92\u6280\u8853\u70ba SYN \u6df9\u6c92\u653b\u64ca\u3002</li> <li>\u6700\u4f73\u9632\u79a6\u70ba\u4f7f\u7528\u5165\u4fb5\u9632\u8b77\u7cfb\u7d71\uff08IPS\uff09\u8edf\u9ad4\u6216\u8a2d\u5099\u4ee5\u5075\u6e2c\u4e26\u963b\u6b62\u653b\u64ca\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#ddos","title":"\u5206\u6563\u5f0f\u62d2\u7d55\u670d\u52d9\u653b\u64ca\uff08DDoS\uff09","text":"<ul> <li>DDoS \u8207\u4e00\u822c DoS \u4e0d\u540c\u5728\u898f\u6a21\u3002\u653b\u64ca\u8005\u64cd\u63a7\u6578\u767e\u751a\u81f3\u6578\u5343\u53f0\u7db2\u8def\u96fb\u8166\uff0c\u690d\u5165\u81ea\u52d5\u653b\u64ca\u4ee3\u7406\uff0c\u6307\u793a\u4ee3\u7406\u8f5f\u70b8\u76ee\u6a19\u7ad9\u9ede\uff0c\u5c0e\u81f4\u7ad9\u9ede\u904e\u8f09\u963b\u64cb\u5408\u6cd5\u6d41\u91cf\u3002\u6b64\u653b\u64ca\u91cd\u9ede\u70ba\u6578\u91cf\u512a\u52e2\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_7","title":"\u7aca\u807d","text":"<ul> <li>\u96d6\u7136\u7aca\u807d\u591a\u8207\u8a9e\u97f3\u96fb\u8a71\u76f8\u95dc\uff0c\u653b\u64ca\u8005\u540c\u6a23\u80fd\u7aca\u807d\u8cc7\u6599\u901a\u8a0a\u3002</li> <li>\u653b\u64ca\u8005\u53ef\u7aca\u807d\u96fb\u8a71\u7dda\u53ca\u8cc7\u6599\u50b3\u8f38\u7dda\u8def\u3002\u7aca\u807d\u53ef\u5206\u4e3b\u52d5\uff08\u653b\u64ca\u8005\u4fee\u6539\u7dda\u8def\u8cc7\u6599\uff09\u53ca\u88ab\u52d5\uff08\u653b\u64ca\u8005\u50c5\u76e3\u807d\u800c\u975e\u66f4\u52d5\uff09\u3002\u88ab\u52d5\u7aca\u807d\u4ea6\u53ef\u8907\u88fd\u8cc7\u6599\u70ba\u65e5\u5f8c\u653b\u64ca\u505a\u6e96\u5099\u3002</li> <li>\u4e3b\u52d5\u7aca\u807d\u5305\u542b\uff1a<ul> <li>\u7dda\u4e2d\u7aca\u807d \u2014 \u672a\u66f4\u6539\u5408\u6cd5\u50b3\u9001\u8a0a\u606f\uff0c\u4f46\u65bc\u5408\u6cd5\u7528\u6236\u66ab\u505c\u6642\u63d2\u5165\u984d\u5916\u8a0a\u606f\u3002</li> <li>\u9806\u5e36\u5165\u4fb5\u7aca\u807d \u2014 \u6514\u622a\u4e26\u4fee\u6539\u539f\u59cb\u8a0a\u606f\uff0c\u5c07\u8a0a\u606f\u5c0e\u5411\u53e6\u4e00\u81fa\u5145\u7576\u4e3b\u6a5f\u7684\u96fb\u8166\u3002</li> </ul> </li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_8","title":"\u5f8c\u9580","text":"<ul> <li>\u8edf\u9ad4\u958b\u767c\u8005\u6709\u6642\u5728\u7a0b\u5f0f\u4e2d\u57cb\u85cf\u7a31\u70ba\u5f8c\u9580\u7684\u96b1\u85cf\u5b58\u53d6\u9014\u5f91\uff0c\u8b93\u958b\u767c\u6216\u7dad\u8b77\u4eba\u54e1\u80fd\u8f15\u9b06\u5b58\u53d6\u7cfb\u7d71\uff0c\u7e5e\u904e\u5b89\u5168\u63a7\u5236\u3002</li> <li>\u554f\u984c\u662f\u5f8c\u9580\u4e0d\u4e00\u5b9a\u80fd\u9577\u671f\u96b1\u85cf\uff0c\u99ed\u5ba2\u82e5\u767c\u73fe\u4fbf\u80fd\u7e5e\u904e\u5bc6\u78bc\u3001\u52a0\u5bc6\u7b49\u5b89\u5168\u63aa\u65bd\u3002\u5408\u6cd5\u7528\u6236\u5f9e\u524d\u9580\u767b\u5165\uff08\u5e33\u865f\u5bc6\u78bc\uff09\uff0c\u653b\u64ca\u8005\u5247\u5229\u7528\u5f8c\u9580\u7e5e\u904e\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_9","title":"\u60e1\u610f\u653b\u64ca","text":""},{"location":"level101/security/threats_attacks_defences/#_10","title":"\u751f\u65e5\u653b\u64ca","text":"<ul> <li>\u653b\u64ca\u8005\u5165\u4fb5\u54c8\u5e0c\u5bc6\u78bc\u6a94\u6848\u5f8c\uff0c\u57f7\u884c\u751f\u65e5\u653b\u64ca\u3002\u6b64\u7a2e\u5bc6\u78bc\u653b\u64ca\u900f\u904e\u6578\u7406\u6a5f\u7387\uff08\u751f\u65e5\u554f\u984c\uff09\u52a0\u5feb\u55ae\u5411\u96dc\u6e4a\u7684\u66b4\u529b\u7834\u89e3\u3002</li> <li>\u5ef6\u4f38\u95b1\u8b80\uff1a<ul> <li>https://www.sciencedirect.com/topics/computer-science/birthday-attack</li> <li>https://www.internetsecurity.tips/birthday-attack/</li> </ul> </li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_11","title":"\u66b4\u529b\u7834\u89e3\u5bc6\u78bc\u653b\u64ca","text":"<ul> <li>\u653b\u64ca\u8005\u900f\u904e\u5617\u8a66\u5927\u91cf\u5bc6\u78bc\u7d44\u5408\uff0c\u76f4\u81f3\u6210\u529f\u767b\u5165\u3002\u901a\u5e38\u5229\u7528\u7a0b\u5f0f\u5feb\u901f\u9023\u7e8c\u5617\u8a66\u53ef\u80fd\u7684\u5bc6\u78bc\u3001\u5e33\u865f\u6216\u5b89\u5168\u78bc\uff0c\u76f4\u5230\u914d\u5c0d\u6210\u529f\u3002</li> <li>\u7121\u6280\u5de7\uff0c\u50c5\u9760\u883b\u529b\u53cd\u8986\u5617\u8a66\uff0c\u6545\u7a31\u66b4\u529b\u7834\u89e3\u3002</li> <li>\u5ef6\u4f38\u95b1\u8b80\uff1a<ul> <li>https://owasp.org/www-community/attacks/Brute_force_attack</li> <li>https://owasp.org/www-community/controls/Blocking_Brute_Force_Attacks</li> </ul> </li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_12","title":"\u5b57\u5178\u5bc6\u78bc\u653b\u64ca","text":"<ul> <li>\u4f9d\u8cf4\u4f7f\u7528\u8005\u5bc6\u78bc\u9078\u64c7\u5dee\u505a\u4f5c\u7c21\u55ae\u653b\u64ca\u3002\u7834\u89e3\u7a0b\u5f0f\u5c07\u5b57\u5178\u6a94\u4e2d\u6bcf\u4e00\u8a5e\u689d\u5617\u8a66\u4f5c\u70ba\u5bc6\u78bc\u767b\u5165\u3002</li> <li>\u5ef6\u4f38\u95b1\u8b80\uff1a<ul> <li>https://capec.mitre.org/data/definitions/16.html</li> </ul> </li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_13","title":"\u91cd\u653e\u653b\u64ca","text":"<ul> <li>\u653b\u64ca\u8005\u6514\u622a\u7db2\u8def\u5c01\u5305\u4e26\u91cd\u8907\u50b3\u9001\uff0c\u7528\u4ee5\u9054\u6210\u672a\u7d93\u6388\u6b0a\u76ee\u7684\u3002\u63a5\u6536\u91cd\u8907\u4e4b\u7d93\u9a57\u8b49 IP \u5c01\u5305\u53ef\u80fd\u7834\u58de\u670d\u52d9\u6216\u7522\u751f\u975e\u9810\u671f\u7d50\u679c\u3002</li> <li>\u653b\u64ca\u8005\u85c9\u91cd\u653e\u820a\u8a0a\u606f\u6216\u90e8\u5206\u8a0a\u606f\u6b3a\u9a19\u7cfb\u7d71\u7528\u6236\u53d6\u5f97\u8cc7\u6599\u4e26\u975e\u6cd5\u5b58\u53d6\u7cfb\u7d71\u3002</li> <li>\u5ef6\u4f38\u95b1\u8b80\uff1a</li> <li>https://study.com/academy/lesson/replay-attack-definition-examples-prevention.html</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#mitm","title":"\u4e2d\u9593\u4eba\u653b\u64ca\uff08MitM\uff09","text":"<ul> <li>\u5229\u7528\u591a\u8df3\u65b9\u5f0f\u7684\u7db2\u8def\u7279\u6027\uff0c\u653b\u64ca\u8005\u6514\u622a\u96d9\u65b9\u8a0a\u606f\u4e26\u518d\u8f49\u767c\u81f3\u76ee\u7684\u5730\u3002</li> <li>\u7db2\u9801\u6b3a\u9a19\u70ba MitM \u4e00\u74b0\uff0c\u4f7f\u7528\u8005\u4ee5\u70ba\u8207\u7db2\u7ad9\u5efa\u7acb\u5b89\u5168\u9023\u7dda\uff0c\u5be6\u969b\u8207\u653b\u64ca\u8005\u800c\u975e\u4f3a\u670d\u5668\u3002\u653b\u64ca\u8005\u4ea6\u8207\u4f3a\u670d\u5668\u5efa\u7acb\u5b89\u5168\u9023\u7dda\uff0c\u5145\u7576\u96b1\u5f62\u4e2d\u4ecb\uff0c\u9a19\u53d6\u5bc6\u78bc\u3001\u4fe1\u7528\u5361\u7b49\u79c1\u5bc6\u8cc7\u8a0a\u3002</li> <li>\u5ef6\u4f38\u95b1\u8b80\uff1a<ul> <li>https://owasp.org/www-community/attacks/Man-in-the-middle_attack</li> </ul> </li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_14","title":"\u507d\u88dd\u653b\u64ca","text":"<ul> <li>\u653b\u64ca\u8005\u5047\u5192\u4ed6\u4eba\u7528\u6236\u6216\u96fb\u8166\u3002\u5e38\u8207\u5176\u4ed6\u4e3b\u52d5\u653b\u64ca\u5982 IP \u4f4d\u5740\u507d\u9020\u3001\u91cd\u653e\u7d50\u5408\u3002</li> <li>\u5165\u4fb5\u8005\u53ef\u622a\u53d6\u8a8d\u8b49\u5e8f\u5217\uff0c\u5f8c\u7e8c\u91cd\u653e\u7b2c\u4e8c\u6b21\u767b\u5165\u61c9\u7528\u7a0b\u5f0f\u6216\u4f5c\u696d\u7cfb\u7d71\u3002\u7bc4\u4f8b\uff1a\u76e3\u63a7\u7528\u6236\u540d\u8207\u5bc6\u78bc\u53d6\u5f97\u5f8c\uff0c\u5192\u540d\u767b\u5165\u7db2\u9801\u3002</li> <li>\u5ef6\u4f38\u95b1\u8b80\uff1a<ul> <li>https://dl.acm.org/doi/book/10.5555/2521792</li> <li>https://ieeexplore.ieee.org/document/1653228</li> </ul> </li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_15","title":"\u7aca\u807d\u653b\u64ca","text":"<ul> <li>\u53c8\u7a31\u5c01\u5305\u76e3\u807d\uff0c\u7576\u4e3b\u6a5f\u7db2\u8def\u4ecb\u9762\u8a2d\u70ba\u6df7\u96dc\u6a21\u5f0f\uff0c\u80fd\u622a\u53d6\u5468\u570d\u7db2\u8def\u6240\u6709\u5c01\u5305\u4ee5\u4f9b\u5206\u6790\u3002</li> <li>\u6df7\u96dc\u6a21\u5f0f\u4f7f\u7db2\u8def\u8a2d\u5099\u5373\u4f7f\u5c01\u5305\u4f4d\u5740\u4e0d\u5339\u914d\u4e5f\u80fd\u6514\u622a\u4e26\u8b80\u53d6\u5c01\u5305\u3002</li> <li>\u80fd\u900f\u904e\u786c\u9ad4\u8207\u8edf\u9ad4\u76e3\u63a7\u4e26\u5206\u6790\u50b3\u8f38\u5a92\u4ecb\u4e0a\u7684\u6240\u6709\u5c01\u5305\u800c\u4e0d\u88ab\u7528\u6236\u5bdf\u89ba\u3002</li> <li>\u5178\u578b\u76e3\u807d\u76ee\u6a19\u70ba\u885b\u661f\u3001\u7121\u7dda\u3001\u884c\u52d5\u7b49\u50b3\u8f38\u578b\u614b\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#_16","title":"\u793e\u4ea4\u5de5\u7a0b","text":"<ul> <li>\u653b\u64ca\u8005\u5229\u7528\u6b3a\u9a19\u624b\u6cd5\uff0c\u8a98\u9a19\u6388\u6b0a\u7528\u6236\u57f7\u884c\u672a\u6388\u6b0a\u884c\u70ba\u4ee5\u4fb5\u5165 IT \u57fa\u790e\u8a2d\u65bd\u3002</li> <li>\u5e7e\u4e4e\u6240\u6709\u793e\u4ea4\u5de5\u7a0b\u7686\u501a\u8cf4\u4eba\u985e\u666e\u904d\u6a02\u65bc\u52a9\u4eba\u4e4b\u7279\u6027\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#phreaking","title":"\u96fb\u8a71\u99ed\u5ba2\uff08Phreaking\uff09","text":"<ul> <li>\u6307\u4e00\u7fa4\u7814\u7a76\u3001\u8a66\u9a57\u6216\u63a2\u7d22\u96fb\u8a71\u7cfb\u7d71\u3001\u96fb\u8a71\u8a2d\u5099\u53ca\u516c\u5171\u96fb\u8a71\u7db2\u8def\u76f8\u9023\u7cfb\u7d71\u7684\u6b21\u6587\u5316\u6d3b\u52d5\u3002</li> <li>\u96fb\u8a71\u99ed\u5ba2\u6280\u5de7\u5728\u65bc\u5229\u7528\u96fb\u8a71\u7cfb\u7d71\u6f0f\u6d1e\u8207\u7f3a\u9677\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#phishing","title":"\u7db2\u8def\u91e3\u9b5a\uff08Phishing\uff09","text":"<ul> <li>\u4e00\u7a2e\u8a50\u9a19\u624b\u6cd5\uff0c\u653b\u64ca\u8005\u8a66\u5716\u8a98\u4f7f\u53d7\u5bb3\u8005\u63d0\u4f9b\u79c1\u4eba\u654f\u611f\u8cc7\u6599\uff0c\u5982\u4fe1\u7528\u5361\u865f\u3001\u5bc6\u78bc\u3001\u51fa\u751f\u65e5\u671f\u3001\u9280\u884c\u5e33\u865f\u3001ATM \u5bc6\u78bc\u53ca\u793e\u6703\u5b89\u5168\u865f\u3002</li> </ul>"},{"location":"level101/security/threats_attacks_defences/#pharming","title":"\u57df\u540d\u6b3a\u9a19\uff08Pharming\uff09","text":"<ul> <li>\u53e6\u4e00\u7a2e\u900f\u904e\u57df\u540d\u507d\u88dd\u53d6\u5f97\u500b\u4eba\u6216\u8ca1\u52d9\u8cc7\u6599\u7684\u653b\u64ca\u3002\u4e0d\u540c\u65bc\u4ee5\u8a0a\u606f\u8a98\u4f7f\u8a2a\u5ba2\u524d\u5f80\u507d\u9020\u7db2\u7ad9\u7684\u91e3\u9b5a\uff0c\u57df\u540d\u6b3a\u9a19\u5229\u7528 DNS \u4f3a\u670d\u5668\u7684 DNS \u6c61\u67d3\uff08DNS poisoning\uff09\uff0c\u7576\u7528\u6236\u8f38\u5165\u507d\u9020\u4f3a\u670d\u5668\u7db2\u5740\u6642\uff0c\u700f\u89bd\u5668\u5be6\u969b\u5c0e\u5411\u653b\u64ca\u8005\u7db2\u7ad9\u3002\u700f\u89bd\u5668\u4ecd\u986f\u793a\u6b63\u78ba\u7db2\u57df\uff0c\u4f7f\u5176\u96e3\u4ee5\u5bdf\u89ba\u56e0\u800c\u66f4\u56b4\u91cd\u3002</li> <li>\u91e3\u9b5a\u662f\u500b\u5225\u8a98\u9a19\u96fb\u5b50\u90f5\u4ef6\u6216\u5373\u6642\u8a0a\u606f\uff0c\u800c\u57df\u540d\u6b3a\u9a19\u80fd\u540c\u6642\u653b\u64ca\u591a\u6578\u4f7f\u7528\u8005\u3002</li> </ul>"},{"location":"level101/security/writing_secure_code/","title":"\u7b2c\u56db\u90e8\u5206\uff1a\u7de8\u5beb\u5b89\u5168\u4ee3\u78bc\u8207\u66f4\u591a","text":"<p>\u6e1b\u5c11\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u554f\u984c\u7684\u7b2c\u4e00\u500b\u4e14\u6700\u91cd\u8981\u7684\u6b65\u9a5f\u662f\u6559\u80b2\u958b\u767c\u4eba\u54e1\u3002\u7136\u800c\uff0c\u5373\u4f7f\u662f\u8a13\u7df4\u6709\u7d20\u7684\u5de5\u7a0b\u5e2b\u4e5f\u6703\u72af\u932f\uff0c\u5b89\u5168\u5c08\u5bb6\u4e5f\u53ef\u80fd\u64b0\u5beb\u4e0d\u5b89\u5168\u7684\u4ee3\u78bc\uff0c\u7ad9\u9ede\u53ef\u9760\u6027\u5de5\u7a0b\u5e2b\uff08SRE\uff09\u4e5f\u53ef\u80fd\u5ffd\u7565\u53ef\u9760\u6027\u554f\u984c\u3002\u5728\u540c\u6642\u8003\u616e\u5efa\u69cb\u5b89\u5168\u4e14\u53ef\u9760\u7cfb\u7d71\u6240\u9700\u7684\u591a\u7a2e\u8003\u91cf\u8207\u6b0a\u8861\u6642\u5c24\u5176\u56f0\u96e3\uff0c\u7279\u5225\u662f\u7576\u4f60\u540c\u6642\u8ca0\u8cac\u8edf\u9ad4\u7522\u51fa\u6642\u3002</p>"},{"location":"level101/security/writing_secure_code/#_2","title":"\u4f7f\u7528\u6846\u67b6\u5728\u7de8\u5beb\u4ee3\u78bc\u6642\u5f37\u5236\u57f7\u884c\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027","text":"<ul> <li>\u66f4\u597d\u7684\u65b9\u6cd5\u662f\u5728\u901a\u7528\u6846\u67b6\u3001\u8a9e\u8a00\u548c\u51fd\u5f0f\u5eab\u4e2d\u8655\u7406\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u3002\u7406\u60f3\u72c0\u6cc1\u4e0b\uff0c\u51fd\u5f0f\u5eab\u53ea\u66b4\u9732\u4ecb\u9762\uff0c\u4f7f\u5f97\u64b0\u5beb\u5e38\u898b\u985e\u5225\u7684\u5b89\u5168\u6f0f\u6d1e\u4ee3\u78bc\u8b8a\u5f97\u4e0d\u53ef\u80fd\u3002</li> <li>\u591a\u500b\u61c9\u7528\u7a0b\u5f0f\u53ef\u4ee5\u4f7f\u7528\u6bcf\u500b\u51fd\u5f0f\u5eab\u6216\u6846\u67b6\u3002\u7576\u9818\u57df\u5c08\u5bb6\u4fee\u5fa9\u554f\u984c\u6642\uff0c\u4ed6\u5011\u6703\u5f9e\u6846\u67b6\u652f\u6301\u7684\u6240\u6709\u61c9\u7528\u4e2d\u79fb\u9664\u8a72\u554f\u984c\uff0c\u4f7f\u9019\u7a2e\u5de5\u7a0b\u65b9\u6cd5\u5177\u6709\u66f4\u597d\u7684\u64f4\u5c55\u6027\u3002</li> </ul>"},{"location":"level101/security/writing_secure_code/#_3","title":"\u5e38\u898b\u7684\u5b89\u5168\u6f0f\u6d1e","text":"<ul> <li>\u5728\u5927\u578b\u7a0b\u5f0f\u78bc\u5eab\u4e2d\uff0c\u5c11\u6578\u5e7e\u985e\u5b89\u5168\u6f0f\u6d1e\u4f54\u4e86\u5927\u591a\u6578\u6f0f\u6d1e\uff0c\u5118\u7ba1\u4e0d\u65b7\u52aa\u529b\u6559\u80b2\u958b\u767c\u8005\u4e26\u5f15\u5165\u4ee3\u78bc\u5be9\u67e5\u3002OWASP \u548c SANS \u516c\u5e03\u4e86\u5e38\u898b\u6f0f\u6d1e\u985e\u5225\u6e05\u55ae</li> </ul>"},{"location":"level101/security/writing_secure_code/#_4","title":"\u64b0\u5beb\u7c21\u6f54\u4ee3\u78bc","text":"<p>\u5617\u8a66\u4fdd\u6301\u4f60\u7684\u4ee3\u78bc\u4e7e\u6de8\u4e14\u7c21\u55ae\u3002</p>"},{"location":"level101/security/writing_secure_code/#_5","title":"\u907f\u514d\u591a\u5c64\u5d4c\u5957","text":"<ul> <li>\u591a\u5c64\u5d4c\u5957\u662f\u4e00\u7a2e\u5e38\u898b\u7684\u53cd\u6a21\u5f0f\uff0c\u53ef\u80fd\u5c0e\u81f4\u7c21\u55ae\u7684\u932f\u8aa4\u3002\u5982\u679c\u932f\u8aa4\u767c\u751f\u5728\u6700\u5e38\u7528\u7684\u7a0b\u5f0f\u78bc\u8def\u5f91\uff0c\u901a\u5e38\u6703\u88ab\u55ae\u5143\u6e2c\u8a66\u6355\u6349\u5230\u3002\u7136\u800c\uff0c\u55ae\u5143\u6e2c\u8a66\u4e0d\u4e00\u5b9a\u6703\u6e2c\u8a66\u591a\u5c64\u5d4c\u5957\u4ee3\u78bc\u4e2d\u932f\u8aa4\u8655\u7406\u7684\u8def\u5f91\u3002\u6b64\u932f\u8aa4\u53ef\u80fd\u5c0e\u81f4\u53ef\u9760\u6027\u964d\u4f4e\uff08\u4f8b\u5982\uff0c\u670d\u52d9\u5728\u932f\u8aa4\u8655\u7406\u4e0d\u7576\u6642\u5d29\u6f70\uff09\u6216\u5b89\u5168\u6f0f\u6d1e\uff08\u5982\u6388\u6b0a\u6aa2\u67e5\u932f\u8aa4\u8655\u7406\u932f\u8aa4\uff09\u3002</li> </ul>"},{"location":"level101/security/writing_secure_code/#yagni","title":"\u6d88\u9664 YAGNI \u5473\u9053","text":"<ul> <li>\u6709\u6642\u958b\u767c\u4eba\u54e1\u6703\u904e\u5ea6\u8a2d\u8a08\u529f\u80fd\uff0c\u52a0\u5165\u672a\u4f86\u53ef\u80fd\u6703\u7528\u5230\u7684\u529f\u80fd\uff0c\u201c\u4ee5\u5099\u4e0d\u6642\u4e4b\u9700\u201d\u3002\u9019\u9055\u80cc\u4e86 YAGNI\uff08You Aren\u2019t Gonna Need It\uff0c\u4f60\u4e0d\u6703\u7528\u5230\u5b83\uff09\u539f\u5247\uff0c\u8a72\u539f\u5247\u5efa\u8b70\u53ea\u5be6\u73fe\u4f60\u9700\u8981\u7684\u4ee3\u78bc\u3002YAGNI \u4ee3\u78bc\u589e\u52a0\u4e86\u4e0d\u5fc5\u8981\u7684\u8907\u96dc\u6027\uff0c\u56e0\u70ba\u5b83\u9700\u8981\u88ab\u8a18\u9304\u3001\u6e2c\u8a66\u8207\u7dad\u8b77\u3002</li> <li>\u7e3d\u7d50\u4f86\u8aaa\uff0c\u907f\u514d YAGNI \u4ee3\u78bc\u6709\u52a9\u65bc\u63d0\u9ad8\u53ef\u9760\u6027\uff0c\u800c\u7c21\u5316\u4ee3\u78bc\u5247\u6703\u6e1b\u5c11\u5b89\u5168\u6f0f\u6d1e\u3001\u6e1b\u5c11\u72af\u932f\u7684\u6a5f\u6703\uff0c\u4e14\u7bc0\u7701\u958b\u767c\u8005\u7dad\u8b77\u672a\u4f7f\u7528\u4ee3\u78bc\u7684\u6642\u9593\u3002</li> </ul>"},{"location":"level101/security/writing_secure_code/#_6","title":"\u511f\u9084\u6280\u8853\u50b5\u52d9","text":"<ul> <li>\u958b\u767c\u8005\u5e38\u7528 TODO \u6216 FIXME \u8a3b\u8a18\u6a19\u793a\u9700\u8981\u984d\u5916\u6ce8\u610f\u7684\u5730\u65b9\u3002\u77ed\u671f\u4f86\u770b\uff0c\u9019\u7a2e\u7fd2\u6163\u53ef\u4ee5\u52a0\u5feb\u6700\u95dc\u9375\u529f\u80fd\u7684\u4ea4\u4ed8\u901f\u5ea6\uff0c\u4e26\u5354\u52a9\u5718\u968a\u8d95\u4e0a\u65e9\u671f\u622a\u6b62\u671f\u9650\uff0c\u4f46\u540c\u6642\u4e5f\u6703\u5e36\u4f86\u6280\u8853\u50b5\u52d9\u3002\u53ea\u8981\u4f60\u6709\u660e\u78ba\u7684\u6d41\u7a0b\uff08\u4e26\u5206\u914d\u6642\u9593\uff09\u4f86\u511f\u9084\u9019\u4e9b\u50b5\u52d9\uff0c\u9019\u4e26\u975e\u4e00\u5b9a\u662f\u4e0d\u597d\u7684\u505a\u6cd5\u3002</li> </ul>"},{"location":"level101/security/writing_secure_code/#_7","title":"\u91cd\u69cb","text":"<ul> <li>\u91cd\u69cb\u662f\u4fdd\u6301\u7a0b\u5f0f\u78bc\u5eab\u4e7e\u6de8\u4e14\u7c21\u55ae\u7684\u6700\u6709\u6548\u65b9\u5f0f\u3002\u5373\u4f7f\u662f\u5065\u5eb7\u7684\u7a0b\u5f0f\u78bc\u5eab\u4e5f\u5076\u723e\u9700\u8981\u91cd\u69cb\u3002</li> <li>\u4e0d\u8ad6\u91cd\u69cb\u7684\u539f\u56e0\u70ba\u4f55\uff0c\u4f60\u61c9\u8a72\u4e00\u76f4\u9075\u5b88\u4e00\u689d\u9ec3\u91d1\u6e96\u5247\uff1a\u7d55\u4e0d\u8981\u5728\u540c\u4e00\u500b\u63d0\u4ea4\u4e2d\u540c\u6642\u6df7\u5408\u91cd\u69cb\u548c\u529f\u80fd\u66f4\u6539\u3002\u91cd\u69cb\u8b8a\u66f4\u901a\u5e38\u898f\u6a21\u5927\u4e14\u96e3\u4ee5\u7406\u89e3\u3002</li> <li>\u5982\u679c\u4e00\u500b\u63d0\u4ea4\u540c\u6642\u5305\u542b\u529f\u80fd\u66f4\u6539\uff0c\u4f5c\u8005\u6216\u5be9\u67e5\u8005\u5ffd\u7565\u932f\u8aa4\u7684\u98a8\u96aa\u6703\u63d0\u9ad8\u3002</li> </ul>"},{"location":"level101/security/writing_secure_code/#_8","title":"\u55ae\u5143\u6e2c\u8a66","text":"<ul> <li>\u55ae\u5143\u6e2c\u8a66\u80fd\u5728\u767c\u4f48\u524d\u91dd\u5c0d\u500b\u5225\u8edf\u9ad4\u5143\u4ef6\u627e\u51fa\u5ee3\u6cdb\u7684\u932f\u8aa4\uff0c\u63d0\u5347\u7cfb\u7d71\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u3002\u9019\u7a2e\u65b9\u6cd5\u628a\u8edf\u9ad4\u5143\u4ef6\u62c6\u6210\u8f03\u5c0f\u7684\u3001\u7368\u7acb\u7684\u201c\u55ae\u5143\u201d\uff0c\u6c92\u6709\u5916\u90e8\u4f9d\u8cf4\uff0c\u7136\u5f8c\u6e2c\u8a66\u6bcf\u500b\u55ae\u5143\u3002</li> </ul>"},{"location":"level101/security/writing_secure_code/#_9","title":"\u6a21\u7cca\u6e2c\u8a66","text":"<ul> <li>\u6a21\u7cca\u6e2c\u8a66\u662f\u4e00\u7a2e\u88dc\u8db3\u4e0a\u8ff0\u6e2c\u8a66\u6280\u8853\u7684\u65b9\u6cd5\u3002\u6a21\u7cca\u6e2c\u8a66\u6d89\u53ca\u4f7f\u7528\u6a21\u7cca\u6e2c\u8a66\u5f15\u64ce\u751f\u6210\u5927\u91cf\u5019\u9078\u8f38\u5165\uff0c\u9019\u4e9b\u8f38\u5165\u901a\u904e\u6a21\u7cca\u6e2c\u8a66\u9a45\u52d5\u5668\u9001\u5230\u6a21\u7cca\u6e2c\u8a66\u76ee\u6a19\u3002\u7136\u5f8c\u6a21\u7cca\u6e2c\u8a66\u5668\u5206\u6790\u7cfb\u7d71\u5982\u4f55\u8655\u7406\u9019\u4e9b\u8f38\u5165\u3002\u8907\u96dc\u8f38\u5165\u7531\u5404\u7a2e\u8edf\u9ad4\u8655\u7406\u662f\u6a21\u7cca\u6e2c\u8a66\u7684\u71b1\u9580\u76ee\u6a19\uff0c\u4f8b\u5982\u6587\u4ef6\u89e3\u6790\u5668\u3001\u58d3\u7e2e\u7b97\u6cd5\u3001\u7db2\u8def\u5354\u5b9a\u5be6\u4f5c\u4ee5\u53ca\u97f3\u983b\u7de8\u89e3\u78bc\u5668\u3002</li> </ul>"},{"location":"level101/security/writing_secure_code/#_10","title":"\u6574\u5408\u6e2c\u8a66","text":"<ul> <li>\u6574\u5408\u6e2c\u8a66\u8d85\u8d8a\u55ae\u5143\u8207\u62bd\u8c61\uff0c\u5c07\u62bd\u8c61\uff08\u5982\u8cc7\u6599\u5eab\u6216\u7db2\u8def\u670d\u52d9\uff09\u7684\u5047\u5be6\u4f5c\u6216\u5b58\u6839\u66ff\u63db\u6210\u771f\u5be6\u5be6\u4f5c\u3002\u56e0\u6b64\uff0c\u6574\u5408\u6e2c\u8a66\u6db5\u84cb\u66f4\u5b8c\u6574\u7684\u7a0b\u5f0f\u78bc\u8def\u5f91\u3002\u7531\u65bc\u5fc5\u9808\u521d\u59cb\u5316\u4e26\u914d\u7f6e\u9019\u4e9b\u4f9d\u8cf4\uff0c\u6574\u5408\u6e2c\u8a66\u901a\u5e38\u6bd4\u55ae\u5143\u6e2c\u8a66\u6162\u4e14\u5bb9\u6613\u4e0d\u7a69\u5b9a \u2014\u2014 \u5728\u57f7\u884c\u6e2c\u8a66\u6642\uff0c\u6b64\u65b9\u6cd5\u6703\u6574\u5408\u771f\u5be6\u4e16\u754c\u8b8a\u6578\uff08\u5982\u670d\u52d9\u7aef\u5230\u7aef\u901a\u8a0a\u7684\u7db2\u8def\u5ef6\u9072\uff09\u3002\u96a8\u8457\u4f60\u5f9e\u6e2c\u8a66\u500b\u5225\u4f4e\u968e\u55ae\u5143\u4ee3\u78bc\uff0c\u9032\u5c55\u5230\u6e2c\u8a66\u5b83\u5011\u7d44\u5408\u6642\u5982\u4f55\u4e92\u52d5\uff0c\u6700\u7d42\u5c07\u5e36\u4f86\u66f4\u9ad8\u7684\u4fe1\u5fc3\u78ba\u4fdd\u7cfb\u7d71\u5982\u9810\u671f\u904b\u4f5c\u3002</li> </ul>"},{"location":"level101/security/writing_secure_code/#_11","title":"\u6700\u5f8c\u4f46\u540c\u6a23\u91cd\u8981","text":"<ul> <li>\u4ee3\u78bc\u5be9\u67e5</li> <li>\u4f9d\u8cf4\u81ea\u52d5\u5316</li> <li>\u4e0d\u8981\u63d0\u4ea4\u7955\u5bc6\u8cc7\u6599</li> <li>\u53ef\u9a57\u8b49\u69cb\u5efa</li> </ul>"},{"location":"level101/systems_design/availability/","title":"HA - \u53ef\u7528\u6027 - \u5e38\u898b\u7684\u300c\u4e5d\u4f4d\u6578\u300d\uff08Nines\uff09","text":"<p>\u53ef\u7528\u6027\u901a\u5e38\u4ee5\u300c\u4e5d\u4f4d\u6578\u300d\u8868\u793a\uff0c\u5e38\u898b\u7684\u300c\u4e5d\u4f4d\u6578\u300d\u5217\u65bc\u4e0b\u8868\u3002</p> \u53ef\u7528\u6027 % \u6bcf\u5e74\u505c\u6a5f\u6642\u9593 \u6bcf\u6708\u505c\u6a5f\u6642\u9593 \u6bcf\u9031\u505c\u6a5f\u6642\u9593 \u6bcf\u65e5\u505c\u6a5f\u6642\u9593 99%\uff08\u5169\u500b\u4e5d\uff09 3.65 \u5929 7.31 \u5c0f\u6642 1.68 \u5c0f\u6642 14.40 \u5206\u9418 99.5%\uff08\u5169\u500b\u534a\u4e5d\uff09 1.83 \u5929 3.65 \u5c0f\u6642 50.40 \u5206\u9418 7.20 \u5206\u9418 99.9%\uff08\u4e09\u500b\u4e5d\uff09 8.77 \u5c0f\u6642 43.83 \u5206\u9418 10.08 \u5206\u9418 1.44 \u5206\u9418 99.95%\uff08\u4e09\u500b\u534a\u4e5d\uff09 4.38 \u5c0f\u6642 21.92 \u5206\u9418 5.04 \u5206\u9418 43.20 \u79d2 99.99%\uff08\u56db\u500b\u4e5d\uff09 52.60 \u5206\u9418 4.38 \u5206\u9418 1.01 \u5206\u9418 8.64 \u79d2 99.995%\uff08\u56db\u500b\u534a\u4e5d\uff09 26.30 \u5206\u9418 2.19 \u5206\u9418 30.24 \u79d2 4.32 \u79d2 99.999%\uff08\u4e94\u500b\u4e5d\uff09 5.26 \u5206\u9418 26.30 \u79d2 6.05 \u79d2 864.0 \u6beb\u79d2"},{"location":"level101/systems_design/availability/#_1","title":"\u53c3\u8003","text":"<ul> <li>https://en.wikipedia.org/wiki/High_availability#Percentage_calculation</li> </ul>"},{"location":"level101/systems_design/availability/#ha-","title":"HA - \u53ef\u7528\u6027 \u4e32\u806f\u5143\u4ef6","text":"<p>\u7576\u7cfb\u7d71\u5143\u4ef6\u4ee5\u4e32\u806f\u65b9\u5f0f\u904b\u4f5c\uff0c\u4efb\u4f55\u4e00\u90e8\u4ef6\u7684\u5931\u6548\u90fd\u6703\u5c0e\u81f4\u6574\u500b\u7d44\u5408\u7121\u6cd5\u904b\u4f5c\u3002</p> <p>\u4f8b\u5982\uff0c\u5982\u679c\u6211\u5011\u67b6\u69cb\u4e2d\u7684\u8ca0\u8f09\u5e73\u8861\u5668\uff08LB\uff09\u5931\u6548\uff0c\u6240\u6709\u5c0d\u61c9\u7528\u5c64\u7684\u5b58\u53d6\u90fd\u6703\u5931\u6557\u3002LB \u548c\u61c9\u7528\u5c64\u662f\u4e32\u806f\u9023\u63a5\u7684\u3002</p> <p>\u7cfb\u7d71\u7684\u7d9c\u5408\u53ef\u7528\u6027\u70ba\u5404\u5143\u4ef6\u53ef\u7528\u6027\u7684\u4e58\u7a4d\uff1a</p> <p>A = Ax x Ay x \u2026..</p>"},{"location":"level101/systems_design/availability/#_2","title":"\u53c3\u8003","text":"<ul> <li>http://www.eventhelix.com/RealtimeMantra/FaultHandling/system_reliability_availability.htm</li> </ul>"},{"location":"level101/systems_design/availability/#ha-_1","title":"HA - \u53ef\u7528\u6027 \u4e26\u806f\u5143\u4ef6","text":"<p>\u7576\u7cfb\u7d71\u5143\u4ef6\u4ee5\u4e26\u806f\u65b9\u5f0f\u904b\u4f5c\uff0c\u67d0\u4e00\u90e8\u4ef6\u5931\u6548\u6642\uff0c\u5176\u4ed6\u90e8\u4ef6\u80fd\u63a5\u7ba1\u5931\u6548\u90e8\u4ef6\u7684\u5de5\u4f5c\u3002</p> <p>\u5982\u679c\u6211\u5011\u6709\u591a\u500b\u8ca0\u8f09\u5e73\u8861\u5668\uff08LB\uff09\uff0c\u5728\u5176\u4e2d\u4e00\u500b\u6545\u969c\u6642\uff0c\u5176\u4ed6 LB \u80fd\u63a5\u624b\u6d41\u91cf\uff0c\u5247 LB \u662f\u4e26\u806f\u904b\u4f5c\u3002</p> <p>\u7cfb\u7d71\u7684\u7d9c\u5408\u53ef\u7528\u6027\u70ba\uff1a</p> <p>A = 1 - ( (1 - Ax) x (1 - Ay) x \u2026.. )</p>"},{"location":"level101/systems_design/availability/#_3","title":"\u53c3\u8003","text":"<ul> <li>http://www.eventhelix.com/RealtimeMantra/FaultHandling/system_reliability_availability.htm</li> </ul>"},{"location":"level101/systems_design/availability/#ha-_2","title":"HA - \u6838\u5fc3\u539f\u5247","text":"<p>\u6d88\u9664\u55ae\u9ede\u6545\u969c\uff08SPOF\uff09\uff0c\u5373\u6dfb\u52a0\u7cfb\u7d71\u5197\u9918\uff0c\u4f7f\u67d0\u500b\u5143\u4ef6\u5931\u6548\u4e0d\u6703\u5c0e\u81f4\u6574\u500b\u7cfb\u7d71\u5931\u6548\u3002</p> <p>\u53ef\u9760\u7684\u5207\u63db\uff0c\u5728\u5197\u9918\u7cfb\u7d71\u4e2d\uff0c\u5207\u63db\u9ede\u672c\u8eab\u5f80\u5f80\u6703\u6210\u70ba\u65b0\u7684\u55ae\u9ede\u6545\u969c\u3002\u53ef\u9760\u7cfb\u7d71\u5fc5\u9808\u5be6\u73fe\u53ef\u9760\u7684\u5207\u63db\u3002</p> <p>\u6545\u969c\u5373\u6642\u5075\u6e2c\uff0c\u82e5\u524d\u5169\u500b\u539f\u5247\u5f97\u5230\u9075\u5b88\uff0c\u7528\u6236\u751a\u81f3\u53ef\u80fd\u611f\u89ba\u4e0d\u5230\u6545\u969c\u3002</p>"},{"location":"level101/systems_design/availability/#_4","title":"\u53c3\u8003","text":"<ul> <li>https://en.wikipedia.org/wiki/High_availability#Principles</li> </ul>"},{"location":"level101/systems_design/availability/#ha-spof","title":"HA - \u55ae\u9ede\u6545\u969c\uff08SPOF\uff09","text":"<p>\u662f\u4ec0\u9ebc\uff1a \u6c38\u4e0d\u5be6\u65bd\uff0c\u4e26\u4e14\u7e3d\u662f\u8981\u6d88\u9664\u55ae\u9ede\u6545\u969c\u3002</p> <p>\u4f55\u6642\u4f7f\u7528\uff1a \u67b6\u69cb\u5be9\u67e5\u53ca\u65b0\u8a2d\u8a08\u6642\u3002</p> <p>\u5982\u4f55\u4f7f\u7528\uff1a \u5728\u67b6\u69cb\u5716\u4e2d\u627e\u51fa\u55ae\u4e00\u5be6\u4f8b\u3002\u76e1\u529b\u5be6\u73fe\u96d9\u6d3b\uff08active/active\uff09\u914d\u7f6e\u3002\u81f3\u5c11\u61c9\u6709\u5099\u7528\u5be6\u4f8b\uff0c\u5728\u6d3b\u8e8d\u5be6\u4f8b\u5931\u6548\u6642\u63a5\u7ba1\u3002</p> <p>\u539f\u56e0\uff1a \u591a\u5be6\u4f8b\u6700\u5927\u5316\u53ef\u7528\u6027\u3002</p> <p>\u4e3b\u8981\u91cd\u9ede\uff1a \u512a\u5148\u96d9\u6d3b\u67b6\u69cb\u800c\u975e\u4e3b\u5f9e\uff08active/passive\uff09\u3002\u4f7f\u7528\u8ca0\u8f09\u5747\u8861\u5668\u5c07\u6d41\u91cf\u5206\u914d\u5230\u670d\u52d9\u591a\u500b\u5be6\u4f8b\u3002\u91dd\u5c0d\u9700\u8981\u55ae\u4f8b\uff08singleton\uff09\u6a21\u5f0f\uff0c\u63a1\u7528\u63a7\u5236\u670d\u52d9\u7684\u4e3b\u5f9e\u914d\u7f6e\u3002</p>"},{"location":"level101/systems_design/availability/#ha-_3","title":"HA - \u53ef\u9760\u5207\u63db","text":"<p>\u662f\u4ec0\u9ebc\uff1a \u78ba\u4fdd\u7cfb\u7d71\u5143\u4ef6\u5207\u63db\u6642\u80fd\u53ef\u9760\u904b\u4f5c\u3002</p> <p>\u4f55\u6642\u4f7f\u7528\uff1a \u67b6\u69cb\u5be9\u67e5\u3001\u6545\u969c\u5efa\u6a21\u8207\u8a2d\u8a08\u968e\u6bb5\u3002</p> <p>\u5982\u4f55\u4f7f\u7528\uff1a \u8a55\u4f30\u5207\u63db\u671f\u9593\u7cfb\u7d71\u7684\u53ef\u7528\u6027\uff0c\u78ba\u8a8d\u5176\u5728\u53ef\u63a5\u53d7\u7bc4\u570d\u5167\u3002</p> <p>\u539f\u56e0\uff1a \u6700\u5927\u5316\u53ef\u7528\u6027\u4e26\u78ba\u4fdd\u8cc7\u6599\u8655\u7406\u8a9e\u7fa9\u4e00\u81f4\u3002</p> <p>\u4e3b\u8981\u91cd\u9ede\uff1a \u512a\u5148\u96d9\u6d3b\u914d\u7f6e\u964d\u4f4e\u5207\u63db\u4e0d\u53ef\u9760\u98a8\u96aa\u3002\u4f7f\u7528\u8ca0\u8f09\u5747\u8861\u5668\u548c\u9069\u7576\u6280\u5de7\u78ba\u4fdd\u53ef\u9760\u6545\u969c\u8f49\u79fb\u3002\u8a2d\u8a08\u8cc7\u6599\u7cfb\u7d71\u4fdd\u8b49\u5207\u63db\u6642\u8cc7\u6599\u6b63\u78ba\u8655\u7406\u3002\u8cc7\u6599\u5eab\u7cfb\u7d71\u901a\u5e38\u63a1\u7528\u4e3b\u5f9e\u8a9e\u7fa9\uff0c\u4e3b\u7bc0\u9ede\u63a5\u53d7\u5beb\u5165\uff0c\u4e3b\u7bc0\u9ede\u6545\u969c\u6642\u5f9e\u7bc0\u9ede\u63d0\u5347\u70ba\u4e3b\u7bc0\u9ede\u63a5\u53d7\u5beb\u5165\u3002\u52d9\u5fc5\u907f\u514d\u5207\u63db\u904e\u7a0b\u4e2d\u51fa\u73fe\u591a\u500b\u4e3b\u7bc0\u9ede\uff0c\u907f\u514d\u300c\u5206\u88c2\u8166\u300d\uff08split brain\uff09\u554f\u984c\u3002</p>"},{"location":"level101/systems_design/availability/#sre","title":"\u5728 SRE \u89d2\u8272\u4e2d\u7684\u61c9\u7528","text":"<ol> <li>SRE \u6c7a\u5b9a\u53ef\u63a5\u53d7\u7684 SLA\uff0c\u78ba\u4fdd\u7cfb\u7d71\u53ef\u7528\u9054\u6210 SLA \u76ee\u6a19\u3002</li> <li>SRE \u53c3\u8207\u67b6\u69cb\u8a2d\u8a08\uff0c\u5f9e\u5efa\u7f6e\u8cc7\u6599\u4e2d\u5fc3\u78ba\u4fdd\u7db2\u7ad9\u4e0d\u53d7\u7db2\u8def\u4ea4\u63db\u5668\u3001\u786c\u9ad4\u3001\u96fb\u529b\u6216\u8edf\u9ad4\u6545\u969c\u5f71\u97ff\u3002</li> <li>SRE \u9032\u884c\u6545\u969c\u6a21\u64ec\u6f14\u7df4\uff0c\u89c0\u5bdf\u7cfb\u7d71\u5728\u672a\u77e5\u72c0\u6cc1\u4e0b\u7684\u8868\u73fe\uff0c\u4e26\u63d0\u51fa\u6539\u9032\u53ef\u7528\u6027\u7684\u8a08\u756b\u3002 https://engineering.linkedin.com/blog/2017/11/resilience-engineering-at-linkedin-with-project-waterbear</li> </ol> <p>\u6839\u64da\u6211\u5011\u5c0d HA \u7684\u7406\u89e3\uff0c\u6211\u5011\u7684\u67b6\u69cb\u5716\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p>"},{"location":"level101/systems_design/conclusion/","title":"\u7d50\u8ad6","text":"<p>\u638c\u63e1\u9019\u4e9b\u539f\u5247\u5f8c\uff0c\u6211\u5011\u5e0c\u671b\u672c\u8ab2\u7a0b\u80fd\u70ba\u8a2d\u8a08\u8edf\u9ad4\u7cfb\u7d71\u5e36\u4f86\u5168\u65b0\u8996\u89d2\u3002\u4e00\u958b\u59cb\u5c31\u5b8c\u5168\u5be6\u73fe\u9019\u4e9b\u53ef\u80fd\u6709\u9ede\u904e\u5ea6\u8a2d\u8a08\uff0c\u4f46\u6709\u4e9b\u5f9e\u7b2c\u96f6\u5929\u8d77\u5c31\u975e\u5e38\u91cd\u8981\uff0c\u4f8b\u5982\u6d88\u9664\u55ae\u9ede\u6545\u969c\u3001\u50c5\u900f\u904e\u589e\u52a0\u526f\u672c\u6578\u4f86\u5efa\u7acb\u53ef\u64f4\u5c55\u7684\u670d\u52d9\u3002\u7576\u9047\u5230\u74f6\u9838\u6642\uff0c\u6211\u5011\u53ef\u4ee5\u900f\u904e_\u4f9d\u670d\u52d9\u62c6\u5206\u7a0b\u5f0f\u78bc_\u3001_\u5206\u7247\u8cc7\u6599_\u4f86\u64f4\u5c55\u3002\u96a8\u8457\u7d44\u7e54\u6210\u719f\uff0c\u5c0e\u5165\u6df7\u6c8c\u5de5\u7a0b\u4f86\u8861\u91cf\u7cfb\u7d71\u5c0d\u5931\u6548\u7684\u53cd\u61c9\uff0c\u5c07\u6709\u52a9\u65bc\u8a2d\u8a08\u51fa\u66f4\u5177\u97cc\u6027\u7684\u8edf\u9ad4\u7cfb\u7d71\u3002</p>"},{"location":"level101/systems_design/fault-tolerance/","title":"\u5bb9\u932f\u80fd\u529b","text":"<p>\u7cfb\u7d71\u4e2d\u7684\u6545\u969c\u662f\u7121\u6cd5\u907f\u514d\u4e14\u6301\u7e8c\u6703\u767c\u751f\u7684\uff0c\u56e0\u6b64\u6211\u5011\u9700\u8981\u5efa\u7acb\u80fd\u5bb9\u5fcd\u6545\u969c\u6216\u80fd\u5f9e\u6545\u969c\u4e2d\u6062\u5fa9\u7684\u7cfb\u7d71\u3002</p> <ul> <li>\u5728\u7cfb\u7d71\u4e2d\uff0c\u6545\u969c\u662f\u5e38\u614b\u800c\u975e\u4f8b\u5916\u3002</li> <li>\u300c\u51e1\u662f\u53ef\u80fd\u51fa\u932f\u7684\u4e8b\u60c5\u7d42\u5c07\u51fa\u932f\u300d\u2014\u2014\u58a8\u83f2\u5b9a\u5f8b\uff08Murphy\u2019s Law\uff09</li> <li>\u300c\u8907\u96dc\u7cfb\u7d71\u5167\u542b\u6709\u4e0d\u65b7\u8b8a\u5316\u7684\u6f5b\u5728\u6545\u969c\u6df7\u5408\u300d\u2014\u2014How Complex Systems Fail\u3002</li> </ul>"},{"location":"level101/systems_design/fault-tolerance/#_2","title":"\u5bb9\u932f\u80fd\u529b\uff1a\u6545\u969c\u8861\u91cf\u6307\u6a19","text":"<p>\u4efb\u4f55\u7cfb\u7d71\u4e2d\u5e38\u88ab\u8861\u91cf\u8207\u8ffd\u8e64\u7684\u6545\u969c\u6307\u6a19\u3002</p> <p>\u5e73\u5747\u4fee\u5fa9\u6642\u9593\uff08MTTR\uff0cMean time to repair\uff09\uff1a \u4fee\u5fa9\u4e26\u6062\u5fa9\u6545\u969c\u7cfb\u7d71\u7684\u5e73\u5747\u6240\u9700\u6642\u9593\u3002</p> <p>\u5e73\u5747\u6545\u969c\u9593\u9694\u6642\u9593\uff08MTBF\uff0cMean time between failures\uff09\uff1a \u88dd\u7f6e\u6545\u969c\u6216\u7cfb\u7d71\u6545\u969c\u8207\u4e0b\u4e00\u6b21\u6545\u969c\u4e4b\u9593\u7684\u5e73\u5747\u904b\u884c\u6642\u9593\u3002</p> <p>\u5e73\u5747\u6545\u969c\u6642\u9593\uff08MTTF\uff0cMean time to failure\uff09\uff1a \u88dd\u7f6e\u6216\u7cfb\u7d71\u5728\u767c\u751f\u6545\u969c\u524d\u7684\u5e73\u5747\u53ef\u6b63\u5e38\u904b\u4f5c\u6642\u9593\u3002</p> <p>\u5e73\u5747\u5075\u6e2c\u6642\u9593\uff08MTTD\uff0cMean time to detect\uff09\uff1a \u554f\u984c\u767c\u751f\u8207\u7d44\u7e54\u5075\u6e2c\u5230\u8a72\u554f\u984c\u7684\u5e73\u5747\u6642\u9593\u3002</p> <p>\u5e73\u5747\u8abf\u67e5\u6642\u9593\uff08MTTI\uff0cMean time to investigate\uff09\uff1a \u5f9e\u5075\u6e2c\u4e8b\u4ef6\u5230\u7d44\u7e54\u958b\u59cb\u8abf\u67e5\u4e8b\u4ef6\u539f\u56e0\u8207\u89e3\u6c7a\u65b9\u6848\u4e4b\u9593\u7684\u5e73\u5747\u6642\u9593\u3002</p> <p>\u5e73\u5747\u6062\u5fa9\u670d\u52d9\u6642\u9593\uff08MTRS\uff0cMean time to restore service\uff09\uff1a \u5f9e\u4e8b\u4ef6\u5075\u6e2c\u5230\u53d7\u5f71\u97ff\u7cfb\u7d71\u6216\u7d44\u4ef6\u91cd\u65b0\u53ef\u7528\u65bc\u7528\u6236\u7684\u5e73\u5747\u6642\u9593\u3002</p> <p>\u5e73\u5747\u7cfb\u7d71\u4e8b\u4ef6\u9593\u9694\u6642\u9593\uff08MTBSI\uff0cMean time between system incidents\uff09\uff1a \u5169\u6b21\u9023\u7e8c\u4e8b\u4ef6\u5075\u6e2c\u7684\u5e73\u5747\u6642\u9593\u9593\u9694\u3002MTBSI \u53ef\u7531 MTBF \u52a0\u4e0a MTRS \u8a08\u7b97\uff08MTBSI = MTBF + MTRS\uff09\u3002</p> <p>\u6545\u969c\u7387\uff08Failure rate\uff09\uff1a \u53e6\u4e00\u500b\u53ef\u9760\u6027\u6307\u6a19\uff0c\u8861\u91cf\u5143\u4ef6\u6216\u7cfb\u7d71\u6545\u969c\u7684\u983b\u7387\uff0c\u4ee5\u6bcf\u55ae\u4f4d\u6642\u9593\u5167\u7684\u6545\u969c\u6578\u91cf\u8868\u793a\u3002</p>"},{"location":"level101/systems_design/fault-tolerance/#_3","title":"\u53c3\u8003","text":"<ul> <li>https://www.splunk.com/en_us/data-insider/what-is-mean-time-to-repair.html</li> </ul>"},{"location":"level101/systems_design/fault-tolerance/#_4","title":"\u5bb9\u932f\u80fd\u529b\uff1a\u6545\u969c\u9694\u96e2\u8853\u8a9e","text":"<p>\u7cfb\u7d71\u61c9\u8a72\u5177\u5099\u77ed\u8def\u4fdd\u8b77\u3002\u8209\u4f8b\u4f86\u8aaa\uff0c\u5728\u6211\u5011\u7684\u5167\u5bb9\u5206\u4eab\u7cfb\u7d71\u88e1\uff0c\u7576\u300c\u901a\u77e5\u300d\u529f\u80fd\u5931\u6548\u6642\uff0c\u7db2\u7ad9\u61c9\u8a72\u80fd\u512a\u96c5\u5730\u8655\u7406\u9019\u500b\u6545\u969c\uff0c\u79fb\u9664\u8a72\u529f\u80fd\uff0c\u800c\u4e0d\u662f\u5c0e\u81f4\u6574\u500b\u7db2\u7ad9\u5d29\u6f70\u3002</p> <p>\u6e38\u6cf3\u9053\uff08Swimlane\uff09\u662f\u5e38\u7528\u7684\u6545\u969c\u9694\u96e2\u65b9\u6cd5\u4e4b\u4e00\u3002\u6e38\u6cf3\u9053\u70ba\u670d\u52d9\u9593\u589e\u8a2d\u9632\u706b\u7246\uff0c\u8b93\u4e00\u65b9\u6545\u969c\u6642\u4e0d\u6703\u5f71\u97ff\u53e6\u4e00\u65b9\u3002\u8209\u4f8b\uff0c\u6211\u5011\u5728\u5167\u5bb9\u5206\u4eab\u61c9\u7528\u4e2d\u63a8\u51fa\u65b0\u7684\u300c\u5ee3\u544a\u300d\u529f\u80fd\uff0c\u6211\u5011\u53ef\u4ee5\u6709\u4ee5\u4e0b\u5169\u7a2e\u67b6\u69cb\u3002</p> <p></p> <p>\u82e5\u5ee3\u544a\u5728\u6bcf\u6b21\u65b0\u805e\u52d5\u614b\u8acb\u6c42\u6642\u540c\u6b65\u5373\u6642\u7522\u751f\uff0c\u5ee3\u544a\u529f\u80fd\u7684\u6545\u969c\u5c07\u6703\u50b3\u64ad\u81f3\u65b0\u805e\u52d5\u614b\u529f\u80fd\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u6211\u5011\u5c07\u300c\u5ee3\u544a\u7522\u751f\u670d\u52d9\u300d\u6e38\u6cf3\u9053\u9694\u96e2\uff0c\u4e26\u4f7f\u7528\u5171\u4eab\u5132\u5b58\u4f86\u586b\u5145\u65b0\u805e\u52d5\u614b\u61c9\u7528\uff0c\u5ee3\u544a\u6545\u969c\u5c07\u4e0d\u6703\u6ce2\u53ca\u65b0\u805e\u52d5\u614b\uff0c\u6700\u58de\u60c5\u6cc1\u4e0b\u5ee3\u544a\u672a\u9054\u670d\u52d9\u6c34\u6e96\u5354\u8b70\uff08SLA\uff09\uff0c\u6211\u5011\u4ecd\u53ef\u7e7c\u7e8c\u63d0\u4f9b\u7121\u5ee3\u544a\u7684\u65b0\u805e\u52d5\u614b\u3002</p> <p>\u518d\u8209\u4e00\u4f8b\uff0c\u6211\u5011\u70ba\u5167\u5bb9\u5206\u4eab\u61c9\u7528\u8a2d\u8a08\u4e86\u65b0\u6a21\u578b\uff0c\u5728\u6b64\u4f01\u696d\u7248\u5167\u5bb9\u5206\u4eab\u61c9\u7528\u4e2d\uff0c\u4f01\u696d\u4ed8\u8cbb\u4f7f\u7528\uff0c\u5167\u5bb9\u7d55\u4e0d\u6703\u5206\u4eab\u7d66\u4f01\u696d\u5916\u90e8\u3002</p> <p></p>"},{"location":"level101/systems_design/fault-tolerance/#_5","title":"\u6e38\u6cf3\u9053\u539f\u5247","text":"<p>\u539f\u5247\u4e00\uff1a \u4e0d\u5171\u4eab\u4efb\u4f55\u6771\u897f\uff08\u4e5f\u7a31\u300c\u76e1\u53ef\u80fd\u5c11\u5171\u4eab\u300d\uff09\u3002\u6e38\u6cf3\u9053\u5167\u5171\u4eab\u8d8a\u5c11\uff0c\u6545\u969c\u9694\u96e2\u6548\u679c\u8d8a\u4f73\u3002\uff08\u5982\u4f01\u696d\u6848\u4f8b\u6240\u793a\uff09</p> <p>\u539f\u5247\u4e8c\uff1a \u4e0d\u8de8\u8d8a\u6e38\u6cf3\u9053\u908a\u754c\u3002\u540c\u6b65\u901a\u8a0a\uff08\u4ee5\u671f\u671b\u8acb\u6c42\u4e4b\u5f62\u5f0f\u5b9a\u7fa9\uff0c\u800c\u975e\u50b3\u8f38\u5354\u5b9a\uff09\u4e0d\u5f97\u8de8\u8d8a\u6e38\u6cf3\u9053\u908a\u754c\uff1b\u82e5\u6709\uff0c\u8868\u793a\u908a\u754c\u5283\u5206\u932f\u8aa4\u3002\uff08\u5982\u5ee3\u544a\u529f\u80fd\u6240\u793a\uff09</p>"},{"location":"level101/systems_design/fault-tolerance/#_6","title":"\u6e38\u6cf3\u9053\u65b9\u6cd5","text":"<p>\u65b9\u6cd5\u4e00\uff1a \u5c07\u8cfa\u9322\u6838\u5fc3\u9694\u96e2\u70ba\u6e38\u6cf3\u9053\u3002\u7d55\u4e0d\u5141\u8a31\u6536\u9280\u7cfb\u7d71\u88ab\u5176\u4ed6\u7cfb\u7d71\u5f71\u97ff\u3002\uff08\u4f01\u696d\u6848\u4f8b\u4e2d\u7684\u7b2c 1 \u5c64\u5c0d\u7b2c 2 \u5c64\uff09</p> <p>\u65b9\u6cd5\u4e8c\uff1a \u5c07\u4e3b\u8981\u7684\u6545\u969c\u4f86\u6e90\u9694\u96e2\u70ba\u6e38\u6cf3\u9053\u3002\u8fa8\u8b58\u53cd\u8986\u767c\u751f\u7684\u75db\u9ede\u4e26\u52a0\u4ee5\u9694\u96e2\u3002\uff08\u82e5\u5ee3\u544a\u529f\u80fd\u5448\u73fe\u9ec3\u8272\u8b66\u544a\uff0c\u9694\u96e2\u5ee3\u544a\u662f\u6700\u4f73\u9078\u64c7\uff09</p> <p>\u65b9\u6cd5\u4e09\uff1a \u5229\u7528\u81ea\u7136\u908a\u754c\u9694\u96e2\u6e38\u6cf3\u9053\u3002\u5ba2\u6236\u908a\u754c\u662f\u826f\u597d\u7684\u6e38\u6cf3\u9053\u5283\u5206\u3002\uff08\u516c\u958b\u7528\u6236\u5c0d\u6bd4\u4f01\u696d\u7528\u6236\uff09</p>"},{"location":"level101/systems_design/fault-tolerance/#_7","title":"\u53c3\u8003","text":"<ul> <li>https://learning.oreilly.com/library/view/the-art-of/9780134031408/ch21.html#ch21</li> </ul>"},{"location":"level101/systems_design/fault-tolerance/#sre","title":"\u5728 SRE \u89d2\u8272\u7684\u61c9\u7528","text":"<ol> <li>\u8207\u8cc7\u6599\u4e2d\u5fc3\u6280\u8853\u5718\u968a\u6216\u96f2\u7aef\u5718\u968a\u5408\u4f5c\uff0c\u5c07\u57fa\u790e\u67b6\u69cb\u5206\u4f48\u5728\u6545\u969c\u5340\u57df\u5167\uff0c\u4f7f\u5176\u514d\u53d7\u4ea4\u63db\u6a5f\u6216\u96fb\u529b\u6545\u969c\u5f71\u97ff\uff0c\u5efa\u7acb\u8cc7\u6599\u4e2d\u5fc3\u5167\u7684\u5bb9\u932f\u5340\u57df\uff08https://docs.microsoft.com/en-us/azure/virtual-machines/manage-availability#use-availability-zones-to-protect-from-datacenter-level-failures\uff09\u3002</li> <li>\u8207\u5408\u4f5c\u5925\u4f34\u5171\u540c\u8a2d\u8a08\u670d\u52d9\u9593\u4ea4\u4e92\uff0c\u78ba\u4fdd\u55ae\u4e00\u670d\u52d9\u6545\u969c\u4e0d\u6703\u4ee5\u7d1a\u806f\u65b9\u5f0f\u653e\u5927\u5f71\u97ff\u81f3\u6240\u6709\u4e0a\u6e38\u670d\u52d9\u3002</li> </ol>"},{"location":"level101/systems_design/intro/","title":"\u7cfb\u7d71\u8a2d\u8a08","text":""},{"location":"level101/systems_design/intro/#_2","title":"\u5148\u6c7a\u689d\u4ef6","text":"<p>\u5e38\u898b\u8edf\u9ad4\u7cfb\u7d71\u5143\u4ef6\u7684\u57fa\u790e\u77e5\u8b58\uff1a</p> <ul> <li>Linux \u57fa\u790e</li> <li>Linux \u7db2\u8def</li> <li>\u8cc7\u6599\u5eab\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u7ba1\u7406\u7cfb\u7d71 (RDBMS)</li> <li>NoSQL \u6982\u5ff5</li> </ul>"},{"location":"level101/systems_design/intro/#_3","title":"\u672c\u8ab2\u7a0b\u7684\u5b78\u7fd2\u91cd\u9ede","text":"<p>\u601d\u8003\u8207\u8a2d\u8a08\u5927\u898f\u6a21\u8edf\u9ad4\u7cfb\u7d71\u7684\u53ef\u64f4\u5c55\u6027\u3001\u9ad8\u53ef\u7528\u6027\u548c\u53ef\u9760\u6027\u3002</p>"},{"location":"level101/systems_design/intro/#_4","title":"\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u7bc4\u570d","text":"<p>\u500b\u5225\u8edf\u9ad4\u5143\u4ef6\u7684\u53ef\u64f4\u5c55\u6027\u548c\u53ef\u9760\u6027\u8b70\u984c\uff0c\u4f8b\u5982\u8cc7\u6599\u5eab\u3002\u96d6\u7136\u76f8\u540c\u7684\u53ef\u64f4\u5c55\u6027\u539f\u5247\u8207\u601d\u7dad\u53ef\u4ee5\u5957\u7528\uff0c\u4f46\u9019\u4e9b\u500b\u5225\u5143\u4ef6\u5728\u64f4\u5c55\u8207\u53ef\u9760\u6027\u601d\u8003\u6642\u5404\u81ea\u6709\u7279\u5b9a\u7d30\u7bc0\u3002</p> <p>\u672c\u8ab2\u7a0b\u6703\u66f4\u8457\u91cd\u65bc\u6982\u5ff5\u89e3\u6790\uff0c\u800c\u975e\u8a2d\u5b9a\u8207\u914d\u7f6e\u5982\u8ca0\u8f09\u5e73\u8861\u5668\u7b49\u5143\u4ef6\u4f86\u9054\u6210\u7cfb\u7d71\u7684\u53ef\u64f4\u5c55\u6027\u3001\u9ad8\u53ef\u7528\u6027\u8207\u53ef\u9760\u6027\u3002</p>"},{"location":"level101/systems_design/intro/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ul> <li>\u4ecb\u7d39</li> <li>\u53ef\u64f4\u5c55\u6027</li> <li>\u9ad8\u53ef\u7528\u6027</li> <li>\u5bb9\u932f\u80fd\u529b</li> </ul>"},{"location":"level101/systems_design/intro/#_6","title":"\u4ecb\u7d39","text":"<p>\u90a3\u9ebc\uff0c\u8a72\u5982\u4f55\u5b78\u7fd2\u8a2d\u8a08\u4e00\u500b\u7cfb\u7d71\u5462\uff1f</p> <p>\u300c\u5c31\u50cf\u5927\u591a\u6578\u5049\u5927\u7684\u554f\u984c\u4e00\u6a23\uff0c\u9019\u554f\u984c\u5c55\u73fe\u51fa\u4ee4\u4eba\u9a5a\u5606\u7684\u5929\u771f\u7a0b\u5ea6\u3002\u6211\u552f\u4e00\u80fd\u7d66\u7684\u7c21\u77ed\u7b54\u6848\uff0c\u57fa\u672c\u4e0a\u662f\u4f60\u5fc5\u9808\u900f\u904e\u8a2d\u8a08\u7cfb\u7d71\u5be6\u969b\u64cd\u4f5c\uff0c\u624d\u80fd\u5b78\u6703\u5982\u4f55\u8a2d\u8a08\u7cfb\u7d71\uff0c\u4ee5\u53ca\u4e86\u89e3\u54ea\u4e9b\u65b9\u6cd5\u6709\u6548\u54ea\u4e9b\u7121\u6548\u3002\u300d\u2014 Jim Waldo\uff0cSun \u5fae\u7cfb\u7d71\uff0c\u300a\u7cfb\u7d71\u8a2d\u8a08\u8ad6\u300b</p> <p>\u96a8\u8457\u8edf\u9ad4\u548c\u786c\u9ad4\u7cfb\u7d71\u6709\u591a\u500b\u904b\u4f5c\u5143\u4ef6\uff0c\u6211\u5011\u9700\u8981\u601d\u8003\u9019\u4e9b\u5143\u4ef6\u5982\u4f55\u6210\u9577\u3001\u5b83\u5011\u7684\u6545\u969c\u6a21\u5f0f\u3001\u5f7c\u6b64\u7684\u76f8\u4f9d\u95dc\u4fc2\uff0c\u4ee5\u53ca\u9019\u4e9b\u5c0d\u4f7f\u7528\u8005\u8207\u696d\u52d9\u7684\u5f71\u97ff\u3002</p> <p>\u6c92\u6709\u4e00\u6b65\u5230\u4f4d\u7684\u65b9\u6cd5\u6216\u6280\u5de7\u80fd\u6559\u4f60\u7cfb\u7d71\u8a2d\u8a08\uff0c\u6211\u5011\u53ea\u80fd\u900f\u904e\u8a2d\u8a08\u7cfb\u7d71\u4e26\u4e0d\u65b7\u8fed\u4ee3\u4e2d\u5b78\u7fd2\u3002</p> <p>\u672c\u8ab2\u7a0b\u65e8\u5728\u555f\u767c\u60a8\u5728\u7cfb\u7d71\u8a2d\u8a08\u6642\u601d\u8003_\u53ef\u64f4\u5c55\u6027_\u3001\u9ad8\u53ef\u7528\u6027_\u8207_\u5bb9\u932f\u80fd\u529b\u3002</p>"},{"location":"level101/systems_design/intro/#_7","title":"\u80cc\u666f\u6545\u4e8b","text":"<p>\u8b93\u6211\u5011\u8a2d\u8a08\u4e00\u500b\u7c21\u55ae\u7684\u5167\u5bb9\u5206\u4eab\u61c9\u7528\u7a0b\u5f0f\uff0c\u8b93\u4f7f\u7528\u8005\u80fd\u5728\u61c9\u7528\u4e2d\u5206\u4eab\u7167\u7247\u3001\u5a92\u9ad4\uff0c\u4e26\u7531\u670b\u53cb\u5011\u9ede\u8b9a\u3002\u6211\u5011\u5148\u5f9e\u7c21\u55ae\u7684\u61c9\u7528\u67b6\u69cb\u8a2d\u8a08\u958b\u59cb\uff0c\u96a8\u8457\u5b78\u7fd2\u7cfb\u7d71\u8a2d\u8a08\u6982\u5ff5\u5c07\u4e0d\u65b7\u6f14\u9032\u3002</p> <p></p>"},{"location":"level101/systems_design/scalability/","title":"\u53ef\u64f4\u5c55\u6027","text":"<p>\u5c0d\u7cfb\u7d71/\u670d\u52d9\u4f86\u8aaa\uff0c\u53ef\u64f4\u5c55\u6027\u662f\u4ec0\u9ebc\u610f\u601d\uff1f \u7cfb\u7d71\u7531\u670d\u52d9/\u5143\u4ef6\u7d44\u6210\uff0c\u6bcf\u500b\u670d\u52d9/\u5143\u4ef6\u7684\u53ef\u64f4\u5c55\u6027\u9700\u8981\u5206\u5225\u89e3\u6c7a\uff0c\u4e26\u4e14\u8003\u616e\u6574\u500b\u7cfb\u7d71\u7684\u53ef\u64f4\u5c55\u6027\u3002</p> <p>\u7576\u7cfb\u7d71\u8cc7\u6e90\u589e\u52a0\u6642\uff0c\u5982\u679c\u7cfb\u7d71\u7684\u6548\u80fd\u80fd\u5920\u8207\u8cc7\u6e90\u589e\u9577\u6210\u6b63\u6bd4\u63d0\u5347\uff0c\u8a72\u670d\u52d9\u5373\u7a31\u70ba\u53ef\u64f4\u5c55\u7684\u3002</p> <p>\u4e00\u500b\u300c\u6c38\u9060\u5728\u7dda\u300d\u7684\u670d\u52d9\uff0c\u82e5\u80fd\u6dfb\u52a0\u8cc7\u6e90\u4fc3\u9032\u5197\u9918\uff0c\u4e14\u4e0d\u5c0e\u81f4\u6548\u80fd\u4e0b\u964d\uff0c\u5373\u7a31\u70ba\u53ef\u64f4\u5c55\u7684\u3002</p>"},{"location":"level101/systems_design/scalability/#_2","title":"\u53c3\u8003","text":"<ul> <li>https://www.allthingsdistributed.com/2006/03/a_word_on_scalability.html</li> </ul>"},{"location":"level101/systems_design/scalability/#akf-scale-cube","title":"\u53ef\u64f4\u5c55\u6027\uff1aAKF Scale Cube","text":"<p>Scale Cube \u662f\u4e00\u500b\u7528\u65bc\u670d\u52d9\u5206\u5272\u3001\u5b9a\u7fa9\u5fae\u670d\u52d9\u53ca\u7522\u54c1\u64f4\u5c55\u7684\u6a21\u578b\u3002\u5b83\u4e5f\u70ba\u5718\u968a\u63d0\u4f9b\u4e86\u4e00\u7a2e\u901a\u7528\u8a9e\u8a00\uff0c\u4f7f\u5f97\u5728\u8a2d\u8a08\u89e3\u6c7a\u65b9\u6848\u6642\u53ef\u4ee5\u8a0e\u8ad6\u8207\u64f4\u5c55\u76f8\u95dc\u7684\u9078\u9805\u3002\u4ee5\u4e0b\u5167\u5bb9\u6839\u64da AKF cube \u7684\u63a8\u8ad6\u8a0e\u8ad6\u67d0\u4e9b\u64f4\u5c55\u6a21\u5f0f\u3002</p>"},{"location":"level101/systems_design/scalability/#_3","title":"\u53ef\u64f4\u5c55\u6027\uff1a\u6c34\u5e73\u64f4\u5c55","text":"<p>\u6c34\u5e73\u64f4\u5c55\u6307\u7684\u662f\u8907\u88fd\u61c9\u7528\u7a0b\u5f0f\u6216\u670d\u52d9\uff0c\u4f7f\u5de5\u4f5c\u80fd\u5920\u516c\u5e73\u5730\u5206\u914d\u5230\u5404\u500b\u5be6\u4f8b\u4e2d\u3002</p> <p>\u8b93\u6211\u5011\u770b\u770b\u6211\u5011\u7684\u55ae\u9ad4\u61c9\u7528\u5982\u4f55\u56e0\u70ba\u9019\u9805\u539f\u5247\u800c\u6539\u9032\u3002</p> <p></p> <p>\u9019\u88e1\uff0c\u8cc7\u6599\u5eab\uff08DB\uff09\u8207\u61c9\u7528\u7a0b\u5f0f\u5206\u958b\u64f4\u5c55\u3002\u9019\u662f\u70ba\u4e86\u8b93\u4f60\u77e5\u9053\u6bcf\u500b\u5143\u4ef6\u7684\u64f4\u5c55\u80fd\u529b\u53ef\u80fd\u4e0d\u540c\u3002\u901a\u5e38\uff0c\u7db2\u9801\u61c9\u7528\u53ef\u4ee5\u900f\u904e\u8ffd\u52a0\u8cc7\u6e90\u9032\u884c\u64f4\u5c55\uff0c\u9664\u975e\u61c9\u7528\u5167\u6709\u5132\u5b58\u72c0\u614b\u3002\u4f46\u8cc7\u6599\u5eab\u53ea\u80fd\u900f\u904e\u589e\u52a0\u66f4\u591a\u8ffd\u96a8\u8005\u4f86\u64f4\u5c55\u8b80\u53d6\u80fd\u529b\uff0c\u5beb\u5165\u5fc5\u9808\u96c6\u4e2d\u5230\u4e00\u500b\u4e3b\u7bc0\u9ede\u4ee5\u78ba\u4fdd\u8cc7\u6599\u4e00\u81f4\u6027\u3002\u6709\u4e9b\u8cc7\u6599\u5eab\u652f\u63f4\u591a\u4e3b\u7bc0\u9ede\u5beb\u5165\uff0c\u4f46\u6b64\u8655\u4e0d\u5305\u542b\u8a0e\u8ad6\u7bc4\u570d\u3002</p> <p>\u61c9\u7528\u7a0b\u5f0f\u61c9\u80fd\u5206\u8fa8\u8b80\u53d6\u548c\u5beb\u5165\uff0c\u9078\u64c7\u9069\u7576\u7684\u8cc7\u6599\u5eab\u4f3a\u670d\u5668\u3002\u8ca0\u8f09\u5747\u8861\u5668\u53ef\u900f\u660e\u5730\u5c07\u6d41\u91cf\u5206\u914d\u5230\u76f8\u540c\u4f3a\u670d\u5668\u3002</p> <p>\u4ec0\u9ebc\u662f\uff1a \u8907\u88fd\u670d\u52d9\u6216\u8cc7\u6599\u5eab\u4ee5\u5206\u6563\u8acb\u6c42\u8ca0\u8f09\u3002</p> <p>\u4f55\u6642\u4f7f\u7528\uff1a \u8b80\u5beb\u6bd4\u4f8b\u975e\u5e38\u9ad8\uff085:1\u6216\u66f4\u9ad8\uff0c\u6bd4\u4f8b\u8d8a\u5927\u8d8a\u4f73\uff09\u7684\u8cc7\u6599\u5eab\u3002\u56e0\u70ba\u53ea\u6709\u8b80\u53d6\u526f\u672c\u53ef\u4ee5\u64f4\u5c55\uff0c\u4e3b\u7bc0\u9ede\u7121\u6cd5\u3002</p> <p>\u5982\u4f55\u4f7f\u7528\uff1a \u7c21\u55ae\u8907\u88fd\u670d\u52d9\u4e26\u52a0\u4e0a\u8ca0\u8f09\u5747\u8861\u5668\u3002\u5c0d\u8cc7\u6599\u5eab\u800c\u8a00\uff0c\u8981\u8b93\u5b58\u53d6\u7a0b\u5f0f\u78bc\u80fd\u5340\u5206\u8b80\u53d6\u8207\u5beb\u5165\u3002</p> <p>\u70ba\u4ec0\u9ebc\uff1a \u5141\u8a31\u5feb\u901f\u64f4\u5c55\u4ea4\u6613\u8655\u7406\uff0c\u4f46\u6703\u589e\u52a0\u8cc7\u6599\u8207\u529f\u80fd\u7684\u8907\u88fd\u6210\u672c\u3002</p> <p>\u91cd\u9ede\u7d50\u8ad6\uff1a \u5be6\u4f5c\u5feb\u4e14\u958b\u767c\u6210\u672c\u4f4e\uff0c\u80fd\u6709\u6548\u64f4\u5927\u91cf\u4ea4\u6613\u3002\u4f46\u5f9e\u7dad\u904b\u8cc7\u6599\u7684\u6210\u672c\u4f86\u770b\uff0c\u6210\u672c\u53ef\u80fd\u8f03\u9ad8\u3002\u4f8b\u5982\u64c1\u6709 3 \u500b\u8ffd\u96a8\u8005\u548c 1 \u500b\u4e3b\u7bc0\u9ede\u6642\uff0c\u76f8\u540c\u8cc7\u6599\u5c07\u6709\u56db\u4efd\u62f7\u8c9d\u4f54\u7528\u56db\u53f0\u4f3a\u670d\u5668\u7a7a\u9593\uff0c\u589e\u52a0\u5b58\u5132\u6210\u672c\u3002</p>"},{"location":"level101/systems_design/scalability/#_4","title":"\u53c3\u8003","text":"<ul> <li>https://learning.oreilly.com/library/view/the-art-of/9780134031408/ch23.html </li> </ul>"},{"location":"level101/systems_design/scalability/#_5","title":"\u53ef\u64f4\u5c55\u6027\u6a21\u5f0f\uff1a\u8ca0\u8f09\u5747\u8861","text":"<p>\u63d0\u5347\u5de5\u4f5c\u8ca0\u8f09\u65bc\u591a\u500b\u8a08\u7b97\u8cc7\u6e90\uff08\u5982\u96fb\u8166\u3001\u96c6\u7fa4\u3001\u7db2\u8def\u9023\u7d50\u3001CPU\u3001\u78c1\u789f\uff09\u9593\u5206\u914d\u7684\u6548\u7387\u3002\u5e38\u898b\u6280\u8853\u662f\u5c07\u6d41\u91cf\u5728\u76f8\u540c\u4f3a\u670d\u5668\u53e2\u96c6\u9593\u8ca0\u8f09\u5747\u8861\u3002\u985e\u4f3c\u7684\u601d\u7dad\u4e5f\u6703\u61c9\u7528\u5728\u900f\u904e ECMP \u7684\u7db2\u8def\u8def\u7531\u3001RAID \u7684\u78c1\u789f\u9663\u5217\u7b49\u3002</p> <p>\u76ee\u6a19\u662f\u512a\u5316\u8cc7\u6e90\u4f7f\u7528\u7387\u3001\u6700\u5927\u5316\u541e\u5410\u91cf\u3001\u964d\u4f4e\u56de\u61c9\u6642\u9593\u53ca\u907f\u514d\u55ae\u4e00\u8cc7\u6e90\u904e\u8f09\u3002</p> <p>\u4f7f\u7528\u591a\u5143\u4ef6\u52a0\u4e0a\u8ca0\u8f09\u5747\u8861\u5668\u66ff\u4ee3\u55ae\u4e00\u5143\u4ef6\uff0c\u53ef\u7d93\u7531\u5197\u9918\u6027\u63d0\u5347\u53ef\u9760\u5ea6\u8207\u53ef\u7528\u6027\u3002\u5982\u672c\u67b6\u69cb\u5716\u4e2d\u6709 4 \u53f0\u4f3a\u670d\u5668\u8655\u7406\u61c9\u7528\u6d41\u91cf\uff0c\u800c\u975e\u55ae\u53f0\u4f3a\u670d\u5668\u3002</p> <p>\u8ca0\u8f09\u5747\u8861\u7684\u88dd\u7f6e\u6216\u7cfb\u7d71\u7a31\u70ba\u8ca0\u8f09\u5747\u8861\u5668\uff08Load Balancer\uff0c\u7c21\u7a31 LB\uff09\u3002</p>"},{"location":"level101/systems_design/scalability/#_6","title":"\u53c3\u8003","text":"<ul> <li>https://zh.wikipedia.org/wiki/\u8ca0\u8f09\u5e73\u8861_(\u8a08\u7b97\u6a5f)</li> <li>https://blog.envoyproxy.io/introduction-to-modern-network-load-balancing-and-proxying-a57f6ff80236</li> <li>https://learning.oreilly.com/library/view/load-balancing-in/9781492038009/</li> <li>https://learning.oreilly.com/library/view/practical-load-balancing/9781430236801/</li> <li>https://shop.oreilly.com/product/9780596000509.do</li> </ul>"},{"location":"level101/systems_design/scalability/#lb","title":"\u53ef\u64f4\u5c55\u6027\u6a21\u5f0f\uff1aLB \u4efb\u52d9","text":"<p>LB \u505a\u4ec0\u9ebc\uff1f</p>"},{"location":"level101/systems_design/scalability/#service-discovery","title":"\u670d\u52d9\u767c\u73fe (Service discovery)\uff1a","text":"<p>\u7cfb\u7d71\u4e2d\u6709\u54ea\u4e9b\u5f8c\u7aef\u53ef\u4f7f\u7528\uff1f\u672c\u67b6\u69cb\u4e2d\u6709 4 \u53f0\u4f3a\u670d\u5668\u53ef\u63d0\u4f9b\u61c9\u7528\u7a0b\u5f0f\u6d41\u91cf\uff0cLB \u5145\u7576\u55ae\u4e00\u7aef\u9ede\uff0c\u4f9b\u5ba2\u6236\u7aef\u900f\u660e\u5b58\u53d6\u9019 4 \u53f0\u4e2d\u7684\u4efb\u4e00\u4f3a\u670d\u5668\u3002</p>"},{"location":"level101/systems_design/scalability/#health-checking","title":"\u5065\u5eb7\u6aa2\u67e5 (Health checking)\uff1a","text":"<p>\u76ee\u524d\u54ea\u4e9b\u5f8c\u7aef\u5065\u5eb7\u4e14\u53ef\u63a5\u6536\u8acb\u6c42\uff1f\u82e5 4 \u53f0 App \u4f3a\u670d\u5668\u4e2d\u6709 1 \u53f0\u5931\u6548\uff0cLB \u6703\u81ea\u52d5\u7e5e\u904e\u8a72\u4f3a\u670d\u5668\uff0c\u8b93\u5ba2\u6236\u7aef\u611f\u77e5\u4e0d\u5230\u505c\u6a5f\u3002</p>"},{"location":"level101/systems_design/scalability/#load-balancing","title":"\u8ca0\u8f09\u5747\u8861 (Load balancing)\uff1a","text":"<p>\u4f55\u7a2e\u6f14\u7b97\u6cd5\u7528\u65bc\u5c07\u8acb\u6c42\u5206\u914d\u5230\u5065\u5eb7\u5f8c\u7aef\uff1f\u5206\u914d\u6d41\u91cf\u6709\u591a\u7a2e\u6f14\u7b97\u6cd5\u53ef\u9078\uff0cSRE \u53ef\u6839\u64da\u89c0\u5bdf\u8207\u7d93\u9a57\u6311\u9078\u6700\u9069\u5408\u7684\u3002</p>"},{"location":"level101/systems_design/scalability/#lb_1","title":"\u53ef\u64f4\u5c55\u6027\u6a21\u5f0f\uff1aLB \u65b9\u6cd5","text":"<p>\u5e38\u898b\u8ca0\u8f09\u5747\u8861\u65b9\u6cd5</p>"},{"location":"level101/systems_design/scalability/#least-connection-method","title":"\u6700\u5c11\u9023\u63a5\u6578\u6cd5 (Least Connection Method)","text":"<p>\u5c07\u6d41\u91cf\u5c0e\u5411\u76ee\u524d\u9023\u7dda\u6578\u6700\u5c11\u7684\u4f3a\u670d\u5668\u3002\u9069\u7528\u65bc\u5927\u91cf\u9577\u671f\u9023\u7dda\u4e14\u6d41\u91cf\u4f3a\u670d\u5668\u9593\u5206\u5e03\u4e0d\u5747\u6642\u3002</p>"},{"location":"level101/systems_design/scalability/#least-response-time-method","title":"\u6700\u77ed\u56de\u61c9\u6642\u9593\u6cd5 (Least Response Time Method)","text":"<p>\u5c07\u6d41\u91cf\u5c0e\u5411\u9023\u7dda\u6578\u5c11\u4e14\u5e73\u5747\u56de\u61c9\u6642\u9593\u6700\u4f4e\u7684\u4f3a\u670d\u5668\u3002\u6b64\u6cd5\u5c07\u56de\u61c9\u6642\u9593\u4f5c\u70ba\u4f3a\u670d\u5668\u5065\u5eb7\u7684\u53cd\u994b\u3002</p>"},{"location":"level101/systems_design/scalability/#round-robin-method","title":"\u8f2a\u8a62\u6cd5 (Round Robin Method)","text":"<p>\u4ee5\u8f2a\u6d41\u65b9\u5f0f\u5c07\u6d41\u91cf\u5206\u6d3e\u5230\u4e0b\u4e00\u500b\u53ef\u7528\u4f3a\u670d\u5668\u3002\u9069\u7528\u65bc\u4f3a\u670d\u5668\u786c\u9ad4\u898f\u683c\u76f8\u540c\u4e14\u7121\u5927\u91cf\u9577\u9023\u7dda\u6642\u3002</p>"},{"location":"level101/systems_design/scalability/#ip-ip-hash","title":"IP \u54c8\u5e0c\u6cd5 (IP Hash)","text":"<p>\u6839\u64da\u5ba2\u6236\u7aef IP \u6c7a\u5b9a\u5c07\u8acb\u6c42\u5206\u914d\u81f3\u54ea\u53f0\u4f3a\u670d\u5668\u3002\u53ef\u80fd\u9020\u6210\u6d41\u91cf\u5206\u5e03\u4e0d\u5747\uff0c\u4f46\u9069\u5408\u61c9\u7528\u5728\u6709\u672c\u5730\u72c0\u614b\u4e14\u9700\u9023\u7dda\u300c\u9ecf\u8457\u6027\u300d\u7684\u5834\u666f\u3002</p> <p>\u66f4\u9032\u968e\u7684\u5ba2\u6236\u7aef/\u4f3a\u670d\u5668\u7aef\u6280\u8853\u7bc4\u4f8b\uff1a</p> <ul> <li>https://docs.nginx.com/nginx/admin-guide/load-balancer/</li> <li>https://cbonte.github.io/haproxy-dconv/2.2/intro.html#3.3.5</li> <li>https://twitter.github.io/finagle/guide/Clients.html#load-balancing</li> </ul>"},{"location":"level101/systems_design/scalability/#cdn","title":"\u53ef\u64f4\u5c55\u6027\u6a21\u5f0f\uff1a\u5feb\u53d6\u2014\u5167\u5bb9\u50b3\u905e\u7db2\u8def (CDN)","text":"<p>CDN \u88ab\u90e8\u7f72\u5728\u63a5\u8fd1\u5ba2\u6236\u7aef\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u61c9\u7528\u7a0b\u5f0f\u6709\u975c\u614b\u8cc7\u6599\u5982\u5716\u7247\u3001JavaScript\u3001CSS \u7b49\u4e0d\u5e38\u66f4\u6539\u7684\u5167\u5bb9\uff0c\u53ef\u4ee5\u9032\u884c\u5feb\u53d6\u3002\u56e0\u70ba\u7bc4\u4f8b\u662f\u5167\u5bb9\u5206\u4eab\u7db2\u7ad9\uff0c\u975c\u614b\u5167\u5bb9\u53ef\u4f7f\u7528 CDN \u5feb\u53d6\u4e26\u8a2d\u7f6e\u5408\u9069\u7684\u904e\u671f\u6642\u9593\u3002</p> <p></p> <p>\u4ec0\u9ebc\u662f\uff1a \u4f7f\u7528\u5167\u5bb9\u50b3\u905e\u7db2\u8def\u4f86\u5206\u64d4\u7db2\u7ad9\u6d41\u91cf\u3002</p> <p>\u4f55\u6642\u4f7f\u7528\uff1a \u9700\u8981\u52a0\u901f\u548c\u64f4\u5c55\u800c\u9858\u610f\u4ed8\u51fa\u984d\u5916\u6210\u672c\u7684\u6642\u5019\u3002</p> <p>\u5982\u4f55\u4f7f\u7528\uff1a \u5927\u591a\u6578 CDN \u5229\u7528 DNS \u4ee3\u66ff\u7db2\u7ad9\u63d0\u4f9b\u5167\u5bb9\u3002\u56e0\u6b64\u4f60\u53ef\u80fd\u9700\u8981\u9032\u884c\u5c11\u91cf\u7684 DNS \u4fee\u6539\u6216\u65b0\u589e\uff0c\u4e26\u5c07\u5167\u5bb9\u79fb\u81f3\u65b0\u5b50\u7db2\u57df\u63d0\u4f9b\u3002</p> <p>\u4f8b\u5982 <code>media-exp1.licdn.com</code> \u662f LinkedIn \u7528\u4f86\u63d0\u4f9b\u975c\u614b\u5167\u5bb9\u7684\u57df\u540d</p> <p>\u8a72\u57df\u540d\u900f\u904e CNAME \u6307\u5411 CDN \u670d\u52d9\u63d0\u4f9b\u5546\u7684 DNS\uff1a</p> <pre><code>dig media-exp1.licdn.com +short\n\n2-01-2c3e-005c.cdx.cedexis.net.\n</code></pre> <p>\u70ba\u4ec0\u9ebc\uff1a CDN \u6709\u52a9\u65bc\u5206\u64d4\u6d41\u91cf\u9ad8\u5cf0\uff0c\u4e14\u901a\u5e38\u662f\u64f4\u5c55\u90e8\u5206\u7db2\u7ad9\u6d41\u91cf\u7684\u7d93\u6fdf\u65b9\u6848\u3002\u4e5f\u5927\u5e45\u63d0\u5347\u9801\u9762\u4e0b\u8f09\u901f\u5ea6\u3002</p> <p>\u91cd\u9ede\u7d50\u8ad6\uff1a CDN \u662f\u5feb\u901f\u4e14\u7c21\u55ae\u7684\u65b9\u5f0f\uff0c\u80fd\u62b5\u79a6\u6d41\u91cf\u5c16\u5cf0\u548c\u4e00\u822c\u6d41\u91cf\u6210\u9577\u3002\u4f46\u9808\u505a\u6210\u672c\u6548\u76ca\u5206\u6790\u4e26\u76e3\u63a7 CDN \u4f7f\u7528\u60c5\u6cc1\u3002\u82e5 CDN \u5feb\u53d6\u7387\u4f4e\uff08\u5feb\u53d6\u672a\u547d\u4e2d\u7387\u9ad8\uff09\uff0c\u5247\u7121\u6cd5\u6709\u6548\u6e1b\u8f15\u5f8c\u7aef\u8ca0\u64d4\u3002</p>"},{"location":"level101/systems_design/scalability/#_7","title":"\u53ef\u64f4\u5c55\u6027\uff1a\u5fae\u670d\u52d9","text":"<p>\u6b64\u6a21\u5f0f\u5c07\u5de5\u4f5c\u4f9d\u7167\u61c9\u7528\u7a0b\u5f0f\u5167\u7684\u670d\u52d9\u6216\u529f\u80fd\u5283\u5206\u3002\u5fae\u670d\u52d9\u65e8\u5728\u91dd\u5c0d\u4ee3\u78bc\u5eab\u8207\u8cc7\u6599\u96c6\u589e\u9577\u8207\u8907\u96dc\u5ea6\u554f\u984c\uff0c\u900f\u904e\u6545\u969c\u9694\u96e2\u53ca\u964d\u4f4e\u56de\u61c9\u6642\u9593\u4f86\u89e3\u6c7a\u3002</p> <p>\u5fae\u670d\u52d9\u53ef\u64f4\u5c55\u4ea4\u6613\u3001\u8cc7\u6599\u898f\u6a21\u4ee5\u53ca\u4ee3\u78bc\u898f\u6a21\u3002\u5c0d\u64f4\u5c55\u4ee3\u78bc\u5eab\u898f\u6a21\u8207\u8907\u96dc\u5ea6\u5c24\u5176\u6709\u6548\u3002\u76f8\u6bd4\u6c34\u5e73\u64f4\u5c55\uff0c\u958b\u767c\u6210\u672c\u7565\u9ad8\uff0c\u56e0\u9700\u8981\u91cd\u5beb\u670d\u52d9\u6216\u81f3\u5c11\u5c07\u5176\u5f9e\u539f\u55ae\u9ad4\u61c9\u7528\u89e3\u8026\u51fa\u4f86\u3002</p> <p></p> <p>\u4ec0\u9ebc\u662f\uff1a \u6709\u6642\u7a31\u70ba\u900f\u904e\u670d\u52d9\u6216\u8cc7\u6e90\u64f4\u5c55\uff0c\u8457\u91cd\u900f\u904e\u6309\u52d5\u8a5e\uff08\u670d\u52d9\uff09\u6216\u540d\u8a5e\uff08\u8cc7\u6e90\uff09\u5206\u5272\u8cc7\u6599\u96c6\u3001\u4ea4\u6613\u8207\u5de5\u7a0b\u5718\u968a\u4f86\u9032\u884c\u64f4\u5c55\u3002</p> <p>\u4f55\u6642\u4f7f\u7528\uff1a \u975e\u5e38\u5927\u7684\u8cc7\u6599\u96c6\u4e14\u8cc7\u6599\u9593\u7121\u9808\u5f37\u95dc\u806f\u6642\u3002\u5927\u578b\u8907\u96dc\u7cfb\u7d71\uff0c\u9700\u900f\u904e\u5c08\u696d\u5206\u5de5\u4f86\u64f4\u5c55\u5de5\u7a0b\u4eba\u529b\u3002</p> <p>\u5982\u4f55\u4f7f\u7528\uff1a \u900f\u904e\u52d5\u8a5e\u5207\u5206\u64cd\u4f5c\u6216\u7528\u540d\u8a5e\u5283\u5206\u8cc7\u6e90\uff0c\u4ea6\u53ef\u6df7\u5408\u4f7f\u7528\u3002\u4f9d\u6b64\u5283\u5206\u670d\u52d9\u53ca\u8cc7\u6599\u3002</p> <p>\u70ba\u4ec0\u9ebc\uff1a \u5141\u8a31\u6709\u6548\u5730\u64f4\u5c55\u4ea4\u6613\u8207\u975e\u5e38\u5927\u7684\u76f8\u95dc\u8cc7\u6599\u96c6\uff0c\u4e5f\u80fd\u6709\u6548\u64f4\u5f35\u5718\u968a\u3002</p> <p>\u91cd\u9ede\u7d50\u8ad6\uff1a \u5fae\u670d\u52d9\u6709\u52a9\u65bc\u9ad8\u6548\u64f4\u5c55\u4ea4\u6613\u3001\u9f90\u5927\u8cc7\u6599\u53ca\u6545\u969c\u9694\u96e2\u3002\u6e1b\u5c11\u5718\u968a\u6e9d\u901a\u8ca0\u64d4\uff0c\u4ee3\u78bc\u5eab\u66f4\u7c21\u6f54\uff0c\u5c07\u975e\u95dc\u806f\u529f\u80fd\u6a21\u7d44\u5316\u70ba\u7368\u7acb\u670d\u52d9\uff0c\u4f7f\u6bcf\u500b\u670d\u52d9\u53ef\u4f9d\u9700\u6c42\u7368\u7acb\u64f4\u5c55\u3002</p>"},{"location":"level101/systems_design/scalability/#_8","title":"\u53c3\u8003","text":"<ul> <li>https://learning.oreilly.com/library/view/the-art-of/9780134031408/ch23.html </li> </ul>"},{"location":"level101/systems_design/scalability/#sharding","title":"\u53ef\u64f4\u5c55\u6027\uff1a\u5206\u7247 (Sharding)","text":"<p>\u6b64\u6a21\u5f0f\u6839\u64da\u4ea4\u6613\u6642\u67e5\u8a62\u6216\u6c7a\u5b9a\u7684\u5c6c\u6027\u62c6\u5206\u5de5\u4f5c\u3002\u5e38\u898b\u5be6\u4f5c\u70ba\u6839\u64da\u8acb\u6c42\u65b9\u3001\u5ba2\u6236\u6216\u7528\u6236\u62c6\u5206\u3002</p> <p>\u7d93\u5e38\u9700\u64b0\u5beb\u67e5\u8a62\u670d\u52d9\u6216\u6c7a\u5b9a\u6f14\u7b97\u6cd5\u4ee5\u652f\u63f4\u6b64\u985e\u62c6\u5206\u3002</p> <p>\u5206\u7247\u5e6b\u52a9\u64f4\u5c55\u4ea4\u6613\u6210\u9577\u3001\u6307\u4ee4\u96c6\u91cf\u4ee5\u53ca\u7e2e\u77ed\u8655\u7406\u6642\u9593\uff08\u56e0\u9650\u5236\u9700\u8655\u7406\u7684\u8cc7\u6599\u91cf\uff09\u3002\u7279\u5225\u9069\u5408\u64f4\u5c55\u5927\u91cf\u5ba2\u6236\u7fa4\u3002\u80fd\u6709\u52a9\u65bc\u707d\u96e3\u5fa9\u539f\uff0c\u4e26\u5c07\u4e8b\u6545\u5f71\u97ff\u9650\u5b9a\u65bc\u7279\u5b9a\u5ba2\u6236\u5340\u57df\u3002</p> <p></p> <p>\u6b64\u4f8b\u6839\u64da\u4f7f\u7528\u8005\u540d\u7a31\u5c0d\u9a57\u8b49\u8cc7\u6599\u9032\u884c\u5206\u7247\uff0c\u56e0\u70ba\u67e5\u8a62\u6d89\u53ca\u8cc7\u6599\u91cf\u5927\u5e45\u6e1b\u5c11\uff0c\u8cc7\u6599\u5eab\u56de\u61c9\u901f\u5ea6\u52a0\u5feb\u3002</p> <p>\u4e5f\u6709\u5176\u4ed6\u5206\u7247\u65b9\u5f0f </p> <p></p> <p>\u6b64\u4f8b\u5c07\u6574\u500b\u8cc7\u6599\u4e2d\u5fc3\u62c6\u5206\u4e26\u8907\u88fd\uff0c\u6839\u64da\u5ba2\u6236\u5730\u7406\u4f4d\u7f6e\u6307\u6d3e\u8cc7\u6599\u4e2d\u5fc3\u3002\u6b64\u6cd5\u63d0\u5347\u6548\u80fd\uff0c\u56e0\u5ba2\u6236\u6703\u9023\u7dda\u6700\u63a5\u8fd1\u7684\u8cc7\u6599\u4e2d\u5fc3\uff0c\u4e14\u589e\u52a0\u8cc7\u6599\u4e2d\u5fc3\u6578\u91cf\u53ef\u9032\u4e00\u6b65\u63d0\u5347\u6548\u80fd\u3002\u4f46\u9808\u6ce8\u610f\u8cc7\u6599\u8907\u88fd\u8207\u4e00\u81f4\u6027\u6210\u672c\u3002\u6b64\u5916\u53ef\u5be6\u73fe\u6545\u969c\u5bb9\u5fcd\uff0c\u4f8b\u5982\u5148\u5728\u7279\u5b9a\u7ad9\u9ede\u6efe\u52d5\u767c\u5e03\u65b0\u529f\u80fd\uff0c\u767c\u73fe\u554f\u984c\u518d\u65bc\u8a72\u5340\u57df\u56de\u6efe\u3002</p> <p>\u4ec0\u9ebc\u662f\uff1a \u5e38\u4f9d\u5ba2\u6236\u7368\u7279\u5c6c\u6027\u5982 ID\u3001\u540d\u7a31\u3001\u5730\u7406\u4f4d\u7f6e\u7b49\u62c6\u5206\u3002</p> <p>\u4f55\u6642\u4f7f\u7528\uff1a \u5de8\u5927\u4e14\u6210\u9577\u5feb\u901f\u7684\u76f8\u4f3c\u8cc7\u6599\u96c6\uff08\u5982\u9f90\u5927\u5ba2\u6236\u57fa\u790e\uff09\uff0c\u6216\u5730\u7406\u5206\u5e03\u5ee3\u6cdb\u5ba2\u6236\u9700\u8981\u5feb\u901f\u56de\u61c9\u6642\u3002</p> <p>\u5982\u4f55\u4f7f\u7528\uff1a \u627e\u51fa\u95dc\u65bc\u5ba2\u6236\u7684\u5c6c\u6027\uff08\u4f8b\u5982\u5ba2\u6236 ID\u3001\u59d3\u540d\u3001\u5730\u7406\u4f4d\u7f6e\u3001\u88dd\u7f6e\u7b49\uff09\uff0c\u4e26\u57fa\u65bc\u8a72\u5c6c\u6027\u62c6\u5206\u6216\u5206\u5340\u8cc7\u6599\u8207\u670d\u52d9\u3002</p> <p>\u70ba\u4ec0\u9ebc\uff1a \u5ba2\u6236\u5feb\u901f\u6210\u9577\u8d85\u8d8a\u5176\u5b83\u8cc7\u6599\u578b\u614b\uff0c\u6216\u9700\u5728\u64f4\u5c55\u671f\u9593\u5c0d\u7279\u5b9a\u5ba2\u6236\u7fa4\u9032\u884c\u6545\u969c\u9694\u96e2\u3002</p> <p>\u91cd\u9ede\u7d50\u8ad6\uff1a \u5206\u7247\u5c0d\u64f4\u5c55\u5ba2\u6236\u7fa4\u975e\u5e38\u6709\u6548\uff0c\u4f46\u4ea6\u53ef\u7528\u65bc\u5176\u5b83\u96e3\u4ee5\u7528\u5fae\u670d\u52d9\u65b9\u6cd5\u62c6\u5206\u4e4b\u8d85\u5927\u578b\u8cc7\u6599\u96c6\u3002</p>"},{"location":"level101/systems_design/scalability/#_9","title":"\u53c3\u8003","text":"<ul> <li>https://learning.oreilly.com/library/view/the-art-of/9780134031408/ch23.html</li> </ul>"},{"location":"level101/systems_design/scalability/#sre","title":"\u5728 SRE \u89d2\u8272\u7684\u61c9\u7528","text":"<ol> <li>SRE \u8207\u7db2\u8def\u5718\u968a\u5408\u4f5c\uff0c\u7814\u7a76\u5982\u4f55\u5c07\u7528\u6236\u6d41\u91cf\u6620\u5c04\u81f3\u7279\u5b9a\u7ad9\u9ede\u3002 https://engineering.linkedin.com/blog/2017/05/trafficshift--load-testing-at-scale</li> <li>SRE \u8207\u958b\u767c\u5718\u968a\u5bc6\u5207\u5408\u4f5c\uff0c\u5c07\u55ae\u9ad4\u62c6\u5206\u70ba\u591a\u500b\u6613\u904b\u884c\u548c\u7ba1\u7406\u7684\u5fae\u670d\u52d9\u3002</li> <li>SRE \u81f4\u529b\u65bc\u63d0\u5347\u8ca0\u8f09\u5747\u8861\u5668\u7684\u53ef\u9760\u6027\u3001\u670d\u52d9\u767c\u73fe\u8207\u6548\u80fd\u3002</li> <li>SRE \u914d\u5408\u62c6\u5206\u8cc7\u6599\u6210\u5206\u7247\uff0c\u7ba1\u7406\u8cc7\u6599\u6b63\u78ba\u6027\u8207\u4e00\u81f4\u6027\u3002 https://engineering.linkedin.com/espresso/introducing-espresso-linkedins-hot-new-distributed-document-store</li> <li>SRE \u5de5\u4f5c\u5305\u62ec\u8a2d\u5b9a\u3001\u914d\u7f6e\u4e26\u63d0\u5347 CDN \u7684\u5feb\u53d6\u547d\u4e2d\u7387\u3002</li> </ol>"},{"location":"level102/containerization_and_orchestration/conclusion/","title":"\u7d50\u8ad6","text":"<p>\u5728\u672c\u5b50\u6a21\u7d44\u4e2d\uff0c\u6211\u5011\u63a2\u7d22\u4e86\u5bb9\u5668\u7684\u4e16\u754c\uff0c\u5f9e\u70ba\u4ec0\u9ebc\u6211\u5011\u4f7f\u7528\u5bb9\u5668\u958b\u59cb\uff0c\u4e86\u89e3\u5bb9\u5668\u5982\u4f55\u5f9e\u865b\u64ec\u6a5f\u7684\u904e\u53bb\u6f14\u9032\uff08\u96d6\u7136\u865b\u64ec\u6a5f\u4e26\u672a\u56e0\u6b64\u904e\u6642\uff09\uff0c\u4ee5\u53ca\u5b83\u5011\u8207\u865b\u64ec\u6a5f\u7684\u4e0d\u540c\u4e4b\u8655\u3002\u63a5\u8457\uff0c\u6211\u5011\u63a2\u8a0e\u4e86\u5bb9\u5668\u7684\u5be6\u4f5c\u65b9\u5f0f\uff0c\u7279\u5225\u8457\u91cd\u65bc cgroups \u548c namespaces\uff0c\u4e26\u642d\u914d\u4e86\u4e00\u4e9b\u5be6\u4f5c\u7df4\u7fd2\u3002\u6700\u5f8c\uff0c\u6211\u5011\u4ee5\u5bb9\u5668\u7de8\u6392\u7d50\u675f\u9019\u8d9f\u65c5\u7a0b\uff0c\u5b78\u7fd2\u4e86\u4e00\u4e9b Kubernetes \u7684\u6982\u5ff5\u53ca\u5be6\u52d9\u7bc4\u4f8b\u3002</p> <p>\u5e0c\u671b\u672c\u6a21\u7d44\u80fd\u63d0\u4f9b\u4f60\u8db3\u5920\u7684\u77e5\u8b58\u8207\u8208\u8da3\uff0c\u6301\u7e8c\u6df1\u5165\u5b78\u7fd2\u4e26\u61c9\u7528\u9019\u4e9b\u6280\u8853\uff01</p>"},{"location":"level102/containerization_and_orchestration/containerization_with_docker/","title":"Containerization With Docker","text":""},{"location":"level102/containerization_and_orchestration/containerization_with_docker/#_1","title":"\u4ecb\u7d39","text":"<p>\u81ea 2013 \u5e74\u516c\u958b\u767c\u4f48\u4ee5\u4f86\uff0cDocker \u5728\u773e\u591a\u5bb9\u5668\u5f15\u64ce\u4e2d\u5927\u53d7\u6b61\u8fce\u3002\u4ee5\u4e0b\u662f Docker \u5982\u6b64\u53d7\u6b61\u8fce\u7684\u4e00\u4e9b\u539f\u56e0\uff1a</p> <ul> <li>\u63d0\u5347\u4e86\u53ef\u651c\u6027</li> </ul> <p>Docker \u5bb9\u5668\u53ef\u4ee5\u4ee5 Docker \u6620\u50cf\u7684\u5f62\u5f0f\uff0c\u8de8\u74b0\u5883\u904b\u884c\uff0c\u7121\u8ad6\u662f\u672c\u6a5f\u3001\u5167\u90e8\u90e8\u7f72\u9084\u662f\u96f2\u7aef\u5be6\u4f8b\u3002\u76f8\u8f03\u4e4b\u4e0b\uff0cLXC \u5bb9\u5668\u66f4\u4f9d\u8cf4\u6a5f\u5668\u898f\u683c\u3002</p> <ul> <li>\u8f15\u91cf\u5316</li> </ul> <p>\u8207\u865b\u64ec\u6a5f\u6620\u50cf\u76f8\u6bd4\uff0cDocker \u6620\u50cf\u975e\u5e38\u8f15\u91cf\u3002\u4f8b\u5982\uff0cUbuntu 18.04 \u7684\u865b\u64ec\u6a5f\u6620\u50cf\u5927\u5c0f\u7d04\u70ba 3GB\uff0c\u800c Docker \u6620\u50cf\u53ea\u6709\u7d04 45MB\uff01</p> <ul> <li>\u5bb9\u5668\u6620\u50cf\u7684\u7248\u672c\u63a7\u5236</li> </ul> <p>Docker \u652f\u6301\u7dad\u8b77\u591a\u500b\u6620\u50cf\u7248\u672c\uff0c\u4fbf\u65bc\u67e5\u95b1\u6620\u50cf\u6b77\u53f2\uff0c\u751a\u81f3\u9032\u884c\u56de\u6efe\u3002</p> <ul> <li>\u6620\u50cf\u91cd\u7528</li> </ul> <p>\u7531\u65bc Docker \u6620\u50cf\u662f\u5206\u5c64\u7d50\u69cb\u7684\uff0c\u4e00\u500b\u6620\u50cf\u53ef\u4ee5\u4f5c\u70ba\u57fa\u790e\uff0c\u518d\u5728\u5176\u4e0a\u69cb\u5efa\u65b0\u7684\u6620\u50cf\u3002\u4f8b\u5982\uff0cAlpine \u662f\u5e38\u7528\u4f5c\u57fa\u5e95\u7684\u8f15\u91cf\u6620\u50cf\uff08\u7d04 5MB\uff09\u3002Docker \u4f7f\u7528\u5b58\u5132\u9a45\u52d5\u7ba1\u7406\u9019\u4e9b\u5c64\u3002</p> <ul> <li>\u793e\u7fa4\u652f\u6301</li> </ul> <p>Docker Hub \u662f\u4e00\u500b\u5bb9\u5668\u6620\u50cf\u8a3b\u518a\u4e2d\u5fc3\uff0c\u4efb\u4f55\u767b\u5165\u7528\u6236\u90fd\u80fd\u4e0a\u50b3\u6216\u4e0b\u8f09\u5bb9\u5668\u6620\u50cf\u3002Docker Hub \u4e2d\u7684\u71b1\u9580\u4f5c\u696d\u7cfb\u7d71\u6620\u50cf\u6703\u5b9a\u671f\u66f4\u65b0\uff0c\u4e26\u6709\u5927\u91cf\u793e\u7fa4\u652f\u6301\u3002</p> <p>\u8b93\u6211\u5011\u5148\u4f86\u4e86\u89e3\u4e00\u4e9b\u5728\u8a0e\u8ad6 Docker \u6642\u5e38\u898b\u7684\u8853\u8a9e\u3002</p>"},{"location":"level102/containerization_and_orchestration/containerization_with_docker/#docker","title":"Docker \u8853\u8a9e","text":"<ul> <li>Docker \u6620\u50cf</li> </ul> <p>Docker \u6620\u50cf\u5305\u542b\u61c9\u7528\u7a0b\u5f0f\u7684\u53ef\u57f7\u884c\u7248\u672c\u53ca\u5176\u4f9d\u8cf4\uff08\u8a2d\u5b9a\u6a94\u3001\u51fd\u5f0f\u5eab\u3001\u4e8c\u9032\u4f4d\u6a94\uff09\uff0c\u53ef\u7368\u7acb\u4f5c\u70ba\u5bb9\u5668\u904b\u884c\u3002\u5b83\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u500b\u5bb9\u5668\u7684\u5feb\u7167\u3002 Docker \u6620\u50cf\u662f\u758a\u52a0\u5728\u57fa\u5e95\u5c64\u4e4b\u4e0a\u7684\u591a\u5c64\u5806\u758a\uff0c\u9019\u4e9b\u5c64\u6703\u88ab\u7248\u672c\u5316\u3002\u6700\u65b0\u7684\u7248\u672c\u6703\u88ab\u7528\u65bc\u57fa\u5e95\u6620\u50cf\u4e4b\u4e0a\u3002</p> <p><code>docker image ls</code> \u5217\u51fa\u4e3b\u6a5f\u4e0a\u5b58\u5728\u7684\u6620\u50cf\u3002</p> <ul> <li>Docker \u5bb9\u5668</li> </ul> <p>Docker \u5bb9\u5668\u662f\u6620\u50cf\u7684\u57f7\u884c\u5be6\u4f8b\u3002\u6620\u50cf\u662f\u975c\u614b\u7684\uff0c\u800c\u57fa\u65bc\u6620\u50cf\u5275\u5efa\u7684\u5bb9\u5668\u5247\u53ef\u4ee5\u57f7\u884c\u548c\u4e92\u52d5\u3002\u9019\u5c31\u662f\u524d\u9762\u7ae0\u7bc0\u6240\u8aaa\u7684\u300c\u5bb9\u5668\u300d\u3002</p> <p><code>docker run</code> \u662f\u7528\u4f86\u5f9e\u6620\u50cf\u5efa\u7acb\u5bb9\u5668\u7684\u6307\u4ee4\u3002 <code>docker ps</code> \u5217\u51fa\u4e3b\u6a5f\u4e2d\u76ee\u524d\u6b63\u5728\u904b\u884c\u7684 Docker \u5bb9\u5668\u3002</p> <ul> <li>Dockerfile</li> </ul> <p>\u9019\u662f\u4e00\u500b\u7d14\u6587\u5b57\u6a94\uff0c\u5167\u542b\u7d44\u88dd\u6620\u50cf\u6240\u9700\u7684\u6307\u4ee4\uff0c\u7531 Docker \u5f15\u64ce\uff08\u56b4\u683c\u8aaa\u662f\u5b88\u8b77\u9032\u7a0b\uff09\u57f7\u884c\u3002\u88e1\u9762\u5305\u542b\u57fa\u5e95\u6620\u50cf\u3001\u8981\u6ce8\u5165\u7684\u74b0\u5883\u8b8a\u6578\u7b49\u8cc7\u8a0a\u3002</p> <p><code>docker build</code> \u7528\u65bc\u6839\u64da Dockerfile \u5efa\u69cb\u6620\u50cf\u3002</p> <ul> <li>Docker Hub</li> </ul> <p>Docker \u7684\u5b98\u65b9\u6620\u50cf\u8a3b\u518a\u4e2d\u5fc3\u3002\u4efb\u4f55\u7528\u6236\u767b\u5165 Docker \u5f8c\uff0c\u7686\u53ef\u900f\u904e <code>docker push</code> \u4e0a\u50b3\u81ea\u8a02\u6620\u50cf\uff0c\u6216\u7528 <code>docker pull</code> \u4e0b\u8f09\u6620\u50cf\u3002</p> <p>\u4e86\u89e3\u57fa\u672c\u8853\u8a9e\u5f8c\uff0c\u6211\u5011\u4f86\u770b\u770b Docker \u5f15\u64ce\u7684\u904b\u4f5c\u65b9\u5f0f\uff1aCLI \u6307\u4ee4\u5982\u4f55\u88ab\u89e3\u91cb\u3001\u5bb9\u5668\u751f\u547d\u9031\u671f\u5982\u4f55\u7ba1\u7406\u3002</p>"},{"location":"level102/containerization_and_orchestration/containerization_with_docker/#docker_1","title":"Docker \u5f15\u64ce\u7d44\u4ef6","text":"<p>\u4ee5\u4e0b\u662f Docker \u5f15\u64ce\u67b6\u69cb\u5716\uff0c\u5e6b\u52a9\u7406\u89e3\uff1a</p> <p></p> <p>Docker \u5f15\u64ce\u63a1\u7528\u7528\u6236\u7aef-\u4f3a\u670d\u5668\u67b6\u69cb\uff0c\u5305\u62ec\u4e09\u500b\u7d44\u4ef6\uff1a</p> <ul> <li>Docker \u7528\u6236\u7aef</li> </ul> <p>\u9019\u662f\u4f7f\u7528\u8005\u76f4\u63a5\u4e92\u52d5\u7684\u7d44\u4ef6\u3002\u57f7\u884c\u5148\u524d\u770b\u904e\u7684 Docker \u6307\u4ee4\uff08\u5982 push\u3001pull\u3001container ls\u3001image ls\uff09\u6642\uff0c\u5be6\u969b\u4e0a\u662f\u4f7f\u7528 Docker \u7528\u6236\u7aef\u3002\u55ae\u4e00\u7528\u6236\u7aef\u53ef\u8207\u591a\u500b Docker \u5b88\u8b77\u7a0b\u5e8f\u6e9d\u901a\u3002</p> <ul> <li>REST API</li> </ul> <p>\u63d0\u4f9b Docker \u7528\u6236\u7aef\u8207\u5b88\u8b77\u7a0b\u5e8f\u9593\u7684\u901a\u8a0a\u4ecb\u9762\u3002</p> <ul> <li>Docker \u5b88\u8b77\u7a0b\u5e8f (server)</li> </ul> <p>Docker \u5f15\u64ce\u7684\u6838\u5fc3\u5143\u4ef6\u3002\u5b83\u8ca0\u8cac\u6839\u64da Dockerfile \u5efa\u69cb\u6620\u50cf\u3001\u5f9e\u5bb9\u5668\u8a3b\u518a\u4f3a\u670d\u5668\u62c9\u53d6\u6620\u50cf\u3001\u5c07\u6620\u50cf\u63a8\u9001\u81f3\u8a3b\u518a\u4f3a\u670d\u5668\u3001\u555f\u52d5\u6216\u505c\u6b62\u5bb9\u5668\u7b49\uff0c\u4e26\u7ba1\u7406\u5bb9\u5668\u9593\u7684\u7db2\u8def\u3002</p>"},{"location":"level102/containerization_and_orchestration/containerization_with_docker/#_2","title":"\u5be6\u4f5c\u7df4\u7fd2","text":"<p>\u5b98\u65b9\u7684 docker github \u63d0\u4f9b\u591a\u500b\u7b49\u7d1a\u7684\u5b78\u7fd2\u5be6\u4f5c\u8ab2\u7a0b\u3002\u6211\u5011\u63a8\u85a6\u9069\u5408\u521d\u5b78\u8005\u7684\u8ab2\u7a0b\uff0c\u8acb\u4f9d\u5e8f\u5b8c\u6210\uff1a</p> <ol> <li> <p>\u672c\u5730\u74b0\u5883\u8a2d\u5b9a</p> </li> <li> <p>\u4f7f\u7528 Docker CLI \u57fa\u790e</p> </li> <li> <p>\u5efa\u7acb\u4e26\u5bb9\u5668\u5316\u7c21\u6613 Flask \u61c9\u7528</p> </li> </ol> <p>\u6b64\u5916\uff0c\u9019\u500b \u521d\u5b78\u8005\u5be6\u4f5c\u7df4\u7fd2 \u4ecb\u7d39\u5982\u4f55 Docker \u5316 MERN\uff08Mongo + React + Express\uff09\u61c9\u7528\uff0c\u4e5f\u975e\u5e38\u9069\u5408\u8ddf\u8457\u7df4\u7fd2\u3002</p>"},{"location":"level102/containerization_and_orchestration/containerization_with_docker/#docker_2","title":"Docker \u9032\u968e\u529f\u80fd","text":"<p>\u6211\u5011\u8a0e\u8ad6\u5b8c\u57fa\u790e\u7684\u5bb9\u5668\u5316\u53ca\u5982\u4f55 Docker \u5316\u7368\u7acb\u61c9\u7528\uff0c\u73fe\u5be6\u60c5\u6cc1\u4e2d\uff0c\u6d41\u7a0b\u9593\u9700\u8981\u4e92\u76f8\u6e9d\u901a\uff0c\u5c24\u5176\u5728\u5fae\u670d\u52d9\u67b6\u69cb\u4e2d\u5c24\u70ba\u5e38\u898b\u3002</p> <p>Docker \u7db2\u8def</p> <p>Docker \u7db2\u8def\u4fc3\u9032\u540c\u4e3b\u6a5f\u6216\u8de8\u4e3b\u6a5f\u5bb9\u5668\u9593\u7684\u4e92\u52d5\u3002\u900f\u904e <code>docker network</code> \u6307\u4ee4\uff0c\u60a8\u53ef\u9078\u64c7\u5bb9\u5668\u8207\u4e3b\u6a5f\u53ca\u5176\u4ed6\u5bb9\u5668\u4e92\u52d5\u7684\u65b9\u5f0f\u3002 \u4f8b\u5982\uff0c<code>host</code> \u9078\u9805\u8b93\u5bb9\u5668\u5171\u7528\u4e3b\u6a5f\u7684\u7db2\u8def\u5806\u758a\uff1b<code>bridge</code> \u8b93\u540c\u4e3b\u6a5f\u4e0a\u7684\u5bb9\u5668\u9593\u901a\u8a0a\uff0c\u4f46\u4e0d\u5c0d\u5916\u90e8\u958b\u653e\uff1b<code>overlay</code> \u5141\u8a31\u8de8\u591a\u4e3b\u6a5f\u7684\u5bb9\u5668\u4e92\u52d5\uff0c\u524d\u63d0\u662f\u5b83\u5011\u9023\u63a5\u65bc\u540c\u4e00\u7db2\u8def\uff1b<code>macvlan</code> \u5247\u70ba\u5bb9\u5668\u5206\u914d\u7368\u7acb MAC \u4f4d\u5740\uff0c\u9069\u7528\u65bc\u50b3\u7d71\u5bb9\u5668\u3002 \u9019\u90e8\u5206\u4e3b\u984c\u8d85\u51fa\u672c\u6a21\u7d44\u7bc4\u570d\uff0c\u5efa\u8b70\u53c3\u8003\u5b98\u65b9 docker networks \u6587\u4ef6\u4f5c\u6df1\u5165\u4e86\u89e3\u3002</p> <p>Volume\uff08\u8cc7\u6599\u5377\uff09</p> <p>\u9664\u4e86\u6620\u50cf\u3001\u5bb9\u5668\u548c\u7db2\u8def\uff0cDocker \u4e5f\u63d0\u4f9b\u5728\u5bb9\u5668\u5167\u5275\u5efa\u8207\u639b\u8f09\u8cc7\u6599\u5377\u7684\u9078\u9805\u3002\u901a\u5e38\uff0c\u5bb9\u5668\u5167\u7684\u8cc7\u6599\u662f\u66ab\u5b58\u7684\u2014\u2014\u5bb9\u5668\u505c\u6b62\u5f8c\u8cc7\u6599\u6703\u6d88\u5931\u3002Volume \u53ef\u7528\u65bc\u4fdd\u5b58\u6301\u4e45\u8cc7\u6599\u3002 \u5982\u679c\u60a8\u60f3\u7df4\u7fd2\u4f7f\u7528 Volume\uff0c\u9019\u4efd Docker \u5be6\u4f5c\u8ab2\u7a0b \u662f\u4e0d\u932f\u7684\u8d77\u9ede\u3002</p> <p>\u4e0b\u4e00\u7ae0\u5c07\u4ecb\u7d39\u5982\u4f55\u4f7f\u7528 Kubernetes \u4f86\u7de8\u6392\u5bb9\u5668\u90e8\u7f72\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro/","title":"\u5bb9\u5668\u8207\u5354\u8abf","text":""},{"location":"level102/containerization_and_orchestration/intro/#_2","title":"\u4ecb\u7d39","text":"<p>\u5bb9\u5668\u3001Docker \u548c Kubernetes \u662f\u6bcf\u500b\u8207\u8edf\u9ad4\u76f8\u95dc\u9818\u57df\u7684\u4eba\u90fd\u5728\u8ac7\u8ad6\u7684\u300c\u9177\u70ab\u300d\u5b57\u773c\u3002\u8b93\u6211\u5011\u6df1\u5165\u4e86\u89e3\u9019\u4e9b\u6280\u8853\u7684\u6838\u5fc3\uff0c\u7406\u89e3\u6574\u9ad4\u6982\u5ff5\u5230\u5e95\u662f\u4ec0\u9ebc\uff01</p> <p>\u5728\u672c\u8ab2\u7a0b\u4e2d\uff0c\u6211\u5011\u5c07\u63a2\u8a0e\u5bb9\u5668\u7684\u5167\u90e8\u904b\u4f5c\u8207\u61c9\u7528\uff1a\u5bb9\u5668\u7684\u5be6\u4f5c\u65b9\u5f0f\uff0c\u5982\u4f55\u5c07\u61c9\u7528\u7a0b\u5f0f\u5bb9\u5668\u5316\uff0c\u4ee5\u53ca\u5982\u4f55\u5728\u5927\u898f\u6a21\u90e8\u7f72\u5bb9\u5668\u5316\u61c9\u7528\u7a0b\u5f0f\u6642\u4e0d\u5931\u7720\u3002\u6211\u5011\u9084\u6703\u52d5\u624b\u5617\u8a66\u4e00\u4e9b\u5be6\u4f5c\u7df4\u7fd2\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro/#_3","title":"\u5148\u5099\u77e5\u8b58","text":"<ul> <li>\u57fa\u672c Linux \u77e5\u8b58\uff0c\u6709\u52a9\u65bc\u7406\u89e3\u5bb9\u5668\u5167\u90e8\u7d50\u69cb</li> <li>\u57fa\u672c\u7684 shell \u6307\u4ee4\u77e5\u8b58\uff08\u5c0d\u65bc\u5bb9\u5668\u5316\u61c9\u7528\u7a0b\u5f0f\u5f88\u6709\u7528\uff09</li> <li>\u57f7\u884c\u57fa\u672c\u7db2\u9801\u61c9\u7528\u7a0b\u5f0f\u7684\u77e5\u8b58\u3002\u4f60\u53ef\u4ee5\u900f\u904e\u6211\u5011\u7684Python \u8207 Web \u6a21\u7d44\u4f86\u719f\u6089\u9019\u90e8\u5206\u5167\u5bb9\u3002</li> </ul>"},{"location":"level102/containerization_and_orchestration/intro/#_4","title":"\u672c\u8ab2\u7a0b\u671f\u671b","text":"<p>\u672c\u6a21\u7d44\u5206\u70ba\u4e09\u500b\u5b50\u6a21\u7d44\u3002\u7b2c\u4e00\u500b\u5b50\u6a21\u7d44\u4ecb\u7d39\u5bb9\u5668\u7684\u5167\u90e8\u69cb\u9020\u53ca\u5176\u4f7f\u7528\u539f\u56e0\u3002</p> <p>\u7b2c\u4e8c\u500b\u5b50\u6a21\u7d44\u4ecb\u7d39 Docker\uff0c\u4e00\u500b\u6d41\u884c\u7684\u5bb9\u5668\u5f15\u64ce\uff0c\u4e26\u5305\u542b\u5c07\u57fa\u672c\u7db2\u9801\u61c9\u7528\u5bb9\u5668\u5316\u7684\u5be6\u4f5c\u7df4\u7fd2\u3002</p> <p>\u6700\u5f8c\u4e00\u500b\u6a21\u7d44\u8a0e\u8ad6\u5bb9\u5668\u5354\u8abf Kubernetes\uff0c\u4e26\u900f\u904e\u5be6\u9a57\u5c55\u793a\u5b83\u5982\u4f55\u8b93 SRE \u7684\u5de5\u4f5c\u66f4\u8f15\u9b06\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro/#_5","title":"\u672c\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u7684\u5167\u5bb9","text":"<p>\u6211\u5011\u4e0d\u6703\u6db5\u84cb\u9032\u968e\u7684 Docker \u8207 Kubernetes \u6982\u5ff5\uff0c\u4f46\u6703\u63d0\u4f9b\u76f8\u95dc\u9023\u7d50\u8207\u53c3\u8003\u8cc7\u6599\uff0c\u65b9\u4fbf\u4f60\u6839\u64da\u8208\u8da3\u81ea\u884c\u9032\u4fee\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro/#_6","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u6db5\u84cb\u4e0b\u5217\u4e3b\u984c\uff1a</p> <ul> <li>\u5bb9\u5668\u4ecb\u7d39<ul> <li>\u4ec0\u9ebc\u662f\u5bb9\u5668</li> <li>\u70ba\u4ec0\u9ebc\u8981\u4f7f\u7528\u5bb9\u5668</li> <li>\u865b\u64ec\u6a5f\u5668\u8207\u5bb9\u5668\u7684\u5dee\u7570</li> <li>\u5bb9\u5668\u5982\u4f55\u5be6\u4f5c</li> <li>Namespace</li> <li>Cgroups</li> <li>\u5bb9\u5668\u5f15\u64ce</li> </ul> </li> <li>\u4f7f\u7528 Docker \u5bb9\u5668\u5316<ul> <li>\u4ecb\u7d39</li> <li>Docker \u57fa\u672c\u8853\u8a9e</li> <li>Docker \u5f15\u64ce\u7d44\u4ef6</li> <li>\u52d5\u624b\u5be6\u4f5c</li> <li>\u9032\u968e Docker \u4ecb\u7d39</li> </ul> </li> <li>\u4f7f\u7528 Kubernetes \u9032\u884c\u5bb9\u5668\u5354\u8abf<ul> <li>\u4ecb\u7d39</li> <li>\u4f7f\u7528 Kubernetes \u7684\u52d5\u6a5f</li> <li>Kubernetes \u67b6\u69cb</li> <li>\u52d5\u624b\u5be6\u4f5c</li> <li>\u9032\u968e Kubernetes \u6982\u5ff5\u4ecb\u7d39</li> </ul> </li> <li>\u7d50\u8ad6</li> </ul>"},{"location":"level102/containerization_and_orchestration/intro_to_containers/","title":"Introduction To Containers","text":""},{"location":"level102/containerization_and_orchestration/intro_to_containers/#_1","title":"\u4ec0\u9ebc\u662f\u5bb9\u5668","text":"<p>\u4ee5\u4e0b\u662f\u6839\u64da Docker\uff08\u4e00\u500b\u6d41\u884c\u7684\u5bb9\u5668\u5316\u5f15\u64ce\uff09\u5c0d\u5bb9\u5668\u7684\u6d41\u884c\u5b9a\u7fa9\uff1a</p> <p>\u5bb9\u5668\u662f\u4e00\u500b\u6a19\u6e96\u5316\u7684\u8edf\u9ad4\u55ae\u5143\uff0c\u5c07\u7a0b\u5f0f\u78bc\u53ca\u5176\u6240\u6709\u4f9d\u8cf4\u9805\u6253\u5305\uff0c\u8b93\u61c9\u7528\u7a0b\u5f0f\u80fd\u5920\u5f9e\u4e00\u500b\u8a08\u7b97\u74b0\u5883\u5feb\u901f\u4e14\u53ef\u9760\u5730\u904b\u884c\u5230\u53e6\u4e00\u500b\u8a08\u7b97\u74b0\u5883\u3002</p> <p>\u8b93\u6211\u5011\u62c6\u89e3\u4e00\u4e0b\u3002\u5bb9\u5668\u662f\u5305\u542b\u60a8\u7a0b\u5f0f\u78bc\u53ca\u5176\u6574\u500b\u904b\u884c\u6642\u74b0\u5883\u7684\u6253\u5305\u3002\u9019\u5305\u62ec\u4e86\u60a8\u7684\u7cfb\u7d71\u5eab\u3001\u4e8c\u9032\u4f4d\u6a94\u6848\u548c\u61c9\u7528\u7a0b\u5f0f\u904b\u884c\u6240\u9700\u7684\u914d\u7f6e\u6a94\u6848\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro_to_containers/#_2","title":"\u70ba\u4ec0\u9ebc\u9700\u8981\u5bb9\u5668","text":"<p>\u60a8\u53ef\u80fd\u6703\u60f3\u70ba\u4f55\u6211\u5011\u9700\u8981\u5c07\u61c9\u7528\u7a0b\u5f0f\u9023\u540c\u5176\u4f9d\u8cf4\u5305\u88dd\u5728\u4e00\u8d77\u3002\u9019\u4e5f\u6db5\u84cb\u4e86\u5b9a\u7fa9\u4e2d\u7684\u7b2c\u4e8c\u90e8\u5206\uff0c</p> <p>...\u8b93\u61c9\u7528\u7a0b\u5f0f\u80fd\u5920\u5f9e\u4e00\u500b\u8a08\u7b97\u74b0\u5883\u5feb\u901f\u4e14\u53ef\u9760\u5730\u904b\u884c\u5230\u53e6\u4e00\u500b\u8a08\u7b97\u74b0\u5883\u3002</p> <p>\u958b\u767c\u4eba\u54e1\u901a\u5e38\u5728\u958b\u767c\u74b0\u5883\uff08\u6216\u672c\u6a5f\uff09\u4e2d\u7de8\u5beb\u7a0b\u5f0f\u78bc\uff0c\u4e26\u5728\u4e00\u5169\u500b\u66ab\u5b58/\u6e2c\u8a66\u74b0\u5883\u4e2d\u6e2c\u8a66\uff0c\u7136\u5f8c\u624d\u5c07\u7a0b\u5f0f\u78bc\u63a8\u9001\u5230\u751f\u7522\u74b0\u5883\u3002\u7406\u60f3\u60c5\u6cc1\u4e0b\uff0c\u70ba\u4e86\u53ef\u9760\u5730\u5728\u63a8\u9001\u5230\u751f\u7522\u524d\u6e2c\u8a66\u61c9\u7528\u7a0b\u5f0f\uff0c\u6211\u5011\u9700\u8981\u6240\u6709\u9019\u4e9b\u74b0\u5883\u5728\u5e95\u5c64\u4f5c\u696d\u7cfb\u7d71\u3001\u7cfb\u7d71\u5eab\u7b49\u65b9\u9762\u4fdd\u6301\u5b8c\u5168\u4e00\u81f4\u3002</p> <p>\u7576\u7136\uff0c\u9019\u7a2e\u7406\u60f3\u72c0\u6cc1\u96e3\u4ee5\u5be6\u73fe\uff0c\u5c24\u5176\u7576\u6211\u5011\u4f7f\u7528\u6df7\u5408\u7684\u672c\u5730\uff08\u5b8c\u5168\u63a7\u5236\uff09\u8207\u96f2\u7aef\u57fa\u790e\u8a2d\u65bd\u4f9b\u61c9\u5546\uff08\u5728\u786c\u9ad4\u63a7\u5236\u548c\u5b89\u5168\u9078\u9805\u65b9\u9762\u66f4\u53d7\u9650\u5236\uff09\uff0c\u9019\u7a2e\u60c5\u6cc1\u5728\u5982\u4eca\u66f4\u70ba\u5e38\u898b\u3002</p> <p>\u9019\u6b63\u662f\u70ba\u4ec0\u9ebc\u6211\u5011\u4e0d\u53ea\u8981\u5305\u88dd\u7a0b\u5f0f\u78bc\uff0c\u9084\u8981\u5305\u88dd\u4f9d\u8cf4\uff1b\u4ee5\u78ba\u4fdd\u61c9\u7528\u7a0b\u5f0f\u7121\u8ad6\u5728\u54ea\u500b\u57fa\u790e\u8a2d\u65bd\u6216\u74b0\u5883\u4e0a\u904b\u884c\uff0c\u90fd\u80fd\u53ef\u9760\u904b\u884c\u3002</p> <p>\u6211\u5011\u53ef\u4ee5\u5728\u55ae\u4e00\u4e3b\u6a5f\u4e0a\u904b\u884c\u591a\u500b\u5bb9\u5668\u3002\u7531\u65bc\u5bb9\u5668\u7684\u5be6\u73fe\u65b9\u5f0f\uff0c\u6bcf\u500b\u5bb9\u5668\u5728\u76f8\u540c\u4e3b\u6a5f\u5167\u64c1\u6709\u81ea\u5df1\u7684\u9694\u96e2\u74b0\u5883\u3002\u9019\u610f\u5473\u8457\u53ef\u5c07\u55ae\u9ad4\u61c9\u7528\u62c6\u5206\u6210\u5fae\u670d\u52d9\u4e26\u6253\u5305\u5728\u5bb9\u5668\u4e2d\u3002\u6bcf\u500b\u5fae\u670d\u52d9\u5728\u4e3b\u6a5f\u4e2d\u9694\u96e2\u904b\u884c\u3002\u9019\u662f\u5bb9\u5668\u88ab\u4f7f\u7528\u7684\u53e6\u4e00\u539f\u56e0\uff1a\u95dc\u6ce8\u9ede\u5206\u96e2\u3002</p> <p>\u63d0\u4f9b\u9694\u96e2\u74b0\u5883\u80fd\u9632\u6b62\u4e00\u500b\u5bb9\u5668\u4e2d\u61c9\u7528\u7684\u6545\u969c\u5f71\u97ff\u5230\u5176\u4ed6\u5bb9\u5668\u3002\u9019\u88ab\u7a31\u70ba_\u6545\u969c\u9694\u96e2_\u3002\u9694\u96e2\u540c\u6642\u5e36\u4f86\u984d\u5916\u7684\u5b89\u5168\u597d\u8655\uff0c\u56e0\u70ba\u5bb9\u5668\u4e2d\u7684\u9032\u7a0b\u53ef\u898b\u6027\u88ab\u9650\u5236\u3002</p> <p>\u7531\u65bc\u5927\u591a\u6578\u5bb9\u5668\u5316\u89e3\u6c7a\u65b9\u6848\u7684\u5be6\u73fe\uff0c\u6211\u5011\u9084\u53ef\u4ee5\u9650\u5236\u5728\u5bb9\u5668\u5167\u904b\u884c\u7684\u61c9\u7528\u7a0b\u5f0f\u6240\u4f7f\u7528\u7684\u8cc7\u6e90\u91cf\u3002\u9019\u88ab\u7a31\u70ba_\u8cc7\u6e90\u9650\u5236_\u3002\u6211\u5011\u6703\u5728\u5f8c\u9762cgroups\u7684\u7ae0\u7bc0\u4e2d\u66f4\u8a73\u7d30\u8a0e\u8ad6\u9019\u500b\u529f\u80fd\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro_to_containers/#_3","title":"\u865b\u64ec\u6a5f\u8207\u5bb9\u5668\u7684\u5dee\u7570","text":"<p>\u6211\u5011\u7a0d\u5fae\u96e2\u984c\uff0c\u8ac7\u8ac7\u6b77\u53f2\u3002\u5728\u4e0a\u4e00\u7bc0\u4e2d\uff0c\u6211\u5011\u63d0\u5230\u5bb9\u5668\u5982\u4f55\u5e6b\u52a9\u5be6\u73fe\u95dc\u6ce8\u9ede\u5206\u96e2\u3002\u5728\u5bb9\u5668\u5ee3\u6cdb\u4f7f\u7528\u4e4b\u524d\uff0c\u865b\u64ec\u5316\u88ab\u7528\u4f86\u5728\u540c\u4e00\u4e3b\u6a5f\u4e2d\u904b\u884c\u9694\u96e2\u7684\u61c9\u7528\u7a0b\u5f0f\uff08\u67d0\u4e9b\u60c5\u6cc1\u4e0b\u81f3\u4eca\u4ecd\u88ab\u4f7f\u7528\uff09\u3002</p> <p>\u7c21\u55ae\u8aaa\uff0c\u865b\u64ec\u5316\u5c31\u662f\u5c07\u8edf\u9ad4\u9023\u540c\u5b83\u904b\u884c\u7684\u4f5c\u696d\u7cfb\u7d71\u526f\u672c\u6253\u5305\uff0c\u9019\u500b\u5305\u7a31\u70ba\u865b\u64ec\u6a5f\uff08VM\uff09\u3002VM \u4e2d\u6253\u5305\u7684\u4f5c\u696d\u7cfb\u7d71\u6620\u50cf\u7a31\u70ba\u4f86\u8cd3\u4f5c\u696d\u7cfb\u7d71\uff08Guest OS\uff09\u3002\u4e00\u500b\u7a31\u70ba Hypervisor \u7684\u5143\u4ef6\u4f4d\u65bc Guest OS \u8207 Host OS \u4e4b\u9593\uff0c\u8ca0\u8cac\u5354\u8abf Guest OS \u5c0d\u5e95\u5c64\u786c\u9ad4\u7684\u5b58\u53d6\u3002\u4f60\u53ef\u4ee5\u5728\u9019\u88e1\u4e86\u89e3\u66f4\u591a\u95dc\u65bc hypervisor \u7684\u8cc7\u8a0a\u3002</p> <p></p> <p>\u985e\u4f3c\u65bc\u591a\u500b\u5bb9\u5668\u80fd\u5728\u55ae\u4e00\u4e3b\u6a5f\u904b\u884c\uff0c\u591a\u500b\u865b\u64ec\u6a5f\u4e5f\u80fd\u5728\u55ae\u4e00\u4e3b\u6a5f\u4e0a\u904b\u884c\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u865b\u64ec\u6a5f\u4e2d\u904b\u884c\u61c9\u7528\u7a0b\u5f0f\uff08\u6216\u5404\u5fae\u670d\u52d9\uff09\u4f86\u5be6\u73fe\u95dc\u6ce8\u9ede\u5206\u96e2\u3002</p> <p>\u9019\u88e1\u4e3b\u8981\u805a\u7126\u65bc VM \u8207\u5bb9\u5668\u7684\u5927\u5c0f\u5dee\u7570\u3002\u7531\u65bc VM \u9644\u5e36\u4e86\u5b8c\u6574\u7684 Guest OS \u526f\u672c\uff0c\u9ad4\u7a4d\u8f03\u5bb9\u5668\u91cd\u3002\u82e5\u60a8\u5c0d VM \u8207\u5bb9\u5668\u7684\u6bd4\u8f03\u611f\u8208\u8da3\uff0c\u53ef\u4ee5\u53c3\u8003 Backblaze \u548c NetApp \u7684\u6587\u7ae0\u3002</p> <p>\u96d6\u7136\u4f7f\u7528 hypervisor \u53ef\u4ee5\u5728\u5167\u6838\u4e0d\u517c\u5bb9\u7684\u4e3b\u6a5f\u4e0a\u904b\u884c\u64cd\u4f5c\u7cfb\u7d71\uff08\u4f8b\u5982\u5728 CentOS 7 \u4e0a\u57f7\u884c Windows 10 VM\uff09\uff0c\u4f46\u5982\u679c\u5167\u6838\u53ef\u4ee5\u5171\u4eab\uff08\u4f8b\u5982\u5728 CentOS 7 \u4e0a\u57f7\u884c Ubuntu\uff09\uff0c\u7531\u65bc\u9ad4\u7a4d\u8003\u91cf\uff0c\u5bb9\u5668\u6703\u6bd4 VM \u66f4\u53d7\u9752\u775e\u3002\u5171\u4eab\u5167\u6838\uff0c\u540c\u6642\u6703\u5e36\u4f86\u8a31\u591a\u6027\u80fd\u512a\u52e2\uff0c\u4f8b\u5982\u66f4\u5feb\u555f\u52d5\u7b49\u3002\u4ee5\u4e0b\u70ba\u5bb9\u5668\u5de5\u4f5c\u539f\u7406\u5716\uff1a</p> <p></p> <p>\u6bd4\u8f03\u9019\u5169\u5f35\u5716\uff0c\u6211\u5011\u6ce8\u610f\u5230\u5169\u9ede\uff1a</p> <ul> <li> <p>\u5bb9\u5668\u6c92\u6709\u7368\u7acb\uff08Guest\uff09\u4f5c\u696d\u7cfb\u7d71</p> </li> <li> <p>\u5bb9\u5668\u5f15\u64ce\u662f\u5bb9\u5668\u8207 Host OS \u4e4b\u9593\u7684\u4e2d\u4ecb\uff0c\u7528\u4f86\u5354\u52a9\u5bb9\u5668\u5728\u4e3b\u6a5f\u4e0a\u7684\u751f\u547d\u9031\u671f\uff08\u4f46\u4e0d\u662f\u5fc5\u8981\u689d\u4ef6\uff09\u3002</p> </li> </ul> <p>\u4e0b\u4e00\u7bc0\u5c07\u8a73\u7d30\u8aaa\u660e\u5bb9\u5668\u5982\u4f55\u5171\u4eab\u8207\u4e3b\u6a5f\u76f8\u540c\u7684\u4f5c\u696d\u7cfb\u7d71\uff08\u6307\u5167\u6838\uff09\uff0c\u537b\u4ecd\u80fd\u70ba\u61c9\u7528\u63d0\u4f9b\u9694\u96e2\u74b0\u5883\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro_to_containers/#_4","title":"\u5bb9\u5668\u662f\u5982\u4f55\u5be6\u73fe\u7684","text":"<p>\u6211\u5011\u5df2\u63d0\u904e\u5bb9\u5668\u4e0d\u540c\u65bc\u865b\u64ec\u6a5f\uff0c\u5bb9\u5668\u8207\u4e3b\u6a5f\u4f5c\u696d\u7cfb\u7d71\u5171\u4eab\u540c\u4e00\u6838\u5fc3\uff0c\u4e26\u70ba\u61c9\u7528\u63d0\u4f9b\u9694\u96e2\u74b0\u5883\u3002\u9019\u662f\u5728\u4e0d\u9700\u8981\u5728 Host OS \u4e0a\u904b\u884c Guest OS \u7684\u958b\u92b7\u4e0b\u5be6\u73fe\u7684\uff0c\u591a\u8667\u4e86 Linux \u5167\u6838\u7684\u5169\u500b\u7279\u6027\uff1acgroups \u548c kernel namespaces\u3002</p> <p>\u65e2\u7136\u89f8\u53ca\u5bb9\u5668\u5167\u90e8\u539f\u7406\uff0c\u6211\u5011\u61c9\u66f4\u7cbe\u78ba\u5730\u63cf\u8ff0\u5b83\u5011\u3002\u5bb9\u5668\u662f\u4e00\u500b\u6216\u4e00\u7d44 Linux \u9032\u7a0b\uff0c\u9019\u4e9b\u9032\u7a0b\u53d7\u5230\u4ee5\u4e0b\u9650\u5236\uff1a - \u5c0d\u5bb9\u5668\u5916\u90e8\u9032\u7a0b\u7684\u53ef\u898b\u6027\uff08\u4f7f\u7528 namespace \u5be6\u73fe\uff09 - \u5b83\u80fd\u4f7f\u7528\u7684\u8cc7\u6e90\u91cf\uff08\u4f7f\u7528 cgroups \u5be6\u73fe\uff09 - \u5f9e\u5bb9\u5668\u5167\u53ef\u547c\u53eb\u7684\u7cfb\u7d71\u547c\u53eb\u3002\u60f3\u77ad\u89e3\u66f4\u591a\u53ef\u53c3\u8003 seccomp\u3002</p> <p>\u9019\u4e9b\u9650\u5236\u4f7f\u5bb9\u5668\u61c9\u7528\u7a0b\u5f0f\u8207\u540c\u4e00\u4e3b\u6a5f\u4e0a\u904b\u884c\u7684\u5176\u4ed6\u9032\u7a0b\u4fdd\u6301\u9694\u96e2\u3002</p> <p>\u73fe\u5728\u8b93\u6211\u5011\u8a73\u7d30\u4ecb\u7d39 namespaces \u548c cgroups\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro_to_containers/#namespaces","title":"Namespaces","text":"<p>\u5bb9\u5668\u5167\u7684\u9032\u7a0b\u61c9\u53ea\u5c0d\u81ea\u8eab\u53ef\u898b\uff0c\u9019\u5c31\u662f Linux namespaces \u6240\u505a\u7684\u4e8b\u3002\u6982\u5ff5\u662f\u9032\u7a0b\u5728 namespace \u5167\u7121\u6cd5\u5f71\u97ff\u5b83\u300c\u770b\u4e0d\u5230\u300d\u7684\u5176\u4ed6\u9032\u7a0b\u3002\u5171\u4eab\u4e00\u500b namespace \u7684\u9032\u7a0b\u6703\u6709\u5728\u8a72 namespace \u7368\u7279\u7684\u8eab\u4efd\u3001\u670d\u52d9\u548c\u4ecb\u9762\u3002\u4ee5\u4e0b\u70ba Linux \u4e2d\u7684 namespaces \u6e05\u55ae\uff1a</p> <ul> <li>Mount</li> </ul> <p>\u5171\u4eab mount namespace \u7684\u9032\u7a0b\u7d44\u64c1\u6709\u7368\u7acb\u7684\u639b\u8f09\u9ede\u8207\u6a94\u6848\u7cfb\u7d71\u8996\u5716\u3002\u639b\u8f09\u9ede\u7684\u8b8a\u66f4\u5c0d namespace \u5916\u4e0d\u53ef\u898b\u3002\u4f8b\u5982\u53ef\u5728 mount namespace \u4e2d\u64c1\u6709\u8207\u4e3b\u6a5f /var \u4e0d\u540c\u7684 /var\u3002</p> <ul> <li>PID</li> </ul> <p>PID namespace \u4e2d\u7684\u9032\u7a0b ID \u53ea\u5728\u8a72 namespace \u5167\u552f\u4e00\u3002\u4e00\u500b\u9032\u7a0b\u53ef\u6210\u70ba\u5176 PID namespace \u7684\u6839\u9032\u7a0b\uff08pid 1\uff09\uff0c\u4e26\u64c1\u6709\u4e00\u6574\u500b\u9032\u7a0b\u6a39\u3002</p> <ul> <li>Network</li> </ul> <p>\u6bcf\u500b network namespace \u6709\u81ea\u5df1\u7684\u7db2\u5361\u5be6\u9ad4\u88dd\u7f6e\uff0c\u53ef\u914d\u7f6e\u7368\u7acb\u7db2\u8def\u4f4d\u5740\u3002\u540c\u4e00 network namespace \u5167\u7684\u9032\u7a0b\u53ef\u64c1\u6709\u81ea\u5df1\u7684\u57e0\u8207\u8def\u7531\u8868\u3002</p> <ul> <li>User</li> </ul> <p>User namespaces \u53ef\u64c1\u6709\u81ea\u5df1\u7684\u4f7f\u7528\u8005\u8207\u7fa4\u7d44 ID\u3002\u9019\u4f7f\u5f97\u4e3b\u6a5f\u4e0a\u975e\u7ba1\u7406\u54e1\u8eab\u5206\u7684\u9032\u7a0b\u5728 user namespace \u4e2d\u7372\u5f97 root \u8eab\u4efd\u3002</p> <ul> <li>Cgroup</li> </ul> <p>\u5141\u8a31\u5728 cgroup namespace \u5167\u5efa\u7acb cgroups\u3002cgroups \u6703\u5728\u63a5\u4e0b\u4f86\u7684\u7ae0\u7bc0\u8a73\u7d30\u4ecb\u7d39\u3002</p> <ul> <li>UTS</li> </ul> <p>\u6b64 namespace \u6709\u81ea\u5df1\u7684\u4e3b\u6a5f\u540d\u7a31\u548c\u7db2\u57df\u540d\u7a31\u3002</p> <ul> <li>IPC</li> </ul> <p>\u6bcf\u500b IPC namespace \u6709\u81ea\u5df1\u7684 System V \u548c POSIX \u8a0a\u606f\u4f47\u5217\u3002</p> <p>\u770b\u4f3c\u8907\u96dc\uff0c\u5275\u5efa Linux namespace \u5176\u5be6\u975e\u5e38\u7c21\u55ae\u3002\u6211\u5011\u4f86\u770b\u500b PID namespace \u7684\u5feb\u901f\u793a\u7bc4\u3002\u60a8\u9700\u8981\u6709 sudo \u6b0a\u9650\u7684 Linux \u7cfb\u7d71\u4f86\u64cd\u4f5c\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro_to_containers/#namespaces_1","title":"\u793a\u7bc4\uff1anamespaces","text":"<ul> <li>\u9996\u5148\u67e5\u770b\u4e3b\u6a5f\u7cfb\u7d71\u4e2d\u6b63\u5728\u57f7\u884c\u7684\u9032\u7a0b\uff08\u8f38\u51fa\u6839\u64da\u7cfb\u7d71\u4e0d\u540c\u800c\u7570\uff09\u3002\u8acb\u6ce8\u610f pid 1 \u7684\u9032\u7a0b\u3002</li> </ul> <ul> <li>\u4f7f\u7528 unshare \u6307\u4ee4\u5275\u5efa\u4e00\u500b PID namespace\uff0c\u4e26\u5728\u88e1\u9762\u555f\u52d5\u4e00\u500b bash \u9032\u7a0b\u3002</li> </ul> <p>\u4f60\u6703\u770b\u5230 <code>ps aux</code>\uff08\u5176\u81ea\u8eab\u4e5f\u662f\u5728\u8a72 PID namespace \u5167\u7684\u9032\u7a0b\uff09\u53ea\u80fd\u770b\u898b\u8a72 namespace \u5167\u7684\u9032\u7a0b\u3002\u56e0\u6b64\u8f38\u51fa\u53ea\u986f\u793a\u5169\u500b\u9032\u7a0b\u3002\u4e26\u4e14\u8acb\u6ce8\u610f\uff0c\u8a72 namespace \u7684\u6839\u9032\u7a0b\uff08pid 1\uff09\u4e0d\u662f init\uff0c\u800c\u662f\u6211\u5011\u5275\u5efa namespace \u6642\u6307\u5b9a\u7684 bash shell\u3002</p> <ul> <li>\u5728\u540c\u4e00 namespace \u518d\u5275\u5efa\u4e00\u500b\u5728\u80cc\u666f\u4e2d\u7761\u7720 1000 \u79d2\u7684\u9032\u7a0b\u3002\u6b64\u9032\u7a0b\u5728 PID namespace \u5167\u7684 pid \u662f 44\u3002</li> </ul> <p></p> <p></p> <ul> <li>\u5728\u53e6\u4e00\u7d42\u7aef\u67e5\u8a62\u8a72 sleep \u9032\u7a0b\u5728\u4e3b\u6a5f\u4e0a\u7684 pid\u3002</li> </ul> <p></p> <p>\u6ce8\u610f pid \u5dee\u7570\uff08\u4e3b\u6a5f\u70ba 23844\uff0cnamespace \u5167\u70ba 44\uff09\uff0c\u4f46\u5169\u8005\u6307\u5411\u540c\u4e00\u9032\u7a0b\uff08\u555f\u52d5\u6642\u9593\u53ca\u5c6c\u6027\u76f8\u540c\uff09\u3002</p> <p>Namespaces \u4e5f\u53ef\u4ee5\u5de2\u72c0\u4f7f\u7528\uff0c\u4f8b\u5982\u5f9e\u4e00\u500b pid namespace \u4e2d\u518d\u5275\u5efa\u53e6\u4e00\u500b pid namespace\u3002\u5617\u8a66\u57f7\u884c <code>sudo nsenter -t 23844 --pid -r bash</code> \u91cd\u65b0\u9032\u5165\u8a72 namespace\uff0c\u4e26\u5728\u5167\u90e8\u5275\u5efa\u53e6\u4e00\u500b pid namespace\uff0c\u6703\u5f88\u6709\u8da3\u5594\uff01</p>"},{"location":"level102/containerization_and_orchestration/intro_to_containers/#cgroups","title":"Cgroups","text":"<p>cgroup \u53ef\u5b9a\u7fa9\u70ba\u4e00\u7d44\u88ab\u9650\u5236\u548c\u76e3\u63a7\u5176\u8cc7\u6e90\u7528\u91cf\u7684\u9032\u7a0b\u3002\u9019\u4e9b\u8cc7\u6e90\u5982\u8a18\u61b6\u9ad4\u9801\u3001\u78c1\u789f I/O\u3001CPU \u7b49\u3002\u5be6\u969b\u4e0a\uff0ccgroups \u6703\u6839\u64da\u65bd\u52a0\u9650\u5236\u7684\u8cc7\u6e90\u7a2e\u985e\u53ca\u9055\u53cd\u9650\u5236\u6642\u7684\u884c\u70ba\u9032\u884c\u5206\u985e\u3002</p> <p>cgroup \u4e2d\u8ffd\u8e64\u8cc7\u6e90\u4f7f\u7528\u60c5\u6cc1\u4e26\u63a7\u5236\u9032\u7a0b\u884c\u70ba\u7684\u5143\u4ef6\u7a31\u70ba\u8cc7\u6e90\u5b50\u7cfb\u7d71\uff08resource-subsystem\uff09\u6216\u8cc7\u6e90\u63a7\u5236\u5668\uff08resource controller\uff09\u3002</p> <p>\u6839\u64da RHEL \u7684 cgroups \u4ecb\u7d39\u8aaa\u660e\uff0c\u4ee5\u4e0b\u70ba\u4e3b\u8981\u8cc7\u6e90\u63a7\u5236\u5668\u53ca\u529f\u80fd\uff1a</p> <ul> <li>blkio \u2014 \u9650\u5236\u5c0d\u5340\u584a\u88dd\u7f6e\uff08\u5982\u786c\u789f\u3001\u56fa\u614b\u786c\u789f\u3001USB\uff09\u8f38\u5165/\u8f38\u51fa\u5b58\u53d6\u3002</li> <li>cpu \u2014 \u4f7f\u7528\u6392\u7a0b\u5668\u7d66\u4e88 cgroup \u4e2d\u9032\u7a0b CPU \u5b58\u53d6\u6b0a\u3002</li> <li>cpuacct \u2014 \u81ea\u52d5\u7522\u751f cgroup \u5167\u9032\u7a0b\u7684 CPU \u4f7f\u7528\u5831\u544a\u3002</li> <li>cpuset \u2014 \u5c07\u591a\u6838\u5fc3\u7cfb\u7d71\u7684\u7279\u5b9a CPU \u548c\u8a18\u61b6\u9ad4\u7bc0\u9ede\u6307\u6d3e\u7d66 cgroup \u5167\u9032\u7a0b\u3002</li> <li>devices \u2014 \u63a7\u5236 cgroup \u5167\u9032\u7a0b\u5b58\u53d6\u88dd\u7f6e\u7684\u6b0a\u9650\u3002</li> <li>freezer \u2014 \u66ab\u505c\u6216\u6062\u5fa9 cgroup \u5167\u7684\u9032\u7a0b\u3002</li> <li>memory \u2014 \u9650\u5236 cgroup \u5167\u9032\u7a0b\u7684\u8a18\u61b6\u9ad4\u4f7f\u7528\u4e26\u7522\u751f\u8a18\u61b6\u9ad4\u4f7f\u7528\u5831\u544a\u3002</li> </ul> <p>Cgroups \u5c0d\u6bcf\u500b\u8cc7\u6e90\u63a7\u5236\u5668\u63a1\u6a39\u72c0\u5206\u5c64\u7d50\u69cb\uff0c\u5373\u5404\u63a7\u5236\u5668\u6709\u500b\u5225\u7684 cgroup \u5c64\u7d1a\uff0c\u6bcf\u500b\u5b50 cgroup \u53ef\u7e7c\u627f\u5176\u7236 cgroup \u7684\u7279\u5b9a\u5c6c\u6027\uff08\u5982\u9650\u5236\uff09\u3002</p> <p>\u6211\u5011\u4f86\u500b\u8a18\u61b6\u9ad4 cgroup \u7684\u7c21\u55ae\u793a\u7bc4\uff0c\u5e6b\u52a9\u7406\u89e3\u4e0a\u8ff0\u6982\u5ff5\u3002\u60a8\u9700\u8981\u4e00\u53f0 Linux\uff08\u672c\u4f8b\u70ba RedHat\uff09\u7cfb\u7d71\u548c sudo \u6b0a\u9650\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro_to_containers/#cgroups_1","title":"\u793a\u7bc4\uff1acgroups","text":"<ul> <li>\u5148\u78ba\u8a8d\u60a8\u7684\u7cfb\u7d71\u662f\u5426\u5b89\u88dd cgroup \u5de5\u5177\u3002\u57f7\u884c <code>mount | grep \"^cgroup\"</code>\u3002\u6709\u5b89\u88dd\u7684\u8a71\u6703\u770b\u5230\u985e\u4f3c\u8f38\u51fa\uff1a</li> </ul> <p>\u82e5\u672a\u5b89\u88dd\uff0c\u8acb\u57f7\u884c <code>sudo yum install libcgroup-tools -y</code>\u3002</p> <ul> <li>\u5275\u5efa\u4e00\u500b\u540d\u70ba mem_group \u7684\u8a18\u61b6\u9ad4 cgroup\uff0c\u64c1\u6709\u8005\u70ba root\u3002\u6307\u4ee4\uff1a<code>sudo cgcreate -a root -g memory:mem_group</code>\u3002\u78ba\u8a8d cgroup \u5efa\u7acb\u6210\u529f\u3002</li> </ul> <p></p> <p><code>/sys/fs/cgroup/&lt;cgroup \u985e\u578b&gt;</code> \u662f\u865b\u64ec\u6a94\u6848\u7cfb\u7d71\uff0c\u65b0\u589e\u7684 cgroup \u88ab\u52a0\u5165\u70ba\u5b50\u7fa4\u7d44\u3002</p> <ul> <li>\u8a18\u61b6\u9ad4 cgroup \u53ef\u9650\u5236\u8a72 cgroup \u4e2d\u9032\u7a0b\u7684\u8a18\u61b6\u9ad4\u4f7f\u7528\u91cf\u3002\u67e5\u770b mem_group \u7684\u9650\u5236\uff0c\u6a94\u6848\u70ba memory.limit_in_bytes\uff08\u8a73\u898b\u6b64\u8655\uff09\u3002</li> </ul> <p></p> <ul> <li>\u6ce8\u610f mem_group \u7e7c\u627f\u4e86\u7236 cgroup \u7684\u9650\u5236\u3002</li> </ul> <p></p> <ul> <li>\u73fe\u5728\u5c07\u8a18\u61b6\u9ad4\u4f7f\u7528\u4e0a\u9650\u8abf\u4f4e\u5230 20KB\uff08\u5be6\u969b\u6578\u503c\u6703\u5411\u4e0b\u53d6\u5230\u6700\u63a5\u8fd1\u7684 2 \u7684\u6b21\u65b9\uff09\u3002</li> </ul> <p></p> <p>\u6b64\u9650\u5236\u975e\u5e38\u4f4e\uff0c\u56e0\u6b64\u591a\u6578\u9644\u52a0\u5728 mem_group \u7684\u9032\u7a0b\u6703\u56e0\u8a18\u61b6\u9ad4\u4e0d\u8db3\uff08OOM\uff09\u800c\u88ab\u7d42\u6b62\u3002</p> <ul> <li>\u5275\u5efa\u65b0 shell \u4e26\u52a0\u5165\u6b64 cgroup\uff08\u9700 sudo \u6b0a\u9650\uff09\u3002</li> </ul> <p></p> <p>\u8a72\u9032\u7a0b\u6703\u906d\u5230 OOM \u7d42\u6b62\u3002\u60a8\u53ef\u900f\u904e dmesg \u65e5\u8a8c\u78ba\u8a8d\u6709 mm_fault_error \u8a0a\u606f\u3002</p> <p>\u60f3\u9032\u4e00\u6b65\u7df4\u7fd2 cgroups\uff0c\u53ef\u53c3\u8003 Geeks for Geeks \u7684\u6559\u5b78\u3002</p> <p>\u56de\u5230\u5bb9\u5668\u3002\u5bb9\u5668\u5171\u4eab\u4e3b\u6a5f\u7684\u5167\u6838\u4e26\u70ba\u61c9\u7528\u63d0\u4f9b\u9694\u96e2\u74b0\u5883\u3002cgroups \u5e6b\u52a9\u7ba1\u7406\u5bb9\u5668\u5167\u9032\u7a0b\u4f7f\u7528\u7684\u8cc7\u6e90\uff0cnamespace \u5e6b\u52a9\u9694\u96e2\u5bb9\u5668\u9593\u7684\u7db2\u8def\u5806\u758a\u3001PID\u3001\u4f7f\u7528\u8005\u3001\u7fa4\u7d44 ID \u548c\u639b\u8f09\u9ede\u3002</p> <p>\u7576\u7136\uff0c\u5bb9\u5668\u9084\u6709\u5176\u4ed6\u5143\u4ef6\u5354\u52a9\u5176\u5b8c\u6574\u904b\u4f5c\uff0c\u4f46\u9019\u8d85\u51fa\u672c\u6a21\u7d44\u7bc4\u570d\u3002</p>"},{"location":"level102/containerization_and_orchestration/intro_to_containers/#_5","title":"\u5bb9\u5668\u5f15\u64ce","text":"<p>\u5bb9\u5668\u5f15\u64ce\u7c21\u5316\u5728\u4e3b\u6a5f\u4e0a\u5efa\u7acb\u8207\u7ba1\u7406\u5bb9\u5668\u7684\u904e\u7a0b\u3002\u600e\u9ebc\u505a\u5462\uff1f</p> <ul> <li> <p>\u5bb9\u5668\u5efa\u7acb\u6d41\u7a0b\u901a\u5e38\u5f9e\u5bb9\u5668\u6620\u50cf\uff08image\uff09\u958b\u59cb\u3002\u5bb9\u5668\u6620\u50cf\u662f\u6253\u5305\u597d\u7684\u53ef\u651c\u5f0f\u76ee\u6a19\u61c9\u7528\u7a0b\u5f0f\u7248\u672c\uff0c\u5167\u542b\u6240\u6709\u904b\u884c\u6240\u9700\u4f9d\u8cf4\u3002</p> </li> <li> <p>\u9019\u4e9b\u6620\u50cf\u8981\u9ebc\u5df2\u5728\u5bb9\u5668\u4e3b\u6a5f\uff08host\uff09\u4e0a\u5b58\u5728\uff08\u5148\u524d\u5efa\u7f6e\u904e\uff09\uff0c\u8981\u9ebc\u9700\u5f9e\u9060\u7aef\u6620\u50cf\u5eab\u62c9\u53d6\u3002\u6709\u6642\u5bb9\u5668\u5f15\u64ce\u6703\u6839\u64da\u4e00\u7d44\u6307\u4ee4\u5efa\u69cb\u6620\u50cf\u3002</p> </li> <li> <p>\u7576\u6620\u50cf\u53d6\u5f97\u6216\u5efa\u69cb\u5b8c\u6210\u5f8c\uff0c\u5bb9\u5668\u5f15\u64ce\u89e3\u5305\u6620\u50cf\uff0c\u4e26\u4f9d\u6620\u50cf\u898f\u683c\u5728\u4e3b\u6a5f\u4e0a\u5efa\u7acb\u61c9\u7528\u7684\u9694\u96e2\u904b\u884c\u74b0\u5883\u3002</p> </li> <li> <p>\u5bb9\u5668\u6620\u50cf\u4e2d\u7684\u6a94\u6848\u6703\u639b\u8f09\u5230\u9694\u96e2\u74b0\u5883\uff0c\u4f7f\u61c9\u7528\u5728\u5bb9\u5668\u5167\u9806\u5229\u555f\u52d5\u3002</p> </li> </ul> <p>\u5e02\u9762\u4e0a\u6709\u591a\u7a2e\u5bb9\u5668\u5f15\u64ce\uff0c\u5982 Docker\u3001RKT\u3001LXC\uff08\u6700\u65e9\u671f\u4e4b\u4e00\uff09\uff0c\u4e0d\u540c\u5f15\u64ce\u4f7f\u7528\u4e0d\u540c\u6620\u50cf\u683c\u5f0f\uff08Docker \u8207 LXD\uff09\u3002OCI\uff08Open Container Initiative\uff09\u662f Docker \u767c\u8d77\u7684\u5408\u4f5c\u5c08\u6848\uff0c\u65e8\u5728\u6a19\u6e96\u5316\u5bb9\u5668\u904b\u884c\u898f\u7bc4\u8207\u6620\u50cf\u683c\u5f0f\u3002\u95dc\u5fc3\u8a72\u9805\u76ee\u8005\u53ef\u53c3\u8003 OCI \u7684\u5e38\u898b\u554f\u984c\u3002</p> <p>\u6211\u5011\u5c07\u5728\u4e0b\u4e00\u7bc0\u5c08\u6ce8\u4ecb\u7d39 Docker\u3002</p>"},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/","title":"Orchestration With Kubernetes","text":""},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/#_1","title":"\u4ecb\u7d39","text":"<p>\u73fe\u5728\uff0c\u6211\u5011\u7d42\u65bc\u4f86\u5230\u4e86\u6700\u4ee4\u4eba\u671f\u5f85\u7684\u90e8\u5206\uff1a\u5927\u898f\u6a21\u904b\u884c\u548c\u7ba1\u7406\u5bb9\u5668\u3002\u5230\u76ee\u524d\u70ba\u6b62\uff0c\u6211\u5011\u5df2\u7d93\u770b\u5230 Docker \u5982\u4f55\u4fbf\u5229\u5bb9\u5668\u7684\u751f\u547d\u9031\u671f\u7ba1\u7406\u4e26\u63d0\u5347\u61c9\u7528\u7a0b\u5f0f\u7684\u53ef\u651c\u6027\u3002Docker \u78ba\u5be6\u63d0\u4f9b\u4e86\u4e00\u500b\u89e3\u6c7a\u65b9\u6848\u4f86\u7c21\u5316\u5927\u898f\u6a21\u5bb9\u5668\u90e8\u7f72\uff08\u5982\u679c\u6709\u8208\u8da3\uff0c\u53ef\u4ee5\u67e5\u770b Docker Swarm\uff09\uff0c\u5b83\u8207 Docker \u5bb9\u5668\u6574\u5408\u826f\u597d\u3002\u7136\u800c\uff0cKubernetes \u5df2\u7d93\u6210\u70ba\u5728\u5927\u578b\u5206\u6563\u5f0f\u74b0\u5883\u4e2d\u7de8\u6392\u7ba1\u7406\u5fae\u670d\u52d9\uff08\u4ee5\u5bb9\u5668\u5f62\u5f0f\uff09\u7684\u4e8b\u5be6\u6a19\u6e96\u5de5\u5177\u3002</p> <p>\u8b93\u6211\u5011\u770b\u770b\u5c0d\u6211\u5011 SRE \u5011\u4f86\u8aaa\uff0c\u4f7f\u7528\u5bb9\u5668\u7de8\u6392\u5de5\u5177\uff0c\u7279\u5225\u662f Kubernetes \u7684\u91cd\u9ede\u3002</p>"},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/#kubernetes","title":"\u4f7f\u7528 Kubernetes \u7684\u52d5\u6a5f","text":"<ul> <li>\u6613\u7528\u6027</li> </ul> <p>\u96d6\u7136 Kubernetes \u5b78\u7fd2\u66f2\u7dda\u8f03\u9661\uff0c\u4f46\u4e00\u65e6\u5b78\u6703\uff0c\u5c31\u53ef\u4ee5\u4f5c\u70ba\u4e00\u7ad9\u5f0f\u5de5\u5177\u4f86\u7ba1\u7406\u5fae\u670d\u52d9\u3002\u53ea\u9700\u4e00\u884c\u547d\u4ee4\uff0c\u5373\u53ef\u90e8\u7f72\u5b8c\u6574\u7684\u3001\u5177\u5099\u751f\u7522\u689d\u4ef6\u7684\u74b0\u5883\u3002\u61c9\u7528\u7a0b\u5f0f\u7684\u671f\u671b\u72c0\u614b\u9700\u4ee5 YAML \u6e05\u55ae\u7d00\u9304\uff0c\u800c Kubernetes \u6703\u70ba\u4f60\u7ba1\u7406\u61c9\u7528\u3002</p> <ul> <li>\u78ba\u4fdd\u8cc7\u6e90\u6700\u4f73\u5316\u5229\u7528</li> </ul> <p>\u6211\u5011\u53ef\u4ee5\u5c0d\u6bcf\u500b\u90e8\u7f72\u4e2d\u7684\u5bb9\u5668\u4f7f\u7528\u7684\u8cc7\u6e90\u8a2d\u7f6e\u9650\u5236\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a Kubernetes \u90e8\u7f72\u7bc0\u9ede\u7684\u7be9\u9078\u689d\u4ef6\uff08\u4f8b\u5982\uff0cCPU \u4f7f\u7528\u7387\u9ad8\u7684\u5fae\u670d\u52d9\u53ef\u6307\u793a\u90e8\u7f72\u5728\u8a08\u7b97\u80fd\u529b\u5f37\u7684\u7bc0\u9ede\u4e0a\uff09\u3002</p> <ul> <li>\u5bb9\u932f\u80fd\u529b</li> </ul> <p>Kubernetes \u57fa\u672c\u8cc7\u6e90\u985e\u578b\u5167\u5efa\u81ea\u6211\u4fee\u5fa9\u529f\u80fd\uff0c\u4e0d\u9808\u5f9e\u96f6\u8a2d\u8a08\u5bb9\u932f\u7cfb\u7d71\uff0c\u7279\u5225\u9069\u7528\u65bc\u7121\u72c0\u614b\u61c9\u7528\u3002</p> <ul> <li>\u57fa\u790e\u8a2d\u65bd\u7121\u95dc\u6027</li> </ul> <p>Kubernetes \u4e0d\u7d81\u5b9a\u4f9b\u61c9\u5546\uff0c\u53ef\u5728\u591a\u7a2e\u96f2\u7aef\u74b0\u5883\u6216\u5167\u90e8\u8cc7\u6599\u4e2d\u5fc3\u8a2d\u7f6e\u3002</p> <ul> <li>\u5f37\u5927\u7684\u793e\u7fa4\u652f\u6301\u548c\u6587\u4ef6</li> </ul> <p>Kubernetes \u662f\u958b\u6e90\u7684\uff0c\u793e\u7fa4\u5df2\u6253\u9020\u591a\u9805\u6280\u8853\uff0c\u5982 operators\u3001service mesh \u7b49\uff0c\u7528\u4ee5\u66f4\u597d\u5730\u7ba1\u7406\u8207\u76e3\u63a7 Kubernetes \u7de8\u6392\u7684\u61c9\u7528\u3002</p> <ul> <li>\u53ef\u64f4\u5145\u8207\u81ea\u8a02</li> </ul> <p>\u6211\u5011\u53ef\u4ee5\u5efa\u7acb\u7b26\u5408\u9700\u6c42\u7684\u81ea\u8a02\u8cc7\u6e90\u5b9a\u7fa9\uff0c\u4e26\u4f7f\u7528 Kubernetes\uff08\u642d\u914d\u81ea\u8a02\u63a7\u5236\u5668\uff09\u4f86\u7ba1\u7406\u3002</p> <p>\u5982\u60f3\u6df1\u5165\u4e86\u89e3\uff0c\u8acb\u53c3\u8003\u9019\u7bc7\u6587\u7ae0\u3002</p>"},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/#kubernetes_1","title":"Kubernetes \u67b6\u69cb","text":"<p>\u4ee5\u4e0b\u662f\u4f86\u81ea\u5b98\u65b9 Kubernetes \u6587\u4ef6\u7684\u793a\u610f\u5716\uff0c\u5305\u542b Kubernetes \u904b\u4f5c\u6240\u4f9d\u8cf4\u7684\u5404\u7d44\u4ef6\uff1a</p> <p></p> <p>Kubernetes \u7d44\u4ef6\u53ef\u5206\u6210\u5169\u500b\u90e8\u5206\uff1a\u63a7\u5236\u5e73\u9762\u7d44\u4ef6\u8207\u8cc7\u6599\u5e73\u9762\u7d44\u4ef6\u3002</p> <p>Kubernetes \u53e2\u96c6\u7531 1 \u53f0\u6216\u591a\u53f0\u4e3b\u6a5f\uff08\u7a31\u70ba\u7bc0\u9ede\uff09\u7d44\u6210\uff0c\u5bb9\u5668\u5728\u6b64\u88ab Kubernetes \u7ba1\u7406\u8207\u57f7\u884c\uff0c\u9019\u69cb\u6210\u8cc7\u6599\u5e73\u9762\uff08\u6216\u7bc0\u9ede\u5e73\u9762\uff09\u3002</p> <p>Kubernetes \u7684\u5927\u8166\u662f\u63a7\u5236\u5e73\u9762\uff0c\u8ca0\u8cac\u56de\u61c9\u7bc0\u9ede\u5e73\u9762\u4e8b\u4ef6\uff08\u5982\u5efa\u7acb pod\u3001\u8abf\u6574\u526f\u672c\u6578\uff09\u4e26\u505a\u4e3b\u8981\u7de8\u6392\u3002\u6240\u6709\u63a7\u5236\u5e73\u9762\u7d44\u4ef6\u901a\u5e38\u5b89\u88dd\u65bc\u4e3b\u7bc0\u9ede\uff0c\u8a72\u7bc0\u9ede\u4e0d\u57f7\u884c\u4efb\u4f55\u7528\u6236\u5bb9\u5668\u3002</p> <p>Kubernetes \u7d44\u4ef6\u672c\u8eab\u7686\u4ee5\u5bb9\u5668\u5f62\u5f0f\u5305\u88dd\u5728 Pods \u4e2d\uff08Pods \u662f Kubernetes \u6700\u57fa\u672c\u7684\u8cc7\u6e90\u7269\u4ef6\uff09\u3002</p> <ul> <li>\u63a7\u5236\u5e73\u9762\u7d44\u4ef6\uff1a</li> <li>kube-apiserver</li> <li>etcd</li> <li>kube-scheduler</li> <li>kube-controller-manager</li> <li>\u7bc0\u9ede\u5e73\u9762\u7d44\u4ef6\uff1a</li> <li>kubelet</li> <li>kube-proxy</li> </ul> <p>\u4ee5\u4e0b\u7684\u5de5\u4f5c\u6d41\u7a0b\u6709\u52a9\u65bc\u4f60\u66f4\u597d\u7406\u89e3\u7d44\u4ef6\u904b\u4f5c\uff1a</p> <ul> <li> <p>SRE \u5728\u672c\u6a5f\u5b89\u88dd <code>kubectl</code>\uff0c\u9019\u662f\u8207 Kubernetes \u63a7\u5236\u5e73\u9762\uff08\u4e5f\u5c31\u662f\u53e2\u96c6\uff09\u4e92\u52d5\u7684\u5ba2\u6236\u7aef\u3002</p> </li> <li> <p>SRE \u5efa\u7acb YAML \u6a94\u6848\uff0c\u7a31\u70ba\u6e05\u55ae(manifest)\uff0c\u6307\u5b9a\u6240\u9700\u7684\u8cc7\u6e90\u72c0\u614b\uff08\u4f8b\u5982\uff0c\u540d\u70ba \u201cfrontend\u201d \u7684\u90e8\u7f72\u9700\u8981 3 \u500b Pod \u59cb\u7d42\u904b\u884c\uff09\u3002</p> </li> <li> <p>\u7576\u4e0b\u9054\u57fa\u65bc\u8a72 YAML \u6a94\u6848\u5efa\u7acb\u7269\u4ef6\u7684\u6307\u4ee4\u6642\uff0ckubectl CLI \u6703\u5411 <code>kube-apiserver</code> \u767c\u9001 REST API \u8acb\u6c42\u3002</p> </li> <li> <p>\u82e5\u6e05\u55ae\u6709\u6548\uff0c\u8a72\u72c0\u614b\u5c07\u4ee5\u9375\u503c\u5c0d\u5f62\u5f0f\u5132\u5b58\u65bc\u63a7\u5236\u5e73\u9762\u7684 <code>etcd</code> \u4f3a\u670d\u5668\u3002</p> </li> <li> <p><code>kube-scheduler</code> \u9078\u64c7\u8981\u5c07\u5bb9\u5668\u5206\u914d\u5230\u54ea\u4e9b\u7bc0\u9ede\uff08\u4e5f\u5c31\u662f\u9032\u884c\u6392\u7a0b\uff09\u3002</p> </li> <li> <p>\u7531 <code>kube-controller-manager</code> \u7ba1\u7406\u7684\u63a7\u5236\u5668\u6d41\u7a0b\u78ba\u4fdd\u53e2\u96c6\u7684\u7576\u524d\u72c0\u614b\u8207\u6240\u9700\u72c0\u614b\u4e00\u81f4\uff08\u4f8b\u5982\uff0c\u78ba\u4fdd 3 \u500b Pod \u90fd\u5728\u904b\u884c\uff09\u3002</p> </li> <li> <p>\u5728\u7bc0\u9ede\u5e73\u9762\u7aef\uff0c<code>kubelet</code> \u78ba\u4fdd\u672c\u5730\u7684 Pods \u4fdd\u6301\u904b\u884c\u72c0\u614b\u3002</p> </li> </ul>"},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/#_2","title":"\u5be6\u9a57\u5ba4","text":""},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/#_3","title":"\u5148\u6c7a\u689d\u4ef6","text":"<p>\u958b\u59cb\u7df4\u7fd2\u7684\u6700\u4f73\u65b9\u5f0f\u662f\u4f7f\u7528Play with Kubernetes \u5be6\u9a57\u5ba4\u3002</p> <p>\u8a72\u74b0\u5883\u5728 4 \u5c0f\u6642\u5f8c\u6703\u81ea\u52d5\u6e05\u9664\u3002\u82e5\u60f3\u7e7c\u7e8c\u4f7f\u7528\uff0c\u8acb\u52d9\u5fc5\u5148\u4fdd\u5b58\u4f60\u7684\u6a94\u6848\u3002\u82e5\u8981\u5efa\u7acb\u6301\u4e45\u5316\u7684 Kubernetes \u53e2\u96c6\uff0c\u53ef\u4ee5\u5728\u672c\u5730\u5b89\u88dd\uff08\u4f7f\u7528 minikube\uff09\u6216\u5728 Azure\u3001GCP \u6216\u5176\u4ed6\u96f2\u7aef\u4f9b\u61c9\u5546\u5efa\u7acbKubernetes \u53e2\u96c6\u3002</p> <p>\u4e86\u89e3 YAML \u6703\u6709\u52a9\u65bc\u7406\u89e3\u6e05\u55ae\u6a94\u3002</p>"},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/#_4","title":"\u5be6\u4f5c\u7df4\u7fd2","text":""},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/#1","title":"\u5be6\u9a57\u5ba4 1\uff1a","text":"<p>\u6211\u5011\u5c07\u5efa\u7acb\u4e00\u500b\u7a31\u4f5c Pod \u7684\u7269\u4ef6\uff0cPod \u662f Kubernetes \u57f7\u884c\u5bb9\u5668\u7684\u6700\u57fa\u672c\u55ae\u4f4d\u3002\u9019\u88e1\uff0c\u6211\u5011\u5c07\u5efa\u7acb\u4e00\u500b\u540d\u70ba \u2018nginx-pod\u2019 \u7684 Pod\uff0c\u5167\u542b\u4e00\u500b\u540d\u70ba \u201cweb\u201d \u7684 nginx \u5bb9\u5668\uff0c\u540c\u6642\u958b\u653e\u5bb9\u5668\u7684 80 \u7aef\u53e3\u4f9b\u4e92\u52d5\u4f7f\u7528\u3002</p> <p>\u8acb\u5c07\u4ee5\u4e0b\u7684\u6e05\u55ae\u5132\u5b58\u70ba nginx-pod.yaml\uff1a</p> <pre><code>apiVersion: v1                  #[1]\nkind: Pod                       #[2]\nmetadata:                       #[3]\n name: nginx-pod                #[4]\n labels:                        #[5]\n   app: nginx      \nspec:                           #[6]\n containers:                    #[7]\n   - name: web                  #[8]\n     image: nginx               #[9]\n     ports:                     #[10]\n       - name: web              #[11]\n         containerPort: 80      #[12]\n         protocol: TCP          #[13]\n</code></pre> <p>\u7c21\u8981\u8aaa\u660e\uff1a</p> <ul> <li><code>#[2]</code> - kind\uff1a\u6307\u5b9a\u5efa\u7acb\u7269\u4ef6\u7684\u7a2e\u985e\uff0c\u9019\u88e1\u662f Pod\u3002</li> <li><code>#[1]</code> - apiVersion\uff1a\u8a72 Pod \u8cc7\u6e90\u7684 API \u7248\u672c\uff0c\u7248\u672c\u5dee\u7570\u53ef\u80fd\u5f15\u8d77 YAML \u683c\u5f0f\u7d30\u5fae\u6539\u8b8a\u3002</li> <li><code>#[3]</code> - metadata\uff1a\u6a94\u6848\u7684\u5143\u8cc7\u6599\u5340\u6bb5\uff0c\u5305\u542b Pod \u540d\u7a31\u8207\u6a19\u7c64\u3002</li> <li><code>#[6]</code> - spec\uff1a\u4e3b\u8981\u5b9a\u7fa9 Pod \u5167\u90e8\u5167\u5bb9\u3002</li> </ul> <p>\u9019\u4e9b\u4e26\u975e\u96a8\u610f\u7684\u9375\u503c\u5c0d\uff01\u5fc5\u9808\u70ba kube-apiserver \u53ef\u8fa8\u8b58\u3002\u53ef\u7528 <code>kubectl explain pod</code> \u67e5\u770b\u5404\u9375\u662f\u5426\u70ba\u5fc5\u8981\u6216\u53ef\u9078\u3002\u6b61\u8fce\u5be6\u9a57\u770b\u770b\uff01</p> <ul> <li>\u4f7f\u7528\u6307\u4ee4 <code>kubectl apply -f nginx-pod.yaml</code> \u4f86\u5957\u7528\u6e05\u55ae\uff0c\u65bc Kubernetes \u53e2\u96c6\u4e2d\u5efa\u7acb \u201cnginx-pod\u201d\u3002</li> </ul> <p></p> <ul> <li>\u78ba\u8a8d Pod \u72c0\u614b\u70ba Running\uff0c\u4f7f\u7528 <code>kubectl get pod</code>\u3002</li> </ul> <p></p> <p>\u986f\u793a nginx-pod \u8655\u65bc Running \u72c0\u614b\u30021/1 \u8868\u793a\u4e00\u500b\u5bb9\u5668\u4e2d\u5168\u90e8\u5bb9\u5668\u5065\u5eb7\u3002</p> <ul> <li>\u82e5\u60f3\u67e5\u770b nginx-pod \u4e2d\u57f7\u884c\u7684\u5bb9\u5668\u78ba\u5be6\u53eb\u505a \u201cweb\u201d\uff0c\u8acb\u57f7\u884c <code>kubectl describe pod/nginx-pod</code>\u3002\u6b64\u6307\u4ee4\u8f38\u51fa\u8a73\u7d30\u7684 Pod \u63cf\u8ff0\u53ca\u81ea\u5efa\u7acb\u4ee5\u4f86\u7684\u4e8b\u4ef6\uff0c\u5c0d\u9664\u932f\u5341\u5206\u91cd\u8981\u3002\u95dc\u9375\u90e8\u5206\u5982\u4e0b\uff1a</li> </ul> <p></p> <p>\u53ef\u770b\u5230 Containers \u5340\u6bb5\u4e0b\u540d\u7a31\u70ba \u201cweb\u201d\uff0c\u6620\u50cf\u6a94\u70ba nginx\u3002</p> <ul> <li>\u5982\u4f55\u5b58\u53d6 nginx \u201cweb\u201d \u5bb9\u5668\u7684\u6b61\u8fce\u9801\uff1f\u53ef\u5728\u63cf\u8ff0\u4e2d\u627e\u5230 Pod IP\u3002\u6bcf\u500b Pod \u5efa\u7acb\u6642\u6703\u5206\u914d IP\u3002</li> </ul> <p></p> <p>\u6b64\u4f8b\u70ba 10.244.1.3\u3002</p> <ul> <li> <p>\u5f9e\u4e3b\u6a5f\u57f7\u884c <code>curl 10.244.1.3:80</code>\uff0c\u5373\u53ef\u53d6\u5f97\u6b61\u8fce\u9801\uff01</p> </li> <li> <p>\u82e5\u60f3\u4f7f\u7528\u6307\u5b9a nginx \u7248\u672c\u6a19\u7c64\uff08\u4f8b\u5982 1.20.1\uff09\u53d6\u4ee3\u540c\u4e00 Pod\uff0c\u7de8\u8f2f nginx-pod.yaml \u4e2d <code>#[9]</code> \u884c\u70ba <code>image: nginx:1.20.1</code>\uff0c\u518d\u91cd\u65b0\u5957\u7528\u3002\u7cfb\u7d71\u6703\u5728\u540c\u4e00 Pod \u5167\u5efa\u7acb\u65b0\u5bb9\u5668\u6620\u50cf\u3002</p> </li> </ul> <p>\u6ce8\u610f\uff0c\u5bb9\u5668\u5728 Pod \u5167\u65b0\u589e\uff0c\u4f46 Pod \u662f\u540c\u4e00\u500b\u7269\u4ef6\u3002\u53ef\u900f\u904e describe \u67e5\u770b Pod \u8d77\u59cb\u6642\u9593\u9a57\u8b49\uff0c\u61c9\u8a72\u986f\u793a\u8f03\u65e9\u6642\u9593\u3002</p> <p>\u82e5\u8981\u4fee\u6539 1000 \u500b nginx Pods \u7684\u6620\u50cf\u70ba 1.20.1\uff0c\u6216\u540c\u6642\u5275\u5efa 1000 \u500b nginx Pods\uff0c\u7576\u7136\u53ef\u4ee5\u5beb\u8173\u672c\uff0c\u4f46 Kubernetes \u63d0\u4f9b\u4e86\u7a31\u70ba \u201cdeployment\u201d \u7684\u8cc7\u6e90\u985e\u578b\uff0c\u66f4\u65b9\u4fbf\u7ba1\u7406\u5927\u91cf\u90e8\u7f72\u3002</p>"},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/#2","title":"\u5be6\u9a57\u5ba4 2\uff1a","text":"<p>\u8b93\u6211\u5011\u66f4\u9032\u4e00\u6b65\uff0c\u4e86\u89e3\u5982\u4f55\u540c\u6642\u5efa\u7acb\u591a\u500b nginx Pod\u3002</p> <ul> <li>\u5c07\u4ee5\u4e0b\u6e05\u55ae\u5132\u5b58\u70ba nginx-deploy.yaml\uff1a</li> </ul> <pre><code>apiVersion: apps/v1\nkind: Deployment             #[1]\nmetadata:\n name: nginx-deployment\n labels:\n   app: nginx     \nspec:\n replicas: 3                 #[2]\n selector:\n   matchLabels:\n     app: nginx              #[3]\n template:                   #[4]\n   metadata:\n     labels:\n       app: nginx            #[5]\n   spec:\n     containers:\n     - name: web\n       image: nginx\n       ports:\n       - name: web\n         containerPort: 80\n         protocol: \"TCP\"\n</code></pre> <p>\u4f60\u6703\u767c\u73fe\u5b83\u8207 Pod \u5b9a\u7fa9\u76f8\u4f3c\uff0c\u76f4\u5230 <code>spec</code> \u90e8\u5206\uff08<code>#[1]</code> \u6307\u5b9a\u70ba Deployment\uff0cAPI \u7248\u672c\u4e5f\u4e0d\u540c\uff09\u3002\u6ce8\u610f <code>#[4]</code> \u4e0b\u7684\u5143\u8cc7\u6599\u548c\u898f\u683c\u8207\u5be6\u9a57\u5ba4 1 \u4e2d Pod \u7684\u5c0d\u61c9\u90e8\u5206\u5e7e\u4e4e\u4e00\u6a23\uff08\u53ef\u56de\u982d\u78ba\u8a8d\uff09\uff0c\u610f\u5473\u8457\u6211\u5011\u6b63\u90e8\u7f72\u4e09\u500b\u8207\u5be6\u9a57\u5ba4 1 \u985e\u4f3c\u7684 nginx Pods\u3002</p> <p><code>matchLabels</code> \u4e2d\u7684\u6a19\u7c64\u9808\u8207 <code>#[4]</code> \u4e0b\u7684\u6a19\u7c64\u4e00\u81f4\u3002</p> <ul> <li>\u57f7\u884c\uff1a<code>kubectl apply -f nginx-deploy.yaml</code>\u3002</li> </ul> <p></p> <p>\u78ba\u8a8d\u4e09\u500b Pod \u78ba\u5be6\u88ab\u5efa\u7acb\u3002</p> <p></p> <p>\u82e5\u6709\u8208\u8da3\uff0c\u53ef\u67e5\u770b <code>kubectl get deploy</code> \u8207 <code>kubectl describe deploy nginx-deployment</code>\u3002</p> <ul> <li>\u4f7f\u7528 <code>kubectl delete pod &lt;pod \u540d\u7a31&gt;</code> \u522a\u9664\u5176\u4e2d\u4e00\u500b Pod\uff0c\u6578\u79d2\u5f8c\u518d\u57f7\u884c <code>kubectl get pod</code>\u3002</li> </ul> <p></p> <p>\u4f60\u6703\u770b\u5230 Kubernetes \u81ea\u52d5\u7522\u751f\u65b0\u7684 Pod\uff0c\u4ee5\u7dad\u6301\u4e09\u500b Pod \u7684\u526f\u672c\u6578\uff08AGE \u70ba 15 \u79d2\uff0c\u8f03\u5176\u4ed6 27 \u5206\u9418\u524d\u5275\u5efa\u7684 Pod \u65b0\uff09\u3002\u9019\u5c55\u793a\u4e86 Kubernetes \u7684\u5bb9\u932f\u80fd\u529b\u3002</p> <p>\uff08\u540c\u6a23\uff0cLab 1 \u4e2d\u7684\u55ae\u4e00 Pod \u88ab\u522a\u9664\u5247\u4e0d\u6703\u81ea\u52d5\u91cd\u5efa\uff0c\u56e0\u70ba\u6c92\u6709 Deployment \u7ba1\u7406\uff01\uff09</p> <ul> <li>\u60f3\u8981\u5c07 Pod \u6578\u91cf\u589e\u52a0\u5230 10\uff0c\u53ef\u5617\u8a66\u57f7\u884c\uff1a<code>kubectl scale deploy --replicas=10 nginx-deployment</code>\u3002</li> </ul> <p></p> <p>\u4f60\u6703\u770b\u5230 3/10 \u662f\u8f03\u820a Pod\uff0cKubernetes \u65b0\u589e 7 \u500b\u4ee5\u64f4\u5c55\u90e8\u7f72\u3002\u9019\u8aaa\u660e\u4e86 Kubernetes \u64f4\u7e2e\u5bb9\u5668\u7684\u7c21\u6613\u6027\u3002</p> <ul> <li>\u63a5\u8457\uff0c\u5c07\u9019\u4e9b Pod \u7d44\u6210\u4e00\u500b ClusterIP \u670d\u52d9\u3002\u57f7\u884c\uff1a<code>kubectl expose deployment nginx-deployment --name=nginx-service</code>\u3002</li> </ul> <p></p> <p>\u4f7f\u7528 curl \u5c0d\u61c9 10.96.114.184 \u57f7\u884c\u8acb\u6c42\uff0c\u5c07\u6703\u8f2a\u8a62\u5206\u914d\u5230 \u201cnginx-deployment\u201d \u4e2d\u7684 10 \u500b Pod \u4e4b\u4e00\u3002\u900f\u904e <code>expose</code> \u6307\u4ee4\uff0cKubernetes \u5efa\u7acb\u4e86\u4e00\u500b\u578b\u614b\u70ba ClusterIP \u7684 <code>Service</code>\uff0c\u8b93\u591a\u500b Pod \u53ef\u4ee5\u900f\u904e\u55ae\u4e00\u5167\u90e8 IP \u88ab\u8a2a\u554f\u3002</p> <p>\u4e5f\u53ef\u5efa\u7acb\u578b\u614b\u70ba LoadBalancer \u7684 Service \u4ee5\u53d6\u5f97\u516c\u958b IP\uff08\u985e\u4f3c\u5916\u90e8\u8ca0\u8f09\u5747\u8861\u5668\uff09\uff0c\u6b61\u8fce\u5617\u8a66\u3002</p> <p>\u4ee5\u4e0a\u7df4\u7fd2\u5df2\u662f\u4f7f\u7528 Kubernetes \u7ba1\u7406\u5927\u898f\u6a21\u90e8\u7f72\u7684\u57fa\u790e\u793a\u4f8b\u3002\u64cd\u4f5c 1000 \u500b\u90e8\u7f72\u8207\u5bb9\u5668\u7684\u6d41\u7a0b\u4e5f\u6975\u70ba\u76f8\u4f3c\u3002\u82e5\u8981\u7ba1\u7406\u7121\u72c0\u614b\u61c9\u7528\uff0cDeployment \u5df2\u8db3\u5920\uff0c\u4f46 Kubernetes \u4e5f\u63d0\u4f9b Job\u3001Daemonset\u3001CronJob\u3001Statefulset \u7b49\u8cc7\u6e90\u4ee5\u61c9\u5c0d\u7279\u6b8a\u9700\u6c42\u3002</p> <p>\u984d\u5916\u5be6\u9a57\u5ba4\uff1a https://kubernetes.courselabs.co/ \uff08\u5927\u91cf\u514d\u8cbb\u8ddf\u96a8\u7df4\u7fd2\uff0c\u6df1\u5165\u9ad4\u9a57 Kubernetes\uff09</p>"},{"location":"level102/containerization_and_orchestration/orchestration_with_kubernetes/#_5","title":"\u9032\u968e\u4e3b\u984c","text":"<p>\u5728\u591a\u6578\u60c5\u6cc1\u4e0b\uff0c\u4ee5 Kubernetes \u7de8\u6392\u7684\u5fae\u670d\u52d9\u5305\u542b\u6578\u5341\u500b Deployment\u3001Service \u8207 Config \u7b49\u8cc7\u6e90\u3002\u9019\u4e9b\u61c9\u7528\u7684\u6e05\u55ae\u53ef\u7528 Helm \u7bc4\u672c\u81ea\u52d5\u751f\u6210\uff0c\u4e26\u6253\u5305\u6210 Helm Charts\u3002\u985e\u4f3c Python \u7684 PyPi\uff0c\u9060\u7aef\u5009\u5eab\u5982 Bitnami \u63d0\u4f9b\u5927\u91cf Helm Charts\uff08\u6bd4\u5982\u4e00\u9375\u90e8\u7f72\u751f\u7522\u7d1a Prometheus \u6216 Kafka\uff09\uff0c\u53ef\u76f4\u63a5\u4e0b\u8f09\u4f7f\u7528\u3002\u9019\u88e1\u662f\u5165\u9580\u597d\u8d77\u9ede\u3002</p> <p>Kubernetes \u4e5f\u5141\u8a31\u5efa\u7acb\u81ea\u8a02\u8cc7\u6e90\uff08\u985e\u4f3c\u6211\u5011\u770b\u5230\u7684 Deployment \u6216 Pod\uff09\u3002\u8209\u4f8b\uff0c\u82e5\u4f60\u60f3\u5efa\u7acb\u4e94\u500b\u540d\u70ba SchoolOfSre \u7684\u81ea\u8a02\u8cc7\u6e90\u5be6\u4f8b\uff0c\u5b8c\u5168\u53ef\u884c\uff01\u4f46\u4f60\u9700\u8981\u64b0\u5beb\u81ea\u8a02\u8cc7\u6e90\u5b9a\u7fa9\u3002\u6b64\u5916\uff0c\u4e5f\u53ef\u6253\u9020\u81ea\u8a02 Operator \u4f86\u5c0d\u8cc7\u6e90\u5be6\u4f8b\u57f7\u884c\u7279\u5b9a\u52d5\u4f5c\u3002\u66f4\u591a\u8cc7\u8a0a\u8acb\u53c3\u8003\u9019\u88e1\u3002</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/cicd_brief_history/","title":"Brief History","text":""},{"location":"level102/continuous_integration_and_continuous_delivery/cicd_brief_history/#cicd","title":"CI/CD \u7684\u6f14\u9032","text":"<p>\u50b3\u7d71\u7684\u958b\u767c\u65b9\u5f0f\u5df2\u7d93\u5b58\u5728\u5f88\u9577\u4e00\u6bb5\u6642\u9593\u3002\u7011\u5e03\u6a21\u578b\u5728\u5927\u578b\u548c\u5c0f\u578b\u5c08\u6848\u4e2d\u90fd\u88ab\u5ee3\u6cdb\u4f7f\u7528\u4e14\u53d6\u5f97\u6210\u529f\u3002\u5118\u7ba1\u5982\u6b64\uff0c\u5b83\u4ecd\u6709\u5f88\u591a\u7f3a\u9ede\uff0c\u4f8b\u5982\u8f03\u9577\u7684\u9031\u671f\u6642\u9593\u6216\u4ea4\u4ed8\u6642\u9593\u3002</p> <p>\u7576\u591a\u4f4d\u5718\u968a\u6210\u54e1\u540c\u6642\u5728\u5c08\u6848\u4e2d\u5de5\u4f5c\u6642\uff0c\u7a0b\u5f0f\u78bc\u8b8a\u66f4\u6703\u9010\u6f38\u7d2f\u7a4d\uff0c\u76f4\u5230\u9810\u5b9a\u7684\u5efa\u7f6e\u65e5\u671f\u624d\u6703\u6574\u5408\u3002\u5efa\u7f6e\u901a\u5e38\u4f9d\u7167\u7d04\u5b9a\u7684\u9031\u671f\u9032\u884c\uff0c\u7bc4\u570d\u5f9e\u4e00\u500b\u6708\u5230\u4e00\u500b\u5b63\u5ea6\u4e0d\u7b49\u3002\u9019\u5c0e\u81f4\u4e86\u591a\u6b21\u6574\u5408\u554f\u984c\u548c\u5efa\u7f6e\u5931\u6557\uff0c\u56e0\u70ba\u958b\u767c\u4eba\u54e1\u90fd\u662f\u5404\u81ea\u958b\u767c\u81ea\u5df1\u7684\u529f\u80fd\uff0c\u5f7c\u6b64\u5b64\u7acb\u3002</p> <p>\u5c0d\u65bc\u904b\u7dad\u5718\u968a\u6216\u4efb\u4f55\u8981\u5c07\u65b0\u7248\u672c/\u767c\u884c\u90e8\u7f72\u5230\u751f\u7522\u74b0\u5883\u7684\u4eba\u800c\u8a00\uff0c\u9019\u662f\u4e00\u5834\u5669\u5922\uff0c\u56e0\u70ba\u7f3a\u4e4f\u6bcf\u500b\u8b8a\u66f4\u7684\u9069\u7576\u6587\u4ef6\u548c\u914d\u7f6e\u9700\u6c42\u3002\u70ba\u4e86\u6210\u529f\u90e8\u7f72\uff0c\u5e38\u5e38\u9700\u8981\u7dca\u6025\u4fee\u88dc\u8207\u81e8\u6642\u88dc\u4e01\u3002</p> <p>\u53e6\u4e00\u5927\u6311\u6230\u662f\u5354\u4f5c\u3002\u958b\u767c\u4eba\u54e1\u5f88\u5c11\u6703\u8207\u904b\u7dad\u5de5\u7a0b\u5e2b\u6703\u9762\uff0c\u4e5f\u4e0d\u6703\u5b8c\u5168\u4e86\u89e3\u751f\u7522\u74b0\u5883\u3002\u6240\u6709\u9019\u4e9b\u6311\u6230\u5c0e\u81f4\u7a0b\u5f0f\u78bc\u8b8a\u66f4\u7684\u4ea4\u4ed8\u9031\u671f\u8b8a\u9577\u3002</p> <p>\u654f\u6377\u65b9\u6cd5\u4e3b\u5f35\u5728\u591a\u500b\u8fed\u4ee3\u4e2d\u9010\u6b65\u4ea4\u4ed8\u529f\u80fd\u3002\u56e0\u6b64\uff0c\u958b\u767c\u4eba\u54e1\u6703\u5206\u6279\u63d0\u4ea4\u8f03\u5c0f\u7684\u7a0b\u5f0f\u78bc\u8b8a\u66f4\u4e26\u66f4\u983b\u7e41\u91cb\u51fa\u3002\u6bcf\u6b21\u7a0b\u5f0f\u78bc\u63d0\u4ea4\u90fd\u6703\u89f8\u767c\u65b0\u7684\u5efa\u7f6e\uff0c\u6574\u5408\u554f\u984c\u80fd\u66f4\u65e9\u88ab\u767c\u73fe\uff0c\u9019\u6539\u5584\u4e86\u5efa\u7f6e\u6d41\u7a0b\u4e26\u7e2e\u77ed\u4e86\u9031\u671f\u6642\u9593\u3002\u9019\u500b\u6d41\u7a0b\u88ab\u7a31\u70ba\u6301\u7e8c\u6574\u5408\uff08Continuous Integration\uff0cCI\uff09\u3002</p> <p>\u96a8\u8457\u7d44\u7e54\u9010\u6f38\u63a1\u7528 DevOps \u548c SRE\uff08Site Reliability Engineering\uff09\u9ad4\u7cfb\uff0c\u958b\u767c\u5718\u968a\u548c\u904b\u7dad\u5718\u968a\u4e4b\u9593\u7684\u9694\u95a1\u5927\u5e45\u7e2e\u5c0f\u3002\u958b\u767c\u4eba\u54e1\u8207\u904b\u7dad\u5718\u968a\u9593\u7684\u5354\u4f5c\u5f97\u5230\u6539\u5584\u3002\u6b64\u5916\uff0c\u5169\u908a\u4f7f\u7528\u76f8\u540c\u7684\u5de5\u5177\u548c\u6d41\u7a0b\u63d0\u5347\u4e86\u5354\u8abf\u6027\uff0c\u907f\u514d\u4e86\u5c0d\u6d41\u7a0b\u7684\u8aa4\u89e3\u3002\u5176\u4e2d\u4e00\u500b\u4e3b\u8981\u63a8\u52d5\u56e0\u7d20\u662f\u6301\u7e8c\u4ea4\u4ed8\uff08Continuous Delivery\uff0cCD\uff09\uff0c\u8a72\u6d41\u7a0b\u78ba\u4fdd\u4ee5\u589e\u91cf\u65b9\u5f0f\u90e8\u7f72\u8f03\u5c0f\u7684\u8b8a\u66f4\u3002\u5728\u9032\u5165\u751f\u7522\u74b0\u5883\u4e4b\u524d\uff0c\u4e5f\u6703\u6709\u591a\u500b\u9810\u5099\u74b0\u5883\uff08\u4e5f\u7a31\u70ba\u4e0a\u7dda\u74b0\u5883\uff09\u3002</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/cicd_brief_history/#cicd-devops","title":"CI/CD \u8207 DevOps","text":"<p>DevOps \u4e00\u8a5e\u4ee3\u8868\u958b\u767c\uff08Development\uff0cDev\uff09\u8207\u904b\u7dad\uff08Operations\uff0cOps\uff09\u5718\u968a\u7684\u7d50\u5408\uff0c\u4e5f\u5c31\u662f\u8b93\u958b\u767c\u4eba\u54e1\u548c\u904b\u7dad\u5718\u968a\u66f4\u7dca\u5bc6\u5730\u5408\u4f5c\u3002\u958b\u767c\u5718\u968a\u901a\u5e38\u5e0c\u671b\u65b0\u589e\u66f4\u591a\u529f\u80fd\u53ca\u8b8a\u66f4\uff0c\u800c\u904b\u7dad\u5718\u968a\u5247\u66f4\u5c08\u6ce8\u65bc\u751f\u7522\u61c9\u7528\u7684\u7a69\u5b9a\u6027\u3002\u6bcf\u4e00\u6b21\u8b8a\u66f4\u5c0d\u904b\u7dad\u5718\u968a\u4f86\u8aaa\u90fd\u662f\u5a01\u8105\uff0c\u56e0\u70ba\u5b83\u53ef\u80fd\u5f71\u97ff\u74b0\u5883\u7684\u7a69\u5b9a\u6027\u3002DevOps \u88ab\u8996\u70ba\u4e00\u7a2e\u6587\u5316\uff0c\u5f15\u5165\u6d41\u7a0b\u4f86\u964d\u4f4e\u958b\u767c\u8207\u904b\u7dad\u5718\u968a\u9593\u7684\u969c\u7919\u3002</p> <p>DevOps \u4fc3\u9032\u958b\u767c\u8207\u904b\u7dad\u7684\u5408\u4f5c\uff0c\u4f7f\u5f97\u5f9e\u7aef\u5230\u7aef\u7684\u751f\u7522\u90e8\u7f72\u8ffd\u8e64\u66f4\u9806\u66a2\uff0c\u4e14\u90e8\u7f72\u66f4\u983b\u7e41\u3002\u56e0\u6b64\uff0cCI/CD \u662f DevOps \u6d41\u7a0b\u4e2d\u7684\u95dc\u9375\u5143\u7d20\u3002</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/conclusion/","title":"Conclusion","text":""},{"location":"level102/continuous_integration_and_continuous_delivery/conclusion/#sre","title":"SRE \u89d2\u8272\u4e2d\u7684\u61c9\u7528","text":"<p>\u76e3\u63a7\u3001\u81ea\u52d5\u5316\u53ca\u6d88\u9664\u7e41\u7463\u5de5\u4f5c\u662f SRE \u5b78\u79d1\u7684\u4e00\u4e9b\u6838\u5fc3\u652f\u67f1\u3002\u4f5c\u70ba SRE\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u82b1\u8cbb\u7d04 50% \u7684\u6642\u9593\u5728\u81ea\u52d5\u5316\u91cd\u8907\u6027\u4efb\u52d9\u4e26\u6d88\u9664\u7e41\u7463\u5de5\u4f5c\u3002CI/CD \u7ba1\u9053\u662f SRE \u7684\u91cd\u8981\u5de5\u5177\u4e4b\u4e00\u3002\u5b83\u5011\u6709\u52a9\u65bc\u901a\u904e\u66f4\u5c0f\u3001\u66f4\u898f\u5f8b\u4e14\u66f4\u983b\u7e41\u7684\u69cb\u5efa\u4f86\u4ea4\u4ed8\u9ad8\u54c1\u8cea\u7684\u61c9\u7528\u3002\u6b64\u5916\uff0cCI/CD \u6307\u6a19\u5982\u90e8\u7f72\u6642\u9593\u3001\u6210\u529f\u7387\u3001\u9031\u671f\u6642\u9593\u53ca\u81ea\u52d5\u6e2c\u8a66\u6210\u529f\u7387\u7b49\uff0c\u90fd\u662f\u63d0\u5347\u7522\u54c1\u54c1\u8cea\u5f9e\u800c\u63d0\u9ad8\u61c9\u7528\u53ef\u9760\u6027\u7684\u95dc\u9375\u6307\u6a19\u3002</p> <ul> <li>\u57fa\u790e\u8a2d\u65bd\u5373\u4ee3\u78bc \u662f SRE \u4e2d\u7528\u4f86\u81ea\u52d5\u5316\u91cd\u8907\u914d\u7f6e\u4efb\u52d9\u7684\u6a19\u6e96\u5be6\u8e10\u4e4b\u4e00\u3002\u6bcf\u500b\u914d\u7f6e\u90fd\u7dad\u8b77\u70ba\u7a0b\u5f0f\u78bc\uff0c\u56e0\u6b64\u53ef\u4ee5\u901a\u904e CI/CD \u7ba1\u9053\u9032\u884c\u90e8\u7f72\u3002\u5c07\u914d\u7f6e\u66f4\u6539\u901a\u904e CI/CD \u7ba1\u9053\u4ea4\u4ed8\u81f3\u751f\u7522\u74b0\u5883\u975e\u5e38\u91cd\u8981\uff0c\u4ee5\u7dad\u8b77\u7248\u672c\u63a7\u5236\u3001\u74b0\u5883\u9593\u8b8a\u66f4\u7684\u4e00\u81f4\u6027\u4e26\u907f\u514d\u4eba\u5de5\u932f\u8aa4\u3002</li> <li>\u4f5c\u70ba SRE\uff0c\u60a8\u7d93\u5e38\u9700\u8981\u5be9\u67e5\u61c9\u7528\u7684 CI/CD \u7ba1\u9053\uff0c\u4e26\u5efa\u8b70\u589e\u52a0\u4f8b\u5982\u975c\u614b\u7a0b\u5f0f\u78bc\u5206\u6790\u3001\u5b89\u5168\u8207\u96b1\u79c1\u6aa2\u67e5\u7b49\u968e\u6bb5\uff0c\u4ee5\u63d0\u5347\u7522\u54c1\u7684\u5b89\u5168\u6027\u548c\u53ef\u9760\u6027\u3002</li> </ul>"},{"location":"level102/continuous_integration_and_continuous_delivery/conclusion/#_1","title":"\u7d50\u8ad6","text":"<p>\u672c\u7ae0\u6211\u5011\u7814\u7a76\u4e86 CI/CD \u7ba1\u9053\uff0c\u7c21\u8ff0\u4e86\u50b3\u7d71\u69cb\u5efa\u5be6\u8e10\u9762\u81e8\u7684\u6311\u6230\u3002\u6211\u5011\u9084\u63a2\u8a0e\u4e86 CI/CD \u7ba1\u9053\u5982\u4f55\u5f37\u5316 SRE \u5b78\u79d1\u3002CI/CD \u7ba1\u9053\u5728\u8edf\u9ad4\u958b\u767c\u751f\u547d\u9031\u671f\u4e2d\u7684\u904b\u7528\u662f SRE \u9818\u57df\u7684\u4e00\u7a2e\u73fe\u4ee3\u65b9\u6cd5\uff0c\u6709\u52a9\u65bc\u5be6\u73fe\u66f4\u9ad8\u7684\u6548\u7387\u3002</p> <p>\u6211\u5011\u4e5f\u9032\u884c\u4e86\u4f7f\u7528 Jenkins \u5275\u5efa CI/CD \u7ba1\u9053\u7684\u5be6\u4f5c\u5be6\u9a57\u3002</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/conclusion/#_2","title":"\u53c3\u8003\u8cc7\u6599","text":"<ol> <li>\u6301\u7e8c\u6574\u5408 (martinfowler.com)</li> <li>\u5fae\u670d\u52d9\u7684 CI/CD - Azure \u67b6\u69cb\u4e2d\u5fc3 | Microsoft Docs</li> <li>SRE \u57fa\u790e\u85cd\u5716 (devopsinstitute.com)</li> <li>Jenkins \u4f7f\u7528\u8005\u6587\u4ef6</li> </ol>"},{"location":"level102/continuous_integration_and_continuous_delivery/continuous_delivery_release_pipeline/","title":"Continuous Delivery and Deployment","text":"<p>\u6301\u7e8c\u4ea4\u4ed8 (Continuous Delivery) \u610f\u6307\u5728\u975e\u751f\u7522\u74b0\u5883\uff08\u5982 SIT\u3001UAT\u3001INT\uff09\u66f4\u983b\u7e41\u5730\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f\u5efa\u7f6e\uff0c\u4e26\u81ea\u52d5\u57f7\u884c\u6574\u5408\u6e2c\u8a66\u8207\u9a57\u6536\u6e2c\u8a66\u3002</p> <p>\u5728\u6301\u7e8c\u4ea4\u4ed8\u4e2d\uff0c\u6e2c\u8a66\u662f\u91dd\u5c0d\u6574\u5408\u5f8c\u7684\u61c9\u7528\u7a0b\u5f0f\u9032\u884c\uff0c\u800c\u975e\u5fae\u670d\u52d9\u67b6\u69cb\u4e2d\u55ae\u4e00\u7684\u5fae\u670d\u52d9\u3002\u6e2c\u8a66\u5fc5\u9808\u5305\u542b\u6240\u6709\u529f\u80fd\u6e2c\u8a66\u8207\u9a57\u6536\u6e2c\u8a66\uff0c\u9019\u4e9b\u6e2c\u8a66\u53ef\u80fd\u5305\u542b\u4f7f\u7528\u8005\u4ecb\u9762\uff08UI\uff09\u6e2c\u8a66\u3002\u5efa\u7f6e\u5fc5\u9808\u5177\u6709\u4e0d\u53ef\u8b8a\u66f4\u6027\uff0c\u4e5f\u5c31\u662f\u8aaa\uff0c\u76f8\u540c\u7684\u5c01\u88dd\u5fc5\u9808\u5728\u6240\u6709\u74b0\u5883\uff08\u5305\u62ec\u751f\u7522\u74b0\u5883\uff09\u4e2d\u90e8\u7f72\u3002</p> <p>\u90e8\u7f72\u81f3\u751f\u7522\u74b0\u5883\u901a\u5e38\u662f\u5728\u57f7\u884c\u984d\u5916\u9a57\u6536\u6e2c\u8a66\uff08\u4f8b\u5982\u6548\u80fd\u6e2c\u8a66\uff09\u5f8c\u624b\u52d5\u9032\u884c\u3002\u56e0\u6b64\uff0c\u5b8c\u5168\u81ea\u52d5\u5316\u90e8\u7f72\u81f3\u751f\u7522\u74b0\u5883\u7a31\u70ba \u6301\u7e8c\u90e8\u7f72 (Continuous Deployment)\uff08\u800c CD \u2013 \u6301\u7e8c\u4ea4\u4ed8 (Continuous Delivery) \u4e26\u4e0d\u6703\u81ea\u52d5\u90e8\u7f72\u81f3\u751f\u7522\u74b0\u5883\uff09\u3002\u6301\u7e8c\u90e8\u7f72\u5fc5\u9808\u5177\u5099 \u529f\u80fd\u958b\u95dc (feature toggle)\uff0c\u4f7f\u529f\u80fd\u80fd\u5920\u5728\u4e0d\u9700\u91cd\u65b0\u90e8\u7f72\u4ee3\u78bc\u7684\u60c5\u6cc1\u4e0b\u88ab\u958b\u555f\u6216\u95dc\u9589\u3002</p> <p>\u901a\u5e38\uff0c\u90e8\u7f72\u6703\u6d89\u53ca\u591a\u500b\u751f\u7522\u74b0\u5883\uff0c\u4f8b\u5982\u5728 \u85cd\u7da0\u74b0\u5883 (blue-green environments) \u4e2d\uff0c\u61c9\u7528\u7a0b\u5f0f\u6703\u5148\u90e8\u7f72\u81f3\u85cd\u8272\u74b0\u5883\uff0c\u518d\u90e8\u7f72\u81f3\u7da0\u8272\u74b0\u5883\uff0c\u4ee5\u907f\u514d\u505c\u6a5f\u6642\u9593\u3002</p> <p></p> <p>\u5716 3\uff1a\u6301\u7e8c\u4ea4\u4ed8\u6d41\u7a0b\u7ba1\u7dda</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/continuous_integration_build_pipeline/","title":"Continuous Integration","text":"<p>CI \u662f\u4e00\u7a2e\u8edf\u9ad4\u958b\u767c\u5be6\u8e10\uff0c\u5718\u968a\u6210\u54e1\u6703\u983b\u7e41\u6574\u5408\u4ed6\u5011\u7684\u5de5\u4f5c\u3002\u6bcf\u6b21\u6574\u5408\u90fd\u6703\u7531\u81ea\u52d5\u5316\u69cb\u5efa\uff08\u5305\u62ec\u6e2c\u8a66\uff09\u4f86\u9a57\u8b49\uff0c\u4ee5\u4fbf\u76e1\u5feb\u5075\u6e2c\u6574\u5408\u932f\u8aa4\u3002</p> <p>\u6301\u7e8c\u6574\u5408\u8981\u6c42\u6240\u6709\u4ee3\u78bc\u8b8a\u66f4\u90fd\u7dad\u8b77\u5728\u55ae\u4e00\u4ee3\u78bc\u5eab\u4e2d\uff0c\u6240\u6709\u6210\u54e1\u90fd\u53ef\u4ee5\u5b9a\u671f\u5c07\u8b8a\u66f4\u63a8\u9001\u5230\u4ed6\u5011\u7684\u529f\u80fd\u5206\u652f\u3002\u4ee3\u78bc\u8b8a\u66f4\u5fc5\u9808\u5feb\u901f\u8207\u5176\u4ed6\u4ee3\u78bc\u6574\u5408\uff0c\u81ea\u52d5\u5316\u69cb\u5efa\u61c9\u8a72\u57f7\u884c\u4e26\u53cd\u994b\u7d66\u6210\u54e1\uff0c\u4ee5\u4fbf\u53ca\u65e9\u89e3\u6c7a\u554f\u984c\u3002</p> <p>\u61c9\u8a72\u6709\u4e00\u53f0 CI \u4f3a\u670d\u5668\uff0c\u80fd\u5728\u6210\u54e1\u63a8\u9001\u4ee3\u78bc\u5f8c\u7acb\u5373\u89f8\u767c\u69cb\u5efa\u3002\u69cb\u5efa\u901a\u5e38\u6d89\u53ca\u7de8\u8b6f\u4ee3\u78bc\u4e26\u5c07\u5176\u8f49\u63db\u70ba\u53ef\u57f7\u884c\u6a94\u6848\uff0c\u4f8b\u5982 JAR \u6216 DLL \u7b49\uff0c\u7a31\u70ba\u6253\u5305\u3002\u5b83\u9084\u5fc5\u9808\u57f7\u884c\u5e36\u6709\u4ee3\u78bc\u8986\u84cb\u7387\u7684\u55ae\u5143\u6e2c\u8a66\u3002\u69cb\u5efa\u904e\u7a0b\u9084\u53ef\u4ee5\u5305\u542b\u5176\u4ed6\u968e\u6bb5\uff0c\u5982\u975c\u614b\u4ee3\u78bc\u5206\u6790\u548c\u6f0f\u6d1e\u6aa2\u67e5\u7b49\u3002</p> <p>Jenkins\u3001Bamboo\u3001Travis CI\u3001GitLab\u3001Azure DevOps \u7b49\u662f\u5e7e\u500b\u77e5\u540d\u7684 CI \u5de5\u5177\u3002\u9019\u4e9b\u5de5\u5177\u63d0\u4f9b\u5404\u7a2e\u63d2\u4ef6\u53ca\u6574\u5408\uff0c\u4f8b\u5982\u7528\u65bc\u69cb\u5efa\u8207\u6253\u5305\u7684 ant\u3001maven \u7b49\uff0c\u4ee5\u53ca\u7528\u65bc\u57f7\u884c\u55ae\u5143\u6e2c\u8a66\u7684 Junit\u3001selenium \u7b49\u3002SonarQube \u53ef\u7528\u65bc\u975c\u614b\u4ee3\u78bc\u5206\u6790\u8207\u4ee3\u78bc\u5b89\u5168\u6aa2\u67e5\u3002</p> <p></p> <p>\u5716 1\uff1a\u6301\u7e8c\u6574\u5408\u6d41\u7a0b\u5716</p> <p></p> <p>\u5716 2\uff1a\u6301\u7e8c\u6574\u5408\u6d41\u7a0b</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/introduction/","title":"Introduction","text":""},{"location":"level102/continuous_integration_and_continuous_delivery/introduction/#_1","title":"\u5148\u6c7a\u689d\u4ef6","text":"<ol> <li>\u8edf\u9ad4\u958b\u767c\u8207\u7dad\u8b77</li> <li>Git</li> <li>Docker</li> </ol>"},{"location":"level102/continuous_integration_and_continuous_delivery/introduction/#_2","title":"\u9019\u9580\u8ab2\u7a0b\u53ef\u4ee5\u671f\u5f85\u4ec0\u9ebc\uff1f","text":"<p>\u5728\u672c\u8ab2\u7a0b\u4e2d\uff0c\u60a8\u5c07\u5b78\u7fd2 CI/CD \u7684\u57fa\u790e\u77e5\u8b58\uff0c\u4ee5\u53ca\u5b83\u5982\u4f55\u63a8\u52d5\u7d44\u7e54\u4e2d\u7684 SRE \u6587\u5316\u3002\u8ab2\u7a0b\u9084\u6703\u8a0e\u8ad6 CI/CD \u5be6\u8e10\u4e2d\u5404\u7a2e DevOps \u5de5\u5177\uff0c\u4e26\u9032\u884c\u4e00\u500b\u57fa\u65bc Jenkins \u7684\u7ba1\u7dda\u5be6\u4f5c\u5be6\u9a57\u3002\u6700\u5f8c\uff0c\u8ab2\u7a0b\u5c07\u4ee5\u8aaa\u660e SRE \u54f2\u5b78\u5728\u6210\u9577\u4e2d\u7684\u89d2\u8272\u4f5c\u7d50\u3002</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/introduction/#_3","title":"\u672c\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u54ea\u4e9b\u5167\u5bb9\uff1f","text":"<p>\u672c\u8ab2\u7a0b\u4e0d\u5168\u9762\u6db5\u84cb\u5982\u57fa\u790e\u8a2d\u65bd\u5373\u4ee3\u78bc\uff08Infrastructure as Code\uff09\u3001\u6301\u7e8c\u76e3\u63a7\u61c9\u7528\u8207\u57fa\u790e\u8a2d\u65bd\u7b49 DevOps \u5143\u7d20\u3002</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/introduction/#_4","title":"\u76ee\u9304","text":"<ul> <li>\u4ec0\u9ebc\u662f CI/CD\uff1f</li> <li>CI/CD \u8207 DevOps \u7c21\u53f2</li> <li>\u6301\u7e8c\u6574\u5408</li> <li>\u6301\u7e8c\u4ea4\u4ed8\u8207\u90e8\u7f72</li> <li>\u57fa\u65bc Jenkins \u7684 CI/CD \u7ba1\u7dda - \u5be6\u4f5c\u5be6\u9a57</li> <li>\u7d50\u8ad6</li> </ul>"},{"location":"level102/continuous_integration_and_continuous_delivery/introduction_to_cicd/","title":"What is CI/CD?","text":"<p>\u6301\u7e8c\u6574\u5408\u8207\u6301\u7e8c\u4ea4\u4ed8\uff08Continuous Integration and Continuous Delivery\uff0c\u7c21\u7a31 CI/CD\uff09\u662f\u4e00\u5957\u6d41\u7a0b\uff0c\u6709\u52a9\u65bc\u66f4\u5feb\u901f\u5730\u6574\u5408\u8edf\u9ad4\u7a0b\u5f0f\u78bc\u8b8a\u66f4\u4e26\u4ee5\u53ef\u9760\u7684\u65b9\u5f0f\u90e8\u7f72\u5230\u6700\u7d42\u4f7f\u7528\u8005\u7aef\u3002\u66f4\u983b\u7e41\u7684\u6574\u5408\u8207\u90e8\u7f72\u6709\u52a9\u65bc\u7e2e\u77ed\u8edf\u9ad4\u958b\u767c\u751f\u547d\u9031\u671f\u3002 \u5728 CI/CD \u4e2d\u6709\u4e09\u500b\u5be6\u8e10\uff1a</p> <ul> <li>\u6301\u7e8c\u6574\u5408</li> <li>\u6301\u7e8c\u4ea4\u4ed8</li> <li>\u6301\u7e8c\u90e8\u7f72</li> </ul> <p>\u4e0b\u9762\u6211\u5011\u5c07\u5728\u5f8c\u7e8c\u7ae0\u7bc0\u4e2d\u8a73\u7d30\u8aaa\u660e\u6bcf\u4e00\u9805\u3002</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/introduction_to_cicd/#cicd","title":"CI/CD \u7684\u597d\u8655","text":"<ol> <li>\u5927\u5e45\u964d\u4f4e\u6574\u5408\u554f\u984c\u3002</li> <li>\u5718\u968a\u80fd\u66f4\u5feb\u901f\u5730\u958b\u767c\u51fa\u6709\u51dd\u805a\u529b\u7684\u8edf\u9ad4\u3002</li> <li>\u958b\u767c\u4eba\u54e1\u8207\u71df\u904b\u5718\u968a\u9593\u7684\u5408\u4f5c\u6539\u5584\uff0c\u53ef\u4ee5\u6e1b\u5c11\u751f\u7522\u74b0\u5883\u4e2d\u7684\u6574\u5408\u554f\u984c\u3002</li> <li>\u65b0\u529f\u80fd\u80fd\u66f4\u5feb\u4ea4\u4ed8\u4e14\u6469\u64e6\u66f4\u5c0f\u3002</li> <li>\u80fd\u66f4\u597d\u5730\u5075\u932f\u751f\u7522\u554f\u984c\uff0c\u4e26\u5728\u4e0b\u6b21\u7248\u672c/\u4fee\u88dc\u7a0b\u5f0f\u4e2d\u89e3\u6c7a\u3002</li> </ol>"},{"location":"level102/continuous_integration_and_continuous_delivery/jenkins_cicd_pipeline_hands_on_lab/","title":"CI/CD Pipeline - Hands-on","text":""},{"location":"level102/continuous_integration_and_continuous_delivery/jenkins_cicd_pipeline_hands_on_lab/#jenkins-cicd","title":"\u57fa\u65bc Jenkins \u7684 CI/CD \u7ba1\u7dda","text":"<p>Jenkins \u662f\u4e00\u500b\u958b\u6e90\u7684\u6301\u7e8c\u6574\u5408\u4f3a\u670d\u5668\uff0c\u7528\u65bc\u5354\u8abf CI/CD \u7ba1\u7dda\u3002\u5b83\u652f\u63f4\u6574\u5408\u591a\u7a2e\u5143\u4ef6\u3001\u57fa\u790e\u67b6\u69cb\u5982 git\u3001\u96f2\u7aef\u7b49\uff0c\u6709\u52a9\u65bc\u5b8c\u6574\u7684\u8edf\u9ad4\u958b\u767c\u751f\u547d\u9031\u671f\u3002</p> <p>\u5728\u6b64\u5be6\u4f5c\u5be6\u9a57\u4e2d\uff0c\u6211\u5011\u5c07\uff1a * \u70ba\u4e00\u500b\u7c21\u55ae\u7684 Java \u61c9\u7528\u7a0b\u5f0f\u5efa\u7acb\u5efa\u7f6e\u7ba1\u7dda (CI)\u3002 * \u5c07\u6e2c\u8a66\u968e\u6bb5\u52a0\u5165\u5efa\u7f6e\u7ba1\u7dda\u3002</p> <p>\u9019\u500b\u5be6\u4f5c\u662f\u57fa\u65bc\u5728\u672c\u5730\u5de5\u4f5c\u7ad9\u7684 Docker \u4e0a\u57f7\u884c Jenkins\uff0c\u8a2d\u8a08\u65bc Windows \u4f5c\u696d\u7cfb\u7d71\u3002\u82e5\u70ba Linux \u4f5c\u696d\u7cfb\u7d71\uff0c\u8acb\u53c3\u8003 demo\u3002</p> <p>\u6ce8\u610f\uff1a \u6b64\u5be6\u4f5c\u5be6\u9a57\u8a2d\u8a08\u70ba\u5728 Docker \u4e0a\u57f7\u884c Jenkins\uff0c\u6b65\u9a5f\u4ea6\u9069\u7528\u65bc\u76f4\u63a5\u5728 Windows \u5de5\u4f5c\u7ad9\u5b89\u88dd\u7684 Docker\u3002</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/jenkins_cicd_pipeline_hands_on_lab/#gitdocker-jenkins","title":"\u5b89\u88dd Git\u3001Docker \u8207 Jenkins\uff1a","text":"<ul> <li>\u5728\u4f60\u7684\u5de5\u4f5c\u7ad9\u5b89\u88dd git \u6307\u4ee4\u5217\u5de5\u5177\u3002\uff08\u8acb\u9075\u5faa \u6b64\u8655 \u4ee5\u65bc\u672c\u6a5f\u5b89\u88dd Git\uff09</li> <li>\u5728 Windows \u5de5\u4f5c\u7ad9\u5b89\u88dd Docker Desktop\uff0c\u4f9d\u7167 \u6b64\u8655\u8aaa\u660e \u5b89\u88dd Docker\u3002</li> <li>\u78ba\u4fdd\u4f60\u7684 Docker for Windows \u8a2d\u5b9a\u70ba\u57f7\u884c Linux Container\uff0c\u800c\u975e Windows Container\u3002\u8acb\u53c3\u8003 Docker \u6587\u4ef6\u5207\u63db\u81f3 Linux container \u7684\u6307\u793a\u3002</li> <li>\u53c3\u8003\u6b64\u8655 Jenkins \u5728 docker \u4e0a\u7684\u5b89\u88dd\u8a2d\u5b9a\u3002</li> <li>\u900f\u904e\u8a2d\u5b9a\u7cbe\u9748\u9032\u884c Jenkins \u521d\u59cb\u8a2d\u5b9a\uff0c\u5982\u5efa\u7acb\u7ba1\u7406\u8005\u5e33\u865f\u7b49\u3002</li> <li>\u82e5\u76f4\u63a5\u5728\u672c\u6a5f\u5b89\u88dd Jenkins\uff0c\u8acb\u78ba\u5b9a\u5df2\u5b89\u88dd maven \u5de5\u5177\u3002\u8acb\u53c3\u95b1 \u6b64\u8655 \u9032\u884c\u5b89\u88dd\u3002</li> </ul>"},{"location":"level102/continuous_integration_and_continuous_delivery/jenkins_cicd_pipeline_hands_on_lab/#fork-java","title":"Fork \u7bc4\u4f8b Java \u61c9\u7528\u7a0b\u5f0f\uff1a","text":"<p>\u672c\u5be6\u4f5c\u4e2d\uff0c\u6211\u5011\u5c07\u5f9e GitHub \u4e0a\u7684 simple-java-maven-app fork \u4e00\u500b\u7c21\u55ae\u7684 Java \u61c9\u7528\u7a0b\u5f0f\u3002 1.  \u8a3b\u518a GitHub \u5e33\u865f \u52a0\u5165 GitHub \u00b7 GitHub\u3002\u5b8c\u6210\u5f8c\uff0c\u8acb\u767b\u5165 \u767b\u5165 GitHub\u3002 2.  \u6253\u958b simple-java-maven-app \u5c08\u6848\uff0c\u9ede\u64ca\u6b64 \u9023\u7d50\u3002 3.  \u5728\u53f3\u4e0a\u89d2\u9ede\u64ca\u300cFork\u300d\uff0c\u5c07\u5c08\u6848\u8907\u88fd\u5230\u4f60\u7684 GitHub \u5e33\u865f\u4e2d\u3002\uff08\u53c3\u8003 Fork A Repo\uff09 4.  Fork \u5b8c\u6210\u5f8c\uff0c\u5c07\u8a72\u5009\u5eab clone \u5230\u672c\u5730\u5de5\u4f5c\u7ad9\u3002</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/jenkins_cicd_pipeline_hands_on_lab/#jenkins","title":"\u5efa\u7acb Jenkins \u5c08\u6848\uff1a","text":"<ol> <li>\u4f7f\u7528\u5148\u524d\u5efa\u7acb\u7684\u7ba1\u7406\u54e1\u5e33\u865f\u767b\u5165 Jenkins \u9801\u9762 http://localhost:8080\u3002</li> <li>\u9996\u6b21\u767b\u5165\u6642\u6703\u770b\u5230\u5982\u4e0b\u756b\u9762\uff0c\u9ede\u9078\u300c\u5efa\u7acb\u4e00\u500b Job\u300d\u3002</li> </ol> <p>\u5716 4\uff1aJenkins - \u5efa\u7acb Job</p> <ol> <li>\u5728\u4e0b\u4e00\u756b\u9762\u4e2d\uff0c\u65bc \u8f38\u5165\u9805\u76ee\u540d\u7a31 \u6b04\u4f4d\u8f38\u5165 simple-java-pipeline\uff0c\u4e26\u5f9e\u9805\u76ee\u985e\u578b\u5217\u8868\u4e2d\u9078\u64c7 Pipeline\uff0c\u7136\u5f8c\u9ede\u9078 OK\u3002</li> </ol> <p></p> <p>\u5716 5\uff1aJenkins - \u5efa\u7acb Pipeline</p> <ol> <li>\u9ede\u9078\u9801\u9762\u9802\u7aef\u7684 Pipeline \u6a19\u7c64\uff0c\u5f80\u4e0b\u6372\u52d5\u81f3 Pipeline \u5340\u6bb5\u3002</li> <li>\u65bc Definition \u6b04\u4f4d\u9078\u64c7 Pipeline script from SCM\uff0c\u6b64\u9078\u9805\u8868\u793a Jenkins \u5c07\u5f9e\u539f\u59cb\u78bc\u7ba1\u7406 (SCM) \u53d6\u5f97 Pipeline \u8173\u672c\uff0c\u6b64\u8655\u70ba\u4f60\u672c\u6a5f clone \u7684 Git \u5009\u5eab\u3002</li> <li>\u65bc SCM \u6b04\u4f4d\u9078\u64c7 Git\u3002</li> <li>\u5728 Repository URL \u6b04\u4f4d\u4e2d\u8f38\u5165\u4f60\u5148\u524d Fork \u7bc4\u4f8b Java \u61c9\u7528\u7a0b\u5f0f \u5340\u6bb5\u4e2d\u6240 clone \u81f3\u672c\u6a5f\u7684\u5c08\u6848\u76ee\u9304\u8def\u5f91\u3002</li> </ol> <p>\u756b\u9762\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> <p>\u5716 6\uff1aJenkins - Pipeline \u8a2d\u5b9a</p>"},{"location":"level102/continuous_integration_and_continuous_delivery/jenkins_cicd_pipeline_hands_on_lab/#jenkinsfile","title":"\u7528 Jenkinsfile \u5efa\u7acb\u5efa\u7f6e\u7ba1\u7dda\uff1a","text":"<p>Jenkinsfile \u662f\u4e00\u500b\u5305\u542b\u7ba1\u7dda\u8a2d\u5b9a\u8207\u968e\u6bb5\u7b49\u6307\u4ee4\u7684\u8173\u672c\u6a94\u6848\uff0c\u53ef\u8b93 Jenkins \u5f9e\u8a72\u6a94\u6848\u5efa\u7acb\u7ba1\u7dda\u3002\u6b64\u6a94\u6848\u6703\u5132\u5b58\u5728\u7a0b\u5f0f\u78bc\u5009\u5eab\u7684\u6839\u76ee\u9304\u3002 1.  \u4f7f\u7528\u4f60\u504f\u597d\u7684\u6587\u5b57\u7de8\u8f2f\u5668\u6216 IDE\uff0c\u5728\u672c\u6a5f simple-java-maven-app Git \u5009\u5eab\u6839\u76ee\u9304\u5efa\u7acb\u4e26\u5132\u5b58\u540d\u70ba Jenkinsfile \u7684\u65b0\u6a94\u6848\u3002 2.  \u5c07\u4ee5\u4e0b\u6558\u8ff0\u5f0f\u7ba1\u7dda\u4ee3\u78bc\u8907\u88fd\u4e26\u8cbc\u5165\u7a7a\u767d\u7684 Jenkinsfile \u4e2d\u3002</p> <pre><code>pipeline {\n    agent {\n        docker {\n            image 'maven:3.8.1-adoptopenjdk-11' \n            args '-v /root/.m2:/root/.m2' \n        }\n    }\n    stages {\n        stage('Build') { \n            steps {\n                sh 'mvn -B -DskipTests clean package' \n            }\n        }\n    }\n}\n</code></pre> <p>\u6ce8\u610f\uff1a \u82e5\u4f60\u5728\u672c\u6a5f\u5de5\u4f5c\u7ad9\u76f4\u63a5\u57f7\u884c Jenkins\uff08\u975e Docker \u65b9\u5f0f\uff09\uff0c\u8acb\u5c07 agent \u6539\u70ba any\uff0c\u4ee5\u65bc\u672c\u6a5f\u57f7\u884c\u3002\u8acb\u78ba\u8a8d\u672c\u6a5f\u5df2\u5b89\u88dd maven \u5de5\u5177\u3002</p> <pre><code>pipeline {\n    agent any\n\n    stages {\n        stage('Build') { \n            steps {\n                sh 'mvn -B -DskipTests clean package' \n            }\n        }\n    }\n}\n</code></pre> <p>\u5728\u4e0a\u8ff0 Jenkinsfile \u4e2d\uff1a * \u6307\u5b9a\u4e86 agent\uff0c\u8868\u793a\u7ba1\u7dda\u5728\u54ea\u88e1\u57f7\u884c\u3002agent \u7684 docker \u90e8\u5206\u8868\u793a\u5728\u6307\u5b9a\u7684 docker \u6620\u50cf\u4e2d\u555f\u52d5\u65b0 container \u4f86\u57f7\u884c\u3002 * \u5728 stages \u5340\u57df\u53ef\u5b9a\u7fa9\u591a\u500b\u968e\u6bb5\u3002\u6b64\u8655\u6709\u4e00\u500b\u968e\u6bb5\u70ba \u2018Build\u2019\uff0c\u88e1\u9762\u57f7\u884c Maven \u5efa\u7f6e Java \u61c9\u7528\u7a0b\u5f0f\u7684\u6307\u4ee4\u3002</p> <ol> <li>\u5132\u5b58 Jenkinsfile \u4e4b\u5f8c\uff0c\u63d0\u4ea4\u4e26\u63a8\u9001\u81f3 fork \u904e\u7684\u5009\u5eab\u3002\u65bc\u547d\u4ee4\u63d0\u793a\u5b57\u5143\u57f7\u884c\uff1a</li> </ol> <pre><code>cd &lt;\u4f60\u7684 simple-java-maven-app \u672c\u6a5f clone \u76ee\u9304&gt;\ngit add .\ngit commit -m \"Add initial Jenkinsfile\"\ngit push origin master\n</code></pre> <ol> <li>\u65bc\u700f\u89bd\u5668\u958b\u555f Jenkins \u5165\u53e3\u7db2\u7ad9\u4e26\u9ede\u9078 Dashboard\uff0c\u958b\u555f simple-java-pipeline\uff0c\u5728\u5de6\u5074\u9078\u55ae\u9ede\u64ca \u7acb\u5373\u5efa\u7f6e\uff08Build Now\uff09\u3002</li> </ol> <p></p> <p>\u5716 7\uff1aJenkins - \u5efa\u7f6e\u7ba1\u7dda\u4e2d</p> <ol> <li>\u65bc \u5efa\u7f6e\u6b77\u53f2\uff08Build History\uff09 \u4e2d\u53ef\u4ee5\u770b\u5230\u6b63\u5728\u5efa\u7f6e\u7684\u7d00\u9304\uff0c\u9ede\u9078\u5c0d\u61c9\u7684\u5efa\u7f6e\u7de8\u865f\u53ef\u67e5\u770b\u5404\u5efa\u7f6e\u968e\u6bb5\u3002</li> </ol> <p></p> <p>\u5716 8\uff1aJenkins - \u6aa2\u8996\u57f7\u884c\u4e2d\u5efa\u7f6e</p> <ol> <li>\u6210\u529f\u5efa\u7acb\u4e26\u57f7\u884c\u5305\u542b\u55ae\u4e00\u968e\u6bb5\u7684\u5efa\u7f6e\u7ba1\u7dda\u3002\u53ef\u9ede\u9078 Console Output \u67e5\u770b\u8a73\u7d30\u57f7\u884c\u65e5\u8a8c\u3002</li> </ol>"},{"location":"level102/continuous_integration_and_continuous_delivery/jenkins_cicd_pipeline_hands_on_lab/#_1","title":"\u5728\u5efa\u7f6e\u7ba1\u7dda\u4e2d\u52a0\u5165\u984d\u5916\u968e\u6bb5\uff1a","text":"<p>\u524d\u4e00\u7bc0\u5efa\u7acb\u7684\u7ba1\u7dda\u53ea\u6709\u55ae\u4e00\u968e\u6bb5\uff0c\u4e00\u822c CI \u7ba1\u7dda\u6703\u5305\u542b\u591a\u500b\u968e\u6bb5\u5982\u5efa\u7f6e\u3001\u6e2c\u8a66\u8207\u5176\u4ed6\u9078\u7528\u968e\u6bb5\uff08\u5982\u7a0b\u5f0f\u78bc\u6383\u63cf\u7b49\uff09\u3002\u672c\u7bc0\u5c07\u5728\u5efa\u7f6e\u7ba1\u7dda\u4e2d\u52a0\u5165\u6e2c\u8a66\u968e\u6bb5\u4e26\u57f7\u884c\u3002</p> <ol> <li>\u56de\u5230\u6587\u672c\u7de8\u8f2f\u5668/IDE \u958b\u555f Jenkinsfile\uff0c\u65b0\u589e\u5982\u4e0b\u7684 Test \u968e\u6bb5\uff1a</li> </ol> <pre><code>stage('Test') {\n            steps {\n                sh 'mvn test'\n            }\n            post {\n                always {\n                    junit 'target/surefire-reports/*.xml'\n                }\n            }\n        }\n</code></pre> <p>\u65b0\u589e Test \u968e\u6bb5\u5f8c\u7684 Jenkinsfile \u7bc4\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>pipeline {\n    agent {\n        docker {\n            image 'maven:3.8.1-adoptopenjdk-11' \n            args '-v /root/.m2:/root/.m2' \n        }\n    }\n    stages {\n        stage('Build') { \n            steps {\n                sh 'mvn -B -DskipTests clean package' \n            }\n        }\n        stage('Test') {\n            steps {\n                sh 'mvn test'\n            }\n            post {\n                always {\n                    junit 'target/surefire-reports/*.xml'\n                }\n            }\n        }\n    }\n}\n</code></pre> <ul> <li>\u6b64\u8655\u65b0\u589e\u4e86\u540d\u70ba \u2018Test\u2019 \u7684\u968e\u6bb5\uff0c\u57f7\u884c Maven \u6e2c\u8a66\u6307\u4ee4\u3002</li> <li>post -&gt; always \u5340\u6bb5\u4fdd\u8b49\u8a72\u6b65\u9a5f\u5728\u57f7\u884c\u5b8c\u524d\u9762\u7684\u6307\u4ee4\u5f8c\u4e00\u5b9a\u6703\u88ab\u57f7\u884c\uff0c\u5176\u5c07\u6e2c\u8a66\u5831\u544a\u900f\u904e Jenkins \u4ecb\u9762\u63d0\u4f9b\u3002</li> </ul> <p>\u6ce8\u610f\uff1a \u82e5\u4f60\u5728\u672c\u6a5f\u76f4\u63a5\u57f7\u884c Jenkins\uff08\u975e Docker\uff09\uff0c\u8acb\u5c07 agent \u6539\u70ba any\uff0c\u78ba\u4fdd\u672c\u6a5f\u5df2\u5b89\u88dd maven\u3002</p> <pre><code>pipeline {\n    agent any\n\n    stages {\u2026\n\n    }\n}\n</code></pre> <ol> <li>\u5132\u5b58 Jenkinsfile\uff0c\u63d0\u4ea4\u4e26\u63a8\u9001\u81f3 fork \u5009\u5eab\uff0c\u5728\u547d\u4ee4\u63d0\u793a\u5b57\u5143\u57f7\u884c\uff1a</li> </ol> <pre><code>cd &lt;\u4f60\u7684 simple-java-maven-app \u672c\u6a5f clone \u76ee\u9304&gt;\ngit add .\ngit commit -m \"Test stage is added to Jenkinsfile\"\ngit push origin master\n</code></pre> <ol> <li>\u700f\u89bd\u5668\u4e2d\u524d\u5f80 Jenkins \u5165\u53e3\u7db2\u7ad9\u9ede\u9078 Dashboard\uff0c\u958b\u555f simple-java-pipeline\uff0c\u5de6\u5074\u9078\u55ae\u6309\u4e0b\u300c\u7acb\u5373\u5efa\u7f6e\u300d\u3002</li> <li>\u53ef\u5728\u5efa\u7f6e\u9801\u9762\u4e2d\u770b\u5230\u5efa\u7f6e\u8207\u6e2c\u8a66\u5169\u968e\u6bb5\u7686\u88ab\u57f7\u884c\u3002</li> </ol> <p></p> <p>\u5716 9\uff1aJenkins - \u5efa\u7f6e\u4e2d\u986f\u793a\u542b\u6e2c\u8a66\u968e\u6bb5</p> <p>\u6211\u5011\u73fe\u5df2\u6210\u529f\u5efa\u7acb\u5305\u542b\u5169\u500b\u968e\u6bb5\u2014\u2014\u5efa\u7f6e\u8207\u6e2c\u8a66\u7684 CI \u7ba1\u7dda\u3002</p>"},{"location":"level102/linux_intermediate/archiving_backup/","title":"\u6b78\u6a94\u8207\u5099\u4efd","text":""},{"location":"level102/linux_intermediate/archiving_backup/#_2","title":"\u4ecb\u7d39","text":"<p>SRE\uff08\u7db2\u7ad9\u53ef\u9760\u6027\u5de5\u7a0b\u5e2b\uff09\u78ba\u4fdd\u670d\u52d9\u6301\u7e8c\u904b\u4f5c\uff08\u81f3\u5c11 99.99% \u7684\u6642\u9593\uff09\uff0c\u4f46\u5728\u6bcf\u500b\u57f7\u884c\u9019\u4e9b\u670d\u52d9\u7684\u4f3a\u670d\u5668\u4e0a\u7522\u751f\u7684\u8cc7\u6599\u91cf\u9f90\u5927\u3002\u9019\u4e9b\u8cc7\u6599\u53ef\u80fd\u662f\u65e5\u8a8c\u3001\u8cc7\u6599\u5eab\u4e2d\u7684\u4f7f\u7528\u8005\u8cc7\u6599\uff0c\u6216\u5176\u4ed6\u985e\u578b\u7684\u5143\u8cc7\u6599\u3002\u56e0\u6b64\uff0c\u6211\u5011\u9700\u8981\u53ca\u6642\u58d3\u7e2e\u3001\u6b78\u6a94\u3001\u8f2a\u66ff\u53ca\u5099\u4efd\u8cc7\u6599\uff0c\u4ee5\u4fdd\u969c\u8cc7\u6599\u5b89\u5168\u4e26\u78ba\u4fdd\u7a7a\u9593\u4e0d\u6703\u8017\u76e1\u3002</p>"},{"location":"level102/linux_intermediate/archiving_backup/#_3","title":"\u6b78\u6a94","text":"<p>\u6211\u5011\u901a\u5e38\u6703\u5c07\u4e0d\u518d\u9700\u8981\u4f46\u4e3b\u8981\u70ba\u4e86\u5408\u898f\u76ee\u7684\u800c\u4fdd\u7559\u7684\u8cc7\u6599\u9032\u884c\u6b78\u6a94\u3002\u9019\u5e6b\u52a9\u6211\u5011\u5c07\u8cc7\u6599\u5132\u5b58\u70ba\u58d3\u7e2e\u683c\u5f0f\uff0c\u7bc0\u7701\u5927\u91cf\u7a7a\u9593\u3002\u4ee5\u4e0b\u7ae0\u7bc0\u5c07\u4ecb\u7d39\u6b78\u6a94\u5de5\u5177\u548c\u6307\u4ee4\u3002</p>"},{"location":"level102/linux_intermediate/archiving_backup/#gzip","title":"gzip","text":"<p>gzip \u662f\u4e00\u500b\u7528\u65bc\u58d3\u7e2e\u4e00\u500b\u6216\u591a\u500b\u6a94\u6848\u7684\u7a0b\u5f0f\uff0c\u5b83\u6703\u4ee5\u58d3\u7e2e\u7248\u672c\u53d6\u4ee3\u539f\u59cb\u6a94\u6848\u3002</p> <p></p> <p>\u6211\u5011\u53ef\u4ee5\u770b\u5230\uff0cmessages \u65e5\u8a8c\u6a94\u6848\u88ab\u58d3\u7e2e\u5230\u539f\u59cb\u5927\u5c0f\u7684\u7d04\u4e94\u5206\u4e4b\u4e00\uff0c\u4e26\u4ee5 messages.gz \u53d6\u4ee3\u3002\u6211\u5011\u53ef\u4ee5\u4f7f\u7528 gunzip \u6307\u4ee4\u5c07\u6b64\u6a94\u6848\u89e3\u58d3\u7e2e\u3002</p>"},{"location":"level102/linux_intermediate/archiving_backup/#tar","title":"tar","text":"<p>tar \u7a0b\u5f0f\u662f\u4e00\u500b\u5c07\u6a94\u6848\u548c\u8cc7\u6599\u593e\u6253\u5305\u6210\u55ae\u4e00\u6a94\u6848\uff08\u901a\u5e38\u7a31\u70ba tarball\uff09\u7684\u5de5\u5177\u3002\u9019\u500b\u5de5\u5177\u901a\u5e38\u7528\u65bc\u5728\u50b3\u9001\u8cc7\u6599\u5230\u9577\u671f\u5099\u4efd\u4f3a\u670d\u5668\u4e4b\u524d\u6e96\u5099\u6a94\u6848\u7684\u6b78\u6a94\u3002tar \u4e0d\u6703\u53d6\u4ee3\u5df2\u5b58\u5728\u7684\u6a94\u6848\u548c\u8cc7\u6599\u593e\uff0c\u800c\u6703\u5efa\u7acb\u4e00\u500b\u65b0\u7684\u526f\u6a94\u540d\u70ba .tar \u7684\u6a94\u6848\u3002\u5b83\u63d0\u4f9b\u8a31\u591a\u9078\u9805\u4f9b\u6b78\u6a94\u6642\u4f7f\u7528\u3002</p> \u9078\u9805 \u8aaa\u660e -c \u5efa\u7acb\u6b78\u6a94\u6a94\u6848 -x \u89e3\u958b\u6b78\u6a94\u6a94\u6848 -f \u6307\u5b9a\u6b78\u6a94\u6a94\u6848\u540d\u7a31 -t \u986f\u793a\u6216\u5217\u51fa\u6b78\u6a94\u4e4b\u4e2d\u7684\u6a94\u6848 -u \u66f4\u65b0\u4e26\u52a0\u5165\u5df2\u6709\u7684\u6b78\u6a94\u6a94\u6848 -v \u986f\u793a\u8a73\u7d30\u8cc7\u8a0a -A \u5408\u4f75\u591a\u500b\u6b78\u6a94\u6a94\u6848 -z \u4ee5 gzip \u58d3\u7e2e tar \u6a94\u6848 -j \u4ee5 bzip2 \u58d3\u7e2e tar \u6a94\u6848 -W \u9a57\u8b49\u6b78\u6a94\u6a94\u6848 -r \u66f4\u65b0\u6216\u65b0\u589e\u6a94\u6848/\u8cc7\u6599\u593e\u81f3\u5df2\u5b58\u5728\u7684 .tar \u6a94\u6848"},{"location":"level102/linux_intermediate/archiving_backup/#_4","title":"\u5efa\u7acb\u5305\u542b\u591a\u500b\u6a94\u6848\u8207\u8cc7\u6599\u593e\u7684\u6b78\u6a94","text":"<p>\u4f7f\u7528 <code>c</code> \u9078\u9805\u5efa\u7acb\u6b78\u6a94\uff0c<code>f</code> \u7528\u65bc\u6307\u5b9a\u6a94\u6848\u540d\u7a31\u3002</p> <p></p>"},{"location":"level102/linux_intermediate/archiving_backup/#_5","title":"\u5217\u51fa\u6b78\u6a94\u5167\u7684\u6a94\u6848","text":"<p>\u53ef\u4ee5\u4f7f\u7528 <code>t</code> \u9078\u9805\u5217\u51fa\u6b78\u6a94\u5167\u5305\u542b\u7684\u5167\u5bb9\u3002</p> <p></p>"},{"location":"level102/linux_intermediate/archiving_backup/#_6","title":"\u5f9e\u6b78\u6a94\u4e2d\u89e3\u58d3\u6a94\u6848","text":"<p>\u4f7f\u7528 <code>x</code> \u9078\u9805\u89e3\u58d3\u6b78\u6a94\u3002</p> <p></p>"},{"location":"level102/linux_intermediate/archiving_backup/#_7","title":"\u5099\u4efd","text":"<p>\u5099\u4efd\u662f\u8907\u88fd/\u8907\u88fd\u73fe\u6709\u8cc7\u6599\u7684\u904e\u7a0b\uff0c\u5728\u8cc7\u6599\u907a\u5931\u6642\u53ef\u4ee5\u7528\u4f86\u9084\u539f\u8cc7\u6599\u96c6\u3002\u7576\u8cc7\u6599\u5728\u65e5\u5e38\u5de5\u4f5c\u4e2d\u4e0d\u5e38\u7528\uff0c\u4f46\u5728\u672a\u4f86\u53ef\u80fd\u4f5c\u70ba\u771f\u5be6\u8cc7\u6599\u4f86\u6e90\u53ca\u5408\u898f\u4f9d\u64da\u6642\uff0c\u5099\u4efd\u5c31\u986f\u5f97\u975e\u5e38\u91cd\u8981\u3002\u4e0d\u540c\u985e\u578b\u7684\u5099\u4efd\u5305\u62ec\uff1a</p>"},{"location":"level102/linux_intermediate/archiving_backup/#_8","title":"\u589e\u91cf\u5099\u4efd","text":"<p>\u589e\u91cf\u5099\u4efd\u662f\u81ea\u4e0a\u6b21\u5099\u4efd\u4e4b\u5f8c\u7684\u65b0\u8cc7\u6599\u5099\u4efd\uff0c\u53ef\u4ee5\u6e1b\u5c11\u8cc7\u6599\u5197\u9918\uff0c\u4e26\u63d0\u9ad8\u5132\u5b58\u6548\u7387\u3002</p>"},{"location":"level102/linux_intermediate/archiving_backup/#_9","title":"\u5dee\u7570\u5099\u4efd","text":"<p>\u7576\u8cc7\u6599\u6301\u7e8c\u4fee\u6539\u6216\u66f4\u65b0\u6642\uff0c\u5dee\u7570\u5099\u4efd\u6703\u5099\u4efd\u81ea\u4e0a\u6b21\u5099\u4efd\u5f8c\u767c\u751f\u7684\u8b8a\u66f4\u3002</p>"},{"location":"level102/linux_intermediate/archiving_backup/#_10","title":"\u7db2\u8def\u5099\u4efd","text":"<p>\u7db2\u8def\u5099\u4efd\u6307\u7684\u662f\u4ee5\u5ba2\u6236\u7aef-\u4f3a\u670d\u5668\u67b6\u69cb\uff0c\u5c07\u8cc7\u6599\u5f9e\u4f86\u6e90\u900f\u904e\u7db2\u8def\u50b3\u9001\u81f3\u5099\u4efd\u76ee\u7684\u5730\u3002\u5099\u4efd\u76ee\u7684\u5730\u53ef\u4ee5\u662f\u96c6\u4e2d\u5f0f\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u5206\u6563\u5f0f\u7684\uff0c\u5f8c\u8005\u9069\u5408\u707d\u96e3\u5fa9\u539f\u7684\u60c5\u5883\u3002</p> <p><code>rsync</code> \u662f Linux \u4e2d\u4e00\u500b\u53ef\u5c07\u6a94\u6848\u5f9e\u4e00\u53f0\u4f3a\u670d\u5668\u540c\u6b65\u81f3\u53e6\u4e00\u53f0\u76ee\u7684\u5730\u4f3a\u670d\u5668\u7684\u6307\u4ee4\u3002</p> <p></p> <p>rsync \u7684\u8a9e\u6cd5\u683c\u5f0f\u70ba <code>rsync \\[options\\] &lt;source&gt; &lt;destination&gt;</code>\u3002\u5728\u300cdestination\u300d\u4e2d\uff0c\u53ef\u65bc\u5192\u865f <code>:</code> \u5f8c\u6307\u5b9a\u6a94\u6848\u8def\u5f91\uff1b\u82e5\u672a\u6307\u5b9a\uff0c\u9810\u8a2d\u8def\u5f91\u662f\u7528\u65bc\u5099\u4efd\u7684\u4f7f\u7528\u8005\u4e3b\u76ee\u9304\uff0c\u4f8b\u5982\u6b64\u6848\u4f8b\u4e2d\u7684 <code>/home/azureuser</code>\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>man rsync</code> \u6307\u4ee4\u67e5\u95b1\u66f4\u591a rsync \u9078\u9805\u3002</p>"},{"location":"level102/linux_intermediate/archiving_backup/#_11","title":"\u96f2\u7aef\u5099\u4efd","text":"<p>\u6709\u8a31\u591a\u7b2c\u4e09\u65b9\u63d0\u4f9b\u5c07\u8cc7\u6599\u5099\u4efd\u81f3\u96f2\u7aef\u7684\u670d\u52d9\u3002\u9019\u4e9b\u96f2\u7aef\u5099\u4efd\u6bd4\u5132\u5b58\u5728\u672c\u5730\u6a5f\u5668\u6216\u672a\u914d\u7f6e RAID \u7684\u666e\u901a\u4f3a\u670d\u5668\u5099\u4efd\u66f4\u70ba\u53ef\u9760\uff0c\u56e0\u70ba\u9019\u4e9b\u670d\u52d9\u63d0\u4f9b\u8cc7\u6599\u5197\u9918\u3001\u8cc7\u6599\u5fa9\u539f\u53ca\u8cc7\u6599\u5b89\u5168\u7ba1\u7406\u3002\u76ee\u524d\u5169\u500b\u6700\u5ee3\u6cdb\u4f7f\u7528\u7684\u96f2\u7aef\u5099\u4efd\u65b9\u6848\u662f Azure \u5099\u4efd\uff08\u7531\u5fae\u8edf\u63d0\u4f9b\uff09\u548c Amazon Glacier \u5099\u4efd\uff08\u7531 AWS \u63d0\u4f9b\uff09\u3002</p>"},{"location":"level102/linux_intermediate/bashscripting/","title":"Bash \u8173\u672c\u64b0\u5beb","text":""},{"location":"level102/linux_intermediate/bashscripting/#_1","title":"\u4ecb\u7d39","text":"<p>\u4f5c\u70ba SRE\uff0cLinux \u7cfb\u7d71\u662f\u6211\u5011\u65e5\u5e38\u5de5\u4f5c\u6838\u5fc3\uff0c\u800c bash \u8173\u672c\u4e5f\u662f\u5982\u6b64\u3002\u9019\u662f\u4e00\u7a2e\u7531 Linux Bash \u76f4\u8b6f\u5668\u57f7\u884c\u7684\u8173\u672c\u8a9e\u8a00\u3002\u5230\u76ee\u524d\u70ba\u6b62\uff0c\u6211\u5011\u5df2\u7d93\u8986\u84cb\u4e86\u8a31\u591a\u4e3b\u8981\u5728\u547d\u4ee4\u5217\u4e0a\u7684\u529f\u80fd\uff0c\u73fe\u5728\u6211\u5011\u5c07\u4f7f\u7528\u9019\u500b\u547d\u4ee4\u5217\u4f5c\u70ba\u76f4\u8b6f\u5668\u4f86\u64b0\u5beb\u7a0b\u5f0f\uff0c\u8b93\u6211\u5011\u7684\u65e5\u5e38\u5de5\u4f5c\u4f5c\u70ba SRE \u66f4\u52a0\u8f15\u9b06\u3002</p>"},{"location":"level102/linux_intermediate/bashscripting/#bash_1","title":"\u64b0\u5beb\u7b2c\u4e00\u500b bash \u8173\u672c\uff1a","text":"<p>\u6211\u5011\u5f9e\u4e00\u500b\u7c21\u55ae\u7684\u7a0b\u5f0f\u958b\u59cb\uff0c\u6574\u500b\u904e\u7a0b\u4e2d\u6703\u4f7f\u7528 Vim \u7de8\u8f2f\u5668\u3002</p> <pre><code>#!/bin/bash\n\n# \u9019\u662f\u6211\u7684\u7b2c\u4e00\u500b bash \u8173\u672c\n# \u4ee5 # \u958b\u982d\u7684\u884c\u662f\u8a3b\u89e3\n\necho \"Hello world!\"\n</code></pre> <p>\u8173\u672c\u7b2c\u4e00\u884c\u4ee5 \u201c#!\u201d \u958b\u982d\uff0c\u7a31\u70ba she-bang\u3002\u5b83\u544a\u8a34\u7cfb\u7d71\u57f7\u884c\u8173\u672c\u6642\u8a72\u4f7f\u7528\u54ea\u500b\u76f4\u8b6f\u5668\u3002</p> <p>\u9664\u4e86 #! \u5916\uff0c\u6240\u6709\u4ee5\u300c#\u300d\u958b\u982d\u7684\u884c\u90fd\u662f\u8a3b\u89e3\uff0c\u57f7\u884c\u6642\u6703\u88ab\u76f4\u8b6f\u5668\u5ffd\u7565\u3002\u7b2c 6 \u884c\u5c55\u793a\u4e86\u6211\u5011\u5c07\u57f7\u884c\u7684\u300cecho\u300d\u547d\u4ee4\u3002</p> <p>\u6211\u5011\u5c07\u6b64\u8173\u672c\u4fdd\u5b58\u70ba \u201cfirstscript.sh\u201d\uff0c\u4e26\u4f7f\u7528 <code>chmod</code> \u5c07\u8173\u672c\u8a2d\u70ba\u53ef\u57f7\u884c\u3002</p> <p></p> <p>\u63a5\u4e0b\u4f86\u4f7f\u7528\u660e\u78ba\u8def\u5f91\u57f7\u884c\u8173\u672c\uff0c\u53ef\u4ee5\u770b\u5230\u671f\u671b\u7684\u300cHello World!\u300d\u8f38\u51fa\u3002</p>"},{"location":"level102/linux_intermediate/bashscripting/#_2","title":"\u63a5\u53d7\u4f7f\u7528\u8005\u8f38\u5165\u8207\u8b8a\u6578\u64cd\u4f5c\uff1a","text":"<p>\u4f7f\u7528 <code>read</code> \u547d\u4ee4\u63a5\u53d7\u6a19\u6e96\u8f38\u5165\uff0c\u4e26\u4f7f\u7528 bash \u7684\u8b8a\u6578\u3002</p> <pre><code>#!/bin/bash\n\n# \u6211\u5011\u6703\u63a5\u53d7\u6a19\u6e96\u8f38\u5165\n# \u5c07\u5217\u51fa\u8a72\u8def\u5f91\u4e0b\u7684\u6240\u6709\u6a94\u6848\n# \u5c07\u8b8a\u6578\u8207\u5b57\u4e32\u4e32\u63a5\n\necho \"\u8acb\u8f38\u5165\u8def\u5f91\"\nread path\n\necho \"\u8acb\u8f38\u5165\u8981\u905e\u8ff4\u7684\u76ee\u9304\u6df1\u5ea6:\"\nread depth\n\necho \"\u8def\u5f91\u4e0b\u7684\u6240\u6709\u6a94\u6848 \" $path\n\ndu -d $depth -all -h $path\n</code></pre> <p>\u6211\u5011\u5c07\u8def\u5f91\u8b80\u5165\u8b8a\u6578\u300cpath\u300d\uff0c\u6df1\u5ea6\u8b80\u5165\u300cdepth\u300d\uff0c\u7528\u4f86\u5217\u51fa\u8a72\u8def\u5f91\u4e0b\u5230\u8a72\u6df1\u5ea6\u7684\u6a94\u6848\u548c\u76ee\u9304\u3002\u5b57\u4e32\u8207\u8b8a\u6578\u5df2\u4e32\u63a5\uff0c\u4f7f\u7528 <code>$</code>\uff08\u7f8e\u5143\u7b26\u865f\uff09\u4f86\u5f15\u7528\u8b8a\u6578\u7684\u503c\u3002</p> <p></p> <p>\u6211\u5011\u5c07\u9019\u4e9b\u8b8a\u6578\u50b3\u7d66 <code>du</code> \u547d\u4ee4\uff0c\u5217\u51fa\u8a72\u8def\u5f91\u4e0b\u5230\u6307\u5b9a\u6df1\u5ea6\u7684\u6240\u6709\u6a94\u6848\u8207\u76ee\u9304\u3002</p>"},{"location":"level102/linux_intermediate/bashscripting/#exit-status","title":"\u9000\u51fa\u72c0\u614b\uff08Exit status\uff09\uff1a","text":"<p>\u6bcf\u500b\u547d\u4ee4\u6216\u8173\u672c\u57f7\u884c\u5b8c\u7562\u5f8c\uff0c\u6703\u56de\u50b3\u4e00\u500b\u4ecb\u65bc 0 \u5230 255 \u4e4b\u9593\u7684\u6574\u6578\uff0c\u9019\u7a31\u70ba\u9000\u51fa\u72c0\u614b\u3002\u503c\u300c0\u300d\u8868\u793a\u547d\u4ee4\u57f7\u884c\u6210\u529f\uff0c\u975e\u96f6\u503c\u901a\u5e38\u8868\u793a\u5404\u7a2e\u932f\u8aa4\u3002</p> <p></p> <p>\u6211\u5011\u4f7f\u7528\u7279\u6b8a shell \u8b8a\u6578 <code>$?</code> \u53d6\u5f97\u4e0a\u4e00\u500b\u57f7\u884c\u6307\u4ee4\u6216\u8173\u672c\u7684\u9000\u51fa\u72c0\u614b\u3002</p>"},{"location":"level102/linux_intermediate/bashscripting/#if-else","title":"\u547d\u4ee4\u5217\u53c3\u6578\u8207 if \u2026 else \u5206\u652f\u5224\u65b7\uff1a","text":"<p>\u50b3\u905e\u503c\u7d66\u8173\u672c\u7684\u53e6\u4e00\u7a2e\u65b9\u5f0f\u662f\u900f\u904e\u547d\u4ee4\u5217\u53c3\u6578\u3002Bash \u547d\u4ee4\u5217\u53c3\u6578\u901a\u5e38\u4ee5 <code>$</code> \u5f8c\u63a5\u7d22\u5f15\u5b58\u53d6\uff0c\u7b2c 0 \u500b <code>$0</code> \u6307\u672c\u8eab\u6a94\u6848\uff0c<code>$1</code> \u662f\u7b2c\u4e00\u500b\u53c3\u6578\uff0c\u4f9d\u6b64\u985e\u63a8\u3002<code>$#</code> \u7528\u4f86\u6aa2\u67e5\u50b3\u5165\u53c3\u6578\u7684\u500b\u6578\u3002</p> <p>\u7a0b\u5f0f\u4e2d\u505a\u51fa\u5224\u65b7\u662f\u57fa\u672c\u529f\u80fd\uff0c\u70ba\u4e86\u8655\u7406\u4e0d\u540c\u689d\u4ef6\uff0c\u6211\u5011\u4f7f\u7528 if \u2026 else \u8a9e\u53e5\uff0c\u6216\u5176\u5de2\u72c0\u8b8a\u5f62\u3002</p> <p>\u4ee5\u4e0b\u8173\u672c\u7d50\u5408\u4e86\u591a\u500b\u6982\u5ff5\uff0c\u76ee\u7684\u5728\u53d6\u5f97\u6a94\u6848\u5c6c\u6027\u3002</p> <p>\u7b2c 4 \u5230 7 \u884c\u662f bash \u4e2d if \u5224\u65b7\u7684\u6a19\u6e96\u7bc4\u4f8b\u3002\u8a9e\u6cd5\u8aaa\u660e\u5982\u4e0b\uff1a</p> <pre><code>If [ \u689d\u4ef6 ]; then\n\n    \u8981\u57f7\u884c\u7684 if \u4ee3\u78bc\u5340\u584a\n\nelse\n\n    \u8981\u57f7\u884c\u7684 else \u4ee3\u78bc\u5340\u584a\n\nfi\n</code></pre> <p>fi \u7528\u4f86\u7d50\u675f if \u2026 else \u5340\u584a\u3002\u6211\u5011\u6bd4\u8f03\u53c3\u6578\u6578\u91cf ($#) \u662f\u5426\u7b49\u65bc 1\uff0c\u82e5\u4e0d\u7b49\u6703\u63d0\u793a\u53ea\u80fd\u50b3\u5165\u4e00\u500b\u53c3\u6578\u4e26\u4ee5\u72c0\u614b\u78bc 1 \uff08\u975e\u6210\u529f\uff09\u7d50\u675f\u3002\u53ef\u4ee5\u6709\u4e00\u500b\u6216\u591a\u500b if \u5224\u65b7\u6c92\u6709 else\uff0c\u4f46\u53cd\u904e\u4f86\u4e0d\u5408\u7406\u3002</p> <p>\u904b\u7b97\u5b50 -ne \u662f\u6574\u6578\u4e0d\u7b49\u65bc\u7684\u5224\u65b7\uff0c\u610f\u70ba\u300c\u6574\u65781 \u4e0d\u7b49\u65bc \u6574\u65782\u300d\u3002\u5176\u4ed6\u6bd4\u8f03\u904b\u7b97\u5b50\u5982\u4e0b\uff1a</p> \u904b\u7b97 \u8aaa\u660e num1 -eq num2 \u6aa2\u67e5\u7b2c\u4e00\u500b\u6578\u5b57\u662f\u5426\u7b49\u65bc\u7b2c\u4e8c\u500b\u6578\u5b57 num1 -ge num2 \u6aa2\u67e5\u7b2c\u4e00\u500b\u6578\u5b57\u662f\u5426\u5927\u65bc\u6216\u7b49\u65bc\u7b2c\u4e8c\u500b\u6578\u5b57 num1 -gt num2 \u6aa2\u67e5\u7b2c\u4e00\u500b\u6578\u5b57\u662f\u5426\u5927\u65bc\u7b2c\u4e8c\u500b\u6578\u5b57 num1 -le num2 \u6aa2\u67e5\u7b2c\u4e00\u500b\u6578\u5b57\u662f\u5426\u5c0f\u65bc\u6216\u7b49\u65bc\u7b2c\u4e8c\u500b\u6578\u5b57 num1 -lt num2 \u6aa2\u67e5\u7b2c\u4e00\u500b\u6578\u5b57\u662f\u5426\u5c0f\u65bc\u7b2c\u4e8c\u500b\u6578\u5b57 <pre><code>#!/bin/bash\n# \u6b64\u8173\u672c\u8a55\u4f30\u6a94\u6848\u72c0\u614b\n\nif [ $# -ne 1 ]; then\n    echo \"\u8acb\u50b3\u5165\u4e00\u500b\u6a94\u6848\u540d\u7a31\u4f5c\u70ba\u53c3\u6578\"\n    exit 1\nfi\n\nFILE=$1\nif [ -e \"$FILE\" ]; then\n    if [ -f \"$FILE\" ]; then\n        echo \"$FILE \u662f\u4e00\u822c\u6a94\u6848\u3002\"\n    fi\n    if [ -d \"$FILE\" ]; then\n        echo \"$FILE \u662f\u76ee\u9304\u3002\"\n    fi\n    if [ -r \"$FILE\" ]; then\n        echo \"$FILE \u53ef\u8b80\u3002\"\n    fi\n    if [ -w \"$FILE\" ]; then\n        echo \"$FILE \u53ef\u5beb\u3002\"\n    fi\n    if [ -x \"$FILE\" ]; then\n        echo \"$FILE \u53ef\u57f7\u884c/\u53ef\u641c\u5c0b\u3002\"\n    fi\nelse\n    echo \"$FILE \u4e0d\u5b58\u5728\"\n    exit 2\nfi\n\nexit 0\n</code></pre> <p>\u6709\u8a31\u591a\u6a94\u6848\u6e2c\u8a66\u8868\u9054\u5f0f\u7528\u4f86\u5224\u65b7\u6a94\u6848\u72c0\u614b\uff0c\u4f8b\u5982 bash \u4e2d\u7684 \u201c-e\u201d \u5728\u7b2c 10 \u884c\u5224\u65b7\u50b3\u5165\u53c3\u6578\u7684\u6a94\u6848\u662f\u5426\u5b58\u5728\uff0c\u5b58\u5728\u70ba\u771f\uff0c\u5426\u5247\u5047\u3002\u4ee5\u4e0b\u662f\u5e38\u7528\u7684\u6a94\u6848\u6e2c\u8a66\u8868\u9054\u5f0f\uff1a</p> \u6a94\u6848\u64cd\u4f5c \u8aaa\u660e -e file \u6a94\u6848\u5b58\u5728 -d file \u6a94\u6848\u5b58\u5728\u4e14\u662f\u76ee\u9304 -f file \u6a94\u6848\u5b58\u5728\u4e14\u662f\u4e00\u822c\u6a94\u6848 -L file \u6a94\u6848\u5b58\u5728\u4e14\u662f\u7b26\u865f\u9023\u7d50 -r file \u6a94\u6848\u5b58\u5728\u4e14\u5177\u6709\u8b80\u53d6\u6b0a\u9650 -w file \u6a94\u6848\u5b58\u5728\u4e14\u5177\u6709\u5beb\u5165\u6b0a\u9650 -x file \u6a94\u6848\u5b58\u5728\u4e14\u5177\u6709\u57f7\u884c\u6b0a\u9650 -s file \u6a94\u6848\u5b58\u5728\u4e14\u5927\u5c0f\u5927\u65bc\u96f6 -S file \u6a94\u6848\u5b58\u5728\u4e14\u70ba\u7db2\u8def socket\u3002 <p></p> <p>\u7576\u6a94\u6848\u627e\u4e0d\u5230\u6642\uff0c\u9000\u51fa\u72c0\u614b\u70ba 2\u3002\u82e5\u6a94\u6848\u5b58\u5728\uff0c\u5247\u5217\u5370\u51fa\u5176\u5c6c\u6027\u4e26\u4ee5 0 \u6210\u529f\u72c0\u614b\u9000\u51fa\u3002</p>"},{"location":"level102/linux_intermediate/bashscripting/#_3","title":"\u8ff4\u5708\u4f86\u91cd\u8907\u57f7\u884c\u4efb\u52d9\uff1a","text":"<p>\u6211\u5011\u901a\u5e38\u6703\u9047\u5230\u91cd\u8907\u6027\u4efb\u52d9\uff0c\u4f7f\u7528\u8ff4\u5708\u53ef\u5c07\u91cd\u8907\u4efb\u52d9\u4ee5\u6709\u7d50\u69cb\u7684\u7a0b\u5f0f\u78bc\u5be6\u4f5c\u3002bash \u652f\u63f4\u591a\u7a2e\u8ff4\u5708\u8a9e\u53e5\uff1a</p> \u8ff4\u5708 \u8a9e\u6cd5 while while [ \u689d\u4ef6 ]do\u00a0\u00a0\u00a0\u00a0\u00a0[ while \u5340\u584a\u7a0b\u5f0f\u78bc ]done for for \u8b8a\u6578 in 1,2,3 .. ndo\u00a0\u00a0\u00a0\u00a0\u00a0[ for \u5340\u584a\u7a0b\u5f0f\u78bc ]done until until [ \u689d\u4ef6 ]\u00a0do\u00a0\u00a0\u00a0\u00a0\u00a0[ until \u5340\u584a\u7a0b\u5f0f\u78bc ]done <pre><code>#!/bin/bash\n# \u76e3\u63a7\u4f3a\u670d\u5668\u7684\u8173\u672c\n\nhosts=`cat host_list`\n\nwhile true\ndo\n    for i in $hosts\n    do\n        h=\"$i\"\n        ping -c 1 -q \"$h\" &amp;&gt;/dev/null\n        if [ $? -eq 0 ]\n        then\n            echo `date` \"\u4f3a\u670d\u5668 $h \u6b63\u5e38\"\n        else\n            echo `date` \"\u4f3a\u670d\u5668 $h \u5df2\u96e2\u7dda\"\n        fi\n    done\n    sleep 60\ndone\n</code></pre> <p>\u76e3\u63a7\u4f3a\u670d\u5668\u662f SRE \u7684\u91cd\u8981\u5de5\u4f5c\u3002\u6a94\u6848 \u201chost_list\u201d \u5305\u542b\u60f3\u76e3\u63a7\u4e3b\u6a5f\u6e05\u55ae\u3002</p> <p>\u6211\u5011\u4f7f\u7528\u7121\u9650\u7684 while \u8ff4\u5708\uff0c\u6bcf 60 \u79d2\u57f7\u884c\u4e00\u6b21\u3002\u5c0d host_list \u4e2d\u7684\u6bcf\u500b\u4e3b\u6a5f\uff0c\u6211\u5011 ping \u8a72\u4e3b\u6a5f\u4e26\u900f\u904e\u9000\u51fa\u72c0\u614b\u5224\u65b7 ping \u662f\u5426\u6210\u529f\uff0c\u6210\u529f\u5247\u8868\u793a\u4f3a\u670d\u5668\u5728\u7dda\uff0c\u5426\u5247\u662f\u96e2\u7dda\u3002</p> <p></p> <p>\u8173\u672c\u8f38\u51fa\u986f\u793a\u5b83\u6bcf\u5206\u9418\u57f7\u884c\u4e00\u6b21\uff0c\u4e26\u5217\u51fa\u76ee\u524d\u6642\u9593\u6233\u8a18\u3002</p>"},{"location":"level102/linux_intermediate/bashscripting/#function","title":"\u51fd\u5f0f\uff08Function\uff09","text":"<p>\u958b\u767c\u8005\u901a\u5e38\u8b93\u7a0b\u5f0f\u6a21\u7d44\u5316\uff0c\u4ee5\u514d\u6bcf\u6b21\u5728\u5404\u8655\u91cd\u8907\u64b0\u5beb\u76f8\u540c\u7a0b\u5f0f\u78bc\u3002\u51fd\u5f0f\u53ef\u9054\u6210\u6b64\u76ee\u7684\u3002</p> <p>\u51fd\u5f0f\u6703\u88ab\u547c\u53eb\u8207\u50b3\u5165\u53c3\u6578\uff0c\u4e26\u4f9d\u53c3\u6578\u7522\u751f\u7d50\u679c\u3002</p> <p>\u524d\u8ff0\u5099\u4efd\u904e\u7a0b\u53ef\u85c9\u4e0b\u9762\u8173\u672c\u81ea\u52d5\u5316\uff0c\u4e26\u5b78\u7fd2\u66f4\u9032\u968e\u7684\u5b57\u4e32\u6bd4\u8f03\u3001\u51fd\u5f0f\u53ca\u908f\u8f2f AND \u8207 OR \u904b\u7b97\u3002</p> <p>\u4ee5\u4e0b\u7a0b\u5f0f\u4e2d\u300clog_backup\u300d\u662f\u51fd\u5f0f\uff0c\u76f4\u5230\u88ab\u547c\u53eb\u524d\u4e0d\u6703\u57f7\u884c\u3002</p> <p>\u7b2c 37 \u884c\u70ba\u5148\u57f7\u884c\uff0c\u6aa2\u67e5\u50b3\u5165\u8173\u672c\u7684\u53c3\u6578\u6578\u76ee\u3002</p> <p>\u6709\u591a\u7a2e\u908f\u8f2f\u904b\u7b97\u5b50\u5982 AND\u3001OR\u3001XOR \u7b49\u3002</p> \u908f\u8f2f\u904b\u7b97\u7b26 \u7b26\u865f AND &amp;&amp; OR | NOT ! <p>\u82e5\u50b3\u932f\u53c3\u6578\u7d66\u8173\u672c\u300cbackup.sh\u300d\uff0c\u6703\u63d0\u793a\u6b63\u78ba\u7528\u6cd5\u3002\u6211\u5011\u9700\u544a\u77e5\u60f3\u505a\u7684\u662f\u589e\u91cf\u5099\u4efd\u6216\u5b8c\u6574\u5099\u4efd\uff0c\u4ee5\u53ca\u8981\u5099\u4efd\u7684\u76ee\u9304\u8def\u5f91\u3002\u589e\u91cf\u5099\u4efd\u6642\u6703\u591a\u50b3\u4e00\u500b meta \u6a94\u6848\u53c3\u6578\uff0c\u7528\u4f86\u5132\u5b58\u5148\u524d\u5df2\u5099\u4efd\u6a94\u6848\u7684\u8cc7\u8a0a\uff08\u901a\u5e38 meta \u6a94\u70ba .snar \u526f\u6a94\u540d\uff09\u3002</p> <pre><code>#!/bin/bash\n# \u589e\u91cf\u8207\u5b8c\u6574\u5099\u4efd\u8173\u672c\n\nbackup_dir=\"/mnt/backup/\"\ntime_stamp=\"`date +%d-%m-%Y-%Hh-%Mm-%Ss`\"\n\nlog_backup(){\n    if [ $# -lt 2 ]; then\n        echo \"\u7528\u6cd5: ./backup.sh [backup_type] [log_path]\"\n        exit 1;\n    fi\n    if [ $1 == \"incremental\" ]; then\n        if [ $# -ne 3 ]; then\n            echo \"\u7528\u6cd5: ./backup.sh [backup_type] [log_path] [meta_file]\"\n            exit 3;\n        fi\n        tar --create --listed-incremental=$3 --verbose --verbose --file=\"${backup_dir}incremental-${time_stamp}.tar\" $2\n        if [ $? -eq 0 ]; then\n            echo \"\u589e\u91cf\u5099\u4efd\u6210\u529f\u65bc '${backup_dir}incremental-${time_stamp}.tar'\"\n        else\n            echo \"\u589e\u91cf\u5099\u4efd\u5931\u6557\"\n        fi\n\n    elif [ $1 == \"full\" ];then\n        tar cf \"${backup_dir}fullbackup-${time_stamp}.tar\" $2\n        if [ $? -eq 0 ];then\n            echo \"\u5b8c\u6574\u5099\u4efd\u6210\u529f\u65bc '${backup_dir}fullbackup-${time_stamp}.tar'\"\n        else\n            echo \"\u5b8c\u6574\u5099\u4efd\u5931\u6557\"\n        fi\n    else\n        echo \"\u53c3\u6578\u932f\u8aa4\"\n        echo \"\u7528\u6cd5: ./backup.sh [incremental|full] [log_path]\"\n        exit 2;\n    fi\n}\n\nif [ $# -lt 2 ] || [ $# -gt 3 ];then\n    echo \"\u7528\u6cd5: ./backup.sh [incremental|full] [log_path]\"\n    exit 1\nelif [ $# -eq 2 ];then\n    log_backup $1 $2\nelif [ $# -eq 3 ];then\n    log_backup $1 $2 $3\nfi\nexit 0\n</code></pre> <p>\u50b3\u5165\u4e09\u500b\u53c3\u6578\u505a\u589e\u91cf\u5099\u4efd\uff0c\u6703\u5728\u300c/mnt/backup/\u300d\u8def\u5f91\u5efa\u7acb\u5099\u4efd\u6a94\uff0c\u6bcf\u500b\u6a94\u6848\u540d\u7a31\u5305\u542b\u6642\u9593\u6233\u8a18\u3002</p> <p></p> <p>\u5728\u51fd\u5f0f\u5167\u50b3\u5165\u7684\u53c3\u6578\u53ef\u7528 <code>$</code> \u52a0\u7d22\u5f15\u7684\u65b9\u5f0f\u5b58\u53d6\uff0c\u7b2c 0 \u500b\u4ee3\u8868\u51fd\u5f0f\u672c\u8eab\uff0c<code>$1</code> \u662f\u7b2c\u4e00\u500b\u53c3\u6578\uff0c\u4f9d\u6b64\u985e\u63a8\u3002<code>#$</code> \u7528\u4f86\u6aa2\u67e5\u50b3\u5165\u51fd\u5f0f\u7684\u53c3\u6578\u500b\u6578\u3002</p> <p>\u50b3\u5165\u5b57\u4e32\u300cincremental\u300d\u6216\u300cfull\u300d\u6703\u88ab\u51fd\u5f0f\u5167\u6bd4\u8f03\u4e26\u57f7\u884c\u5c0d\u61c9\u5340\u584a\u3002\u4ee5\u4e0b\u662f\u66f4\u591a\u53ef\u57f7\u884c\u5728\u5b57\u4e32\u4e0a\u7684\u64cd\u4f5c\uff1a</p> \u5b57\u4e32\u64cd\u4f5c \u8aaa\u660e string1 == string2 \u5982\u679c string1 \u7b49\u65bc string2 \u5247\u56de\u50b3\u771f\uff0c\u5426\u5247\u5047\u3002 string1 != string2 \u5982\u679c string1 \u4e0d\u7b49\u65bc string2 \u5247\u56de\u50b3\u771f\uff0c\u5426\u5247\u5047\u3002 string1 ~= regex \u5982\u679c string1 \u7b26\u5408\u5ef6\u4f38\u6b63\u898f\u8868\u9054\u5f0f\u5247\u56de\u50b3\u771f\u3002 -z string \u5982\u679c\u5b57\u4e32\u9577\u5ea6\u70ba\u96f6\u5247\u56de\u50b3\u771f\uff0c\u5426\u5247\u5047\u3002 -n string \u5982\u679c\u5b57\u4e32\u9577\u5ea6\u975e\u96f6\u5247\u56de\u50b3\u771f\uff0c\u5426\u5247\u5047\u3002"},{"location":"level102/linux_intermediate/conclusion/","title":"\u7d50\u8ad6","text":"<p>\u4e86\u89e3\u5957\u4ef6\u7ba1\u7406\u5c0d\u65bc SRE \u975e\u5e38\u91cd\u8981\uff0c\u6211\u5011\u7e3d\u662f\u5e0c\u671b\u64c1\u6709\u6b63\u78ba\u7684\u4e00\u7d44\u8edf\u9ad4\u53ca\u5176\u76f8\u5bb9\u7248\u672c\uff0c\u4ee5\u548c\u8ae7\u904b\u4f5c\uff0c\u63a8\u52d5\u5927\u578b\u57fa\u790e\u67b6\u69cb\u8207\u7d44\u7e54\u7684\u767c\u5c55\u3002</p> <p>\u6211\u5011\u4e5f\u770b\u5230\u5982\u4f55\u914d\u7f6e\u548c\u4f7f\u7528\u5132\u5b58\u88dd\u7f6e\uff0c\u4ee5\u53ca\u5982\u4f55\u5229\u7528 RAID \u4f86\u9054\u6210\u8cc7\u6599\u7684\u5197\u9918\uff0c\u907f\u514d\u8cc7\u6599\u907a\u5931\uff0c\u4e86\u89e3\u8cc7\u6599\u5982\u4f55\u5206\u5e03\u65bc\u78c1\u789f\u4e0a\u4ee5\u53ca\u6a94\u6848\u7cfb\u7d71\u7684\u4f7f\u7528\u3002</p> <p>\u5099\u4efd\u8207\u6b78\u6a94\u4e5f\u662f\u6210\u70ba SRE \u7684\u95dc\u9375\u90e8\u5206\uff0c\u4fdd\u8b77\u8cc7\u6599\u5b89\u5168\u4e14\u66f4\u6709\u6548\u7387\u662f\u6211\u5011\u7684\u8cac\u4efb\u3002</p> <p>Bash \u975e\u5e38\u6709\u7528\uff0c\u80fd\u81ea\u52d5\u5316 SRE \u65e5\u5e38\u5de5\u4f5c\u4e2d\u7684\u7463\u4e8b\u3002\u4e0a\u8ff0\u7684 bash \u8aaa\u660e\u8b93\u6211\u5011\u6709\u4e86\u5165\u9580\u7684\u6982\u5ff5\uff0c\u4f46\u50c5\u50c5\u95b1\u8b80\u662f\u4e0d\u5920\u7684\u3002\u6211\u76f8\u4fe1\u300c\u4ed8\u8af8\u884c\u52d5\u4e26\u5be6\u969b\u7df4\u7fd2\u300d\u6703\u8b93\u60a8\u66f4\u6709\u4fe1\u5fc3\uff0c\u4e26\u5e6b\u52a9\u60a8\u6210\u70ba\u66f4\u512a\u79c0\u7684 SRE\u3002</p>"},{"location":"level102/linux_intermediate/introduction/","title":"Linux-\u4e2d\u968e","text":""},{"location":"level102/linux_intermediate/introduction/#_1","title":"\u5148\u6c7a\u689d\u4ef6","text":"<ul> <li>\u9810\u8a08\u5df2\u5b8c\u6210 School Of SRE Linux \u57fa\u790e \u8ab2\u7a0b\u3002</li> </ul>"},{"location":"level102/linux_intermediate/introduction/#_2","title":"\u672c\u8ab2\u7a0b\u9810\u671f\u5b78\u7fd2\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u5206\u70ba\u5169\u500b\u90e8\u5206\u3002\u7b2c\u4e00\u90e8\u5206\u5c07\u5f9e\u5148\u524d School of SRE \u8ab2\u7a0b\u4e2d\u7684 Linux \u57fa\u790e\u5167\u5bb9\u7e7c\u7e8c\uff0c\u6df1\u5165\u63a2\u8a0e\u4e00\u4e9b\u8f03\u9032\u968e\u7684 Linux \u6307\u4ee4\u8207\u6982\u5ff5\u3002</p> <p>\u7b2c\u4e8c\u90e8\u5206\u5247\u6703\u8b1b\u89e3\u5982\u4f55\u5728\u65e5\u5e38\u5de5\u4f5c\u4e2d\uff0c\u900f\u904e Bash \u8173\u672c\u81ea\u52d5\u5316\u53ca\u6e1b\u5c11\u91cd\u8907\u6027\u5de5\u4f5c\uff0c\u4e26\u8f14\u4ee5\u5be6\u969b SRE \u7684\u6848\u4f8b\u8aaa\u660e\u3002</p>"},{"location":"level102/linux_intermediate/introduction/#_3","title":"\u672c\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u7684\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u65e8\u5728\u8b93\u4f60\u719f\u6089 Linux \u6307\u4ee4\u3001shell \u8173\u672c\u8207 SRE \u5be6\u52d9\u7684\u4ea4\u96c6\uff0c\u4e0d\u6703\u6db5\u84cb Linux \u6838\u5fc3\u5167\u90e8\u7d50\u69cb\u3002</p>"},{"location":"level102/linux_intermediate/introduction/#_4","title":"\u5be6\u9a57\u74b0\u5883\u8a2d\u5b9a","text":"<ul> <li> <p>\u8acb\u5728\u4f60\u7684\u7cfb\u7d71\u5b89\u88dd Docker\u3002 https://docs.docker.com/engine/install/</p> </li> <li> <p>\u6211\u5011\u5c07\u4f7f\u7528 RedHat Enterprise Linux (RHEL) 8\u3002</p> </li> </ul> <p></p> <ul> <li>\u5927\u90e8\u5206\u6307\u4ee4\u5c07\u5728\u4e0a\u8ff0 Docker \u5bb9\u5668\u4e2d\u57f7\u884c\u3002</li> </ul> <p>__________________________________________________________________________</p>"},{"location":"level102/linux_intermediate/introduction/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<p>\u5957\u4ef6\u7ba1\u7406</p> <ul> <li> <p>\u5957\u4ef6 (Package)</p> </li> <li> <p>\u4f9d\u8cf4 (Dependencies)</p> </li> <li> <p>\u8edf\u9ad4\u5eab (Repository)</p> </li> <li> <p>\u9ad8\u968e\u8207\u4f4e\u968e\u5957\u4ef6\u7ba1\u7406\u5de5\u5177</p> </li> </ul> <p>\u5132\u5b58\u5a92\u9ad4</p> <ul> <li> <p>\u5217\u51fa\u5df2\u639b\u8f09\u7684\u5132\u5b58\u88dd\u7f6e</p> </li> <li> <p>\u5efa\u7acb\u6a94\u6848\u7cfb\u7d71</p> </li> <li> <p>\u639b\u8f09\u88dd\u7f6e</p> </li> <li> <p>\u5378\u8f09\u88dd\u7f6e</p> </li> <li> <p>\u4f7f\u7528 /etc/fstab \u6587\u4ef6\u7c21\u5316\u639b\u8f09\u5de5\u4f5c\uff1f</p> </li> <li> <p>\u6aa2\u67e5\u8207\u4fee\u5fa9\u6a94\u6848\u7cfb\u7d71</p> </li> <li> <p>RAID</p> <ul> <li> <p>RAID \u7b49\u7d1a</p> </li> <li> <p>RAID 0 (\u689d\u5e36\u5316)</p> </li> <li> <p>RAID 1 (\u93e1\u50cf)</p> </li> <li> <p>RAID 5 (\u689d\u5e36\u8207\u5206\u6563\u5f0f\u5947\u5076\u6821\u9a57)</p> </li> <li> <p>RAID 6 (\u689d\u5e36\u8207\u96d9\u91cd\u5947\u5076\u6821\u9a57)</p> </li> <li> <p>RAID 10 (RAID 1+0\uff1a\u93e1\u50cf\u8207\u689d\u5e36\u5316)</p> </li> <li> <p>\u76e3\u63a7 RAID \u7684\u6307\u4ee4</p> </li> </ul> </li> <li> <p>\u908f\u8f2f\u5377\u7ba1\u7406 (LVM)</p> </li> </ul> <p>\u6a94\u6848\u6253\u5305\u8207\u5099\u4efd</p> <ul> <li> <p>\u6a94\u6848\u6253\u5305</p> <ul> <li> <p>gzip</p> </li> <li> <p>tar</p> </li> <li> <p>\u5efa\u7acb\u5305\u542b\u6a94\u6848\u8207\u8cc7\u6599\u593e\u7684\u6253\u5305\u6a94\u6848</p> </li> <li> <p>\u5217\u51fa\u6253\u5305\u6a94\u6848\u4e2d\u7684\u6a94\u6848\u5217\u8868</p> </li> <li> <p>\u5f9e\u6253\u5305\u6a94\u6848\u4e2d\u89e3\u58d3\u6a94\u6848</p> </li> </ul> </li> <li> <p>\u5099\u4efd</p> <ul> <li> <p>\u589e\u91cf\u5099\u4efd</p> </li> <li> <p>\u5dee\u7570\u5099\u4efd</p> </li> <li> <p>\u7db2\u8def\u5099\u4efd</p> </li> <li> <p>\u96f2\u7aef\u5099\u4efd</p> </li> </ul> </li> </ul> <p>Vim \u5165\u9580</p> <ul> <li> <p>\u958b\u555f\u6a94\u6848\u8207\u4f7f\u7528\u63d2\u5165\u6a21\u5f0f</p> </li> <li> <p>\u5132\u5b58\u6a94\u6848</p> </li> <li> <p>\u96e2\u958b VIM \u7de8\u8f2f\u5668</p> </li> </ul> <p>Bash \u8173\u672c</p> <ul> <li> <p>\u64b0\u5beb\u7b2c\u4e00\u500b Bash \u8173\u672c</p> </li> <li> <p>\u63a5\u6536\u4f7f\u7528\u8005\u8f38\u5165\u4e26\u4f7f\u7528\u8b8a\u6578</p> </li> <li> <p>\u9000\u51fa\u72c0\u614b</p> </li> <li> <p>\u6307\u4ee4\u5217\u53c3\u6578\u8207 If \u2026 else \u689d\u4ef6\u5206\u652f</p> </li> <li> <p>\u8ff4\u5708\u5be6\u73fe\u91cd\u8907\u4efb\u52d9</p> </li> <li> <p>\u51fd\u5f0f</p> </li> </ul> <p>\u8ab2\u7a0b\u7e3d\u7d50</p>"},{"location":"level102/linux_intermediate/introvim/","title":"Vim \u7c21\u4ecb","text":""},{"location":"level102/linux_intermediate/introvim/#_1","title":"\u4ecb\u7d39","text":"<p>\u4f5c\u70ba SRE\uff0c\u6211\u5011\u7d93\u5e38\u9700\u8981\u767b\u5165\u4f3a\u670d\u5668\u4e26\u4fee\u6539\u8a2d\u5b9a\u6a94\u3001\u7de8\u8f2f\u53ca\u4fee\u6539\u8173\u672c\uff0c\u800c\u5e7e\u4e4e\u6240\u6709 Linux \u767c\u884c\u7248\u4e2d\u90fd\u9644\u5e36\u7684\u4fbf\u5229\u7de8\u8f2f\u5668\u662f Vim\u3002Vim \u662f\u4e00\u500b\u958b\u653e\u539f\u59cb\u78bc\u4e14\u514d\u8cbb\u7684\u547d\u4ee4\u5217\u7de8\u8f2f\u5668\uff0c\u5ee3\u6cdb\u88ab\u63a5\u53d7\u8207\u4f7f\u7528\u3002\u6211\u5011\u5c07\u4e86\u89e3\u4e00\u4e9b\u5982\u4f55\u4f7f\u7528 Vim \u5efa\u7acb\u8207\u7de8\u8f2f\u6a94\u6848\u7684\u57fa\u672c\u77e5\u8b58\u3002\u9019\u4e9b\u77e5\u8b58\u5c07\u6709\u52a9\u65bc\u6211\u5011\u7406\u89e3\u4e0b\u4e00\u7ae0\u7bc0\u2014\u2014\u8173\u672c\u7de8\u5beb\u3002</p>"},{"location":"level102/linux_intermediate/introvim/#_2","title":"\u958b\u555f\u6a94\u6848\u53ca\u4f7f\u7528\u63d2\u5165\u6a21\u5f0f","text":"<p>\u6211\u5011\u4f7f\u7528\u6307\u4ee4 <code>vim filename</code> \u4f86\u958b\u555f\u6a94\u6848 <code>filename</code>\u3002\u7d42\u7aef\u6a5f\u6703\u958b\u555f\u7de8\u8f2f\u5668\uff0c\u4f46\u4e00\u958b\u59cb\u7121\u6cd5\u76f4\u63a5\u958b\u59cb\u5beb\u5165\uff0c\u56e0\u70ba\u6211\u5011\u5c1a\u672a\u9032\u5165 Vim \u7684\u300c\u63d2\u5165\u300d\u6a21\u5f0f\u3002</p> <p>\u6309\u4e0b <code>i</code> \uff0c\u9032\u5165\u63d2\u5165\u6a21\u5f0f\u4e26\u958b\u59cb\u66f8\u5beb\u3002</p> <p></p> <p>\u6309\u4e0b\u300ci\u300d\u5f8c\uff0c\u756b\u9762\u5de6\u4e0b\u89d2\u6703\u986f\u793a\u300cINSERT\u300d\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>ESC</code> \u9375\u8fd4\u56de\u4e00\u822c\u6a21\u5f0f\u3002</p>"},{"location":"level102/linux_intermediate/introvim/#_3","title":"\u5132\u5b58\u6a94\u6848","text":"<p>\u5728\u63d2\u5165\u6a21\u5f0f\u4e2d\u8f38\u5165\u6587\u5b57\u5f8c\uff0c\u6309\u9375\u76e4\u4e0a\u7684 ESC\uff08Esc \u9375\uff09\u96e2\u958b\u63d2\u5165\u6a21\u5f0f\u3002\u7136\u5f8c\u8f38\u5165 <code>:</code>\uff08\u5192\u865f\uff0cShift + ;\uff09\u4e26\u6309\u4e0b <code>w</code>\uff0c\u63a5\u8457\u6309 Enter\uff0c\u6587\u7ae0\u5167\u5bb9\u5373\u6703\u5beb\u5165\u6a94\u6848\u3002</p> <p></p>"},{"location":"level102/linux_intermediate/introvim/#vim_1","title":"\u96e2\u958b VIM \u7de8\u8f2f\u5668","text":"<p>\u5c0d\u521d\u5b78\u8005\u800c\u8a00\uff0c\u96e2\u958b Vim \u53ef\u80fd\u76f8\u7576\u56f0\u96e3\u3002\u6709\u591a\u7a2e\u65b9\u5f0f\u53ef\u4ee5\u96e2\u958b Vim\uff0c\u5305\u62ec\u4e0d\u5132\u5b58\u9000\u51fa\u3001\u5132\u5b58\u5f8c\u9000\u51fa\u7b49\u3002</p> <p>\u5728\u96e2\u958b\u63d2\u5165\u6a21\u5f0f\u5f8c\uff0c\u6309 <code>:</code>\uff08\u5192\u865f\uff09\u5617\u8a66\u4ee5\u4e0b\u6307\u4ee4\uff1a</p> Vim \u6307\u4ee4 \u8aaa\u660e :q \u9000\u51fa\u6a94\u6848\uff0c\u4f46\u82e5\u6709\u672a\u5132\u5b58\u7684\u8b8a\u66f4\u5247\u7121\u6cd5\u9000\u51fa :wq \u5132\u5b58\uff08\u5beb\u5165\uff09\u6a94\u6848\u4e26\u9000\u51fa :q! \u4e0d\u5132\u5b58\u8b8a\u66f4\u5f37\u5236\u9000\u51fa <p>\u4ee5\u4e0a\u57fa\u790e\u6307\u4ee4\u5728\u4e0b\u4e00\u7bc0\u7684 bash \u8173\u672c\u7de8\u5beb\u4e2d\u6703\u7528\u5230\u3002\u4f60\u4e5f\u53ef\u4ee5\u53c3\u8003\u6559\u5b78\u9032\u4e00\u6b65\u5b78\u7fd2\u3002\u82e5\u60f3\u5feb\u901f\u7df4\u7fd2 Vim \u6307\u4ee4\uff0c\u8acb\u8a2a\u554f\uff1ahttps://www.openvim.com/</p>"},{"location":"level102/linux_intermediate/package_management/","title":"\u5957\u4ef6\u7ba1\u7406","text":""},{"location":"level102/linux_intermediate/package_management/#_2","title":"\u4ecb\u7d39","text":"<p>\u4efb\u4f55\u4f5c\u696d\u7cfb\u7d71\u7684\u4e3b\u8981\u529f\u80fd\u4e4b\u4e00\u662f\u80fd\u5920\u57f7\u884c\u5176\u4ed6\u7a0b\u5f0f\u8207\u8edf\u9ad4\uff0c\u56e0\u6b64\u5957\u4ef6\u7ba1\u7406\u61c9\u904b\u800c\u751f\u3002\u5957\u4ef6\u7ba1\u7406\u662f\u6307\u5728\u4efb\u4f55\u4f5c\u696d\u7cfb\u7d71\u4e0a\u5b89\u88dd\u8207\u7dad\u8b77\u8edf\u9ad4\u7a0b\u5f0f\u7684\u65b9\u6cd5\u3002</p>"},{"location":"level102/linux_intermediate/package_management/#_3","title":"\u5957\u4ef6","text":"<p>\u5728 Linux \u7684\u65e9\u671f\u6642\u4ee3\uff0c\u7528\u6236\u5fc5\u9808\u4e0b\u8f09\u8edf\u9ad4\u7684\u539f\u59cb\u78bc\u4e26\u7de8\u8b6f\uff0c\u624d\u80fd\u5b89\u88dd\u4e26\u57f7\u884c\u8edf\u9ad4\u3002\u96a8\u8457 Linux \u751f\u614b\u7cfb\u7d71\u6108\u767c\u6210\u719f\uff0c\u4eba\u5011\u958b\u59cb\u610f\u8b58\u5230\u8edf\u9ad4\u74b0\u5883\u975e\u5e38\u52d5\u614b\uff0c\u56e0\u6b64\u6539\u4ee5\u5957\u4ef6\u5f62\u5f0f\u4f86\u767c\u884c\u8edf\u9ad4\u3002\u5957\u4ef6\u6a94\u6848\u662f\u4e00\u7a2e\u58d3\u7e2e\u6a94\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u8edf\u9ad4\u672c\u8eab\u3001\u5176\u76f8\u4f9d\u6027\u3001\u5b89\u88dd\u6307\u4ee4\u4ee5\u53ca\u5957\u4ef6\u7684\u76f8\u95dc metadata\u3002</p>"},{"location":"level102/linux_intermediate/package_management/#_4","title":"\u76f8\u4f9d\u6027","text":"<p>\u8edf\u9ad4\u5957\u4ef6\u5f88\u5c11\u662f\u7368\u7acb\u5b58\u5728\u7684\uff0c\u5b83\u901a\u5e38\u4f9d\u8cf4\u4e0d\u540c\u7684\u8edf\u9ad4\u3001\u51fd\u5f0f\u5eab\u548c\u6a21\u7d44\u3002\u9019\u4e9b\u5b50\u7a0b\u5e8f\u4ee5\u5171\u4eab\u51fd\u5f0f\u5eab\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u53ef\u80fd\u540c\u6642\u70ba\u591a\u500b\u7a0b\u5f0f\u6240\u5171\u7528\u3002\u9019\u4e9b\u5171\u4eab\u8cc7\u6e90\u7a31\u70ba\u76f8\u4f9d\u6027\u3002\u5957\u4ef6\u7ba1\u7406\u7cfb\u7d71\u8ca0\u8cac\u8655\u7406\u9019\u4e9b\u76f8\u4f9d\u6027\uff0c\u4e26\u6703\u9023\u540c\u8edf\u9ad4\u4e00\u4f75\u70ba\u4f7f\u7528\u8005\u5b89\u88dd\u3002</p>"},{"location":"level102/linux_intermediate/package_management/#_5","title":"\u5957\u4ef6\u5eab","text":"<p>\u5957\u4ef6\u5eab\u662f\u7528\u4f86\u5b58\u653e\u6240\u6709\u5957\u4ef6\u3001\u66f4\u65b0\u8207\u76f8\u4f9d\u6027\u7684\u4f4d\u7f6e\u3002\u6bcf\u500b\u5957\u4ef6\u5eab\u90fd\u53ef\u80fd\u5305\u542b\u6578\u5343\u500b\u8edf\u9ad4\u5957\u4ef6\uff0c\u9019\u4e9b\u5957\u4ef6\u88ab\u8a17\u7ba1\u5728\u9060\u7aef\u4f3a\u670d\u5668\u4e0a\uff0c\u4f9b Linux \u7cfb\u7d71\u5b89\u88dd\u8207\u66f4\u65b0\u6642\u4f7f\u7528\u3002\u6211\u5011\u901a\u5e38\u6703\u900f\u904e\u57f7\u884c \u201csudo dnf update\u201d \u4f86\u66f4\u65b0\u5957\u4ef6\u8cc7\u8a0a\uff08\u5e38\u7a31\u70ba metadata\uff09\u3002</p> <p></p> <p>\u8a66\u8a66 <code>sudo dnf repolist all</code> \u6307\u4ee4\u4f86\u5217\u51fa\u6240\u6709\u5957\u4ef6\u5eab\u3002</p> <p>\u6211\u5011\u901a\u5e38\u6703\u65b0\u589e\u7b2c\u4e09\u65b9\u4f9b\u61c9\u5546\u7684\u5957\u4ef6\u5eab\u4ee5\u4fbf\u5b89\u88dd\u5176\u5957\u4ef6\u3002</p> <p>dnf config-manager --add-repo http://www.example.com/example.repo</p>"},{"location":"level102/linux_intermediate/package_management/#_6","title":"\u9ad8\u968e\u8207\u4f4e\u968e\u5957\u4ef6\u7ba1\u7406\u5de5\u5177","text":"<p>\u5957\u4ef6\u7ba1\u7406\u5de5\u5177\u4e3b\u8981\u6709\u5169\u7a2e\u985e\u578b\uff1a</p> <p>1. \u4f4e\u968e\u5de5\u5177\uff1a\u4e3b\u8981\u7528\u65bc\u5b89\u88dd\u3001\u79fb\u9664\u8207\u5347\u7d1a\u5957\u4ef6\u6a94\u6848\u3002</p> <p>2. \u9ad8\u968e\u5de5\u5177\uff1a\u9664\u4e86\u5177\u5099\u4f4e\u968e\u5de5\u5177\u7684\u529f\u80fd\u4e4b\u5916\uff0c\u9084\u6703\u9032\u884c metadata \u641c\u5c0b\u548c\u76f8\u4f9d\u6027\u89e3\u6790\u3002</p> Linux \u767c\u884c\u7248 \u4f4e\u968e\u5de5\u5177 \u9ad8\u968e\u5de5\u5177 Debian dpkg apt-get Fedora, RedHat dnf dnf"},{"location":"level102/linux_intermediate/storage_media/","title":"\u5b58\u5132\u5a92\u9ad4","text":""},{"location":"level102/linux_intermediate/storage_media/#_2","title":"\u4ecb\u7d39","text":"<p>\u5b58\u5132\u5a92\u9ad4\u662f\u7528\u4f86\u5132\u5b58\u6578\u64da\u548c\u8cc7\u8a0a\u7684\u8a2d\u5099\u3002Linux \u5728\u8655\u7406\u5916\u90e8\u8a2d\u5099\uff08\u5305\u542b\u5b58\u5132\u8a2d\u5099\uff09\u65b9\u9762\u6709\u6975\u597d\u7684\u529f\u80fd\u3002\u5b58\u5132\u8a2d\u5099\u7a2e\u985e\u7e41\u591a\uff0c\u5305\u62ec\u5be6\u9ad4\u5b58\u5132\u8a2d\u5099\u5982\u786c\u789f\uff0c\u865b\u64ec\u5b58\u5132\u8a2d\u5099\u5982 RAID \u6216 LVM\uff0c\u7db2\u8def\u5b58\u5132\u7b49\u7b49\u3002</p> <p>\u5728\u672c\u7bc0\u4e2d\uff0c\u6211\u5011\u5c07\u5b78\u7fd2\u5982\u4f55\u64cd\u4f5c\u4efb\u4f55\u5b58\u5132\u8a2d\u5099\u4e26\u6839\u64da\u9700\u6c42\u9032\u884c\u914d\u7f6e\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#_3","title":"\u5217\u51fa\u5df2\u639b\u8f09\u7684\u5b58\u5132\u8a2d\u5099\uff1a","text":"<p>\u6211\u5011\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 <code>mount</code> \u4f86\u5217\u51fa\u6240\u6709\u5df2\u639b\u8f09\u5230\u96fb\u8166\u7684\u5b58\u5132\u8a2d\u5099\u3002</p> <p></p> <p>\u4e0a\u8ff0\u8f38\u51fa\u7684\u683c\u5f0f\u70ba\uff1a</p> <p><code>device</code> on <code>mount_point</code> type <code>file_system_type (options)</code></p> <p>\u4f8b\u5982\u7b2c\u4e00\u884c\u865b\u64ec\u8a2d\u5099 sysfs \u639b\u8f09\u5728 /sys \u8def\u5f91\uff0c\u5176\u6587\u4ef6\u7cfb\u7d71\u70ba sysfs\u3002\u73fe\u5728\u6211\u5011\u4f86\u770b\u770b\u4ec0\u9ebc\u662f\u6587\u4ef6\u7cfb\u7d71\u4ee5\u53ca\u5982\u4f55\u5efa\u7acb\u6587\u4ef6\u7cfb\u7d71\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#_4","title":"\u5efa\u7acb\u6587\u4ef6\u7cfb\u7d71","text":"<p>\u60f3\u50cf\u4e00\u500b\u78c1\u789f\u4e0a\u7684\u6240\u6709\u6578\u64da\u90fd\u662f\u4e00\u6574\u584a\u5927\u6578\u64da\uff0c\u7121\u6cd5\u5206\u8fa8\u54ea\u7b46\u6578\u64da\u958b\u59cb\u6216\u7d50\u675f\u3001\u6578\u64da\u5728\u54ea\u500b\u4f4d\u7f6e\uff0c\u56e0\u6b64\u51fa\u73fe\u4e86\u6587\u4ef6\u7cfb\u7d71 (fs)\u3002\u6587\u4ef6\u7cfb\u7d71\u8ca0\u8cac\u5728\u4efb\u4f55\u5b58\u5132\u8a2d\u5099\u4e0a\u9032\u884c\u6578\u64da\u7684\u5b58\u5132\u3001\u7d22\u5f15\u8207\u6aa2\u7d22\u3002</p> <p>\u4ee5\u4e0b\u662f\u6700\u5e38\u7528\u7684\u6587\u4ef6\u7cfb\u7d71\uff1a</p> \u6587\u4ef6\u7cfb\u7d71\u985e\u578b \u63cf\u8ff0 FAT \u6587\u4ef6\u5206\u914d\u8868\uff0c\u6700\u521d\u7528\u65bc DOS \u8207 Microsoft Windows\uff0c\u73fe\u5728\u5ee3\u6cdb\u7528\u65bc\u53ef\u651c USB \u5b58\u5132\u88dd\u7f6e NTFS (New Technology File System) \u7528\u65bc Microsoft Windows \u7cfb\u7d71 ext \u7528\u65bc Linux \u7cfb\u7d71\u7684\u5ef6\u4f38\u6587\u4ef6\u7cfb\u7d71 ext4 \u7b2c\u56db\u4ee3\u5ef6\u4f38\u6587\u4ef6\u7cfb\u7d71\uff0c\u662f Linux \u6838\u5fc3\u5e38\u7528\u7684\u65e5\u8a8c\u578b\u6587\u4ef6\u7cfb\u7d71 HFS \u968e\u5c64\u5f0f\u6587\u4ef6\u7cfb\u7d71\uff0c\u4f7f\u7528\u76f4\u5230 Mac OS 8.1 \u63a8\u51fa HFS+ HFS+ \u652f\u63f4\u6587\u4ef6\u7cfb\u7d71\u65e5\u8a8c\u529f\u80fd\uff0c\u80fd\u5728\u7cfb\u7d71\u7576\u6a5f\u5f8c\u6062\u5fa9\u6578\u64da NFS \u539f\u81ea Sun Microsystems \u7684\u7db2\u8def\u6587\u4ef6\u7cfb\u7d71\uff0c\u662f UNIX \u985e\u7db2\u8def\u6a19\u6e96 <p>\u6211\u5011\u5c07\u5617\u8a66\u4f7f\u7528 mkfs \u5efa\u7acb\u4e00\u500b Linux \u539f\u751f\u7684 ext4 \u6587\u4ef6\u7cfb\u7d71\u3002</p> <p>\u8b66\u544a\uff1a\u8acb\u5728\u7a7a\u78c1\u789f\u4e0a\u57f7\u884c\u6b64\u547d\u4ee4\uff0c\u56e0\u70ba\u5b83\u6703\u62b9\u9664\u73fe\u6709\u8cc7\u6599\u3002</p> <p></p> <p>\u6b64\u4f8b\u4e2d\u5c07\u8a2d\u5099 /dev/sdb1 \u683c\u5f0f\u5316\u70ba ext4 \u6587\u4ef6\u7cfb\u7d71\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#_5","title":"\u639b\u8f09\u8a2d\u5099\uff1a","text":"<p>\u5728 Linux \u7cfb\u7d71\u4e2d\uff0c\u6240\u6709\u6a94\u6848\u4ee5 (/) \u70ba\u6839\uff0c\u6392\u5217\u6210\u6a39\u72c0\u7d50\u69cb\u3002\u639b\u8f09\u6587\u4ef6\u7cfb\u7d71\u5373\u662f\u5c07\u8a72\u6587\u4ef6\u7cfb\u7d71\u8f09\u5165 Linux \u7684\u76ee\u9304\u6a39\u67d0\u8def\u5f91\uff0c\u4f7f\u5176\u53ef\u8a2a\u554f\u3002</p> <p>\u6211\u5011\u9700\u8981\u6307\u5b9a\u4e00\u500b\u639b\u8f09\u9ede\uff08\u4f4d\u7f6e\uff09\u4f86\u639b\u8f09\u4e0a\u9762\u683c\u5f0f\u5316\u7684\u8a2d\u5099\u3002</p> <p></p> <p>\u6211\u5011\u5efa\u7acb\u4e86\u639b\u8f09\u9ede /mount\uff0c\u4e26\u4ee5 mount \u547d\u4ee4\u5c07\u6587\u4ef6\u7cfb\u7d71\u639b\u8f09\u3002\u6b64\u8655 -t \u53c3\u6578\u6307\u5b9a\u6587\u4ef6\u7cfb\u7d71\u985e\u578b\uff0c\u63a5\u8457\u662f\u8a2d\u5099\u540d\u7a31 /dev/sdb1 \u8207\u639b\u8f09\u9ede /mount\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#_6","title":"\u5378\u8f09\u8a2d\u5099\uff1a","text":"<p>\u63a5\u4e0b\u4f86\uff0c\u770b\u5982\u4f55\u5378\u8f09\u8a2d\u5099\u3002\u82e5\u70ba\u53ef\u651c\u5f0f\u5b58\u5132\u5a92\u9ad4\uff0c\u60f3\u5728\u53e6\u4e00\u53f0\u4e3b\u6a5f\u639b\u8f09\u5c31\u5fc5\u9808\u5148\u5378\u8f09\u3002\u6211\u5011\u4f7f\u7528 umount \u4f86\u5378\u8f09\u8a2d\u5099\u3002</p> <p></p> <p>\u7b2c\u4e00\u6b21\u5617\u8a66\u5378\u8f09 /sdb1 \u5931\u6557\uff0c\u56e0\u70ba\u6211\u5011\u6b63\u4f4d\u65bc\u8a72\u8a2d\u5099\u7684\u76ee\u9304\u4e26\u4f7f\u7528\u4e2d\u3002\u5207\u63db\u56de\u5bb6\u76ee\u9304\u5f8c\uff0c\u6210\u529f\u5378\u8f09\u8a2d\u5099\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#etcfstab","title":"\u7528 /etc/fstab \u6587\u4ef6\u7c21\u5316\u639b\u8f09\uff1f","text":"<p>\u5728\u751f\u7522\u74b0\u5883\u4e2d\uff0c\u4f3a\u670d\u5668\u53ef\u80fd\u6709\u591a\u500b\u5b58\u5132\u8a2d\u5099\u9700\u8981\u639b\u8f09\uff0c\u6bcf\u6b21\u91cd\u65b0\u958b\u6a5f\u90fd\u9010\u4e00\u624b\u52d5\u639b\u8f09\u975e\u5e38\u4e0d\u65b9\u4fbf\u3002\u70ba\u4e86\u7c21\u5316\uff0c\u6211\u5011\u53ef\u4ee5\u4f7f\u7528\u7a31\u70ba \u201cfstab\u201d \u7684\u914d\u7f6e\u8868\uff08\u901a\u5e38\u4f4d\u65bc <code>/etc/fstab</code>\uff09\u3002</p> <p></p> <p>\u7bc4\u4f8b\u4e2d\u7b2c\u4e00\u884c\u70ba /dev/mapper/rootvg-rootlv\uff08\u5b58\u5132\u8a2d\u5099\uff09\u639b\u8f09\u5728\u7cfb\u7d71\u6839\u76ee\u9304 / \uff0c\u6587\u4ef6\u7cfb\u7d71\u70ba xfs\uff0c\u5f8c\u9762\u63a5\u639b\u8f09\u9078\u9805\u3002</p> <p>\u4fee\u6539\u5f8c\u53ef\u57f7\u884c <code>mount -a</code> \u4f86\u91cd\u65b0\u8b80\u53d6\u6b64\u6a94\u6848\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#_7","title":"\u6aa2\u67e5\u8207\u4fee\u5fa9\u6587\u4ef6\u7cfb\u7d71","text":"<p>\u786c\u9ad4\u6545\u969c\u3001\u65b7\u96fb\u6216\u4e0d\u7576\u95dc\u6a5f\u6709\u53ef\u80fd\u9020\u6210\u6587\u4ef6\u7cfb\u7d71\u640d\u58de\u3002Linux \u901a\u5e38\u65bc\u555f\u52d5\u6642\u81ea\u52d5\u6aa2\u67e5\u4e26\u4fee\u5fa9\u6709\u554f\u984c\u7684\u78c1\u789f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 fsck \u624b\u52d5\u6aa2\u67e5\u3002</p> <p></p> <p>\u53ef\u7528 <code>fsck -y /dev/sdb1</code> \u4fee\u5fa9\u6307\u5b9a\u6587\u4ef6\u7cfb\u7d71\u3002</p> <p>\u6587\u4ef6\u7cfb\u7d71\u932f\u8aa4\u6703\u8fd4\u56de\u4e0d\u540c\u932f\u8aa4\u4ee3\u78bc\u4e26\u4ee5\u5176\u52a0\u7e3d\u8868\u793a\uff1a</p> \u932f\u8aa4\u4ee3\u78bc \u63cf\u8ff0 0 \u7121\u932f\u8aa4 1 \u6587\u4ef6\u7cfb\u7d71\u932f\u8aa4\u5df2\u4fee\u6b63 2 \u7cfb\u7d71\u61c9\u91cd\u65b0\u555f\u52d5 4 \u6587\u4ef6\u7cfb\u7d71\u932f\u8aa4\u672a\u4fee\u6b63 8 \u904b\u4f5c\u932f\u8aa4 16 \u4f7f\u7528\u6216\u8a9e\u6cd5\u932f\u8aa4 32 \u4f7f\u7528\u8005\u53d6\u6d88\u6aa2\u67e5 128 \u5171\u4eab\u51fd\u5f0f\u5eab\u932f\u8aa4 <p>\u4e0a\u8ff0\u6aa2\u67e5\u56de\u50b3\u4ee3\u78bc\u70ba 12\uff0c\u5373\u932f\u8aa4\u4ee3\u78bc 8\uff08\u904b\u4f5c\u932f\u8aa4\uff09\u8207 4\uff08\u672a\u4fee\u6b63\u932f\u8aa4\uff09\u4e4b\u548c\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#raid","title":"RAID","text":"<p>RAID\uff08\u7368\u7acb\u78c1\u789f\u5197\u9918\u9663\u5217\uff09\u662f\u4e00\u7a2e\u5c07\u8f38\u5165/\u8f38\u51fa\u5206\u6563\u5230\u591a\u78c1\u789f\u4ee5\u63d0\u9ad8\u6027\u80fd\u8207\u8cc7\u6599\u5197\u9918\u7684\u6280\u8853\u3002RAID \u53ef\u63d0\u5347\u78c1\u789f\u6574\u9ad4\u6548\u80fd\u4e26\u62b5\u6297\u78c1\u789f\u6545\u969c\u3002\u8edf\u9ad4 RAID \u4f7f\u7528 CPU \u57f7\u884c RAID \u64cd\u4f5c\uff0c\u786c\u9ad4 RAID \u5247\u7528\u78c1\u789f\u63a7\u5236\u5668\u4e0a\u7684\u5c08\u7528\u8655\u7406\u5668\u7ba1\u7406\u78c1\u789f\u3002RAID \u4e09\u9805\u91cd\u8981\u529f\u80fd\u70ba\u93e1\u50cf\u3001\u689d\u5e36\u548c\u5947\u5076\u6821\u9a57\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#raid_1","title":"RAID \u7d1a\u5225","text":"<p>\u4e0b\u65b9\u8aaa\u660e\u5e38\u898b\u7684 RAID \u7d1a\u5225\uff0c\u95dc\u65bc\u6240\u6709 RAID \u7d1a\u5225\u7684\u8cc7\u8a0a\uff0c\u8acb\u53c3\u8003 \u6b64\u8655\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#raid-0","title":"RAID 0\uff08\u689d\u5e36\uff09","text":"<p>\u689d\u5e36\u6280\u8853\u5c07\u8cc7\u6599\u5207\u5206\u6210\u300c\u5340\u584a\u300d\u4e26\u5206\u6563\u5beb\u5165\u9663\u5217\u4e2d\u7684\u6240\u6709\u78c1\u789f\u3002\u591a\u78c1\u789f\u540c\u6642\u5b58\u53d6\u53ef\u63d0\u5347\u8b80\u5beb\u901f\u5ea6\u3002\u9663\u5217\u4e2d\u7b2c\u4e00\u500b\u78c1\u789f\u6703\u5728\u6bcf\u500b\u78c1\u789f\u5beb\u5165\u76f8\u540c\u8cc7\u6599\u5927\u5c0f\u524d\u4e0d\u518d\u91cd\u7528\u3002</p> <p></p> <p>\u512a\u9ede</p> <ul> <li>\u5be6\u4f5c\u7c21\u55ae\u3002</li> <li>\u907f\u514d\u55ae\u4e00\u78c1\u789f I/O \u6210\u70ba\u74f6\u9838\uff0c\u63d0\u5347\u6548\u80fd\u3002</li> </ul> <p>\u7f3a\u9ede</p> <ul> <li>\u7121\u5197\u9918\u529f\u80fd\uff0c\u4e00\u65e6\u78c1\u789f\u6545\u969c\uff0c\u6240\u6709\u8cc7\u6599\u5c07\u55aa\u5931\u4e14\u7121\u6cd5\u5fa9\u539f\u3002</li> </ul> <p>\u4f7f\u7528\u5834\u666f</p> <p>\u9069\u7528\u5c0d\u8cc7\u6599\u5b89\u5168\u6027\u8981\u6c42\u4e0d\u9ad8\uff0c\u9808\u9ad8\u901f\u8b80\u53d6\u7684\u74b0\u5883\uff0c\u5982\u5f71\u7247/\u97f3\u8a0a\u7de8\u8f2f\u5de5\u4f5c\u7ad9\u6216\u904a\u6232\u74b0\u5883\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#raid-1","title":"RAID 1\uff08\u93e1\u50cf\uff09","text":"<p>\u93e1\u50cf\u6703\u5c07\u76f8\u540c\u8cc7\u6599\u5beb\u5165\u9663\u5217\u7684\u6bcf\u500b\u78c1\u789f\uff0c\u610f\u5373\u8cc7\u6599\u6703\u88ab\u591a\u6b21\u8907\u88fd\u3002\u9019\u6703\u5c0e\u81f4\u5beb\u5165\u901f\u5ea6\u6bd4\u55ae\u78c1\u789f\u6162\uff0c\u4f46\u8b80\u53d6\u53ef\u4e26\u884c\u57f7\u884c\uff0c\u63d0\u5347\u901f\u5ea6\u3002</p> <p></p> <p>\u512a\u9ede</p> <ul> <li>\u8b80\u53d6\u6548\u80fd\u512a\u65bc RAID 0 \u6216\u55ae\u78c1\u789f\u3002</li> <li>\u53ef\u627f\u53d7\u591a\u500b\u78c1\u789f\u6545\u969c\u800c\u7121\u9700\u7279\u6b8a\u8cc7\u6599\u6062\u5fa9\u6f14\u7b97\u6cd5\u3002</li> </ul> <p>\u7f3a\u9ede</p> <ul> <li>\u6210\u672c\u9ad8\u6602\uff0c\u56e0\u8cc7\u6599\u591a\u500d\u8907\u88fd\uff0c\u5be6\u969b\u6709\u6548\u5bb9\u91cf\u7d04\u53ea\u5269\u4e00\u534a\u3002</li> </ul> <p>\u4f7f\u7528\u5834\u666f</p> <p>\u7528\u65bc\u8981\u6c42\u4f4e\u505c\u6a5f\u6642\u9593\u4f46\u53ef\u63a5\u53d7\u5beb\u5165\u6027\u80fd\u7a0d\u964d\u7684\u61c9\u7528\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#raid-4","title":"RAID 4\uff08\u5e36\u5c08\u7528\u5947\u5076\u6821\u9a57\u7684\u689d\u5e36\uff09","text":"<p>RAID 4 \u63a1\u7528\u5340\u584a\u7d1a\u689d\u5e36\uff0c\u4f7f\u7528\u6307\u5b9a\u78c1\u789f\u5b58\u653e\u5947\u5076\u6821\u9a57\u8cc7\u8a0a\u3002\u5947\u5076\u6821\u9a57\u7531\u6f14\u7b97\u6cd5\u5728\u5beb\u5165\u8cc7\u6599\u6642\u7522\u751f\uff0c\u80fd\u6aa2\u6e2c\u8cc7\u6599\u5b8c\u6574\u6027\u3002\u82e5\u78c1\u789f\u6545\u969c\uff0c\u53ef\u900f\u904e\u5269\u9918\u8cc7\u6599\u8207\u5947\u5076\u6821\u9a57\u8cc7\u8a0a\u9084\u539f\u907a\u5931\u8cc7\u6599\u3002</p> <p></p> <p>\u512a\u9ede</p> <ul> <li>\u9663\u5217\u4e2d\u6bcf\u500b\u78c1\u789f\u7368\u7acb\u904b\u4f5c\uff0cI/O \u8acb\u6c42\u4e26\u884c\u9032\u884c\uff0c\u6027\u80fd\u8f03\u524d RAID \u7d1a\u5225\u63d0\u5347\u3002</li> <li>\u53ef\u627f\u53d7\u591a\u500b\u78c1\u789f\u6545\u969c\uff0c\u7121\u9700\u7279\u5225\u8cc7\u6599\u6062\u5fa9\u6f14\u7b97\u6cd5\u3002</li> </ul> <p>\u7f3a\u9ede</p> <ul> <li>\u9700\u4e09\u9846\u78c1\u789f\u4ee5\u4e0a\u8a2d\u7f6e\u3002</li> <li>\u9700\u8981\u786c\u9ad4\u652f\u63f4\u5947\u5076\u6821\u9a57\u8a08\u7b97\u3002</li> <li>\u5beb\u5165\u901f\u5ea6\u6162\uff0c\u56e0\u5947\u5076\u6821\u9a57\u96c6\u4e2d\u65bc\u55ae\u4e00\u78c1\u789f\uff0c\u6bcf\u6b21 I/O \u90fd\u9808\u4fee\u6539\u5947\u5076\u6821\u9a57\u5340\u584a\u3002</li> </ul> <p>\u4f7f\u7528\u5834\u666f</p> <p>\u9069\u5408\u8655\u7406\u5927\u6587\u4ef6\uff0c\u5c24\u5176\u662f\u9806\u5e8f\u8b80\u5beb\u64cd\u4f5c\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#raid-5","title":"RAID 5\uff08\u5e36\u5206\u6563\u5947\u5076\u6821\u9a57\u7684\u689d\u5e36\uff09","text":"<p>RAID 5 \u540c RAID 4 \u985e\u4f3c\uff0c\u4f46\u5947\u5076\u6821\u9a57\u8cc7\u8a0a\u5206\u6563\u5b58\u653e\u65bc\u6240\u6709\u78c1\u789f\u4e2d\uff0c\u6e1b\u5c11\u5beb\u5165\u5947\u5076\u6821\u9a57\u7684\u55ae\u4e00\u78c1\u789f\u74f6\u9838\u3002\u662f\u6700\u5e38\u898b\u7684\u5b89\u5168 RAID \u7d1a\u5225\u3002</p> <p></p> <p>\u512a\u9ede</p> <ul> <li>\u8b80\u53d6\u901f\u5ea6\u5feb\uff0c\u5beb\u5165\u7a0d\u6162\u56e0\u9700\u8981\u8a08\u7b97\u5947\u5076\u6821\u9a57\u3002</li> <li>\u786c\u789f\u6545\u969c\u6642\u4ecd\u53ef\u5b58\u53d6\u8cc7\u6599\uff0c\u4e14\u66ff\u63db\u786c\u789f\u6642\u63a7\u5236\u5668\u6703\u91cd\u5efa\u8cc7\u6599\u3002</li> </ul> <p>\u7f3a\u9ede</p> <ul> <li>\u9700\u6700\u4f4e3\u9846\u78c1\u789f\uff0c\u53ef\u652f\u63f4\u81f3\u591a16\u9846\u3002</li> <li>\u9700\u8981\u786c\u9ad4\u652f\u63f4\u5947\u5076\u6821\u9a57\u8a08\u7b97\u3002</li> <li>\u82e5\u5169\u9846\u4ee5\u4e0a\u786c\u789f\u540c\u6642\u6545\u969c\uff0c\u6703\u5c0e\u81f4\u8cc7\u6599\u907a\u5931\u3002</li> </ul> <p>\u4f7f\u7528\u5834\u666f</p> <p>\u6a94\u6848\u5b58\u5132\u8207\u61c9\u7528\u4f3a\u670d\u5668\uff0c\u5982\u90f5\u4ef6\u8207\u4e00\u822c\u5b58\u5132\u7528\u9014\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#raid-6","title":"RAID 6\uff08\u5e36\u96d9\u91cd\u5206\u6563\u5947\u5076\u6821\u9a57\u7684\u689d\u5e36\uff09","text":"<p>RAID 6 \u985e\u4f3c RAID 5\uff0c\u4f46\u5177\u6709\u96d9\u91cd\u5206\u6563\u5947\u5076\u6821\u9a57\uff0c\u53ef\u5bb9\u5fcd\u5169\u9846\u786c\u789f\u540c\u6642\u6545\u969c\u3002</p> <p></p> <p>\u512a\u9ede</p> <ul> <li>\u8b80\u53d6\u901f\u5ea6\u5feb\u3002</li> <li>\u5bb9\u932f\u80fd\u529b\u63d0\u5347\uff0c\u53ef\u8010\u53d7\u5169\u9846\u786c\u789f\u6545\u969c\u3002</li> <li>\u6bd4 RAID 5 \u66f4\u5805\u97cc\u3002</li> </ul> <p>\u7f3a\u9ede</p> <ul> <li>\u5beb\u5165\u901f\u5ea6\u6162\uff0c\u56e0\u96d9\u91cd\u5947\u5076\u6821\u9a57\u8a08\u7b97\u3002</li> <li>RAID \u91cd\u5efa\u6642\u9593\u8f03\u9577\u3002</li> </ul> <p>\u4f7f\u7528\u5834\u666f</p> <p>\u8fa6\u516c\u81ea\u52d5\u5316\u3001\u7dda\u4e0a\u5ba2\u670d\u53ca\u9700\u6975\u9ad8\u53ef\u7528\u6027\u7684\u61c9\u7528\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#raid-10raid-10","title":"RAID 10\uff08RAID 1+0\uff1a\u93e1\u50cf\u8207\u689d\u5e36\u7d50\u5408\uff09","text":"<p>RAID 10 \u662f RAID 0 \u8207 RAID 1 \u7684\u7d44\u5408\uff0c\u5373\u540c\u6642\u5be6\u73fe\u93e1\u50cf\u8207\u689d\u5e36\u3002</p> <p></p> <p>\u512a\u9ede</p> <ul> <li>RAID \u91cd\u5efa\u901f\u5ea6\u5feb\u3002</li> <li>\u8b80\u5beb\u6027\u80fd\u826f\u597d\u3002</li> </ul> <p>\u7f3a\u9ede</p> <ul> <li>\u540c RAID 1\uff0c\u4e00\u534a\u7684\u78c1\u789f\u5bb9\u91cf\u53ef\u7528\u3002</li> <li>\u5be6\u65bd\u6210\u672c\u8f03\u9ad8\u3002</li> </ul> <p>\u4f7f\u7528\u5834\u666f</p> <p>\u7528\u65bc\u9700\u8981\u9ad8\u6027\u80fd\u8207\u9ad8\u8cc7\u6599\u5b89\u5168\u6027\u7684\u4ea4\u6613\u578b\u8cc7\u6599\u5eab\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#raid_2","title":"RAID \u76e3\u63a7\u6307\u4ee4","text":"<p>\u6307\u4ee4 <code>cat /proc/mdstat</code> \u53ef\u986f\u793a\u8edf\u9ad4 RAID \u72c0\u614b\u3002\u7bc4\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>Personalities : [raid1]\n\nmd0 : active raid1 sdb1[2] sda1[0]\n\n10476544 blocks super 1.1 [2/2] [UU]\n\nbitmap: 0/1 pages [0KB], 65536KB chunk\n\nmd1 : active raid1 sdb2[2] sda2[0]\n\n10476544 blocks super 1.1 [2/2] [UU]\n\nbitmap: 1/1 pages [4KB], 65536KB chunk\n\nmd2 : active raid1 sdb3[2]\n\n41909248 blocks super 1.1 [2/1] [_U]\n\nbitmap: 1/1 pages [4KB], 65536KB chunk\n</code></pre> <p>\u300cPersonalities\u300d\u986f\u793a RAID \u985e\u578b\uff1b\u4ee5\u4e0a\u7bc4\u4f8b\u914d\u7f6e\u70ba RAID 1\u3002<code>md0 : active raid1 sdb1[2] sda1[0]</code> \u8868\u793a sdb1\uff08\u8a2d\u5099 2\uff09\u548c sda1\uff08\u8a2d\u5099 0\uff09\u9593\u6709\u6d3b\u8e8d\u7684 RAID 1\u3002\u975e\u6d3b\u8e8d\u9663\u5217\u8868\u793a\u6709\u78c1\u789f\u6545\u969c\u3002<code>md2</code>\u986f\u793a <code>[2/1] [_U]</code> \u8868\u793a\u6b64 RAID \u6709\u4e00\u9846\u78c1\u789f\u6545\u969c\u3002</p> <p>\u6307\u4ee4 <code>mdadm --detail /dev/&lt;raid-array&gt;</code> \u53ef\u53d6\u5f97\u9663\u5217\u8a73\u7d30\u8cc7\u8a0a\uff0c\u7bc4\u4f8b\uff1a</p> <pre><code>sudo mdadm --detail /dev/md0\n\n/dev/md0:\n\nVersion : 1.1\n\nCreation Time : Fri Nov 17 11:49:20 2019\n\nRaid Level : raid1\n\nArray Size : 10476544 (9.99 GiB 10.32 GB)\n\nUsed Dev Size : 10476544 (9.99 GiB 10.32 GB)\n\nRaid Devices : 2\n\nTotal Devices : 2\n\nPersistence : Superblock is persistent\n\nIntent Bitmap : Internal\n\nUpdate Time : Sun Dec 2 01:00:53 2019\n\nState : clean\n\nActive Devices : 2\n\nWorking Devices : 2\n\nFailed Devices : 0\n\nSpare Devices : 0\n\nUUID : xxxxxxx:yyyyyy:zzzzzz:ffffff\n\nEvents : 987\n\nNumber Major Minor RaidDevice State\n\n0 8 1 0 active sync /dev/sda1\n\n1 8 49 1 active sync /dev/sdb1\n</code></pre> <p>\u82e5\u78c1\u789f\u7f3a\u5931\uff0c\u9663\u5217\u72c0\u614b\u6703\u662f 'dirty'\uff0cActive Devices \u8207 Working Devices \u6703\u6e1b\u5c11\u5230\u4e00\u500b\uff0c\u5176\u4e2d\u4e00\u500b\u78c1\u789f (\u8996\u7f3a\u5931\u800c\u5b9a) RaidDevice \u72c0\u614b\u6703\u6a19\u793a\u70ba faulty\u3002</p>"},{"location":"level102/linux_intermediate/storage_media/#lvm","title":"LVM","text":"<p>LVM \u4ee3\u8868\u908f\u8f2f\u5377\u7ba1\u7406\u3002\u5728\u524d\u8ff0\u7ae0\u7bc0\u4e2d\uff0c\u6211\u5011\u4f7f\u7528\u50b3\u7d71\u65b9\u5f0f\u4ee5\u55ae\u4e00\u78c1\u789f\u5efa\u7acb\u6587\u4ef6\u7cfb\u7d71\uff0c\u4f46\u900f\u904e LVM \u53ef\u4ee5\u66f4\u9748\u6d3b\u914d\u7f6e\u5132\u5b58\u7a7a\u9593\uff0c\u4f8b\u5982\u5c07\u4e09\u9846 2TB \u78c1\u789f\u4e32\u63a5\u6210\u4e00\u500b 6TB \u5206\u5340\uff0c\u6216\u65b0\u589e\u4e00\u9846 4TB \u5be6\u9ad4\u78c1\u789f\u4e26\u52a0\u5165\u908f\u8f2f\u5377\u7d44\uff0c\u5408\u8a08\u6210 10TB\u3002</p> <p>\u6b32\u4e86\u89e3\u66f4\u591a LVM\uff0c\u8acb\u53c3\u8003\uff1ahttps://www.redhat.com/sysadmin/lvm-vs-partitioning</p>"},{"location":"level102/networking/conclusion/","title":"Conclusion","text":"<p>\u9019\u9580\u8ab2\u7a0b\u5c07\u6703\u4ecb\u7d39\u5728\u8cc7\u6599\u4e2d\u5fc3\u90e8\u7f72\u670d\u52d9\u7684\u80cc\u666f\u77e5\u8b58\uff0c\u4ee5\u53ca\u9700\u8981\u8003\u616e\u7684\u5404\u7a2e\u53c3\u6578\u548c\u53ef\u7528\u89e3\u6c7a\u65b9\u6848\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6b64\u8655\u8a0e\u8ad6\u7684\u6bcf\u7a2e\u89e3\u6c7a\u65b9\u6848\u90fd\u6709\u5176\u512a\u7f3a\u9ede\uff0c\u56e0\u6b64\u9700\u6839\u64da\u5177\u9ad4\u60c5\u6cc1\u548c\u9700\u6c42\uff0c\u9078\u64c7\u5408\u9069\u7684\u65b9\u6848\u4f86\u4f7f\u7528\u3002\u7531\u65bc\u672c\u8ab2\u7a0b\u4e26\u672a\u6df1\u5165\u63a2\u8a0e\u5404\u7a2e\u6280\u8853/\u89e3\u6c7a\u65b9\u6848\uff0c\u53ef\u80fd\u6703\u5f15\u767c\u8b80\u8005\u5c0d\u67d0\u4e9b\u4e3b\u984c\u7684\u597d\u5947\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u53c3\u8003\u8cc7\u6599\u6216\u7dda\u4e0a\u8a13\u7df4\u5167\u5bb9\uff0c\u4f9b\u9032\u4e00\u6b65\u5b78\u7fd2\u3002</p> <p>LinkedIn \u5de5\u7a0b\u90e8\u843d\u683c \uff1a\u5305\u542b LinkedIn \u8cc7\u6599\u4e2d\u5fc3\u7684\u8a2d\u7f6e\u65b9\u5f0f\u4ee5\u53ca\u90e8\u5206\u95dc\u9375\u554f\u984c\u7684\u89e3\u6c7a\u65b9\u6848\u8cc7\u8a0a\u3002</p> <p>IPSpace \u90e8\u843d\u683c \uff1a\u6709\u5927\u91cf\u95dc\u65bc\u8cc7\u6599\u4e2d\u5fc3\u7db2\u8def\u7684\u6587\u7ae0\u3002</p> <p>Networking Basics edX \u8ab2\u7a0b\u3002</p> <p>\u795d\u5b78\u7fd2\u6109\u5feb\uff01\uff01</p>"},{"location":"level102/networking/infrastructure-features/","title":"Infrastructure Services","text":"<p>\u9700\u8981\u8003\u616e\u7684\u90e8\u5206\u6709\uff0c\u5e95\u5c64\u8cc7\u6599\u4e2d\u5fc3\u57fa\u790e\u8a2d\u65bd\u662f\u5426\u652f\u6301 ToR \u97cc\u6027\uff0c\u4f8b\u5982\u93c8\u8def\u805a\u5408\uff08bond\uff09\u3001BGP\u3001anycast \u670d\u52d9\u652f\u6301\u3001\u8ca0\u8f09\u5e73\u8861\u5668\u3001\u9632\u706b\u7246\u3001\u670d\u52d9\u54c1\u8cea (QoS) \u7b49\u529f\u80fd\u3002</p> <p>\u5982\u524d\u9762\u7ae0\u7bc0\u6240\u793a\uff0c\u8981\u5927\u898f\u6a21\u90e8\u7f72\u61c9\u7528\u7a0b\u5f0f\uff0c\u57fa\u790e\u8a2d\u65bd\u9700\u8981\u652f\u63f4\u7279\u5b9a\u80fd\u529b\u3002\u672c\u7bc0\u5c07\u4ecb\u7d39\u4e0d\u540c\u53ef\u7528\u9078\u9805\u53ca\u5176\u9069\u7528\u6027\u3002</p>"},{"location":"level102/networking/infrastructure-features/#tor","title":"ToR \u9023\u63a5","text":"<p>\u8003\u91cf\u5230\u5927\u898f\u6a21\u90e8\u7f72\uff0c\u9019\u662f\u6700\u5e38\u898b\u7684\u6545\u969c\u9ede\u4e4b\u4e00\uff0c\u6709\u591a\u7a2e\u9078\u64c7\u53ef\u4ee5\u7528\u4f86\u9023\u63a5\u4f3a\u670d\u5668\u8207 ToR\uff0c\u4ee5\u4e0b\u5c07\u9010\u4e00\u8aaa\u660e\uff1a</p>"},{"location":"level102/networking/infrastructure-features/#tor_1","title":"\u55ae\u4e00 ToR","text":"<p>\u9019\u662f\u6240\u6709\u9078\u9805\u4e2d\u6700\u7c21\u55ae\u7684\uff0c\u5373\u4f3a\u670d\u5668\u7684\u4e00\u5f35 NIC \u9023\u63a5\u81f3\u55ae\u4e00 ToR\u3002\u6b64\u505a\u6cd5\u7684\u512a\u9ede\u662f\u4f7f\u7528\u7684\u4ea4\u63db\u5668\u57e0\u6578\u91cf\u6700\u5c11\uff0c\u8b93\u8cc7\u6599\u4e2d\u5fc3\u7db2\u8def\u80fd\u652f\u6301\u4f3a\u670d\u5668\u57fa\u790e\u67b6\u69cb\u7684\u5feb\u901f\u6210\u9577\uff08\u8a3b\uff1a\u4e0d\u50c5 ToR \u57e0\u4f7f\u7528\u6548\u7387\u9ad8\uff0c\u4e0a\u5c64\u4ea4\u63db\u67b6\u69cb\u4e2d\u57e0\u4f7f\u7528\u7387\u4e5f\u6709\u6548\u7387\uff09\u3002\u7f3a\u9ede\u662f\uff0c\u4e00\u65e6 ToR\u3001\u9023\u7d50\u6216 NIC \u767c\u751f\u554f\u984c\uff0c\u4f3a\u670d\u5668\u5c07\u7121\u6cd5\u9023\u7dda\uff0c\u6b64\u72c0\u6cc1\u5c0d\u6709\u72c0\u614b\u61c9\u7528\u5f71\u97ff\u66f4\u5927\uff0c\u56e0\u73fe\u6709\u9023\u7dda\u6703\u7a81\u7136\u4e2d\u65b7\u3002</p> <p></p> <p>\u5716 4\uff1a\u55ae\u4e00 ToR \u8a2d\u8a08</p>"},{"location":"level102/networking/infrastructure-features/#tor_2","title":"\u96d9 ToR","text":"<p>\u6b64\u9078\u9805\u4e2d\uff0c\u6bcf\u53f0\u4f3a\u670d\u5668\u9023\u63a5\u81f3\u540c\u4e00\u6a5f\u6ac3\u7684\u5169\u53f0 ToR\uff0c\u53ef\u8a2d\u5b9a\u70ba\u4e3b\u52d5/\u88ab\u52d5\u6a21\u5f0f\uff0c\u85c9\u6b64\u5728 ToR\u3001\u93c8\u8def\u6216 NIC \u767c\u751f\u6545\u969c\u6642\u63d0\u4f9b\u97cc\u6027\u3002\u97cc\u6027\u53ef\u5728\u7b2c 2 \u5c64\u6216\u7b2c 3 \u5c64\u5be6\u73fe\u3002</p>"},{"location":"level102/networking/infrastructure-features/#2","title":"\u7b2c 2 \u5c64","text":"<p>\u6b64\u6642\uff0c\u5169\u689d\u93c8\u8def\u5728\u4f3a\u670d\u5668\u7aef\u4ee5 bond\uff08\u93c8\u8def\u805a\u5408\uff09\u65b9\u5f0f\u7d81\u5b9a\uff08\u4e00\u5f35 NIC \u505a\u70ba\u4e3b\u52d5\uff0c\u53e6\u4e00\u500b\u70ba\u88ab\u52d5\uff09\u3002\u5728\u4ea4\u63db\u5668\u7aef\uff0c\u9019\u5169\u689d\u93c8\u8def\u5247\u6210\u70ba multi-chassis lag \u7684\u4e00\u90e8\u5206\uff08\u985e\u4f3c bond\uff0c\u4f46\u5206\u4f48\u65bc\u591a\u53f0\u4ea4\u63db\u5668\uff09\u3002\u524d\u63d0\u662f\u5169\u53f0 ToR \u5fc5\u9808\u5728\u540c\u4e00\u500b\u7b2c 2 \u5c64\u7db2\u57df\u5167\u3002\u4f3a\u670d\u5668\u4e0a\u7684 IP \u4f4d\u5740\u8a2d\u5b9a\u5728 bond \u4ecb\u9762\u4e0a\uff0c\u4ea4\u63db\u5668\u5247\u5728 SVI \u4e0a\u8a2d\u5b9a\u3002</p> <p></p> <p>\u8a3b\uff1a\u6b64\u67b6\u69cb\u4e2d\uff0cToR 2 \u50c5\u7528\u65bc\u63d0\u4f9b\u97cc\u6027\u3002</p> <p>\u5716 5\uff1a\u96d9 ToR \u7b2c 2 \u5c64\u67b6\u69cb</p>"},{"location":"level102/networking/infrastructure-features/#3","title":"\u7b2c 3 \u5c64","text":"<p>\u6b64\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u5169\u689d\u93c8\u8def\u5404\u81ea\u8a2d\u70ba\u7368\u7acb\u7684\u7b2c 3 \u5c64\u4ecb\u9762\u3002\u900f\u904e\u555f\u7528\u8def\u7531\u5354\u5b9a\uff08\u5982 BGP\uff09\u4f86\u5be6\u73fe\u97cc\u6027\uff0c\u4e26\u5c07\u4e00\u689d\u93c8\u8def\u8a2d\u70ba\u8f03\u9ad8\u512a\u5148\u6b0a\u3002\u6b64\u6642\u5169\u53f0 ToR \u53ef\u7368\u7acb\u8a2d\u5b9a\u70ba\u7b2c 3 \u5c64\u6a21\u5f0f\u3002\u4f3a\u670d\u5668\u9700\u8981\u4e00\u500b\u865b\u64ec\u4f4d\u5740\uff0c\u4f9b\u670d\u52d9\u7d81\u5b9a\u3002</p> <p></p> <p>\u8a3b\uff1a\u6b64\u67b6\u69cb\u4e2d\uff0cToR 2 \u50c5\u7528\u65bc\u63d0\u4f9b\u97cc\u6027\u3002</p> <p>\u5716 6\uff1a\u96d9 ToR \u7b2c 3 \u5c64\u67b6\u69cb</p> <p>\u5118\u7ba1\u96d9 ToR \u97cc\u6027\u8f03\u4f73\uff0c\u7f3a\u9ede\u5728\u65bc\u6240\u7528\u57e0\u6578\u500d\u589e\u3002\u7531\u65bc ToR \u7684\u63a5\u53d6\u57e0\u6578\u589e\u52a0\u4e00\u500d\uff0c\u4e0a\u5c64 Spine \u5c64\u57e0\u6578\u4e5f\u76f8\u61c9\u589e\u52a0\uff0c\u9019\u60c5\u6cc1\u6703\u4e00\u76f4\u7d1a\u806f\u5230\u66f4\u9ad8\u5c64\u3002</p> \u985e\u578b \u55ae\u4e00 ToR \u96d9 ToR\uff08\u7b2c 2 \u5c64\uff09 \u96d9 ToR\uff08\u7b2c 3 \u5c64\uff09 \u97cc\u6027<sup>1</sup> \u5426<sup>2</sup> \u662f \u662f \u57e0\u4f7f\u7528\u7387 1:1 1:2 1:2 \u4f48\u7dda \u8f03\u5c11 \u8f03\u591a \u8f03\u591a \u8cc7\u6599\u4e2d\u5fc3\u7db2\u8def\u6210\u672c \u4f4e \u9ad8 \u9ad8 ToR \u529f\u80fd\u9700\u6c42 \u4f4e \u9ad8 \u4e2d <p><sup>1</sup> \u6307 ToR/\u93c8\u8def/NIC \u97cc\u6027</p> <p><sup>2</sup> \u97cc\u6027\u53ef\u8003\u616e\u5728\u61c9\u7528\u5c64\u9762\u8655\u7406\uff0c\u4f5c\u70ba\u66ff\u4ee3\u65b9\u6848\u3002</p> <p>\u9664\u4e86\u4e0a\u8ff0\u9078\u9805\u5916\uff0c\u61c9\u7528\u7a0b\u5f0f\u53ef\u80fd\u9084\u9700\u8981\u5f9e\u57fa\u790e\u8a2d\u65bd\u53d6\u5f97\u66f4\u591a\u529f\u80fd\u4ee5\u5be6\u73fe\u5927\u898f\u6a21\u90e8\u7f72\uff0c\u4ee5\u4e0b\u70ba\u90e8\u5206\u4f8b\u5b50\uff1a</p>"},{"location":"level102/networking/infrastructure-features/#anycast","title":"Anycast","text":"<p>\u5982\u524d\u9762\u90e8\u7f72\u5927\u898f\u6a21\u7684\u7ae0\u7bc0\u6240\u8ff0\uff0canycast \u662f\u4e00\u7a2e\u8b93\u670d\u52d9\u5206\u6563\u5728\u591a\u500b\u6a5f\u6ac3\uff0c\u4e14\u6d41\u91cf\u80fd\u6d41\u5411\u5404\u4f3a\u670d\u5668\u7684\u65b9\u5f0f\u3002\u8981\u9054\u6210\u6b64\u9ede\uff0c\u9700\u8981\u5169\u9805\u652f\u6301\uff1a</p> <ol> <li> <p>ToR \u8207\u4f3a\u670d\u5668\u9593\u7684\u8def\u7531\u5354\u5b9a\uff08\u7528\u65bc\u5ba3\u544a anycast \u4f4d\u5740\uff09</p> </li> <li> <p>\u57fa\u790e\u8a2d\u65bd\u80fd\u652f\u6301 ECMP\uff08\u7b49\u50f9\u591a\u8def\u5f91\u8def\u7531\uff09\u8ca0\u8f09\u5e73\u8861\uff0c\u7528\u4ee5\u5206\u6563\u6d41\u91cf\u81f3\u591a\u6a5f\u6ac3\u3002</p> </li> </ol>"},{"location":"level102/networking/infrastructure-features/#_1","title":"\u8ca0\u8f09\u5e73\u8861","text":"<p>\u8207 Anycast \u985e\u4f3c\uff0c\u53e6\u4e00\u7a2e\u5728\u4f3a\u670d\u5668\u9593\u5be6\u73fe\u8ca0\u8f09\u5e73\u8861\uff08\u627f\u8f09\u7279\u5b9a\u61c9\u7528\uff09\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\u8ca0\u8f09\u5e73\u8861\u5668\u3002\u53ef\u63a1\u591a\u7a2e\u65b9\u5f0f\u5be6\u73fe\uff1a</p> <ol> <li> <p>\u786c\u9ad4\u8ca0\u8f09\u5e73\u8861\u5668\uff1a\u8ca0\u8f09\u5e73\u8861\u88dd\u7f6e\u4f4d\u65bc\u6d41\u91cf\u8def\u5f91\u4e2d\uff0c\u6aa2\u8996\u5c01\u5305\u7684\u7b2c 3 \u5c64\u548c\u7b2c 4 \u5c64\u8cc7\u8a0a\uff0c\u6c7a\u5b9a\u8981\u5c07\u9023\u7dda\u5c0e\u5411\u54ea\u4e9b\u771f\u5be6\u4e3b\u6a5f\u3002\u6b63\u5982\u5728\u64f4\u5c55\u898f\u6a21\u4e00\u7bc0\u4ecb\u7d39\uff0c\u53ef\u8a2d\u7f6e\u70ba\u5169\u7a2e\u6a21\u5f0f\uff1a</p> <ul> <li> <p>\u55ae\u81c2\u6a21\u5f0f\uff1a\u8ca0\u8f09\u5e73\u8861\u5668\u50c5\u8655\u7406\u5c0d VIP \u7684\u9032\u5165\u8acb\u6c42\u3002\u4f3a\u670d\u5668\u56de\u61c9\u76f4\u63a5\u767c\u9001\u7d66\u5ba2\u6236\u7aef\u3002\u53ef\u7528\u5169\u7a2e\u5be6\u4f5c\u65b9\u5f0f\uff1a</p> <ul> <li> <p>L2 DSR\uff08Direct Server Return\uff09\uff1a\u8ca0\u8f09\u5e73\u8861\u5668\u8207\u771f\u5be6\u4f3a\u670d\u5668\u8655\u65bc\u540c\u4e00 VLAN\u3002\u6536\u5230\u8acb\u6c42\u5f8c\uff0c\u8ca0\u8f09\u5e73\u8861\u5668\u8fa8\u8b58\u76ee\u6a19\u4f3a\u670d\u5668\u4e26\u4fee\u6539\u4e59\u592a\u7db2\u5e40\u7684\u76ee\u7684 MAC \u4f4d\u5740\uff0c\u771f\u5be6\u4f3a\u670d\u5668\u63a5\u7372\u5f8c\u76f4\u63a5\u56de\u61c9\u5ba2\u6236\u7aef\u3002</p> </li> <li> <p>L3 DSR\uff1a\u8ca0\u8f09\u5e73\u8861\u5668\u8207\u4f3a\u670d\u5668\u4e0d\u9700\u5728\u540c\u4e00 VLAN\uff08\u6d88\u9664 STP \u904b\u4f5c\u8207\u5ee3\u64ad\u57df\u904e\u5927\u7b49\u7b2c 2 \u5c64\u8907\u96dc\u6027\uff09\u3002\u8ca0\u8f09\u5e73\u8861\u5668\u6536\u5230\u8acb\u6c42\u5f8c\u4fee\u6539\u5c01\u5305\u76ee\u7684 IP\uff0c\u4e26\u8a2d\u5b9a\u5c01\u5305\u7684 DSCP \u503c\u81f3\u9810\u5b9a\u503c\uff08\u5c0d\u61c9\u8a72 VIP\uff09\u3002\u771f\u5be6\u4f3a\u670d\u5668\u6839\u64da DSCP \u503c\u8b58\u5225\u8ff4\u8def\u4f4d\u5740\uff08VIP \u4f4d\u5740\uff09\uff0c\u56de\u61c9\u540c\u6a23\u76f4\u63a5\u767c\u9001\u7d66\u5ba2\u6236\u7aef\u3002</p> </li> </ul> </li> <li> <p>\u96d9\u81c2\u6a21\u5f0f\uff1a\u8ca0\u8f09\u5e73\u8861\u5668\u8655\u7406\u9032\u51fa\u6d41\u91cf\u3002</p> </li> </ul> </li> <li> <p>DNS \u8ca0\u8f09\u5e73\u8861\u5668\uff1a\u900f\u904e DNS \u4f3a\u670d\u5668\u76e3\u63a7\u771f\u5be6\u4f3a\u670d\u5668\u5065\u5eb7\u72c0\u614b\uff0c\u4e26\u4ee5\u9069\u7576\u65b9\u5f0f\u89e3\u6790\u7db2\u57df\uff0c\u8b93\u5ba2\u6236\u7aef\u80fd\u9023\u63a5\u8a72\u96c6\u7fa4\u4e2d\u4e0d\u540c\u4f3a\u670d\u5668\u3002\u6b64\u90e8\u5206\u8a73\u898b\u64f4\u5c55\u898f\u6a21\u7ae0\u7bc0\u3002</p> </li> <li> <p>IPVS \u8ca0\u8f09\u5e73\u8861\uff1aIPVS \u4f3a\u670d\u5668\u4f5c\u70ba\u670d\u52d9\u7aef\u9ede\u5c0d\u5916\uff0c\u63a5\u6536\u8acb\u6c42\u5f8c\u5c0e\u5411\u771f\u5be6\u4f3a\u670d\u5668\uff0c\u4e26\u53ef\u8a2d\u5b9a\u5065\u5eb7\u6aa2\u67e5\u3002</p> </li> </ol>"},{"location":"level102/networking/infrastructure-features/#nat","title":"NAT","text":"<p>\u7db2\u8def\u4f4d\u5740\u8f49\u63db (NAT) \u7528\u65bc\u90a3\u4e9b\u9700\u8981\u9023\u63a5\u81f3 Internet \u4f46\u4e0d\u60f3\u5916\u9732\u5167\u90e8\u4f3a\u670d\u5668 NIC \u4f4d\u5740\u7684\u4e3b\u6a5f\u3002\u4f8b\u5982\u4ee3\u7406\u4f3a\u670d\u5668\u3001\u90f5\u4ef6\u4f3a\u670d\u5668\u7b49\u3002\u6b64\u6642\u5167\u90e8\u4f4d\u5740\u6703\u7531\u9632\u706b\u7246\u8f49\u8b6f\u70ba\u516c\u958b\u4f4d\u5740\u3002</p>"},{"location":"level102/networking/infrastructure-features/#qos","title":"QoS","text":"<p>\u670d\u52d9\u54c1\u8cea (Quality of Service) \u662f\u900f\u904e\u5c0d\u4e0d\u540c\u5c01\u5305\u63d0\u4f9b\u5dee\u7570\u5316\u8655\u7406\uff0c\u5982\u512a\u5148\u6392\u968a\u6216\u983b\u5bec\u4fdd\u7559\u3002\u5728\u8cc7\u6599\u4e2d\u5fc3\u5834\u666f\u4e0b\uff0c\u4f9d\u64da\u983b\u5bec\u8a02\u95b1\u6bd4\uff0cQoS \u9700\u6c42\u5dee\u7570\u5982\u4e0b\uff1a</p> <ol> <li> <p>1:1 \u983b\u5bec\u8a02\u95b1\u6bd4\uff1a\u4f3a\u670d\u5668\u5230 ToR\uff08\u8a72\u6a5f\u6ac3\u6240\u6709\u4f3a\u670d\u5668\uff09\u983b\u5bec\u61c9\u8207 ToR \u5230 Spine \u7684\u983b\u5bec\u76f8\u7b49\uff0c\u4e14\u4e0a\u5c64\u4e5f\u662f\u5982\u6b64\u3002\u6b64\u6642\u4e0d\u6703\u6709\u93c8\u8def\u585e\u8eca\uff0c\u56e0\u70ba\u983b\u5bec\u6070\u7576\u5730\u5b8c\u5099\uff0cQoS \u4e3b\u8981\u7528\u65bc\u90e8\u5206\u5c01\u5305\u5728\u8f49\u767c\u968a\u5217\u4e2d\u7684\u512a\u5148\u8655\u7406\u3002\u8a3b\uff1a\u5c01\u5305\u7de9\u885d\u51fa\u73fe\u5728\u4e0d\u540c\u901f\u7387\u57e0\u9593\u8f49\u9001\uff0c\u5982 100Gbps \u8207 10Gbps \u9593\u3002</p> </li> <li> <p>\u904e\u5ea6\u8a02\u95b1\u7db2\u8def\uff1a\u6b64\u6642\u4e26\u975e\u6240\u6709\u5c64\u7d1a\u7686\u7dad\u6301\u983b\u5bec\u8a02\u95b1\u6bd4\uff0c\u4f8b\u5982\uff0cToR \u4e0a\u884c\u93c8\u8def\u983b\u5bec\u5c0f\u65bc ToR \u5230\u4f3a\u670d\u5668\u983b\u5bec\uff08\u5373\u6709\u904e\u5ea6\u8a02\u95b1\u6bd4\uff09\u3002\u6703\u6709\u585e\u8eca\u98a8\u96aa\uff0cQoS \u9700\u6c42\u66f4\u5927\uff0c\u53ef\u5be6\u73fe\u6d41\u91cf\u512a\u5148\u6b0a\u8207\u983b\u5bec\u4fdd\u7559\uff0c\u91dd\u5c0d\u7279\u5b9a\u6d41\u91cf\u985e\u578b\u3002</p> </li> </ol>"},{"location":"level102/networking/introduction/","title":"\u5148\u6c7a\u689d\u4ef6","text":"<p>\u5efa\u8b70\u5177\u5099\u7db2\u8def\u5b89\u5168\u3001TCP \u4ee5\u53ca\u6578\u64da\u4e2d\u5fc3\u8a2d\u7f6e\u7684\u57fa\u672c\u77e5\u8b58\uff0c\u4e26\u719f\u6089\u76f8\u95dc\u5e38\u7528\u8853\u8a9e\u3002\u6b64\u5916\uff0c\u8b80\u8005\u61c9\u8a72\u5148\u95b1\u8b80 School of SRE \u7684\u5167\u5bb9 - </p> <ul> <li> <p>Linux \u7db2\u8def</p> </li> <li> <p>\u7cfb\u7d71\u8a2d\u8a08</p> </li> <li> <p>\u5b89\u5168\u6027</p> </li> </ul>"},{"location":"level102/networking/introduction/#_2","title":"\u8ab2\u7a0b\u9810\u671f\u5167\u5bb9","text":"<p>\u672c\u90e8\u5206\u5c07\u6db5\u84cb\u6578\u64da\u4e2d\u5fc3\u57fa\u790e\u67b6\u69cb\u5982\u4f55\u6839\u64da\u4e0d\u540c\u61c9\u7528\u9700\u6c42\u5283\u5206\uff0c\u4ee5\u53ca\u6c7a\u5b9a\u61c9\u7528\u7a0b\u5f0f\u90e8\u7f72\u4f4d\u7f6e\u6642\u7684\u8003\u91cf\u3002\u9019\u4e9b\u4e3b\u8981\u57fa\u65bc\u4ee5\u4e0b\u5e7e\u9ede\uff1a\u5b89\u5168\u6027\u3001\u898f\u6a21\u3001RTT\uff08\u5ef6\u9072\uff09\u3001\u57fa\u790e\u8a2d\u65bd\u7279\u6027\u3002</p> <p>\u9019\u4e9b\u4e3b\u984c\u5c07\u8a73\u7d30\u4ecb\u7d39\uff1a</p> <p>\u5b89\u5168\u6027 - \u5c07\u63a2\u8a0e\u9762\u5c0d\u5916\u90e8/\u5167\u90e8\u7528\u6236\u6642\uff0c\u670d\u52d9\u53ef\u80fd\u9047\u5230\u7684\u5a01\u8105\u5411\u91cf\uff0c\u4ee5\u53ca\u90e8\u7f72\u6642\u53ef\u8003\u616e\u7684\u6f5b\u5728\u7de9\u89e3\u65b9\u6848\u3002\u6703\u6d89\u53ca\u5468\u908a\u5b89\u5168\u3001\u9632\u6b62 DDoS \u653b\u64ca\u3001\u7db2\u8def\u754c\u9650\u8a2d\u7f6e\u53ca\u4f3a\u670d\u5668\u53e2\u96c6\u7684\u74b0\u7e5e\u9632\u8b77\u3002</p> <p>\u898f\u6a21 - \u90e8\u7f72\u5927\u898f\u6a21\u61c9\u7528\u9700\u6df1\u5165\u4e86\u89e3\u57fa\u790e\u67b6\u69cb\u7684\u8cc7\u6e90\u53ef\u7528\u6027\u3001\u6545\u969c\u57df\u3001\u64f4\u5c55\u9078\u9805\uff0c\u5982\u4f7f\u7528 Anycast\u3001\u7b2c4\u5c64/\u7b2c7\u5c64\u8ca0\u8f09\u5e73\u8861\u5668\u3001\u57fa\u65bc DNS \u7684\u8ca0\u8f09\u5e73\u8861\u3002</p> <p>RTT\uff08\u5ef6\u9072\uff09 - \u5ef6\u9072\u5728\u5224\u65b7\u5206\u6563\u5f0f\u670d\u52d9/\u61c9\u7528\u6574\u9ad4\u6548\u80fd\u4e2d\u626e\u6f14\u95dc\u9375\u89d2\u8272\uff0c\u56e0\u70ba\u7528\u6236\u8acb\u6c42\u6703\u5728\u4e3b\u6a5f\u9593\u767c\u751f\u591a\u6b21\u547c\u53eb\u3002</p> <p>\u57fa\u790e\u8a2d\u65bd\u7279\u6027 - \u9700\u8003\u91cf\u7684\u90e8\u5206\u6709\uff1a\u5e95\u5c64\u6578\u64da\u4e2d\u5fc3\u57fa\u790e\u8a2d\u65bd\u662f\u5426\u652f\u63f4 ToR \u97cc\u6027\uff08\u5982\u9023\u7d50\u805a\u5408\uff08bonds\uff09\u3001BGP\uff08\u908a\u754c\u9598\u9053\u5354\u5b9a\uff09\u3001Anycast \u670d\u52d9\u652f\u63f4\u3001\u8ca0\u8f09\u5e73\u8861\u3001\u9632\u706b\u7246\u3001\u670d\u52d9\u54c1\u8ceaQoS\u7b49\u529f\u80fd\u3002</p>"},{"location":"level102/networking/introduction/#_3","title":"\u672c\u8ab2\u7a0b\u672a\u6db5\u84cb\u5167\u5bb9","text":"<p>\u96d6\u7136\u9019\u4e9b\u53c3\u6578\u5c0d\u61c9\u7528\u8a2d\u8a08\u6709\u4e00\u5b9a\u5f71\u97ff\uff0c\u6211\u5011\u5c07\u4e0d\u6df1\u5165\u63a2\u8a0e\u8a2d\u8a08\u7d30\u7bc0\u3002\u9019\u4e9b\u4e3b\u984c\u7bc4\u570d\u5ee3\u6cdb\uff0c\u8ab2\u7a0b\u76ee\u6a19\u662f\u4ecb\u7d39\u5404\u53c3\u6578\u8853\u8a9e\u53ca\u5176\u76f8\u95dc\u6027\uff0c\u800c\u975e\u63d0\u4f9b\u6bcf\u9805\u6280\u8853\u7684\u5b8c\u6574\u8a73\u89e3\u3002</p>"},{"location":"level102/networking/introduction/#_4","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ol> <li>\u5b89\u5168\u6027</li> <li>\u898f\u6a21</li> <li>RTT</li> <li>\u57fa\u790e\u8a2d\u65bd\u7279\u6027</li> <li>\u7e3d\u7d50</li> </ol>"},{"location":"level102/networking/introduction/#_5","title":"\u8853\u8a9e\u8aaa\u660e","text":"<p>\u5728\u8a0e\u8ad6\u5404\u4e3b\u984c\u524d\uff0c\u5148\u4e86\u89e3\u5e7e\u500b\u5e38\u7528\u8853\u8a9e\uff1a</p> <p>\u96f2\u7aef</p> <p>\u6307\u7531\u4e0d\u540c\u4f9b\u61c9\u5546\u63d0\u4f9b\u7684\u8a17\u7ba1\u89e3\u6c7a\u65b9\u6848\uff0c\u5982 Azure\u3001AWS\u3001GCP\u3002\u4f01\u696d\u53ef\u5c07\u61c9\u7528\u90e8\u7f72\u65bc\u6b64\uff0c\u4f9b\u516c\u5171\u6216\u79c1\u4eba\u4f7f\u7528\u3002</p> <p>\u672c\u5730\u67b6\u8a2d\uff08On-prem\uff09</p> <p>\u6307\u4f01\u696d\u81ea\u884c\u5efa\u7f6e\u8207\u7ba1\u7406\u7684\u5be6\u9ad4\u6578\u64da\u4e2d\u5fc3\uff08DC\uff09\u57fa\u790e\u8a2d\u65bd\uff0c\u53ef\u7528\u65bc\u79c1\u4eba\u7db2\u8def\u5b58\u53d6\uff0c\u6216\u516c\u5171\u9023\u7dda\uff08\u5982\u900f\u904e\u7db2\u969b\u7db2\u8def\u7684\u7528\u6236\uff09\u3002</p> <p>\u8449\u7bc0\u9ede\u4ea4\u63db\u6a5f\uff08Leaf switch/ToR\uff09</p> <p>\u6307\u6578\u64da\u4e2d\u5fc3\u4e2d\u4f3a\u670d\u5668\u6240\u9023\u63a5\u7684\u4ea4\u63db\u6a5f\u3002\u6b64\u985e\u4ea4\u63db\u6a5f\u6709\u591a\u7a2e\u7a31\u547c\uff0c\u5982\u5b58\u53d6\u4ea4\u63db\u6a5f\u3001\u6a5f\u67b6\u9802\u4ea4\u63db\u6a5f\uff08Top of the Rack\uff0cToR\uff09\u3001\u8449\u7bc0\u9ede\u4ea4\u63db\u6a5f\u3002</p> <p>\u300c\u8449\u7bc0\u9ede\u4ea4\u63db\u6a5f\u300d\u4e00\u8a5e\u4f86\u81ea Spine-leaf \u67b6\u69cb\uff0c\u5176\u4e2d\u5b58\u53d6\u4ea4\u63db\u6a5f\u7a31\u70ba\u8449\u7bc0\u9ede\u4ea4\u63db\u6a5f\u3002Spine-leaf \u67b6\u69cb\u5e38\u898b\u65bc\u5927\u578b/\u8d85\u5927\u898f\u6a21\u6578\u64da\u4e2d\u5fc3\uff0c\u5177\u9ad8\u5ea6\u64f4\u5c55\u6027\uff0c\u4e14\u5728\u5efa\u7f6e\u548c\u5be6\u65bd\u4ea4\u63db\u6a5f\u6642\u6548\u7387\u66f4\u9ad8\u3002\u6709\u6642\u4e5f\u7a31\u70ba Clos \u67b6\u69cb\u3002</p> <p>\u810a\u690e\u4ea4\u63db\u6a5f\uff08Spine switch\uff09</p> <p>\u70ba\u591a\u500b\u8449\u7bc0\u9ede\u4ea4\u63db\u6a5f\u7684\u805a\u5408\u9ede\uff0c\u8ca0\u8cac\u8449\u7bc0\u9ede\u9593\u7684\u901a\u8a0a\uff0c\u4e26\u9023\u63a5\u5230\u6578\u64da\u4e2d\u5fc3\u7684\u4e0a\u5c64\u57fa\u790e\u8a2d\u65bd\u3002</p> <p>\u6578\u64da\u4e2d\u5fc3\u7db2\u8def\u67b6\u69cb\uff08DC fabric\uff09</p> <p>\u96a8\u8457\u6578\u64da\u4e2d\u5fc3\u64f4\u5927\uff0c\u9700\u5c07\u591a\u500b Clos \u7db2\u8def\u4e92\u9023\u4ee5\u652f\u6301\u898f\u6a21\uff0c\u800c Fabric \u4ea4\u63db\u6a5f\u5354\u52a9\u5b8c\u6210\u6b64\u4e92\u9023\u3002</p> <p>\u6a5f\u6ac3</p> <p>\u6307\u88dd\u7f6e\u4f3a\u670d\u5668\u548c ToR \u4ea4\u63db\u6a5f\u7684\u6a5f\u67b6\uff0c\u4e00\u6a5f\u6ac3\u5373\u6307\u6574\u500b\u6a5f\u67b6\u3002</p> <p>BGP</p> <p>\u4ee3\u8868\u908a\u754c\u9598\u9053\u5354\u5b9a\uff08Border Gateway Protocol\uff09\uff0c\u7528\u4ee5\u5728\u8def\u7531\u5668\u548c\u4ea4\u63db\u6a5f\u9593\u4ea4\u63db\u8def\u7531\u8cc7\u8a0a\u3002BGP \u70ba\u4e92\u806f\u7db2\u53ca\u6578\u64da\u4e2d\u5fc3\u5e38\u7528\u7684\u901a\u8a0a\u5354\u5b9a\u3002\u6b64\u5916\uff0c\u4ea6\u6709\u5176\u4ed6\u5354\u5b9a\u5982 OSPF \u4f7f\u7528\u65bc\u66ff\u4ee3\u3002</p> <p>VPN</p> <p>\u865b\u64ec\u79c1\u4eba\u7db2\u8def\uff0c\u70ba\u900f\u904e\u516c\u773e\u7db2\u8def\uff08\u7db2\u969b\u7db2\u8def\uff09\u5c07\u5169\u500b\u79c1\u6709\u7db2\u8def\uff08\u5982\u8fa6\u516c\u5ba4\u3001\u6578\u64da\u4e2d\u5fc3\uff09\u4e92\u9023\u7684\u96a7\u9053\u89e3\u6c7a\u65b9\u6848\u3002VPN \u96a7\u9053\u5728\u8cc7\u6599\u50b3\u9001\u524d\u6703\u52a0\u5bc6\uff0c\u4ee5\u63d0\u5347\u5b89\u5168\u6027\u3002</p> <p>\u7db2\u8def\u4ecb\u9762\u5361\uff08NIC\uff09</p> <p>\u6307\u4f3a\u670d\u5668\u4e2d\u7684\u6a21\u7d44\uff0c\u5305\u542b\u4e59\u592a\u7db2\u8def\u9023\u63a5\u57e0\u53ca\u7cfb\u7d71\u532f\u6d41\u6392\u4ecb\u9762\uff0c\u7528\u4f86\u9023\u63a5\u4ea4\u63db\u6a5f\uff08\u901a\u5e38\u662f ToR\uff09\u3002</p> <p>\u6d41\u91cf\uff08Flow\uff09</p> <p>\u6307\u5169\u500b\u7bc0\u9ede\uff08\u4f3a\u670d\u5668\u3001\u4ea4\u63db\u6a5f\u3001\u8def\u7531\u5668\u7b49\uff09\u9593\u7684\u8cc7\u6599\u4ea4\u63db\uff0c\u5177\u6709\u5171\u901a\u7684\u53c3\u6578\uff0c\u5982\u4f86\u6e90/\u76ee\u7684 IP \u4f4d\u5740\u3001\u4f86\u6e90/\u76ee\u7684\u9023\u63a5\u57e0\u865f\u78bc\u3001IP \u5354\u5b9a\u865f\u78bc\u3002\u6d41\u91cf\u6709\u52a9\u65bc\u8ffd\u8e64\u7279\u5b9a\u7bc0\u9ede\u9593\u7684\u4ea4\u63db\u6703\u8a71\uff08\u5982\u6a94\u6848\u50b3\u8f38\u3001HTTP \u9023\u7dda\u7b49\uff09\u3002</p> <p>\u7b49\u50f9\u591a\u8def\u5f91\uff08ECMP\uff09</p> <p>\u6307\u4ea4\u63db\u6a5f\u6216\u8def\u7531\u5668\u80fd\u5c07\u6d41\u5411\u540c\u4e00\u76ee\u7684\u5730\u7684\u6d41\u91cf\u5206\u914d\u81f3\u591a\u689d\u51fa\u53e3\u4ecb\u9762\u3002\u6d41\u91cf\u8cc7\u8a0a\u7528\u4ee5\u5efa\u69cb hash \u503c\uff0c\u4f9d\u6b64\u9078\u64c7\u51fa\u53e3\u4ecb\u9762\u3002\u6d41\u91cf\u4e00\u65e6\u5206\u914d\u5230\u7279\u5b9a\u4ecb\u9762\uff0c\u8a72\u6d41\u7684\u6240\u6709\u5c01\u5305\u50c5\u7d93\u8a72\u4ecb\u9762\u8f38\u51fa\uff0c\u907f\u514d\u5c01\u5305\u9806\u5e8f\u932f\u4e82\u3002</p> <p>\u5f80\u8fd4\u6642\u9593\uff08RTT\uff09</p> <p>\u8861\u91cf\u5c01\u5305\u5f9e\u4f86\u6e90\u9001\u9054\u76ee\u7684\u5730\u4e26\u8fd4\u56de\u6240\u9700\u7684\u6642\u9593\uff0c\u5e38\u7528\u65bc\u7db2\u8def\u6548\u80fd\u6e2c\u8a66\u8207\u6545\u969c\u6392\u9664\u3002</p> <p>TCP \u541e\u5410\u91cf</p> <p>\u6307\u5169\u7bc0\u9ede\u9593\u9054\u6210\u7684\u8cc7\u6599\u50b3\u8f38\u901f\u7387\uff0c\u53d7 RTT\u3001\u5c01\u5305\u5927\u5c0f\u3001\u8996\u7a97\u5927\u5c0f\u7b49\u591a\u7a2e\u53c3\u6578\u5f71\u97ff\u3002</p> <p>\u55ae\u64ad\uff08Unicast\uff09</p> <p>\u6307\u55ae\u4e00\u4f86\u6e90\u81f3\u55ae\u4e00\u76ee\u7684\u5730\u7684\u6d41\u91cf\uff0c\u5982 ssh \u6703\u8a71\uff0c\u4e00\u5c0d\u4e00\u901a\u8a0a\u3002</p> <p>\u4efb\u64ad\uff08Anycast\uff09</p> <p>\u985e\u4f3c\u55ae\u64ad\uff0c\u4f46\u76ee\u7684\u7aef\u70ba\u591a\u500b\u7bc0\u9ede\u4e4b\u4e00\u3002\u55ae\u4e00\u4f86\u6e90\u53ef\u5c07\u6d41\u91cf\u50b3\u9001\u5230\u8a72\u7fa4\u7d44\u4e2d\u4efb\u4e00\u76ee\u7684\u4e3b\u6a5f\u3002\u900f\u904e\u5728\u591a\u53f0\u4f3a\u670d\u5668\u914d\u7f6e\u76f8\u540c IP \u5730\u5740\u5be6\u73fe\uff0c\u6bcf\u500b\u65b0\u6d41\u91cf\u6703\u88ab\u5206\u914d\u81f3\u5176\u4e2d\u4e00\u53f0\u4f3a\u670d\u5668\u3002</p> <p>\u591a\u64ad\uff08Multicast\uff09</p> <p>\u6307\u55ae\u4e00\u4f86\u6e90\u5411\u591a\u500b\u76ee\u7684\u5730\u50b3\u9001\u6d41\u91cf\u3002\u70ba\u5be6\u73fe\u6b64\u9700\u6c42\uff0c\u7db2\u8def\u8def\u7531\u5668\u6703\u8907\u88fd\u6d41\u91cf\u81f3\u4e0d\u540c\u4e3b\u6a5f\uff08\u9019\u4e9b\u4e3b\u6a5f\u9700\u8a3b\u518a\u6210\u70ba\u7279\u5b9a\u591a\u64ad\u7fa4\u7d44\u6210\u54e1\uff09\u3002</p>"},{"location":"level102/networking/rtt/","title":"RTT","text":"<p>\u5ef6\u9072\u5728\u6c7a\u5b9a\u5206\u6563\u5f0f\u670d\u52d9/\u61c9\u7528\u7a0b\u5f0f\u7684\u6574\u9ad4\u6548\u80fd\u4e2d\u626e\u6f14\u95dc\u9375\u89d2\u8272\uff0c\u547c\u53eb\u6703\u5728\u4e3b\u6a5f\u9593\u9032\u884c\uff0c\u4ee5\u670d\u52d9\u4f7f\u7528\u8005\u3002</p> <p>RTT\uff08\u5f80\u8fd4\u6642\u9593\uff09\u662f\u5f9e A \u767c\u9001\u5c01\u5305\u5230 B\uff0c\u4e26\u8fd4\u56de\u5230 A \u6240\u9700\u7684\u6642\u9593\uff0c\u55ae\u4f4d\u70ba\u6beb\u79d2\u3002\u9019\u500b\u6307\u6a19\u5728\u6c7a\u5b9a\u670d\u52d9\u6548\u80fd\u6642\u767c\u63ee\u4f5c\u7528\u3002\u5b83\u7684\u5f71\u97ff\u80fd\u5728\u4e0d\u540c\u4f3a\u670d\u5668\uff0f\u670d\u52d9\u4e4b\u9593\u7684\u547c\u53eb\u4e2d\u770b\u5230\uff0c\u4ee5\u670d\u52d9\u4f7f\u7528\u8005\uff0c\u4ee5\u53ca\u53ef\u9054\u6210\u7684 TCP \u541e\u5410\u91cf\u3002</p> <p>\u670d\u52d9\u901a\u5e38\u6703\u5c0d\u53e2\u96c6\u5167\u7684\u591a\u500b\u4f3a\u670d\u5668\u6216\u5176\u4ed6\u670d\u52d9\uff08\u5982\u9a57\u8b49\u3001\u65e5\u8a8c\u3001\u8cc7\u6599\u5eab\u7b49\uff09\u9032\u884c\u591a\u6b21\u547c\u53eb\uff0c\u4ee5\u56de\u61c9\u6bcf\u500b\u4f7f\u7528\u8005\uff0f\u5ba2\u6236\u7aef\u8acb\u6c42\u3002\u9019\u4e9b\u4f3a\u670d\u5668\u53ef\u80fd\u5206\u4f48\u65bc\u4e0d\u540c\u7684\u6a5f\u6ac3\uff0c\u6709\u6642\u751a\u81f3\u4f4d\u65bc\u540c\u5340\u57df\u5167\u4e0d\u540c\u7684\u8cc7\u6599\u4e2d\u5fc3\u3002\u5728\u96f2\u7aef\u89e3\u6c7a\u65b9\u6848\u4e2d\uff0c\u90e8\u7f72\u8de8\u591a\u500b\u7ad9\u9ede\u65bc\u5340\u57df\u5167\u7684\u60c5\u6cc1\u76f8\u7576\u5e38\u898b\u3002\u96a8\u8457 RTT \u589e\u52a0\uff0c\u6bcf\u6b21\u547c\u53eb\u7684\u56de\u61c9\u6642\u9593\u8b8a\u9577\uff0c\u56e0\u6b64\u5c0d\u9001\u7d66\u4f7f\u7528\u8005\u7684\u6700\u7d42\u56de\u61c9\u7522\u751f\u9023\u9396\u6548\u61c9\u3002</p>"},{"location":"level102/networking/rtt/#rtt","title":"RTT \u8207\u541e\u5410\u91cf\u7684\u95dc\u4fc2","text":"<p>RTT \u8207 TCP \u541e\u5410\u91cf\u6210\u53cd\u6bd4\u3002\u7576 RTT \u589e\u52a0\u6642\uff0cTCP \u541e\u5410\u91cf\u6703\u964d\u4f4e\uff0c\u50cf\u5c01\u5305\u907a\u5931\u4e00\u6a23\u3002\u4ee5\u4e0b\u70ba\u6839\u64da TCP MSS\u3001RTT \u8207\u5c01\u5305\u907a\u5931\u7387\u4f30\u7b97 TCP \u541e\u5410\u91cf\u7684\u516c\u5f0f\u3002</p> <p></p> <p>\u8207\u8cc7\u6599\u4e2d\u5fc3\u5167\u90e8\u76f8\u540c\uff0c\u9019\u4e9b\u8a08\u7b97\u4e5f\u5c0d\u900f\u904e\u7db2\u969b\u7db2\u8def\u7684\u901a\u8a0a\u5341\u5206\u91cd\u8981\u3002\u56e0\u70ba\u4f7f\u7528\u8005\u7aef\u53ef\u80fd\u900f\u904e\u4e0d\u540c\u96fb\u4fe1\u7db2\u8def\u9023\u63a5\u8cc7\u6599\u4e2d\u5fc3\u6240\u67b6\u8a2d\u7684\u670d\u52d9\uff0c\u800c RTT \u7d93\u5e38\u4e0d\u7a69\u5b9a\uff0c\u9019\u662f\u56e0\u70ba\u7db2\u969b\u7db2\u8def\u8def\u7531\u653f\u7b56\u7684\u4e0d\u53ef\u9810\u6e2c\u6027\u6240\u81f4\u3002</p>"},{"location":"level102/networking/scale/","title":"Scale","text":"<p>\u90e8\u7f72\u5927\u898f\u6a21\u61c9\u7528\u7a0b\u5f0f\uff0c\u9700\u8981\u66f4\u6df1\u5165\u4e86\u89e3\u57fa\u790e\u8a2d\u65bd\u7684\u80fd\u529b\uff0c\u5305\u542b\u8cc7\u6e90\u53ef\u7528\u6027\u3001\u6545\u969c\u57df\u3001\u4ee5\u53ca\u64f4\u5c55\u9078\u9805\uff0c\u5982\u4f7f\u7528\u4efb\u64ad\uff08anycast\uff09\u3001\u7b2c4\u5c64/\u7b2c7\u5c64\u8ca0\u8f09\u5e73\u8861\u5668\u3001\u57fa\u65bc DNS \u7684\u8ca0\u8f09\u5e73\u8861\u3002</p> <p>\u5efa\u7acb\u5927\u898f\u6a21\u61c9\u7528\u7a0b\u5f0f\u662f\u4e00\u9805\u8907\u96dc\u7684\u5de5\u4f5c\uff0c\u5fc5\u9808\u6db5\u84cb\u8a2d\u8a08\u3001\u958b\u767c\u4ee5\u53ca\u904b\u71df\u5316\u7684\u591a\u500b\u5c64\u9762\u3002\u672c\u7ae0\u7bc0\u5c07\u8a0e\u8ad6\u90e8\u7f72\u5927\u898f\u6a21\u61c9\u7528\u6642\u9700\u8981\u8003\u91cf\u7684\u91cd\u9ede\u3002</p>"},{"location":"level102/networking/scale/#_1","title":"\u6545\u969c\u57df","text":"<p>\u5728\u4efb\u4f55\u57fa\u790e\u8a2d\u65bd\u4e2d\uff0c\u7531\u65bc\u786c\u9ad4\u6216\u8edf\u9ad4\u554f\u984c\u5f15\u8d77\u7684\u6545\u969c\u90fd\u662f\u5e38\u898b\u7684\u3002\u96d6\u7136\u9019\u4e9b\u6545\u969c\u6703\u5f71\u97ff\u670d\u52d9\u53ef\u7528\u6027\uff0c\u4f46\u5b83\u5011\u78ba\u5be6\u6703\u767c\u751f\uff0c\u5be6\u969b\u7684\u76ee\u6a19\u662f\u76e1\u91cf\u5c07\u9019\u4e9b\u6545\u969c\u964d\u5230\u6700\u4f4e\u3002\u56e0\u6b64\uff0c\u5728\u90e8\u7f72\u4efb\u4f55\u670d\u52d9\u6642\uff0c\u5fc5\u9808\u8003\u616e\u67d0\u4e9b\u7bc0\u9ede\u7684\u6545\u969c\u6216\u4e0d\u53ef\u7528\u60c5\u6cc1\u3002</p>"},{"location":"level102/networking/scale/#_2","title":"\u4f3a\u670d\u5668\u6545\u969c","text":"<p>\u4f3a\u670d\u5668\u53ef\u80fd\u56e0\u70ba\u96fb\u6e90\u3001\u7db2\u8def\u4ecb\u9762\u5361\uff08NIC\uff09\u6216\u8edf\u9ad4\u932f\u8aa4\u800c\u6545\u969c\u3002\u6709\u6642\u5019\u6545\u969c\u4e26\u4e0d\u5b8c\u5168\uff0c\u53ef\u80fd\u53ea\u662f NIC \u767c\u751f\u932f\u8aa4\uff0c\u5c0e\u81f4\u90e8\u5206\u5c01\u5305\u907a\u5931\u3002\u9019\u662f\u975e\u5e38\u5e38\u898b\u7684\u60c5\u6cc1\uff0c\u5c0d\u6709\u72c0\u614b\uff08stateful\uff09\u670d\u52d9\u7684\u5f71\u97ff\u66f4\u5927\u3002\u56e0\u6b64\u5728\u8a2d\u8a08\u6b64\u985e\u670d\u52d9\u6642\uff0c\u9700\u8981\u5bb9\u5fcd\u4e00\u5b9a\u7a0b\u5ea6\u7684\u6545\u969c\u3002</p>"},{"location":"level102/networking/scale/#tortop-of-rack","title":"ToR\uff08Top of Rack\uff09\u6545\u969c","text":"<p>\u9019\u662f\u5e38\u898b\u7684\u60c5\u6cc1\u4e4b\u4e00\uff0c\u6307\u5c07\u4f3a\u670d\u5668\u9023\u63a5\u5230\u8449\u5c64\u4ea4\u63db\u6a5f\uff08leaf switch\uff09\u7684 ToR \u767c\u751f\u6545\u969c\uff0c\u5c0e\u81f4\u6574\u500b\u6a5f\u6ac3\u4e5f\u7121\u6cd5\u904b\u4f5c\u3002\u53ef\u80fd\u6709\u591a\u53f0\u540c\u670d\u52d9\u7684\u4f3a\u670d\u5668\u56e0\u6b64\u505c\u64fa\u3002\u9700\u8981\u898f\u5283\u80fd\u627f\u53d7\u591a\u5c11\u4f3a\u670d\u5668\u640d\u5931\u800c\u4e0d\u6703\u4f7f\u5176\u4ed6\u4f3a\u670d\u5668\u904e\u8f09\u3002\u6839\u64da\u6b64\u898f\u5283\uff0c\u670d\u52d9\u53ef\u4ee5\u5206\u5e03\u5728\u591a\u500b\u6a5f\u6ac3\u4e2d\u3002\u9019\u4e9b\u8a55\u4f30\u6703\u4f9d ToR \u8a2d\u8a08\u7684\u97cc\u6027\u800c\u7570\uff0c\u76f8\u95dc\u5167\u5bb9\u53c3\u898b ToR \u9023\u63a5 \u7ae0\u7bc0\u3002</p>"},{"location":"level102/networking/scale/#_3","title":"\u7ad9\u9ede\u6545\u969c","text":"<p>\u6b64\u8655\u7684\u7ad9\u9ede\u6545\u969c\u70ba\u901a\u7528\u8853\u8a9e\uff0c\u53ef\u80fd\u6307\u67d0\u500b\u7ad9\u9ede\u7684\u7279\u5b9a\u670d\u52d9\u4e2d\u65b7\uff0c\u4f8b\u5982\u56e0\u65b0\u7248\u90e8\u7f72\u6545\u969c\u3001\u670d\u52d9\u4f9d\u8cf4\u7684\u9632\u706b\u7246\u3001\u8ca0\u8f09\u5e73\u8861\u5668\u7b49\u8a2d\u5099\u6545\u969c\uff0c\u6216\u8207\u9060\u7aef\u7ad9\u9ede\uff08\u53ef\u80fd\u97cc\u6027\u8f03\u5dee\uff09\u9023\u7dda\u4e2d\u65b7\uff0c\u6216\u95dc\u9375\u670d\u52d9\u5982 DNS \u51fa\u73fe\u554f\u984c\u3002\u9019\u985e\u4e8b\u4ef6\u96d6\u4e0d\u5e38\u898b\uff0c\u4f46\u5f71\u97ff\u4e0d\u53ef\u5c0f\u89b7\u3002</p> <p>\u7e3d\u7d50\u4f86\u8aaa\uff0c\u8a2d\u8a08\u61c9\u7528\u7a0b\u5f0f\u6642\u5fc5\u9808\u8003\u616e\u9019\u4e9b\u6545\u969c\u5834\u666f\uff0c\u8b93\u61c9\u7528\u672c\u8eab\u5177\u5099\u8db3\u5920\u7684\u5bb9\u932f\u80fd\u529b\uff0c\u80fd\u5f9e\u9810\u671f\u5916\u7684\u6545\u969c\u4e2d\u6062\u5fa9\u3002\u9019\u4e0d\u50c5\u6709\u52a9\u65bc\u6545\u969c\u8655\u7406\uff0c\u5c0d\u65bc\u8a08\u756b\u5167\u7684\u7dad\u8b77\u5de5\u4f5c\uff08\u5982\u90e8\u5206\u8a2d\u5099\u66ab\u6642\u4e0b\u7dda\uff09\u4e5f\u975e\u5e38\u6709\u5e6b\u52a9\u3002</p>"},{"location":"level102/networking/scale/#_4","title":"\u8cc7\u6e90\u53ef\u7528\u6027","text":"<p>\u90e8\u7f72\u5927\u898f\u6a21\u61c9\u7528\u6642\u53e6\u4e00\u91cd\u8981\u9762\u5411\u662f\u57fa\u790e\u8a2d\u65bd\u7684\u53ef\u7528\u6027\u53ca\u670d\u52d9\u4f9d\u8cf4\u7684\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u82e5\u70ba\u63d0\u9ad8\u6a5f\u6ac3\u97cc\u6027\u6c7a\u5b9a\u5c07\u670d\u52d9\u5206\u6563\u5230\u4e94\u500b\u6a5f\u6ac3\uff0c\u4f46\u82e5\u670d\u52d9\u9700\u8981\u8ca0\u8f09\u5e73\u8861\u5668\uff08\u7528\u4f86\u5206\u6563\u9032\u5165\u9023\u7dda\u5230\u4e0d\u540c\u4f3a\u670d\u5668\uff09\uff0c\u4e14\u4e26\u975e\u6240\u6709\u6a5f\u6ac3\u7686\u652f\u6301\u8ca0\u8f09\u5e73\u8861\u5668\uff0c\u6703\u9020\u6210\u6311\u6230\u3002\u6216\u8005\u53ef\u80fd\u6c92\u6709\u8db3\u5920\u7b26\u5408\u6700\u4f4e\u898f\u683c\u7684\u6a5f\u6ac3\u53ef\u7528\u3002\u9047\u5230\u9019\u985e\u60c5\u6cc1\uff0c\u6700\u597d\u7684\u65b9\u5f0f\u662f\u78ba\u8a8d\u9700\u6c42\u8207\u5dee\u8ddd\uff0c\u4e26\u8207\u57fa\u790e\u8a2d\u65bd\u5718\u968a\u4e00\u540c\u89e3\u6c7a\u3002</p>"},{"location":"level102/networking/scale/#_5","title":"\u64f4\u5c55\u9078\u9805","text":"<p>\u7576\u61c9\u7528\u5206\u5e03\u5230\u591a\u500b\u6a5f\u6ac3\u6642\uff0c\u5fc5\u9808\u5c07\u6d41\u5165\u7684\u6d41\u91cf\u5206\u914d\u5230\u9019\u4e9b\u4f3a\u670d\u5668\u3002\u53ef\u8003\u616e\u4ee5\u4e0b\u65b9\u5f0f\uff1a</p>"},{"location":"level102/networking/scale/#anycast","title":"\u4efb\u64ad\uff08Anycast\uff09","text":"<p>\u9019\u662f\u8fc5\u901f\u5be6\u73fe\u8de8\u591a\u6a5f\u6ac3\u6d41\u91cf\u5206\u914d\u7684\u65b9\u5f0f\u3002\u6bcf\u500b\u670d\u52d9\u53e2\u96c6\u88e1\u7684\u4f3a\u670d\u5668\u90fd\u6703\u5411\u8cc7\u6599\u4e2d\u5fc3\u4ea4\u63db\u6a5f\u7db2\u8def\u5ee3\u544a\u4e00\u500b\u74b0\u8ff4\u5730\u5740\uff08IPv4 /32 \u6216 IPv6 /128 \u5730\u5740\uff09\uff0c\u901a\u5e38\u4f7f\u7528 BGP \u5354\u5b9a\u3002\u670d\u52d9\u8a2d\u5b9a\u76e3\u807d\u6b64\u74b0\u8ff4\u5730\u5740\u3002\u5ba2\u6236\u7aef\u5617\u8a66\u9023\u63a5\u670d\u52d9\u6642\uff0c\u6703\u89e3\u6790\u5230\u6b64\u865b\u64ec\u5730\u5740\u4e26\u8f49\u9001\u8acb\u6c42\u3002\u8cc7\u6599\u4e2d\u5fc3\u4ea4\u63db\u6a5f\u7db2\u8def\u6703\u5c07\u6bcf\u500b\u6d41\u91cf\u5c0e\u5411\u4e0d\u540c\u53ef\u7528\u7684\u4e0b\u4e00\u8df3\uff08\u6700\u7d42\u5206\u5e03\u5230\u8a72\u670d\u52d9\u53e2\u96c6\u7684\u6240\u6709\u4f3a\u670d\u5668\uff09\u3002</p> <p>\u6ce8\u610f\uff1a\u8cc7\u6599\u4e2d\u5fc3\u4ea4\u63db\u6a5f\u6703\u57fa\u65bc IP \u5c01\u5305\u8868\u982d\u8a08\u7b97\u96dc\u6e4a\u503c\uff0c\u53ef\u80fd\u5305\u542b\u4f86\u6e90\u8207\u76ee\u7684\u5730\u5740\u3001\u4f86\u6e90\u8207\u76ee\u7684\u57e0\u865f\u3001MAC \u5730\u5740\u53ca IP \u5354\u5b9a\u7de8\u865f\u7b49\u6df7\u5408\u3002\u6839\u64da\u6b64\u96dc\u6e4a\u503c\u6c7a\u5b9a\u4e0b\u4e00\u8df3\u3002\u7531\u65bc\u540c\u4e00\u6d41\u7684\u6240\u6709\u5c01\u5305\u8868\u982d\u503c\u76f8\u540c\uff0c\u56e0\u6b64\u8a72\u6d41\u5167\u7684\u6240\u6709\u5c01\u5305\u90fd\u6703\u8d70\u540c\u4e00\u8def\u5f91\u3002</p> <p></p> <p>\u5716 1\uff1a\u4efb\u64ad\u67b6\u69cb\u793a\u610f</p> <p>\u70ba\u9054\u6210\u6d41\u91cf\u5728\u4f3a\u670d\u5668\u9593\u7684\u5747\u52fb\u5206\u5e03\uff0c\u5fc5\u9808\u4fdd\u8b49\u5404\u6a5f\u6ac3\u548c\u53e2\u96c6\u914d\u7f6e\u7684\u7d71\u4e00\u6027\u3002\u4e0d\u904e\u4efb\u64ad\u662f\u57fa\u65bc\u6d41\uff08flow\uff09\u5206\u914d\uff0c\u82e5\u5b58\u5728\u5927\u578b\u6d41\u91cf\uff08elephant flows\uff09\uff0c\u90e8\u5206\u4f3a\u670d\u5668\u53ef\u80fd\u6703\u627f\u53d7\u8f03\u9ad8\u6d41\u91cf\u3002</p> <p>\u82e5\u67d0\u4f3a\u670d\u5668\u6216 ToR \u6545\u969c\uff0c\u8a72\u74b0\u8ff4\u5730\u5740\u7684\u5ee3\u544a\u6703\u505c\u6b62\uff0c\u65b0\u7684\u5c01\u5305\u5247\u6703\u5c0e\u5411\u5176\u4ed6\u4ecd\u53ef\u7528\u7684\u4f3a\u670d\u5668\u3002</p>"},{"location":"level102/networking/scale/#_6","title":"\u8ca0\u8f09\u5e73\u8861\u5668","text":"<p>\u53e6\u4e00\u5e38\u7528\u65b9\u5f0f\u662f\u8ca0\u8f09\u5e73\u8861\u5668\u3002\u900f\u904e\u8ca0\u8f09\u5e73\u8861\u5668\u8a2d\u7f6e\u4e00\u500b\u865b\u64ec IP\uff08VIP\uff09\uff0c\u5ba2\u6236\u7aef\u9023\u63a5\u6b64 VIP \u5b58\u53d6\u670d\u52d9\u3002\u8ca0\u8f09\u5e73\u8861\u5668\u5c07\u9023\u7dda\u91cd\u5b9a\u5411\u5230\u5be6\u969b\u57f7\u884c\u670d\u52d9\u7684\u4f3a\u670d\u5668\u4e4b\u4e00\u3002\u8ca0\u8f09\u5e73\u8861\u5668\u6703\u5b9a\u671f\u6aa2\u67e5\u4f3a\u670d\u5668\u5065\u5eb7\u72c0\u614b\uff0c\u82e5\u4f3a\u670d\u5668\u6aa2\u67e5\u4e0d\u901a\u904e\uff0c\u8ca0\u8f09\u5e73\u8861\u5668\u6703\u505c\u6b62\u5c07\u6d41\u91cf\u5206\u914d\u7d66\u8a72\u4f3a\u670d\u5668\u3002</p> <p>\u8ca0\u8f09\u5e73\u8861\u5668\u53ef\u90e8\u7f72\u5728\u55ae\u81c2\u6a21\u5f0f\uff08single-arm mode\uff09\uff0c\u6d41\u91cf\u5165 VIP \u5f8c\u7531\u8ca0\u8f09\u5e73\u8861\u5668\u8f49\u9001\uff0c\u800c\u4f3a\u670d\u5668\u56de\u61c9\u7684\u6d41\u91cf\u5247\u76f4\u63a5\u767c\u9001\u7d66\u5ba2\u6236\u7aef\uff1b\u53e6\u4e00\u7a2e\u70ba\u96d9\u81c2\u6a21\u5f0f\uff08two-arm mode\uff09\uff0c\u5247\u6d41\u91cf\u7684\u96d9\u5411\u90fd\u6703\u901a\u904e\u8ca0\u8f09\u5e73\u8861\u5668\u3002</p> <p></p> <p>\u5716 2\uff1a\u55ae\u81c2\u6a21\u5f0f</p> <p></p> <p>\u5716 3\uff1a\u96d9\u81c2\u6a21\u5f0f</p> <p>\u6b64\u6cd5\u7f3a\u9ede\u4e4b\u4e00\u70ba\uff0c\u5728\u5927\u898f\u6a21\u74b0\u5883\u4e0b\uff0c\u8ca0\u8f09\u5e73\u8861\u5668\u53ef\u80fd\u6210\u70ba\u74f6\u9838\uff0c\u9650\u5236\u9ad8\u6d41\u91cf\u91cf\u6216\u9ad8\u4f75\u767c\u9023\u7dda\u6578\u3002</p>"},{"location":"level102/networking/scale/#dns","title":"\u57fa\u65bc DNS \u7684\u8ca0\u8f09\u5e73\u8861","text":"<p>\u6b64\u6cd5\u985e\u4f3c\u4e0a\u8ff0\u8ca0\u8f09\u5e73\u8861\u5668\u65b9\u6848\uff0c\u4e0d\u540c\u9ede\u5728\u65bc\u8ca0\u8f09\u5e73\u8861\u662f\u7531 DNS \u57f7\u884c\u3002\u7576\u5ba2\u6236\u7aef\u67e5\u8a62\u670d\u52d9\u7684 DNS \u8a18\u9304\u6642\uff0cDNS \u6703\u56de\u50b3\u4e0d\u540c\u4f3a\u670d\u5668\u7684 IP \u4f4d\u5740\u4ee5\u5206\u6563\u6d41\u91cf\u3002DNS \u4f3a\u670d\u5668\u9808\u57f7\u884c\u5065\u5eb7\u6aa2\u67e5\uff0c\u4ee5\u5224\u65b7\u54ea\u4e9b\u4f3a\u670d\u5668\u8655\u65bc\u6b63\u5e38\u72c0\u614b\u3002</p> <p>\u6b64\u65b9\u6cd5\u53ef\u6e1b\u8f15\u8ca0\u8f09\u5e73\u8861\u5668\u7684\u74f6\u9838\u554f\u984c\uff0c\u4f46\u9700\u8981\u8f03\u77ed\u7684 DNS \u8a18\u9304 TTL\uff0c\u4ee5\u4fbf\u5feb\u901f\u5c07\u6545\u969c\u4f3a\u670d\u5668\u6392\u9664\u51fa\u8f2a\u66ff\uff0c\u9019\u4e5f\u610f\u5473\u8457 DNS \u67e5\u8a62\u91cf\u6703\u5927\u5e45\u589e\u52a0\u3002</p>"},{"location":"level102/networking/security/","title":"Security","text":"<p>\u672c\u7bc0\u5c07\u6db5\u84cb\u9762\u5c0d\u5916\u90e8/\u5167\u90e8\u5ba2\u6236\u4e4b\u670d\u52d9\u6240\u9762\u81e8\u7684\u5a01\u8105\u5411\u91cf\uff0c\u4ee5\u53ca\u90e8\u7f72\u6642\u53ef\u8003\u616e\u7684\u6f5b\u5728\u7de9\u89e3\u9078\u9805\u3002\u5167\u5bb9\u5c07\u6d89\u53ca\u5468\u908a\u5b89\u5168\u3001DDoS \u9632\u8b77\u3001\u7db2\u8def\u5283\u5206\u53ca\u904b\u71df\u5be6\u52d9\u3002</p>"},{"location":"level102/networking/security/#_1","title":"\u5b89\u5168\u5a01\u8105","text":"<p>\u5b89\u5168\u6027\u662f\u4efb\u4f55\u57fa\u790e\u8a2d\u65bd\u7684\u4e3b\u8981\u8003\u91cf\u4e4b\u4e00\u3002\u5b58\u5728\u5404\u7a2e\u5b89\u5168\u5a01\u8105\uff0c\u53ef\u80fd\u5c0e\u81f4\u8cc7\u6599\u7aca\u53d6\u3001\u670d\u52d9\u4e2d\u65b7\u3001\u8a50\u6b3a\u6d3b\u52d5\u7b49\u3002\u653b\u64ca\u8005\u53ef\u80fd\u4f7f\u7528\u91e3\u9b5a\u3001\u5783\u573e\u90f5\u4ef6\u3001\u60e1\u610f\u8edf\u9ad4\u3001Dos/DDoS \u653b\u64ca\u3001\u6f0f\u6d1e\u5229\u7528\u3001\u4e2d\u9593\u4eba\u653b\u64ca\u7b49\u591a\u7a2e\u6280\u8853\u3002\u5728\u672c\u7bc0\u4e2d\uff0c\u6211\u5011\u5c07\u4ecb\u7d39\u90e8\u5206\u5a01\u8105\u53ca\u5176\u53ef\u80fd\u7684\u7de9\u89e3\u63aa\u65bd\u3002\u7531\u65bc\u653b\u64ca\u53ca\u9632\u8b77\u624b\u6cd5\u773e\u591a\uff0c\u6211\u5011\u5c07\u53ea\u805a\u7126\u65bc\u8f03\u5e38\u898b\u7684\u5e7e\u7a2e\u3002</p> <p>\u91e3\u9b5a (Phishing) \u591a\u900f\u904e\u96fb\u5b50\u90f5\u4ef6\uff08\u53ca\u5176\u4ed6\u5927\u773e\u901a\u8a0a\u65b9\u5f0f\uff09\u9032\u884c\uff0c\u653b\u64ca\u8005\u6703\u63d0\u4f9b\u507d\u9020\u7684\u7db2\u7ad9/\u7db2\u5740\u9023\u7d50\u3002\u53d7\u5bb3\u8005\u9ede\u64ca\u5f8c\uff0c\u654f\u611f\u8cc7\u8a0a\u5982\u767b\u5165\u6191\u8b49\u6216\u500b\u4eba\u8cc7\u6599\u6703\u88ab\u6536\u96c6\u4e26\u53ef\u80fd\u906d\u6feb\u7528\u3002</p> <p>\u5783\u573e\u90f5\u4ef6 (Spamming) \u8207\u91e3\u9b5a\u76f8\u4f3c\uff0c\u4f46\u653b\u64ca\u8005\u4e0d\u6536\u96c6\u7528\u6236\u8cc7\u6599\uff0c\u800c\u662f\u8a66\u5716\u5c0d\u7279\u5b9a\u7db2\u7ad9\u767c\u9001\u5927\u91cf\u5783\u573e\u8a0a\u606f\uff0c\u53ef\u80fd\u5c0e\u81f4\u7db2\u7ad9\u8ca0\u8f09\u904e\u91cd\u8b8a\u6162\uff0c\u9032\u800c\u8d81\u6a5f\u5371\u5bb3\u8a72\u7db2\u7ad9\u7684\u5b89\u5168\u3002</p> <p>\u60e1\u610f\u8edf\u9ad4 (Malware) \u5982\u7279\u6d1b\u4f0a\u6728\u99ac\uff0c\u653b\u64ca\u8005\u6703\u5728\u57fa\u790e\u8a2d\u65bd\u7684\u5b89\u5168\u7cfb\u7d71\u4e2d\u690d\u5165\u60e1\u610f\u7a0b\u5f0f\u78bc\u3002\u85c9\u7531\u6b64\u624b\u6bb5\uff0c\u99ed\u5ba2\u5f97\u4ee5\u8490\u96c6\u654f\u611f\u8cc7\u6599\uff0c\u4e26\u611f\u67d3\u76ee\u6a19\u516c\u53f8\u7684\u95dc\u9375\u670d\u52d9\u3002</p> <p>\u6f0f\u6d1e\u5229\u7528 (Exploiting vulnerabilities) \u653b\u64ca\u8005\u5229\u7528\u7cfb\u7d71\u6f0f\u6d1e\u7372\u53d6\u5b58\u53d6\u6b0a\u9650\uff0c\u9019\u4e9b\u6f0f\u6d1e\u53ef\u80fd\u4f86\u81ea\u7db2\u9801\u4f3a\u670d\u5668\u3001\u9762\u5411\u7db2\u969b\u7db2\u8def\u7684\u8def\u7531\u5668/\u4ea4\u63db\u5668/\u9632\u706b\u7246\u7b49\u7684\u932f\u8aa4\u8a2d\u5b9a\u6216\u7a0b\u5f0f\u7f3a\u9677\u3002</p> <p>\u963b\u65b7\u670d\u52d9\u653b\u64ca (DoS/DDoS) \u662f\u4e92\u806f\u7db2\u670d\u52d9\u4e2d\u5e38\u898b\u653b\u64ca\uff0c\u5c24\u5176\u91dd\u5c0d\u4f9d\u8cf4\u700f\u89bd\u91cf\u7684\u5546\u696d\u6a21\u5f0f\u3002\u653b\u64ca\u8005\u900f\u904e\u5927\u91cf\u507d\u9020\u6d41\u91cf\u6df9\u6c92\u53d7\u5bb3\u8005\u7684\u5c0d\u5916\u670d\u52d9\uff0c\u5c0e\u81f4\u670d\u52d9\u8b8a\u6162\u6216\u7121\u97ff\u61c9\uff0c\u540c\u6642\u53ef\u80fd\u8d81\u6a5f\u5165\u4fb5\u7db2\u8def\uff0c\u7279\u5225\u662f\u7576\u5b89\u5168\u6a5f\u5236\u56e0\u8d85\u8f09\u7121\u6cd5\u904e\u6ffe\u653b\u64ca\u6d41\u91cf\u6642\u3002</p>"},{"location":"level102/networking/security/#_2","title":"\u4fdd\u8b77\u57fa\u790e\u8a2d\u65bd","text":"<p>\u4efb\u4f55\u57fa\u790e\u8a2d\u65bd\u7ba1\u7406\u7684\u9996\u8981\u4efb\u52d9\u662f\u8fa8\u8b58\u53ef\u80fd\u5f71\u97ff\u696d\u52d9\u7684\u5404\u7a2e\u5b89\u5168\u5a01\u8105\u3002\u4e86\u89e3\u4e0d\u540c\u5a01\u8105\u5f8c\uff0c\u5fc5\u9808\u8a2d\u8a08\u8207\u5be6\u65bd\u76f8\u61c9\u7684\u9632\u79a6\u6a5f\u5236\u3002\u5e38\u898b\u4fdd\u8b77\u57fa\u790e\u8a2d\u65bd\u7684\u65b9\u6cd5\u5305\u62ec\uff1a</p>"},{"location":"level102/networking/security/#perimeter-security","title":"\u5468\u908a\u5b89\u5168\uff08Perimeter security\uff09","text":"<p>\u70ba\u57fa\u790e\u8a2d\u65bd\u7684\u7b2c\u4e00\u9053\u9632\u7dda\uff0c\u904e\u6ffe\u6216\u5c01\u9396\u4e0d\u5fc5\u8981\u6216\u610f\u5916\u9032\u5165\u7684\u6d41\u91cf\u3002\u53ef\u5728\u908a\u754c\u8def\u7531\u5668\u8a2d\u7f6e\u904e\u6ffe\u5668\uff0c\u53ea\u5141\u8a31\u9810\u671f\u670d\u52d9\uff08\u5982\u57e0\u865f443\u7684HTTPS\u6d41\u91cf\uff09\u901a\u904e\uff0c\u4e26\u5c01\u9396\u4e0d\u5fc5\u8981\u7684\u6d41\u91cf\uff0c\u4f8b\u5982\u5982\u679c\u670d\u52d9\u4e0d\u4f9d\u8cf4UDP\uff0c\u53ef\u5c01\u9396UDP\u57e0\u3002</p> <p>\u9664\u4e86\u61c9\u7528\u6d41\u91cf\u5916\uff0c\u9084\u6709\u5176\u4ed6\u6d41\u91cf\u5982BGP\u8a0a\u606f\uff08\u8207\u7db2\u969b\u7db2\u8def\u5c0d\u7b49\u9ad4\u7684\u9023\u7dda\uff09\u3001VPN\u96a7\u9053\u6d41\u91cf\u53ca\u96fb\u5b50\u90f5\u4ef6/DNS\u7b49\u670d\u52d9\u3002\u5404\u985e\u6d41\u91cf\u5747\u6709\u4fdd\u8b77\u65b9\u6cd5\uff0c\u4f8b\u5982\u5c0dBGP\u548cVPN\u5c0d\u7b49\u9ad4\u8a2d\u5b9a\u8a8d\u8b49\u6a5f\u5236\uff08\u5bc6\u78bc\u6216\u91d1\u9470\uff09\uff0c\u4e26\u4f7f\u7528\u767d\u540d\u55ae\u9650\u5236\u7279\u5b9a\u5c0d\u7b49\u9ad4\u53ef\u9032\u884c\u7684\u5165\u7ad9\u9023\u7dda\uff0c\u540c\u6642\u5c0d\u8a0a\u606f\u91cf\u8207\u6d41\u91cf\u8a2d\u5b9a\u901f\u7387\u9650\u5236\uff0c\u4ee5\u907f\u514d\u8cc7\u6e90\u904e\u8f09\u3002</p>"},{"location":"level102/networking/security/#ddos","title":"DDoS \u7de9\u89e3","text":"<p>\u9632\u8b77 DDoS \u653b\u64ca\u662f\u53e6\u4e00\u91cd\u8981\u74b0\u7bc0\u3002\u653b\u64ca\u6d41\u91cf\u5728\u5916\u89c0\u4e0a\u985e\u4f3c\u5408\u6cd5\u7528\u6236\u6216\u5ba2\u6236\u7aef\u8acb\u6c42\uff0c\u4f46\u76ee\u7684\u662f\u6df9\u6c92\u5c0d\u5916\u61c9\u7528\uff0c\u4f8b\u5982\u7db2\u9801\u4f3a\u670d\u5668\u3001DNS\u7b49\u3002\u56e0\u6b64\uff0c\u5340\u5206\u653b\u64ca\u6d41\u91cf\u8207\u6b63\u5e38\u6d41\u91cf\u5341\u5206\u95dc\u9375\u3002\u5e38\u898b\u65b9\u6cd5\u6709\u5728\u7db2\u9801\u4e0a\u4f7f\u7528\u9a57\u8b49\u78bc\uff08Captcha\uff09\uff0c\u7528\u4ee5\u8fa8\u8b58\u53ca\u904e\u6ffe\u7531\u6a5f\u5668\u4eba\u767c\u8d77\u7684\u6d41\u91cf\u3002</p> <p>\u70ba\u4f7f\u9019\u4e9b\u65b9\u6cd5\u6709\u6548\uff0c\u7bc0\u9ede\u9700\u80fd\u540c\u6642\u8655\u7406\u653b\u64ca\u6d41\u91cf\u8207\u6b63\u5e38\u6d41\u91cf\u3002\u96f2\u7aef\u57fa\u790e\u8a2d\u65bd\u53ef\u80fd\u53ef\u52d5\u614b\u589e\u52a0\u865b\u64ec\u6a5f\u5668\u6216\u8cc7\u6e90\u61c9\u5c0d\u6d41\u91cf\u6fc0\u589e\uff0c\u4f46\u5728\u672c\u5730\u90e8\u7f72\u5247\u8f03\u96e3\u8ffd\u52a0\u8cc7\u6e90\u3002</p> <p>\u91dd\u5c0d\u5927\u91cf\u653b\u64ca\u6d41\u91cf\uff0c\u6709\u89e3\u6c7a\u65b9\u6848\u53ef\u6aa2\u67e5\u5c01\u5305\u8207\u6d41\u91cf\u6a21\u5f0f\uff0c\u8fa8\u8b58\u7570\u5e38\u884c\u70ba\uff0c\u5982\u5ba2\u6236\u7aef\u555f\u52d5TCP\u9023\u7dda\u4f46\u672a\u5b8c\u6210\u4e09\u6b21\u63e1\u624b\uff0c\u6216\u7279\u5b9a\u4f86\u6e90\u6d41\u91cf\u7570\u5e38\u9f90\u5927\u3002\u4e00\u65e6\u78ba\u5b9a\u70ba\u653b\u64ca\u6d41\u91cf\uff0c\u4fbf\u65bc\u7db2\u8def\u908a\u7de3\u5373\u963b\u64cb\uff0c\u4fdd\u8b77\u61c9\u7528\u8cc7\u6e90\u3002\u6b64\u8b70\u984c\u9f90\u5927\uff0c\u8d85\u51fa\u672c\u7bc0\u7bc4\u570d\u3002</p>"},{"location":"level102/networking/security/#network-demarcation","title":"\u7db2\u8def\u5283\u5206\uff08Network Demarcation\uff09","text":"<p>\u4f9d\u64da\u61c9\u7528\u7684\u5b89\u5168\u9700\u6c42\u8207\u653b\u64ca\u98a8\u96aa\uff0c\u5c07\u61c9\u7528\u7bc0\u9ede\u5206\u5340\u7ba1\u7406\u3002\u5e38\u898b\u505a\u6cd5\u662f\u5c07\u5916\u90e8/\u516c\u5171\u7db2\u8def\u7bc0\u9ede\u5283\u5206\u81f3\u7368\u7acb\u5340\u57df\uff0c\u6301\u6709\u654f\u611f\u8cc7\u6599\u4e4b\u7bc0\u9ede\u5247\u5206\u81f3\u53e6\u4e00\u5340\u3002\u5340\u57df\u9593\u901a\u8a0a\u53d7\u9650\uff0c\u900f\u904e\u5b89\u5168\u5de5\u5177\u9650\u5236\u975e\u5fc5\u8981\u4e3b\u6a5f/\u57e0\u5b58\u53d6\uff0c\u7a31\u70ba\u300c\u570d\u7c6c\u9632\u8b77\uff08ring-fencing\uff09\u300d\u3002\u5283\u5206\u5340\u57df\u6578\u91cf\u4f9d\u90e8\u7f72\u4e0d\u540c\u800c\u7570\uff0c\u4f8b\u5982\u4ee3\u7406\u4f3a\u670d\u5668\u3001\u96fb\u5b50\u90f5\u4ef6\u4f3a\u670d\u5668\u540c\u6642\u9700\u8207\u5916\u90e8\u8207\u5167\u90e8\u901a\u8a0a\uff0c\u53ef\u5171\u7f6e\u65bc\u4e00\u5340\uff0c\u7a31\u70ba\u975e\u8ecd\u4e8b\u5340\uff08DMZ\uff09\u3002\u5340\u57df\u5283\u5206\u6709\u52a9\u65bc\u5373\u4f7f\u55ae\u4e00\u4e3b\u6a5f\u906d\u5165\u4fb5\uff0c\u4e5f\u4e0d\u81f3\u65bc\u6210\u70ba\u6574\u9ad4\u57fa\u790e\u8a2d\u65bd\u5f8c\u9580\u3002</p>"},{"location":"level102/networking/security/#_3","title":"\u7bc0\u9ede\u4fdd\u8b77","text":"<p>\u7121\u8ad6\u662f\u4f3a\u670d\u5668\u3001\u8def\u7531\u5668\u3001\u4ea4\u63db\u5668\u3001\u8ca0\u8f09\u5e73\u8861\u5668\u3001\u9632\u706b\u7246\u7b49\uff0c\u5747\u5177\u5099\u57fa\u672c\u81ea\u6211\u4fdd\u8b77\u529f\u80fd\uff0c\u4f8b\u5982\u904e\u6ffe\u898f\u5247\uff08\u5982Access-list\u3001Iptables\uff09\u4ee5\u63a7\u5236\u5141\u8a31\u8207\u62d2\u7d55\u7684\u6d41\u91cf\u3002\u4f3a\u670d\u5668\u9084\u53ef\u5b89\u88dd\u9632\u6bd2\u8edf\u9ad4\u6aa2\u67e5\u7cfb\u7d71\u5167\u8edf\u9ad4\u5b89\u5168\u3002</p>"},{"location":"level102/networking/security/#_4","title":"\u904b\u71df\u5be6\u52d9","text":"<p>\u57fa\u790e\u8a2d\u65bd\u9762\u81e8\u773e\u591a\u5b89\u5168\u5a01\u8105\uff0c\u9632\u79a6\u65b9\u6848\u591a\u6a23\uff0c\u95dc\u9375\u5728\u65bc\u6c7a\u5b9a\u9069\u7576\u5de5\u5177\u53ca\u65b9\u6848\uff0c\u4e26\u78ba\u4fdd\u5efa\u7acb\u5065\u5168\u7684\u904b\u71df\u7a0b\u5e8f\uff0c\u80fd\u5728\u5b89\u5168\u4e8b\u4ef6\u767c\u751f\u6642\u8fc5\u901f\u3001\u679c\u65b7\u4e14\u660e\u78ba\u5730\u56de\u61c9\u3002</p>"},{"location":"level102/networking/security/#sop","title":"\u6a19\u6e96\u4f5c\u696d\u7a0b\u5e8f\uff08SOP\uff09","text":"<p>SOP\u61c9\u660e\u78ba\u5b9a\u7fa9\uff0c\u4f9b\u503c\u73ed\u4eba\u54e1\u65bc\u5b89\u5168\u4e8b\u4ef6\u6642\u4f9d\u5faa\u3002\u5167\u5bb9\u5305\u542b\uff1a</p> <ul> <li> <p>\u5b89\u5168\u4e8b\u4ef6\u767c\u751f\u6642\uff0c\u5982\u4f55\u8207\u8ab0\u9032\u884c\u8b66\u793a\u901a\u77e5\u3002</p> </li> <li> <p>\u8a55\u4f30\u5b89\u5168\u4e8b\u4ef6\u898f\u6a21\u8207\u56b4\u91cd\u6027\u3002</p> </li> <li> <p>\u5347\u7d1a\u806f\u7d61\u9ede\u53ca\u5176\u901a\u77e5\u9580\u6abb\u8207\u6642\u9593\uff0c\u5305\u62ec\u76f8\u95dc\u5718\u968a\u3001\u7ba1\u7406\u5c64\u6216\u5b89\u5168\u904b\u71df\u8ca0\u8cac\u4eba\u3002</p> </li> <li> <p>\u4f7f\u7528\u4f55\u7a2e\u65b9\u6848\u53ca\u57f7\u884c\u7a0b\u5e8f\u4f86\u7de9\u89e3\u5b89\u5168\u4e8b\u4ef6\u3002</p> </li> <li> <p>\u6536\u96c6\u5b89\u5168\u4e8b\u4ef6\u76f8\u95dc\u8cc7\u6599\u4ee5\u4f9b\u4e8b\u5f8c\u5206\u6790\u3002</p> </li> </ul> <p>\u8a31\u591a\u7d44\u7e54\u8a2d\u6709\u5c08\u8cac\u5b89\u5168\u5718\u968a\uff0c\u8ca0\u8cac\u653b\u64ca\u671f\u9593\u4ee5\u53ca\u4e8b\u524d\u5236\u5b9a\u6700\u4f73\u5be6\u52d9\u3001\u6307\u5c0e\u65b9\u91dd\u53ca\u5408\u898f\u7a3d\u6838\u3002\u5404\u6280\u8853\u5718\u968a\u9700\u78ba\u4fdd\u57fa\u790e\u8a2d\u65bd\u7b26\u5408\u5efa\u8b70\uff0c\u4e26\u4fee\u88dc\u5b89\u5168\u6f0f\u6d1e\u3002</p>"},{"location":"level102/networking/security/#_5","title":"\u5b9a\u671f\u5be9\u67e5","text":"<p>\u9664\u5236\u5b9a SOP \u5916\uff0c\u61c9\u5b9a\u671f\u6aa2\u8996\u6574\u9ad4\u57fa\u790e\u8a2d\u65bd\u5b89\u5168\uff0c\u5305\u62ec\uff1a</p> <ul> <li> <p>\u8fa8\u8b58\u53ef\u80fd\u65b0\u51fa\u73fe\u6216\u6539\u9032\u7684\u5b89\u5168\u5a01\u8105\u3002</p> </li> <li> <p>\u5b9a\u671f\u6aa2\u8a0e SOP\uff0c\u56e0\u61c9\u65b0\u5a01\u8105\u6216\u7a0b\u5e8f\u8b8a\u52d5\u3002</p> </li> <li> <p>\u78ba\u4fdd\u8edf\u9ad4\u5347\u7d1a/\u4fee\u88dc\u53ca\u6642\u5b8c\u6210\u3002</p> </li> <li> <p>\u7a3d\u6838\u57fa\u790e\u8a2d\u65bd\u662f\u5426\u7b26\u5408\u5b89\u5168\u6a19\u6e96\u3002</p> </li> <li> <p>\u6aa2\u8a0e\u8fd1\u671f\u5b89\u5168\u4e8b\u4ef6\uff0c\u5c0b\u6c42\u5f37\u5316\u9632\u8b77\u6a5f\u5236\u7684\u65b9\u6848\u3002</p> </li> </ul>"},{"location":"level102/system_calls_and_signals/conclusion/","title":"\u7d50\u8ad6","text":"<p>SRE \u7684\u4e3b\u8981\u76ee\u6a19\u4e4b\u4e00\u662f\u63d0\u5347\u9ad8\u898f\u6a21\u7cfb\u7d71\u7684\u53ef\u9760\u6027\u3002\u70ba\u4e86\u9054\u6210\u9019\u500b\u76ee\u6a19\uff0c\u5c0d\u7cfb\u7d71\u5167\u90e8\u904b\u4f5c\u7684\u57fa\u672c\u7406\u89e3\u662f\u5fc5\u8981\u7684\u3002</p> <p>\u4e86\u89e3\u4fe1\u865f\u7684\u904b\u4f5c\u65b9\u5f0f\u975e\u5e38\u91cd\u8981\uff0c\u56e0\u70ba\u4fe1\u865f\u5728\u7a0b\u5e8f\u7684\u751f\u547d\u9031\u671f\u4e2d\u626e\u6f14\u8457\u91cd\u8981\u89d2\u8272\u3002\u6211\u5011\u53ef\u4ee5\u770b\u5230\u4fe1\u865f\u5728\u591a\u7a2e\u7a0b\u5e8f\u64cd\u4f5c\u4e2d\u7684\u4f7f\u7528\uff1a\u5f9e\u5efa\u7acb\u7a0b\u5e8f\u5230\u7d42\u6b62\u7a0b\u5e8f\u3002\u5c0d\u4fe1\u865f\u7684\u8a8d\u8b58\u5c24\u5176\u91cd\u8981\uff0c\u7576\u4f60\u5728\u7a0b\u5f0f\u4e2d\u8655\u7406\u4fe1\u865f\u6642\uff0c\u5982\u679c\u9810\u671f\u6703\u6709\u89f8\u767c\u4fe1\u865f\u7684\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u5b9a\u7fa9\u4e00\u500b\u8655\u7406\u51fd\u5f0f\u4e26\u544a\u8a34\u4f5c\u696d\u7cfb\u7d71\uff0c\u5728\u6536\u5230\u8a72\u7a2e\u985e\u578b\u7684\u4fe1\u865f\u6642\u57f7\u884c\u9019\u500b\u51fd\u5f0f\u3002</p> <p>\u7406\u89e3\u7cfb\u7d71\u547c\u53eb\u5c0d SRE \u5728\u9664\u932f\u4efb\u4f55 Linux \u7a0b\u5f0f\u6642\u5c24\u5176\u6709\u7528\u3002\u7cfb\u7d71\u547c\u53eb\u63d0\u4f9b\u5c0d\u4f5c\u696d\u7cfb\u7d71\u5167\u90e8\u529f\u80fd\u7684\u7cbe\u78ba\u8a8d\u8b58\uff0c\u4e26\u8b93\u7a0b\u5f0f\u8a2d\u8a08\u4eba\u54e1\u5c0d C \u51fd\u5f0f\u5eab\u4e2d\u5728\u8f03\u4f4e\u5c64\u5be6\u4f5c\u7cfb\u7d71\u547c\u53eb\u7684\u65b9\u5f0f\u6709\u6df1\u5165\u7406\u89e3\u3002\u5229\u7528 strace \u6307\u4ee4\uff0c\u53ef\u4ee5\u8f15\u9b06\u5730\u9664\u932f\u57f7\u884c\u7de9\u6162\u6216\u7576\u6389\u7684\u7a0b\u5e8f\u3002</p>"},{"location":"level102/system_calls_and_signals/conclusion/#_2","title":"\u5ef6\u4f38\u95b1\u8b80","text":"<p>https://www.oreilly.com/library/view/understanding-the-linux/0596002130/ch01s06.html</p> <p>https://jvns.ca/blog/2021/04/03/what-problems-do-people-solve-with-strace/</p> <p>https://medium.com/@akhandmishra/important-system-calls-every-programmer-should-know-8884381ceadb</p> <p>https://www.brendangregg.com/blog/2014-05-11/strace-wow-much-syscall.html</p>"},{"location":"level102/system_calls_and_signals/intro/","title":"\u7cfb\u7d71\u547c\u53eb\u8207\u8a0a\u865f","text":""},{"location":"level102/system_calls_and_signals/intro/#_2","title":"\u9810\u5099\u77e5\u8b58","text":"<ul> <li>Linux \u57fa\u790e</li> <li>Python \u57fa\u790e</li> </ul>"},{"location":"level102/system_calls_and_signals/intro/#_3","title":"\u9019\u9580\u8ab2\u7a0b\u7684\u9810\u671f\u5b78\u7fd2\u6210\u679c","text":"<p>\u672c\u8ab2\u7a0b\u6db5\u84cb\u8a0a\u865f\u8207\u7cfb\u7d71\u547c\u53eb\u7684\u57fa\u672c\u7406\u89e3\u3002\u95e1\u660e\u8a0a\u865f\u8207\u7cfb\u7d71\u547c\u53eb\u7684\u77e5\u8b58\u5c0d SRE \u7684\u5e6b\u52a9\u3002</p>"},{"location":"level102/system_calls_and_signals/intro/#_4","title":"\u8ab2\u7a0b\u672a\u6db5\u84cb\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u4e0d\u8a0e\u8ad6\u8a0a\u865f\u4ee5\u5916\u7684\u5176\u4ed6\u4e2d\u65b7\u6216\u4e2d\u65b7\u8655\u7406\u3002\u8ab2\u7a0b\u4e0d\u6703\u6df1\u5165\u63a2\u8a0e\u8a0a\u865f\u8655\u7406\u51fd\u5f0f\u8207 GNU C \u51fd\u5f0f\u5eab\u3002</p>"},{"location":"level102/system_calls_and_signals/intro/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ul> <li>\u8a0a\u865f<ul> <li>\u4e2d\u65b7\u8207\u8a0a\u865f\u7c21\u4ecb</li> <li>\u8a0a\u865f\u985e\u578b</li> <li>\u50b3\u9001\u8a0a\u865f\u7d66\u7a0b\u5e8f</li> <li>\u8a0a\u865f\u8655\u7406</li> <li>\u8a0a\u865f\u5728\u7cfb\u7d71\u547c\u53eb\u7684\u89d2\u8272\uff0c\u4ee5 wait() \u70ba\u4f8b</li> </ul> </li> <li>\u7cfb\u7d71\u547c\u53eb<ul> <li>\u7c21\u4ecb</li> <li>\u7cfb\u7d71\u547c\u53eb\u985e\u578b</li> <li>\u4f7f\u7528\u8005\u6a21\u5f0f\u3001\u6838\u5fc3\u6a21\u5f0f\u53ca\u5176\u5207\u63db</li> <li>write() \u7cfb\u7d71\u547c\u53eb\u904b\u4f5c\u539f\u7406</li> <li>\u4f7f\u7528 strace \u65bc Linux \u9664\u932f</li> </ul> </li> </ul>"},{"location":"level102/system_calls_and_signals/signals/","title":"Signals","text":""},{"location":"level102/system_calls_and_signals/signals/#_1","title":"\u4e2d\u65b7\u8207\u8a0a\u865f\u7c21\u4ecb","text":"<p>\u4e2d\u65b7\u662f\u6539\u8b8a\u7a0b\u5f0f\u6b63\u5e38\u57f7\u884c\u6d41\u7a0b\u7684\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u7531\u786c\u9ad4\u8a2d\u5099\u6216CPU\u672c\u8eab\u7522\u751f\u3002\u7576\u4e2d\u65b7\u767c\u751f\u6642\uff0c\u73fe\u884c\u57f7\u884c\u6d41\u7a0b\u6703\u66ab\u505c\u4e26\u57f7\u884c\u4e2d\u65b7\u8655\u7406\u7a0b\u5e8f\u3002\u4e2d\u65b7\u8655\u7406\u7a0b\u5e8f\u57f7\u884c\u5b8c\u5f8c\uff0c\u5148\u524d\u7684\u57f7\u884c\u6d41\u7a0b\u5c07\u7e7c\u7e8c\u3002\u5c0e\u81f4 CPU \u4e2d\u65b7\u7684\u4e8b\u4ef6\u6709\u4e09\u985e\uff1a\u786c\u9ad4\u4e2d\u65b7\u3001\u8edf\u9ad4\u4e2d\u65b7\u8207\u4f8b\u5916\u72c0\u6cc1\u3002</p> <p>\u8a0a\u865f\uff08signals\uff09\u672c\u8cea\u4e0a\u662f\u901a\u77e5\u7a0b\u5e8f\u4e8b\u4ef6\u5df2\u767c\u751f\u7684\u8edf\u9ad4\u4e2d\u65b7\u3002\u9019\u4e9b\u4e8b\u4ef6\u53ef\u80fd\u662f\u4f7f\u7528\u8005\u8acb\u6c42\u6216\u7cfb\u7d71\u554f\u984c\uff08\u5982\u8a18\u61b6\u9ad4\u5b58\u53d6\u932f\u8aa4\uff09\u7684\u6307\u793a\u3002\u6bcf\u500b\u8a0a\u865f\u90fd\u6709\u5176\u8a0a\u865f\u7de8\u865f\u8207\u9810\u8a2d\u52d5\u4f5c\u3002\u4e00\u500b\u7a0b\u5e8f\u53ef\u4ee5\u7528\u4ee5\u4e0b\u4e09\u7a2e\u65b9\u5f0f\u56de\u61c9\u8a0a\u865f\uff1a</p> <ul> <li>\u63a1\u7528\u7cfb\u7d71\u63d0\u4f9b\u7684\u9810\u8a2d\u65b9\u5f0f</li> <li>\u6355\u6349\u8a0a\u865f\uff0c\u4e26\u4ee5\u7a0b\u5f0f\u5b9a\u7fa9\u7684\u65b9\u5f0f\u8655\u7406</li> <li>\u5b8c\u5168\u5ffd\u7565\u8a72\u8a0a\u865f</li> </ul>"},{"location":"level102/system_calls_and_signals/signals/#_2","title":"\u8a0a\u865f\u7a2e\u985e\u7fa4\u7d44","text":"<p>\u8a0a\u865f\u5927\u81f4\u53ef\u5206\u70ba\u5169\u985e\u3002\u7b2c\u4e00\u985e\u662f\u50b3\u7d71\u6216\u6a19\u6e96\u8a0a\u865f\uff0c\u7531\u6838\u5fc3(kernel)\u7528\u4f86\u901a\u77e5\u7a0b\u5e8f\u4e8b\u4ef6\u3002\u5728 Linux \u4e2d\uff0c\u6a19\u6e96\u8a0a\u865f\u7de8\u865f\u70ba 1 \u81f3 31\u3002\u53e6\u4e00\u985e\u662f\u5373\u6642\u8a0a\u865f (realtime signals)\uff0cLinux \u540c\u6642\u652f\u63f4 POSIX \u53ef\u53ef\u9760\u8a0a\u865f\uff08\u4e0b\u7a31\u300c\u6a19\u6e96\u8a0a\u865f\u300d\uff09\u8207 POSIX \u5373\u6642\u8a0a\u865f\u3002</p>"},{"location":"level102/system_calls_and_signals/signals/#_3","title":"\u5373\u6642\u8a0a\u865f","text":"<p>POSIX.1b \u5b9a\u7fa9\u4e86\u5373\u6642\u8a0a\u865f\u7528\u4ee5\u5f4c\u88dc\u6a19\u6e96\u8a0a\u865f\u7684\u82e5\u5e72\u9650\u5236\u3002\u8207\u6a19\u6e96\u8a0a\u865f\u76f8\u6bd4\uff0c\u5373\u6642\u8a0a\u865f\u7684\u512a\u9ede\u5305\u62ec\uff1a</p> <ul> <li>\u63d0\u4f9b\u66f4\u5ee3\u6cdb\u7684\u8a0a\u865f\u7bc4\u570d\uff0c\u53ef\u7528\u65bc\u61c9\u7528\u7a0b\u5f0f\u81ea\u8a02\u76ee\u7684\u3002\u6a19\u6e96\u8a0a\u865f\u4e2d\u53ea\u6709 SIGUSR1 \u548c SIGUSR2 \u662f\u53ef\u4f9b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\u7684\u5169\u500b\u3002</li> <li>\u5373\u6642\u8a0a\u865f\u53ef\u6392\u968a\u3002\u5982\u679c\u591a\u500b\u76f8\u540c\u7684\u5373\u6642\u8a0a\u865f\u767c\u9001\u81f3\u540c\u4e00\u7a0b\u5e8f\uff0c\u8a0a\u865f\u6703\u88ab\u591a\u6b21\u9001\u9054\u3002\u6a19\u6e96\u8a0a\u865f\u82e5\u5df2\u5728\u5f85\u8655\u7406\u72c0\u614b\uff0c\u591a\u9918\u7684\u8a0a\u865f\u53ea\u9001\u9054\u4e00\u6b21\u3002</li> <li>\u767c\u9001\u5373\u6642\u8a0a\u865f\u6642\uff0c\u53ef\u9644\u5e36\u4e00\u500b\u6574\u6578\u6216\u6307\u6a19\u503c\u8cc7\u6599\uff0c\u63a5\u6536\u7a0b\u5e8f\u7684\u8a0a\u865f\u8655\u7406\u51fd\u5f0f\u80fd\u8b80\u53d6\u6b64\u8cc7\u6599\u3002</li> <li>\u4e0d\u540c\u5373\u6642\u8a0a\u865f\u7684\u9001\u9054\u9806\u5e8f\u88ab\u4fdd\u8b49\uff1a\u5f85\u8655\u7406\u7684\u5373\u6642\u8a0a\u865f\u4e2d\uff0c\u7de8\u865f\u6700\u5c0f\u7684\u6703\u5148\u88ab\u9001\u9054\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u8a0a\u865f\u6709\u512a\u5148\u6b0a\uff0c\u7de8\u865f\u8d8a\u5c0f\u512a\u5148\u6b0a\u8d8a\u9ad8\u3002\u76f8\u540c\u985e\u578b\u7684\u591a\u500b\u8a0a\u865f\u6703\u4f9d\u767c\u9001\u9806\u5e8f\u53ca\u5176\u9644\u5e36\u8cc7\u6599\u88ab\u9001\u9054\u3002</li> </ul>"},{"location":"level102/system_calls_and_signals/signals/#_4","title":"\u6a19\u6e96\u8a0a\u865f","text":"<p>\u6a19\u6e96\u8a0a\u865f\u662fUnix\u521d\u671f\u5373\u5b58\u5728\u7684\u7d93\u5178\u8a0a\u865f\u7fa4\u3002\u5f8c\u7e8c\u7ae0\u7bc0\u6211\u5011\u5c07\u5c08\u6ce8\u65bc\u6a19\u6e96\u8a0a\u865f\u3002</p>"},{"location":"level102/system_calls_and_signals/signals/#_5","title":"\u8a0a\u865f\u6982\u8ff0","text":"<p>\u8a0a\u865f\u7531\u67d0\u4e9b\u4e8b\u4ef6\u7522\u751f\u3002\u8a0a\u865f\u7522\u751f\u5f8c\u6703\u9001\u9054\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u6703\u5c0d\u8a0a\u865f\u63a1\u53d6\u67d0\u7a2e\u884c\u52d5\u3002\u5728\u8a0a\u865f\u5f9e\u7522\u751f\u5230\u9001\u9054\u9593\uff0c\u8a0a\u865f\u8655\u65bc\u5f85\u8655\u7406\uff08pending\uff09\u72c0\u614b\u3002</p> <p>\u901a\u5e38\u5f85\u8655\u7406\u8a0a\u865f\u6703\u5728\u7a0b\u5e8f\u4e0b\u6b21\u88ab\u6392\u7a0b\u57f7\u884c\u6642\u9001\u9054\uff0c\u6216\u5728\u7a0b\u5e8f\u5df2\u5728\u57f7\u884c\u6642\u7acb\u5373\u9001\u9054\uff08\u5982\u7a0b\u5e8f\u81ea\u884c\u767c\u9001\u8a0a\u865f\u7d66\u81ea\u5df1\uff09\u3002\u6709\u6642\u6211\u5011\u8981\u78ba\u4fdd\u67d0\u6bb5\u7a0b\u5f0f\u78bc\u4e0d\u4e2d\u65b7\uff0c\u9019\u6642\u53ef\u628a\u8a0a\u865f\u52a0\u5165\u7a0b\u5e8f\u7684\u8a0a\u865f\u906e\u7f69(signal mask)\u2014\u2014\u963b\u64cb\u9001\u9054\u7684\u8a0a\u865f\u96c6\u5408\u3002\u7576\u8a0a\u865f\u88ab\u906e\u7f69\u6642\uff0c\u5373\u4f7f\u7522\u751f\u4e5f\u6703\u4fdd\u7559\u5f85\u8655\u7406\uff0c\u76f4\u5230\u89e3\u9664\u906e\u7f69\u3002\u7cfb\u7d71\u547c\u53eb\u5141\u8a31\u589e\u52a0\u8207\u79fb\u9664\u8a0a\u865f\u906e\u7f69\u4e2d\u7684\u8a0a\u865f\u3002</p> <p>\u4fe1\u865f\u9001\u9054\u6642\uff0c\u7a0b\u5e8f\u6839\u64da\u8a0a\u865f\u57f7\u884c\u4ee5\u4e0b\u9810\u8a2d\u52d5\u4f5c\u4e4b\u4e00\uff1a</p> <ul> <li>\u5ffd\u7565\u8a0a\u865f\uff1a\u6838\u5fc3\u4e1f\u68c4\u8a0a\u865f\uff0c\u4e0d\u7522\u751f\u5f71\u97ff\u3002\uff08\u7a0b\u5e8f\u5b8c\u5168\u4e0d\u77e5\u8a0a\u865f\u66fe\u767c\u751f\uff09</li> <li>\u7a0b\u5e8f\u7d42\u6b62\uff08\u88ab\u6bba\u6b7b\uff09\uff1a\u88ab\u8996\u70ba\u975e\u6b63\u5e38\u7d42\u6b62\uff0c\u76f8\u5c0d\u65bc\u8c03\u7528exit()\u7684\u6b63\u5e38\u7d42\u6b62\u3002</li> <li>\u7522\u751f\u6838\u5fc3\u8f49\u5b58(core dump)\u6a94\u6848\u5f8c\u7d42\u6b62\uff1a\u6838\u5fc3\u8f49\u5b58\u6a94\u662f\u7a0b\u5e8f\u865b\u64ec\u8a18\u61b6\u9ad4\u6620\u50cf\u6a94\uff0c\u53ef\u7528\u4f86\u9664\u932f\u7a0b\u5e8f\u5728\u7d42\u6b62\u6642\u7684\u72c0\u614b\u3002</li> <li>\u7a0b\u5e8f\u66ab\u505c\u57f7\u884c\u3002</li> <li>\u7a0b\u5e8f\u5f9e\u66ab\u505c\u72c0\u614b\u5fa9\u539f\u57f7\u884c\u3002</li> </ul> <p>\u7a0b\u5e8f\u53ef\u81ea\u884c\u8a2d\u5b9a\u8a0a\u865f\u7684\u52d5\u4f5c\uff0c\u7a31\u70ba\u8a2d\u5b9a\u8a0a\u865f\u7684\u8655\u7f6e(disposition)\u3002\u66f4\u591a\u8655\u7f6e\u76f8\u95dc\u7d30\u7bc0\uff0c\u8acb\u53c3\u8003 \u6b64\u8655\u3002\u8655\u7f6e\u53ef\u4ee5\u662f\uff1a</p> <ul> <li>\u63a1\u7528\u9810\u8a2d\u52d5\u4f5c\uff08\u7528\u65bc\u9084\u539f\u5148\u524d\u6539\u8b8a\u7684\u8655\u7f6e\uff09</li> <li>\u5ffd\u7565\u8a0a\u865f\uff08\u9069\u7528\u65bc\u9810\u8a2d\u884c\u70ba\u662f\u7d42\u6b62\u7684\u8a0a\u865f\uff09</li> <li>\u57f7\u884c\u8a0a\u865f\u8655\u7406\u51fd\u5f0f</li> </ul> <p>\u8a0a\u865f\u8655\u7406\u51fd\u5f0f\u7531\u7a0b\u5f0f\u8a2d\u8a08\u8005\u64b0\u5beb\uff0c\u4ee5\u5728\u6536\u5230\u8a0a\u865f\u6642\u57f7\u884c\u9069\u7576\u5de5\u4f5c\u3002\u4f8b\u5982\uff0cshell \u5c0d SIGINT \u8a0a\u865f\u6709\u5c0d\u61c9\u8655\u7406\uff0c\u7576\u63a5\u6536\u5230\u7531\u4e2d\u65b7\u5b57\u5143\uff08Ctrl+C\uff09\u89f8\u767c\u7684 SIGINT \u6642\u6703\u505c\u6b62\u76ee\u524d\u52d5\u4f5c\uff0c\u4e26\u8fd4\u56de\u4e3b\u8f38\u5165\u5faa\u74b0\uff0c\u8b93\u4f7f\u7528\u8005\u91cd\u65b0\u770b\u5230 shell \u63d0\u793a\u7b26\u3002\u8a3b\u518a\u4e00\u500b\u8a0a\u865f\u8655\u7406\u51fd\u5f0f\u901a\u5e38\u7a31\u70ba\u5b89\u88dd(install)\u6216\u5efa\u7acb(establish)\u8a72\u8a0a\u865f\u8655\u7406\u5668\u3002\u8a0a\u865f\u9001\u9054\u6642\uff0c\u8a0a\u865f\u88ab\u300c\u8655\u7406\u300d\u6216\u300c\u6355\u7372\u300d\u3002</p> <p>\u8acb\u6ce8\u610f\uff0c\u7121\u6cd5\u5c07\u8a0a\u865f\u7684\u8655\u7f6e\u8a2d\u5b9a\u70ba\u7d42\u6b62\u6216\u7522\u751f\u6838\u5fc3\u8f49\u5b58\uff08\u9664\u975e\u8a72\u8a0a\u865f\u7684\u9810\u8a2d\u5c31\u662f\u6b64\u884c\u70ba\uff09\u3002\u6211\u5011\u53ea\u80fd\u5b89\u88dd\u4e00\u500b\u8655\u7406\u51fd\u5f0f\u4f86\u547c\u53eb exit() \u6216 abort()\u3002abort() \u51fd\u5f0f\u6703\u7522\u751f SIGABRT \u8a0a\u865f\uff0c\u4f7f\u7a0b\u5e8f\u7522\u751f\u6838\u5fc3\u8f49\u5b58\u4e26\u7d42\u6b62\u3002</p>"},{"location":"level102/system_calls_and_signals/signals/#_6","title":"\u8a0a\u865f\u985e\u578b","text":"<p>\u5728 Linux \u7cfb\u7d71\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u6307\u4ee4 <code>kill -l</code> \u5217\u51fa\u53ef\u7528\u8a0a\u865f\u3002 \u4e0b\u8868\u5217\u51fa\u8a0a\u865f\u7de8\u865f 1 \u81f3 20\uff0c\u5b8c\u6574\u8a0a\u865f\u5217\u8868\u8acb\u53c3\u8003\u6b64\u8655\u3002</p> \u8a0a\u865f\u540d\u7a31 \u8a0a\u865f\u7de8\u865f \u9810\u8a2d\u52d5\u4f5c \u542b\u7fa9 SIGHUP 1 \u7d42\u6b62 \u63a7\u5236\u7d42\u7aef\u639b\u65b7\u6216\u63a7\u5236\u7a0b\u5e8f\u7d42\u6b62 SIGINT 2 \u7d42\u6b62 \u9375\u76e4\u4e2d\u65b7 SIGQUIT 3 \u7522\u751f\u6838\u5fc3\u8f49\u5b58 \u9375\u76e4\u9000\u51fa SIGILL 4 \u7522\u751f\u6838\u5fc3\u8f49\u5b58 \u975e\u6cd5\u6307\u4ee4 SIGTRAP 5 \u7522\u751f\u6838\u5fc3\u8f49\u5b58 \u5075\u932f\u7528\u8ffd\u8e64/\u65b7\u9ede\u9677\u9631 SIGABRT , SIGIOT 6 \u7522\u751f\u6838\u5fc3\u8f49\u5b58 \u975e\u6b63\u5e38\u7d42\u6b62 SIGBUS 7 \u7522\u751f\u6838\u5fc3\u8f49\u5b58 \u516c\u8eca\u932f\u8aa4 SIGFPE 8 \u7522\u751f\u6838\u5fc3\u8f49\u5b58 \u6d6e\u9ede\u6578\u4f8b\u5916 SIGKILL 9 \u7d42\u6b62 \u5f37\u5236\u7d42\u6b62\u8a0a\u865f\uff08\u7121\u6cd5\u6355\u6349\u6216\u5ffd\u7565\uff09 SIGUSR1 10 \u7d42\u6b62 \u4f7f\u7528\u8005\u81ea\u8a02\u8a0a\u865f 1 SIGSEGV 11 \u7522\u751f\u6838\u5fc3\u8f49\u5b58 \u7121\u6548\u8a18\u61b6\u9ad4\u53c3\u8003 SIGUSR2 12 \u7d42\u6b62 \u4f7f\u7528\u8005\u81ea\u8a02\u8a0a\u865f 2 SIGPIPE 13 \u7d42\u6b62 \u7ba1\u7dda\u7834\u88c2\uff1b\u5beb\u5165\u7121\u8b80\u53d6\u8005\u7ba1\u7dda SIGALRM 14 \u7d42\u6b62 \u6642\u9418\u8b66\u5831\u8a0a\u865f SIGTERM 15 \u7d42\u6b62 \u7a0b\u5e8f\u7d42\u6b62 SIGSTKFLT 16 \u7d42\u6b62 \u6578\u5b78\u5354\u8655\u7406\u5668\u5806\u758a\u932f\u8aa4 SIGCHLD 17 \u5ffd\u7565 \u5b50\u7a0b\u5e8f\u505c\u6b62\u6216\u7d42\u6b62 SIGCONT 18 \u7e7c\u7e8c \u82e5\u7a0b\u5f0f\u88ab\u66ab\u505c\u5247\u7e7c\u7e8c\u57f7\u884c SIGSTOP 19 \u505c\u6b62 \u505c\u6b62\u7a0b\u5e8f\uff08\u4e0d\u53ef\u6355\u6349\u6216\u5ffd\u7565\uff09 SIGTSTP 20 \u505c\u6b62 tty\u8f38\u5165\u4e2d\u65b7\u505c\u6b62"},{"location":"level102/system_calls_and_signals/signals/#_7","title":"\u767c\u9001\u8a0a\u865f\u7d66\u7a0b\u5e8f","text":"<p>\u6709\u4e09\u7a2e\u65b9\u5f0f\u80fd\u5411\u7a0b\u5e8f\u767c\u9001\u8a0a\u865f\uff1a</p> <ul> <li>\u4f7f\u7528 kill \u547d\u4ee4\u767c\u9001\u8a0a\u865f</li> </ul> <p>kill \u6307\u4ee4\u53ef\u4ee5\u7528\u4f86\u5c0d\u7a0b\u5e8f\u767c\u9001\u8a0a\u865f\u3002\u9810\u8a2d\u6703\u9001\u51fa SIGTERM \u8a0a\u865f\uff0c\u4f46\u53ef\u900f\u904e\u6307\u5b9a\u8a0a\u865f\u7de8\u865f\u6216\u540d\u7a31\uff0c\u50b3\u9001\u5176\u4ed6\u8a0a\u865f\u3002 \u4f8b\u5982\uff0c\u6307\u4ee4 <code>kill -9 367</code> \u6703\u5c0d PID \u70ba 367 \u7684\u7a0b\u5e8f\u9001\u51fa SIGKILL\u3002</p> <ul> <li>\u7528\u9375\u76e4\u767c\u9001\u8a0a\u865f</li> </ul> <p>\u7279\u5b9a\u9375\u76e4\u64cd\u4f5c\u6703\u5411\u57f7\u884c\u4e2d\u7a0b\u5e8f\u9001\u51fa\u8a0a\u865f\u3002\u4f8b\u5982\uff0c\u6309\u4e0b Ctrl+C \u6703\u9001\u51fa SIGINT \u8a0a\u865f\u7d42\u6b62\u7a0b\u5e8f\u3002</p> <ul> <li>\u7528\u53e6\u4e00\u7a0b\u5e8f\u900f\u904e\u7cfb\u7d71\u547c\u53eb\u767c\u9001\u8a0a\u865f</li> </ul> <p>\u7a0b\u5e8f\u53ef\u85c9\u7531 kill() \u7cfb\u7d71\u547c\u53eb\u5411\u53e6\u4e00\u7a0b\u5e8f\u767c\u9001\u8a0a\u865f\u3002\u6b64\u65b9\u6cd5\u53ef\u505a\u70ba\u540c\u6b65\u6280\u8853\uff0c\u751a\u81f3\u539f\u59cb\u7684\u7a0b\u5e8f\u9593\u901a\u8a0a\uff08IPC\uff09\u65b9\u5f0f\u3002\u7a0b\u5e8f\u4e5f\u53ef\u9001\u8a0a\u865f\u7d66\u81ea\u5df1\u3002 <code>int kill(pid_t pid, int sig)</code> \u7cfb\u7d71\u547c\u53eb\u6709\u5169\u53c3\u6578\uff1a\u76ee\u6a19\u7a0b\u5e8f PID \u8207\u6b32\u767c\u9001\u7684\u8a0a\u865f\u7de8\u865f\u3002</p>"},{"location":"level102/system_calls_and_signals/signals/#_8","title":"\u8a0a\u865f\u8655\u7406","text":"<p>\u6839\u64da\u4e0a\u4e00\u7bc0\u8a0a\u865f\u8868\uff0c\u6240\u6709\u8a0a\u865f\u5728\u7a0b\u5f0f\u555f\u52d5\u6642\u7686\u6709\u9810\u8a2d\u8655\u7406\u7a0b\u5e8f\u3002\u8abf\u7528 signal \u51fd\u5f0f\u8a2d\u5b9a\u81ea\u5df1\u7684\u8655\u7406\u7a0b\u5e8f\u6703\u8986\u84cb\u9810\u8a2d\u884c\u70ba\u3002\u4f8b\u5982\u52a0\u5165 SIGINT \u8655\u7406\u7a0b\u5e8f\u5f8c\uff0c\u6309 Ctrl+C \u4e0d\u518d\u7d42\u6b62\u7a0b\u5f0f\uff1b\u76f8\u53cd\u5730\uff0c\u5c07\u547c\u53eb\u6307\u5b9a\u7684\u8655\u7406\u51fd\u5f0f\u4ee5\u6c7a\u5b9a\u7a0b\u5f0f\u5c0d SIGINT \u7684\u53cd\u61c9\u3002</p> <p>\u4ee5\u4e0b\u4ee5 SIGINT \u4e2d\u65b7\u8a0a\u865f\u8207\u7d42\u6b62\u7a0b\u5e8f\u70ba\u4f8b\uff0c\u63a1\u7528 Python \u7684 signal \u51fd\u5f0f\u5eab\u793a\u7bc4\u3002</p> <p>\u6309\u4e0b Ctrl+C \u6703\u9001\u51fa SIGINT\u3002\u5728\u8a0a\u865f\u8868\u4e2d\uff0cSIGINT \u9810\u8a2d\u52d5\u4f5c\u70ba\u7d42\u6b62\u7a0b\u5e8f\u3002 \u793a\u7bc4\u9810\u8a2d\u72c0\u6cc1\u53cd\u61c9\uff1a</p> <p>\u5728 Python \u57f7\u884c\u4ee5\u4e0b\u7a0b\u5f0f\u78bc\uff1a</p> <pre><code>while 1:\n        continue\n</code></pre> <p>\u6309 Ctrl+C\u3002</p> <p>\u6703\u770b\u5230\uff1a</p> <pre><code>^CTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 2, in &lt;module&gt;\n  KeyboardInterrupt\n</code></pre> <p>\u6309 Ctrl+C \u6642\uff0c\u7a0b\u5e8f\u6536\u5230 SIGINT \u4e26\u4f9d\u9810\u8a2d\u884c\u70ba\u7d42\u6b62\u3002</p> <p>\u5b9a\u7fa9 SIGINT \u8655\u7406\u51fd\u5f0f\uff1a</p> <p>\u4ee5\u4e0b\u7a0b\u5f0f\u78bc\u6703\u6539\u5beb SIGINT \u9810\u8a2d\u884c\u70ba\uff0c\u6539\u70ba\u57f7\u884c\u4e00\u6bb5\u7a0b\u5f0f\u78bc\u3002</p> <pre><code>import signal\nimport sys\n\n#Start of signal_handler function\n\ndef signal_handler(signal, frame):\n        print ('You pressed Ctrl+C!')\n\n# End of signal_handler function\n\nsignal.signal(signal.SIGINT, signal_handler)\n\n</code></pre> <p>\u7136\u5f8c\u518d\u57f7\u884c\u7121\u9650\u8ff4\u5708\uff1a</p> <pre><code>while 1:\n        continue\n</code></pre> <p>\u6309 Ctrl+C \u6703\u770b\u5230\uff1a</p> <pre><code>^CYou pressed Ctrl+C!\n</code></pre> <p>\u8a0a\u865f\u4e0d\u6703\u7d42\u6b62\u7a0b\u5e8f\uff0c\u6539\u7531\u81ea\u8a02\u51fd\u5f0f\u8f38\u51fa\u8a0a\u606f\u3002\u82e5\u8981\u7d42\u6b62\u7a0b\u5f0f\uff0c\u53ef\u6309 Ctrl+Z \u767c\u9001 SIGSTOP\uff08\u9810\u8a2d\u70ba\u66ab\u505c\u7a0b\u5e8f\uff09\u3002</p> <p>\u8a0a\u865f\u8655\u7406\u51fd\u5f0f\u5b9a\u7fa9\u70ba <code>signal_handler()</code> \uff0c\u4e26\u63a5\u6536\u5169\u53c3\u6578\uff1a\u8a0a\u865f\u7de8\u865f\u53ca\u76ee\u524d\u5806\u758a(frame)\u3002<code>signal.signal()</code> \u7528\u4f86\u8a3b\u518a\u8655\u7406\u51fd\u5f0f\uff0c\u53c3\u6578\u70ba\u8981\u6514\u622a\u7684\u8a0a\u865f\u53ca\u8655\u7406\u51fd\u5f0f\u540d\u7a31\u3002</p>"},{"location":"level102/system_calls_and_signals/signals/#wait","title":"\u8a0a\u865f\u5728\u7cfb\u7d71\u547c\u53eb\u4e2d\u7684\u89d2\u8272\uff1a\u4ee5 wait() \u70ba\u4f8b","text":"<p>wait() \u7cfb\u7d71\u547c\u53eb\u7b49\u5019\u5b50\u7a0b\u5e8f\u7d42\u6b62\uff0c\u4e26\u5c07\u5b50\u7a0b\u5e8f\u7d42\u6b62\u72c0\u614b\u56de\u50b3\u5230\u6240\u6307\u5411\u7684 statusPtr \u7de9\u885d\u5340\u3002</p> <ul> <li>\u7576\u7236\u7a0b\u5e8f\u547c\u53eb wait() \u7cfb\u7d71\u547c\u53eb\uff0c\u5c07\u66ab\u505c\u7236\u7a0b\u5e8f\u57f7\u884c\u76f4\u5230\u5b50\u7a0b\u5e8f\u7d42\u6b62\u3002</li> <li>\u5b50\u7a0b\u5e8f\u7d42\u6b62\u6642\uff0c\u7522\u751f SIGCHLD \u8a0a\u865f\uff0c\u7531\u6838\u5fc3\u9001\u9054\u7236\u7a0b\u5e8f\uff0c\u544a\u77e5\u7236\u7a0b\u5e8f\u9700\u8981\u6536\u96c6\u5b50\u7a0b\u5e8f\u8cc7\u8a0a\u3002</li> <li>\u7236\u7a0b\u5e8f\u6536\u5230 SIGCHLD \u5f8c\uff0c\u5f9e\u7a0b\u5e8f\u8868\u6536\u5272\u5b50\u7a0b\u5e8f\u72c0\u614b\u3002\u5373\u4f7f\u5b50\u7a0b\u5e8f\u7d42\u6b62\uff0c\u7a0b\u5e8f\u8868\u4ecd\u6709\u5b50\u7a0b\u5e8f\u7684\u7d00\u9304\uff08\u7a0b\u5e8f\u689d\u76ee\u8207PID\uff09\u3002</li> <li>\u7576\u7236\u7a0b\u5e8f\u53d6\u5f97\u72c0\u614b\u5f8c\uff0c\u6b64\u7a0b\u5e8f\u8868\u689d\u76ee\u522a\u9664\uff0c\u5176\u5f8c\u5b50\u7a0b\u5e8f\u7d00\u9304\u5f9e\u7cfb\u7d71\u6d88\u5931\u3002</li> </ul>"},{"location":"level102/system_calls_and_signals/signals/#zombieorphan","title":"\u50f5\u5c4d\uff08Zombie\uff09\u8207\u5b64\u5152\uff08Orphan\uff09\u72c0\u614b","text":"<p>\u82e5\u7236\u7a0b\u5e8f\u4e0d\u7b49\u5f85\u5b50\u7a0b\u5e8f\u7d42\u6b62\u3001\u4e0d\u8b80\u53d6\u5b50\u7a0b\u5e8f\u8fd4\u56de\u7684\u9000\u51fa\u72c0\u614b\uff0c\u5b50\u7a0b\u5e8f\u7d42\u6b62\u5f8c\u4ecd\u6703\u5728\u7a0b\u5e8f\u8868\u4fdd\u7559\u689d\u76ee\uff0c\u6210\u70ba\u50f5\u5c4d\u7a0b\u5e8f\u3002\u907f\u514d\u9577\u671f\u50f5\u5c4d\u9700\u5728\u5b50\u7a0b\u5e8f\u5efa\u7acb\u5f8c\u547c\u53eb wait()\u3002\u901a\u5e38\u6703\u70ba SIGCHLD \u5b89\u88dd\u8a0a\u865f\u8655\u7406\u51fd\u5f0f\uff0c\u5faa\u74b0\u547c\u53eb wait \u985e\u51fd\u5f0f\u76f4\u5230\u7121\u672a\u8655\u7406\u5b50\u7a0b\u5e8f\u72c0\u614b\u3002</p> <p>\u82e5\u7236\u7a0b\u5e8f\u5148\u65bc\u5b50\u7a0b\u5e8f\u7d42\u6b62\uff0c\u5b50\u7a0b\u5e8f\u8b8a\u6210\u5b64\u5152\u3002\u5b64\u5152\u5b50\u7a0b\u5e8f\u6703\u88ab init/systemd\uff08PID=1\uff09\u6536\u990a\uff0c\u547c\u53eb\u53d6\u5f97\u7236 PID \u6703\u8fd4\u56de1\u3002</p>"},{"location":"level102/system_calls_and_signals/system_calls/","title":"System Calls","text":""},{"location":"level102/system_calls_and_signals/system_calls/#_1","title":"\u4ecb\u7d39","text":"<p>\u7cfb\u7d71\u547c\u53eb\uff08system call\uff09\u662f\u9032\u5165\u6838\u5fc3\uff08kernel\uff09\u7684\u53d7\u63a7\u5165\u53e3\u9ede\uff0c\u5141\u8a31\u4e00\u500b\u7a0b\u5e8f\u8acb\u6c42\u6838\u5fc3\u4ee3\u8868\u7a0b\u5e8f\u57f7\u884c\u67d0\u4e9b\u52d5\u4f5c\u3002\u6838\u5fc3\u900f\u904e\u7cfb\u7d71\u547c\u53eb\u61c9\u7528\u7a0b\u5f0f\u4ecb\u9762\uff08API\uff09\u63d0\u4f9b\u5404\u7a2e\u670d\u52d9\u7d66\u7a0b\u5f0f\u3002\u61c9\u7528\u958b\u767c\u8005\u901a\u5e38\u4e0d\u76f4\u63a5\u8a2a\u554f\u7cfb\u7d71\u547c\u53eb\uff0c\u800c\u662f\u900f\u904e\u6b64API\u5b58\u53d6\u3002\u9019\u4e9b\u670d\u52d9\u5305\u542b\uff0c\u4f8b\u5982\u5efa\u7acb\u65b0\u7a0b\u5e8f\u3001\u57f7\u884cI/O\uff0c\u4ee5\u53ca\u5efa\u7acb\u7528\u65bc\u9032\u7a0b\u9593\u901a\u8a0a\u7684\u7ba1\u9053\u3002\u7cfb\u7d71\u547c\u53eb\u96c6\u5408\u662f\u56fa\u5b9a\u7684\uff0c\u6bcf\u500b\u7cfb\u7d71\u547c\u53eb\u7531\u552f\u4e00\u7684\u7de8\u865f\u8b58\u5225\u3002\u4e0d\u540c\u7cfb\u7d71\u547c\u53eb\u6e05\u55ae\u53ef\u898b\u65bc\u6b64\u8655\u3002</p> <p>\u7cfb\u7d71\u547c\u53eb\u6703\u5c07\u8655\u7406\u5668\u72c0\u614b\u5f9e\u4f7f\u7528\u8005\u6a21\u5f0f\uff08user mode\uff09\u5207\u63db\u5230\u6838\u5fc3\u6a21\u5f0f\uff08kernel mode\uff09\uff0c\u4ee5\u4fbfCPU\u5b58\u53d6\u53d7\u4fdd\u8b77\u7684\u6838\u5fc3\u8a18\u61b6\u9ad4\u3002\u6bcf\u500b\u7cfb\u7d71\u547c\u53eb\u53ef\u80fd\u5e36\u6709\u4e00\u7d44\u53c3\u6578\uff0c\u9019\u4e9b\u53c3\u6578\u6307\u5b9a\u5f9e\u4f7f\u7528\u8005\u7a7a\u9593\uff08\u5373\u7a0b\u5e8f\u7684\u865b\u64ec\u5730\u5740\u7a7a\u9593\uff09\u50b3\u905e\u5230\u6838\u5fc3\u7a7a\u9593\u7684\u8cc7\u8a0a\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\u5f9e\u7a0b\u5f0f\u8a2d\u8a08\u89d2\u5ea6\u4f86\u770b\uff0c\u547c\u53eb\u7cfb\u7d71\u547c\u53eb\u770b\u8d77\u4f86\u5f88\u50cf\u547c\u53ebC\u51fd\u5f0f\u3002</p>"},{"location":"level102/system_calls_and_signals/system_calls/#_2","title":"\u7cfb\u7d71\u547c\u53eb\u985e\u578b","text":"<p>\u7cfb\u7d71\u547c\u53eb\u4e3b\u8981\u5206\u70ba5\u7a2e\u985e\u578b\uff1a</p> <ul> <li>\u7a0b\u5e8f\u63a7\u5236\uff08Process Control\uff09\uff1a\u7528\u65bc\u8655\u7406\u8207\u7a0b\u5e8f\u76f8\u95dc\u7684\u4efb\u52d9\uff0c\u5982\u7a0b\u5e8f\u5efa\u7acb\u3001\u7d42\u6b62\u7b49\u3002</li> <li>\u6a94\u6848\u7ba1\u7406\uff08File Management\uff09\uff1a\u7528\u65bc\u5c0d\u6a94\u6848\u57f7\u884c\u64cd\u4f5c\uff0c\u5982\u8b80\u53d6/\u5beb\u5165\u6a94\u6848\u3002</li> <li>\u88dd\u7f6e\u7ba1\u7406\uff08Device Management\uff09\uff1a\u7528\u65bc\u8655\u7406\u88dd\u7f6e\uff0c\u5982\u8b80/\u5beb\u88dd\u7f6e\u7de9\u885d\u5340\u3002</li> <li>\u8cc7\u8a0a\u7dad\u8b77\uff08Information Maintenance\uff09\uff1a\u8655\u7406\u4f5c\u696d\u7cfb\u7d71\u8207\u4f7f\u7528\u8005\u7a0b\u5f0f\u4e4b\u9593\u7684\u8cc7\u8a0a\u8207\u5176\u50b3\u8f38\u3002</li> <li>\u901a\u8a0a\uff08Communication\uff09\uff1a\u7528\u65bc\u9032\u7a0b\u9593\u901a\u8a0a\uff0c\u4ea6\u7528\u65bc\u5efa\u7acb\u8207\u522a\u9664\u901a\u8a0a\u9023\u7dda\u3002</li> </ul> \u7cfb\u7d71\u547c\u53eb\u985e\u578b Linux\u7bc4\u4f8b \u7a0b\u5e8f\u63a7\u5236 fork(), exit(), wait() \u6a94\u6848\u7ba1\u7406 open(), read(), write() \u88dd\u7f6e\u7ba1\u7406 ioctl(), read(), write() \u8cc7\u8a0a\u7dad\u8b77 getpid(), alarm(), sleep() \u901a\u8a0a pipe(), shmget(), mmap()"},{"location":"level102/system_calls_and_signals/system_calls/#_3","title":"\u4f7f\u7528\u8005\u6a21\u5f0f\u3001\u6838\u5fc3\u6a21\u5f0f\u53ca\u5176\u8f49\u63db","text":"<p>\u73fe\u4ee3\u8655\u7406\u5668\u67b6\u69cb\u901a\u5e38\u5141\u8a31CPU\u5728\u81f3\u5c11\u5169\u7a2e\u4e0d\u540c\u6a21\u5f0f\u4e0b\u904b\u4f5c\uff1a\u4f7f\u7528\u8005\u6a21\u5f0f\u8207\u6838\u5fc3\u6a21\u5f0f\u3002\u865b\u64ec\u8a18\u61b6\u9ad4\u5340\u57df\u6703\u6a19\u793a\u70ba\u4f7f\u7528\u8005\u7a7a\u9593\u6216\u6838\u5fc3\u7a7a\u9593\u3002\u5728\u4f7f\u7528\u8005\u6a21\u5f0f\u57f7\u884c\u6642\uff0cCPU\u53ea\u80fd\u5b58\u53d6\u6a19\u793a\u70ba\u4f7f\u7528\u8005\u7a7a\u9593\u7684\u8a18\u61b6\u9ad4\uff1b\u5617\u8a66\u5b58\u53d6\u6838\u5fc3\u7a7a\u9593\u6703\u5c0e\u81f4\u786c\u9ad4\u4f8b\u5916\u3002</p> <p>\u4efb\u4f55\u6642\u523b\uff0c\u4e00\u500b\u7a0b\u5e8f\u53ef\u80fd\u57f7\u884c\u5728\u4f7f\u7528\u8005\u6a21\u5f0f\u6216\u6838\u5fc3\u6a21\u5f0f\u3002\u53ef\u57f7\u884c\u7684\u6307\u4ee4\u985e\u578b\u4f9d\u64da\u6a21\u5f0f\u800c\u5b9a\uff0c\u7531\u786c\u9ad4\u5c64\u9762\u5f37\u5236\u57f7\u884c\u3002CPU\u6a21\u5f0f\uff08\u4ea6\u7a31\u8655\u7406\u5668\u6a21\u5f0f\u3001CPU\u72c0\u614b\u3001CPU\u6b0a\u9650\u7b49\u7d1a\uff09\u662f\u67d0\u4e9b\u96fb\u8166\u67b6\u69cb\u4e2d\u4e2d\u592e\u8655\u7406\u55ae\u5143\u7684\u904b\u4f5c\u6a21\u5f0f\uff0c\u5c0dCPU\u6240\u57f7\u884c\u7a0b\u5e8f\u53ef\u57f7\u884c\u7684\u64cd\u4f5c\u985e\u578b\u548c\u7bc4\u570d\u65bd\u52a0\u9650\u5236\u3002\u6838\u5fc3\u672c\u8eab\u4e0d\u662f\u7a0b\u5e8f\uff0c\u800c\u662f\u7a0b\u5e8f\u7ba1\u7406\u8005\u3002\u6838\u5fc3\u6a21\u578b\u5047\u5b9a\u9700\u8981\u6838\u5fc3\u670d\u52d9\u7684\u7a0b\u5e8f\u6703\u4f7f\u7528\u7a31\u70ba\u7cfb\u7d71\u547c\u53eb\u7684\u7279\u5b9a\u7a0b\u5f0f\u69cb\u9020\u3002</p> <p>\u7576\u7a0b\u5f0f\u5728\u4f7f\u7528\u8005\u6a21\u5f0f\u57f7\u884c\u6642\uff0c\u7121\u6cd5\u76f4\u63a5\u5b58\u53d6\u6838\u5fc3\u7684\u8cc7\u6599\u7d50\u69cb\u6216\u7a0b\u5f0f\u3002\u4f46\u7576\u7a0b\u5f0f\u5728\u6838\u5fc3\u6a21\u5f0f\u57f7\u884c\u6642\uff0c\u9019\u4e9b\u9650\u5236\u4e0d\u518d\u9069\u7528\u3002\u4e00\u822c\u7a0b\u5f0f\u5728\u4f7f\u7528\u8005\u6a21\u5f0f\u57f7\u884c\uff0c\u53ea\u6709\u5728\u8acb\u6c42\u6838\u5fc3\u6240\u63d0\u4f9b\u7684\u670d\u52d9\u6642\u624d\u5207\u63db\u81f3\u6838\u5fc3\u6a21\u5f0f\u3002\u5982\u679c\u61c9\u7528\u7a0b\u5f0f\u9700\u8981\u5b58\u53d6\u7cfb\u7d71\u786c\u9ad4\u8cc7\u6e90\uff08\u4f8b\u5982\u9031\u908a\u8a2d\u5099\u3001\u8a18\u61b6\u9ad4\u3001\u78c1\u789f\uff09\uff0c\u5fc5\u9808\u767c\u51fa\u7cfb\u7d71\u547c\u53eb\uff0c\u89f8\u767c\u5f9e\u4f7f\u7528\u8005\u6a21\u5f0f\u5230\u6838\u5fc3\u6a21\u5f0f\u7684\u4e0a\u4e0b\u6587\u5207\u63db\u3002\u8b80\u5beb\u6a94\u6848\u6642\u5373\u9075\u5faa\u6b64\u7a0b\u5e8f\u3002\u53ea\u6709\u7cfb\u7d71\u547c\u53eb\u81ea\u8eab\u5728\u6838\u5fc3\u6a21\u5f0f\u4e0b\u57f7\u884c\uff0c\u61c9\u7528\u7a0b\u5f0f\u78bc\u4ecd\u7dad\u6301\u5728\u4f7f\u7528\u8005\u6a21\u5f0f\u3002\u7cfb\u7d71\u547c\u53eb\u5b8c\u6210\u5f8c\uff0c\u7a0b\u5e8f\u900f\u904e\u9006\u5411\u4e0a\u4e0b\u6587\u5207\u63db\u56de\u4f7f\u7528\u8005\u6a21\u5f0f\u4e26\u5e36\u56de\u8fd4\u56de\u503c\u3002\u9664\u7cfb\u7d71\u547c\u53eb\u5916\uff0c\u6838\u5fc3\u4f8b\u7a0b\u53ef\u900f\u904e\u4ee5\u4e0b\u65b9\u5f0f\u555f\u52d5\uff1a</p> <ul> <li>\u57f7\u884c\u8a72\u7a0b\u5e8f\u7684CPU\u767c\u51fa\u4f8b\u5916\u8a0a\u865f\uff0c\u4ee3\u8868\u7570\u5e38\u72c0\u6cc1\uff08\u5982\u7121\u6548\u6307\u4ee4\uff09\uff0c\u6838\u5fc3\u4ee3\u8868\u89f8\u767c\u4f8b\u5916\u7684\u7a0b\u5e8f\u8655\u7406\u3002</li> <li>\u9031\u908a\u8a2d\u5099\u5411CPU\u767c\u51fa\u4e2d\u65b7\u8a0a\u865f\uff0c\u901a\u77e5\u4e8b\u4ef6\u5982\u9700\u6ce8\u610f\u3001\u72c0\u614b\u8b8a\u66f4\u6216I/O\u5b8c\u6210\u3002\u6bcf\u500b\u4e2d\u65b7\u8a0a\u865f\u7531\u7a31\u70ba\u4e2d\u65b7\u8655\u7406\u5668\u7684\u6838\u5fc3\u7a0b\u5f0f\u8ca0\u8cac\u8655\u7406\u3002\u7531\u65bc\u9031\u908a\u8a2d\u5099\u8207CPU\u975e\u540c\u6b65\u904b\u4f5c\uff0c\u4e2d\u65b7\u5728\u7121\u6cd5\u9810\u6e2c\u6642\u9593\u767c\u751f\u3002</li> <li>\u57f7\u884c\u6838\u5fc3\u57f7\u884c\u7dd2\u3002\u7531\u65bc\u5176\u5728\u6838\u5fc3\u6a21\u5f0f\u57f7\u884c\uff0c\u7a0b\u5f0f\u8996\u70ba\u6838\u5fc3\u4e00\u90e8\u5206\u3002</li> </ul> <p></p> <p>\u5982\u4e0a\u5716\uff0c\u4f7f\u7528\u8005\u6a21\u5f0f\u4e0b\u7684\u7a0b\u5e8f1\u767c\u51fa\u7cfb\u7d71\u547c\u53eb\uff0c\u96a8\u5373\u5207\u63db\u81f3\u6838\u5fc3\u6a21\u5f0f\u4e26\u63d0\u4f9b\u670d\u52d9\u3002\u7a0b\u5e8f1\u63a5\u8457\u5728\u4f7f\u7528\u8005\u6a21\u5f0f\u7e7c\u7e8c\u57f7\u884c\uff0c\u76f4\u5230\u8a08\u6642\u5668\u4e2d\u65b7\u767c\u751f\uff0c\u6838\u5fc3\u6a21\u5f0f\u555f\u52d5\u6392\u7a0b\u5668\u4e26\u5207\u63db\u7a0b\u5e8f\u3002\u7a0b\u5e8f2\u958b\u59cb\u4f7f\u7528\u8005\u6a21\u5f0f\u57f7\u884c\uff0c\u76f4\u5230\u786c\u9ad4\u88dd\u7f6e\u63d0\u51fa\u4e2d\u65b7\u3002\u7a0b\u5e8f2\u88ab\u5207\u56de\u6838\u5fc3\u6a21\u5f0f\uff0c\u8ca0\u8cac\u8655\u7406\u8a72\u4e2d\u65b7\u3002</p>"},{"location":"level102/system_calls_and_signals/system_calls/#write","title":"write() \u7cfb\u7d71\u547c\u53eb\u904b\u4f5c","text":"<p>write() \u7cfb\u7d71\u547c\u53eb\u5c07\u8cc7\u6599\u5beb\u5165\u5df2\u958b\u555f\u7684\u6a94\u6848\u3002</p> <pre><code># include &lt;unistd.h&gt;\n\nssize_t write(int fd, void *buffer, size_t count);\n</code></pre> <p>buffer \u662f\u6b32\u5beb\u5165\u8cc7\u6599\u7684\u4f4d\u5740\uff1bcount \u70ba\u5f9ebuffer\u5beb\u5165\u7684\u4f4d\u5143\u7d44\u6578\uff1bfd \u70ba\u6307\u5411\u6b32\u5beb\u5165\u8cc7\u6599\u7684\u6a94\u6848\u63cf\u8ff0\u7b26\u3002</p> <p>write() \u547c\u53eb\u6703\u5c07\u6700\u591a count \u500b\u4f4d\u5143\u7d44\u5f9ebuffer\u5beb\u5165\u4ee5 fd \u6307\u5b9a\u7684\u5df2\u958b\u555f\u6a94\u6848\u3002\u6210\u529f\u6642\u56de\u50b3\u5be6\u969b\u5beb\u5165\u7684\u4f4d\u5143\u7d44\u6578\uff0c\u53ef\u80fd\u5c11\u65bc count\uff0c\u932f\u8aa4\u6642\u56de\u50b3-1\u3002\u5c0d\u78c1\u789f\u6a94\u6848\u505aI/O\u6642\uff0cwrite() \u6210\u529f\u8fd4\u56de\u4e0d\u4ee3\u8868\u8cc7\u6599\u5df2\u5beb\u5165\u78c1\u789f\uff0c\u56e0\u6838\u5fc3\u9032\u884c\u78c1\u789fI/O\u7de9\u885d\u4ee5\u6e1b\u5c11\u78c1\u789f\u64cd\u4f5c\u4e26\u52a0\u901f write()\u3002\u5be6\u969b\u4e0a\u662f\u5c07\u8cc7\u6599\u5f9e\u4f7f\u7528\u8005\u7a7a\u9593\u7de9\u885d\u5340\u8907\u88fd\u5230\u6838\u5fc3\u7de9\u885d\u5340\u66ab\u5b58\uff0c\u7a0d\u5f8c\u6838\u5fc3\u5c07\u7de9\u885d\u5340\u5beb\u5165\u78c1\u789f\u3002</p> <p>\u82e5\u5728\u6b64\u671f\u9593\u5176\u4ed6\u7a0b\u5e8f\u5617\u8a66\u8b80\u53d6\u6a94\u6848\u7684\u9019\u4e9b\u4f4d\u5143\u7d44\uff0c\u6838\u5fc3\u6703\u81ea\u7de9\u885d\u5340\u5feb\u53d6\u4e2d\u63d0\u4f9b\u8cc7\u6599\uff0c\u800c\u975e\u6a94\u6848\u672c\u9ad4\uff08\u8f03\u820a\u7684\u5167\u5bb9\uff09\u3002\u6b64\u8a2d\u8a08\u76ee\u6a19\u662f\u8b93write() \u5feb\u901f\u56de\u61c9\uff0c\u7121\u9700\u7b49\u5f85\u8f03\u6162\u7684\u78c1\u789f\u64cd\u4f5c\u3002\u6b64\u8a2d\u8a08\u4e5f\u6709\u6548\u7387\uff0c\u56e0\u70ba\u6e1b\u5c11\u4e86\u6838\u5fc3\u5fc5\u9808\u57f7\u884c\u7684\u78c1\u789f\u50b3\u8f38\u6578\u91cf\u3002</p>"},{"location":"level102/system_calls_and_signals/system_calls/#linux-strace","title":"\u5728 Linux \u4e2d\u4f7f\u7528 strace \u9032\u884c\u9664\u932f","text":"<p>strace \u662f\u7528\u65bc\u8ffd\u8e64\u4f7f\u7528\u8005\u7a0b\u5e8f\u8207 Linux \u6838\u5fc3\u9593\u8f49\u63db\u7684\u5de5\u5177\u3002\u4f7f\u7528\u524d\u9808\u78ba\u8a8d\u7cfb\u7d71\u5df2\u5b89\u88dd\u6b64\u5de5\u5177\uff0c\u53ef\u57f7\u884c\uff1a</p> <pre><code>$ rpm -qa | grep -i strace\n\nstrace-4.12-9.el7.x86_64\n</code></pre> <p>\u82e5\u7121\u8f38\u51fa\uff0c\u53ef\u900f\u904e\uff1a</p> <p><code>$ yum install strace</code></p> <p>\u5c6c\u65bc\u6a19\u6e96C\u51fd\u5f0f\u5eab\u7684\u51fd\u5f0f\u7a31\u70ba\u51fd\u5f0f\u5eab\u51fd\u5f0f\uff0c\u529f\u80fd\u6db5\u84cb\u5ee3\u6cdb\uff0c\u5982\u958b\u555f\u6a94\u6848\u3001\u5c07\u6642\u9593\u8f49\u63db\u6210\u53ef\u8b80\u683c\u5f0f\u3001\u6bd4\u8f03\u5b57\u4e32\u7b49\u3002\u90e8\u5206\u51fd\u5f0f\u5eab\u51fd\u5f0f\u662f\u5efa\u7acb\u65bc\u7cfb\u7d71\u547c\u53eb\u4e4b\u4e0a\uff0c\u901a\u5e38\u8a2d\u8a08\u70ba\u6bd4\u5e95\u5c64\u7cfb\u7d71\u547c\u53eb\u66f4\u53cb\u597d\u7684\u63a5\u53e3\u3002\u4f8b\u5982 printf() \u63d0\u4f9b\u8f38\u51fa\u683c\u5f0f\u5316\u8207\u8cc7\u6599\u7de9\u885d\uff0c\u800c write() \u7cfb\u7d71\u547c\u53eb\u50c5\u8f38\u51fa\u4f4d\u5143\u7d44\u5340\u584a\u3002Linux\u4e0a\u6700\u5e38\u7528\u7684\u6a19\u6e96C\u51fd\u5f0f\u5eab\u5be6\u4f5c\u662f GNU C library glibc\u3002</p> <p>C\u8a9e\u8a00\u63d0\u4f9b printf() \u8b93\u4f7f\u7528\u8005\u4ee5\u591a\u7a2e\u683c\u5f0f\u5beb\u5165\u8cc7\u6599\u3002\u51fd\u5f0f printf() \u5c07\u8cc7\u6599\u8f49\u63db\u6210\u683c\u5f0f\u5316\u7684\u4f4d\u5143\u7d44\u5e8f\u5217\uff0c\u7136\u5f8c\u547c\u53eb write() \u5c07\u9019\u4e9b\u4f4d\u5143\u7d44\u5beb\u5230\u8f38\u51fa\u3002\u6211\u5011\u7528 strace \u89c0\u5bdf\u57f7\u884c <code>strace printf %s \"Hello world\"</code> \u6642\u7684\u904e\u7a0b\uff1a</p> <pre><code> ~]$ strace printf %s \"Hello world\"\nexecve(\"/usr/bin/printf\", [\"printf\", \"%s\", \"Hello world\"], [/* 47 vars */]) = 0\nbrk(NULL)                               = 0x90d000\nmmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f8fc672f000\naccess(\"/etc/ld.so.preload\", R_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/etc/ld.so.cache\", O_RDONLY|O_CLOEXEC) = 3\nfstat(3, {st_mode=S_IFREG|0644, st_size=98854, ...}) = 0\nmmap(NULL, 98854, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f8fc6716000\nclose(3)                                = 0\nopen(\"/lib64/libc.so.6\", O_RDONLY|O_CLOEXEC) = 3\nread(3, \"\\177ELF\\2\\1\\1\\3\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0&gt;\\0\\1\\0\\0\\0\\20&amp;\\2\\0\\0\\0\\0\\0\"..., 832) = 832\nfstat(3, {st_mode=S_IFREG|0755, st_size=2156160, ...}) = 0\nmmap(NULL, 3985888, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f8fc6141000\nmprotect(0x7f8fc6304000, 2097152, PROT_NONE) = 0\nmmap(0x7f8fc6504000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1c3000) = 0x7f8fc6504000\nmmap(0x7f8fc650a000, 16864, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f8fc650a000\nclose(3)                                = 0\nmmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f8fc6715000\nmmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f8fc6713000\narch_prctl(ARCH_SET_FS, 0x7f8fc6713740) = 0\nmprotect(0x7f8fc6504000, 16384, PROT_READ) = 0\nmprotect(0x60a000, 4096, PROT_READ)     = 0\nmprotect(0x7f8fc6730000, 4096, PROT_READ) = 0\nmunmap(0x7f8fc6716000, 98854)           = 0\nbrk(NULL)                               = 0x90d000\nbrk(0x92e000)                           = 0x92e000\nbrk(NULL)                               = 0x92e000\nopen(\"/usr/lib/locale/locale-archive\", O_RDONLY|O_CLOEXEC) = 3\nfstat(3, {st_mode=S_IFREG|0644, st_size=106075056, ...}) = 0\nmmap(NULL, 106075056, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f8fbfc17000\nclose(3)                                = 0\nopen(\"/usr/share/locale/locale.alias\", O_RDONLY|O_CLOEXEC) = 3\nfstat(3, {st_mode=S_IFREG|0644, st_size=2502, ...}) = 0\nmmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f8fc672e000\nread(3, \"# Locale name alias data base.\\n#\"..., 4096) = 2502\nread(3, \"\", 4096)                       = 0\nclose(3)                                = 0\nmunmap(0x7f8fc672e000, 4096)            = 0\nopen(\"/usr/lib/locale/UTF-8/LC_CTYPE\", O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)\nfstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 1), ...}) = 0\nmmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f8fc672e000\nwrite(1, \"Hello world\", 11Hello world)             = 11\nclose(1)                                = 0\nmunmap(0x7f8fc672e000, 4096)            = 0\nclose(2)                                = 0\nexit_group(0)                           = ?\n+++ exited with 0 +++\n</code></pre> <p>execve(\"/usr/bin/printf\", [\"printf\", \"%s\", \"Hello world\"], [/ 47 vars /]) = 0</p> <p>\u7b2c\u4e00\u500b\u7cfb\u7d71\u547c\u53eb\u662f execve()\uff0c\u5176\u57f7\u884c\u4e09\u4ef6\u4e8b\uff1a</p> <ul> <li>\u4f5c\u696d\u7cfb\u7d71\u505c\u6b62\u7236\u7a0b\u5e8f\u7684\u8907\u88fd\u7a0b\u5e8f\u3002</li> <li>\u8f09\u5165\u65b0\u7a0b\u5f0f\uff08\u6b64\u8655\u70ba printf()\uff09\uff0c\u4e26\u555f\u52d5\u65b0\u7a0b\u5f0f\u3002</li> <li>execve() \u7528 printf \u53ef\u57f7\u884c\u6a94\u8f09\u5165\u7684\u65b0\u5167\u5bb9\u66ff\u63db\u76ee\u524d\u7a0b\u5e8f\u8a18\u61b6\u9ad4\u5806\u758a\u7684\u5b9a\u7fa9\u90e8\u5206\u3002</li> </ul> <p>\u8a72\u884c\u8d77\u59cb\u5b57execve\u70ba\u88ab\u57f7\u884c\u7684\u7cfb\u7d71\u547c\u53eb\u540d\u7a31\u3002\u7b2c\u4e00\u53c3\u6578\u5fc5\u9808\u70ba\u4e8c\u9032\u4f4d\u53ef\u57f7\u884c\u6a94\u6216\u6307\u4ee4\u8173\u672c\u7684\u8def\u5f91\u3002\u7b2c\u4e8c\u53c3\u6578\u70ba\u50b3\u905e\u7d66\u65b0\u7a0b\u5f0f\u7684\u5b57\u4e32\u9663\u5217\uff0c\u7d04\u5b9a\u7b2c\u4e00\u5b57\u4e32\u70ba\u57f7\u884c\u6a94\u540d\u3002\u7b2c\u4e09\u53c3\u6578\u70ba\u74b0\u5883\u8b8a\u6578\u3002\u7b49\u865f\u5f8c\u7684\u6578\u5b57\uff08\u6b64\u4f8b\u70ba0\uff09\u662fexecve\u7cfb\u7d71\u547c\u53eb\u7684\u56de\u50b3\u503c\uff0c\u8868\u793a\u6210\u529f\u3002</p> <p>open(\"/usr/lib/locale/UTF-8/LC_CTYPE\", O_RDONLY|O_CLOEXEC) = -1 ENOENT (No such file or directory)</p> <p>\u6b64\u884c\u4e2d\uff0c\u7a0b\u5f0f\u5617\u8a66\u958b\u555f /usr/lib/locale/UTF-8/LC_CTYPE \u6a94\u6848\uff0c\u4f46\u7cfb\u7d71\u547c\u53eb\u5931\u6557\uff08\u56de\u50b3 -1\uff09\uff0c\u932f\u8aa4\u8a0a\u606f\u70ba\u300c\u7121\u6b64\u6a94\u6848\u6216\u76ee\u9304\u300d\uff08ENOENT\uff09\uff0c\u8868\u793a\u672a\u627e\u5230\u8a72\u6a94\u6848\u3002</p> <p>brk(NULL)                               = 0x90d000</p> <p>brk(0x92e000)                           = 0x92e000</p> <p>brk(NULL)                               = 0x92e000</p> <p>\u7cfb\u7d71\u547c\u53eb brk() \u7528\u65bc\u64f4\u5927\u6216\u7e2e\u6e1b\u7a0b\u5e8f\u7684\u8cc7\u6599\u6bb5\uff0c\u56de\u50b3\u8cc7\u6599\u6bb5\u7d50\u675f\u7684\u65b0\u5730\u5740\u3002</p> <p>open(\"/lib64/libc.so.6\", O_RDONLY|O_CLOEXEC) = 3</p> <p>read(3, \"\\177ELF\\2\\1\\1\\3\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0&gt;\\0\\1\\0\\0\\0\\20&amp;\\2\\0\\0\\0\\0\\0\"..., 832) = 832</p> <p>\u4e0a\u8ff0\u8f38\u51fa\u986f\u793a\u6210\u529f\u547c\u53eb open()\uff0c\u63a5\u8457\u547c\u53eb read()\u3002</p> <p>\u5728 open() \u547c\u53eb\u4e2d\uff0c\u7b2c\u4e00\u53c3\u6578\u662f\u6a94\u6848\u8def\u5f91\uff0c\u7b2c\u4e8c\u53c3\u6578\u5b9a\u7fa9\u5b58\u53d6\u6b0a\u9650\u3002\u672c\u4f8b\u4e2dO_RDONLY\u8868\u793a\u552f\u8b80\uff0cO_CLOEXEC\u5247\u555f\u7528\u57f7\u884c\u6642\u81ea\u52d5\u95dc\u9589\u6a19\u8a8c\uff0c\u7528\u65bc\u907f\u514d\u591a\u57f7\u884c\u7dd2\u7a0b\u5e8f\u4e2d\u958b\u555f\u6a94\u6848\u63cf\u8ff0\u7b26\u7684\u7af6\u722d\u72c0\u6cc1\u30023 \u662f\u6a94\u6848\u63cf\u8ff0\u7b26\uff0c0\u30011\u30012 \u5206\u5225\u7531\u6a19\u6e96\u8f38\u5165\u3001\u6a19\u6e96\u8f38\u51fa\u53ca\u6a19\u6e96\u932f\u8aa4\u4f54\u7528\uff0c\u6240\u4ee5\u4e0b\u4e00\u500b\u672a\u7528\u63cf\u8ff0\u7b26\u662f3\u3002</p> <p>\u5728 read() \u547c\u53eb\u4e2d\uff0c\u7b2c\u4e00\u53c3\u6578\u70ba\u6a94\u6848\u63cf\u8ff0\u7b263\uff0c\u7b2c\u4e8c\u53c3\u6578\u70ba\u8cc7\u6599\u8b80\u53d6\u7de9\u885d\u5340\uff0c\u7b2c\u4e09\u53c3\u6578\u70ba\u7de9\u885d\u5340\u5927\u5c0f\u3002\u56de\u50b3\u503c832\u8868\u793a\u6210\u529f\u8b80\u53d6832\u5b57\u7bc0\u3002</p> <p>close(3)                                = 0</p> <p>close\u7cfb\u7d71\u547c\u53eb\u7531\u6838\u5fc3\u95dc\u9589\u6a94\u6848\u63cf\u8ff0\u7b26\uff0c0 \u8868\u793a\u6210\u529f\u3002</p> <p>write(1, \"Hello world\", 11Hello world)             = 11</p> <p>\u524d\u9762\u4ecb\u7d39\u904e write()\uff0c\u5176\u7b2c\u4e00\u53c3\u6578\u70ba\u6a94\u6848\u63cf\u8ff0\u7b26\uff0c\u7b2c\u4e8c\u70ba\u5f85\u5beb\u5165\u8cc7\u6599\u7de9\u885d\u5340\uff0c\u6700\u5f8c\u70ba\u5beb\u5165\u5b57\u5143\u6578\u3002\u8f38\u51fa\u5230\u87a2\u5e55\u662f\u900f\u904e\u6a94\u6848 /dev/tty \u4ee5\u53ca\u6a19\u6e96\u8f38\u51fa\u63cf\u8ff0\u7b261\u57f7\u884c\u3002\u6210\u529f\u6642\u56de\u50b3\u5beb\u5165\u5b57\u5143\u6578\uff0c\u6b64\u4f8b\u70ba11\u3002</p> <p>+++ exited with 0 +++</p> <p>\u8868\u793a\u7a0b\u5f0f\u6210\u529f\u7d50\u675f\uff0c\u9000\u51fa\u4ee3\u78bc\u70ba0\u3002\u5728Linux\u4e2d\uff0c\u9000\u51fa\u78bc0\u901a\u5e38\u8868\u793a\u57f7\u884c\u6210\u529f\u3002</p> <p>\u4e0d\u5fc5\u8a18\u61b6\u6240\u6709\u7cfb\u7d71\u547c\u53eb\u53ca\u5176\u529f\u80fd\uff0c\u6709\u9700\u8981\u6642\u53ef\u53c3\u8003\u6587\u4ef6\u3002\u8acb\u5148\u78ba\u4fdd\u5df2\u5b89\u88dd\u4ee5\u4e0b\u5957\u4ef6\uff1a</p> <pre><code>$ rpm -qa | grep -i man-pages\n\nman-pages-3.53-5.el7.noarch\n</code></pre> <p>\u4f7f\u7528 <code>man</code> \u6307\u4ee4\u642d\u914d\u7cfb\u7d71\u547c\u53eb\u540d\u7a31\u53ef\u67e5\u95b1\u6587\u4ef6\uff08\u5982\uff1aexecve\uff09\uff1a</p> <pre><code>man 2 execve\n</code></pre> <p>\u9664\u7cfb\u7d71\u547c\u53eb\u5916\uff0cstrace\u9084\u53ef\u7528\u65bc\u5075\u6e2c\u7a0b\u5f0f\u8b80\u5beb\u7684\u6a94\u6848\u3002\u4e0a\u8ff0\u8ddf\u8e64\u4e2d\uff0c\u7cfb\u7d71\u547c\u53eb open(\"/lib64/libc.so.6\", O_RDONLY|O_CLOEXEC) = 3 \u958b\u555f\u4e86 libc \u5171\u4eab\u7269\u4ef6\u6a94 /lib64/libc.so.6\uff0c\u6b64\u6a94\u5305\u542b\u5404\u7a2e\u6a19\u6e96\u51fd\u5f0fC\u5be6\u4f5c\uff0c\u5982 printf() \u5b9a\u7fa9\uff0c\u662f\u8f38\u51fa\"Hello World\"\u6240\u9700\u51fd\u5f0f\u3002</p> <p>strace\u4ea6\u53ef\u6aa2\u67e5\u7a0b\u5f0f\u662f\u5426\u5361\u6b7b\u3002\u8ffd\u8e64\u6642\u53ef\u89c0\u5bdf\u7a0b\u5f0f\u5361\u5728\u4f55\u8655\uff0c\u4e26\u627e\u51fa\u932f\u8aa4\u539f\u56e0\uff0c\u6709\u52a9\u4e86\u89e3\u6548\u80fd\u8b8a\u6162\u539f\u56e0\u3002</p> <p>\u96d6\u7136 strace \u6709\u4e0a\u8ff0\u7528\u9014\uff0c\u4f46\u82e5\u5728\u751f\u7522\u74b0\u5883\u4e2d\u4f7f\u7528\uff0cstrace\u4e26\u975e\u826f\u597d\u9078\u64c7\uff0c\u56e0\u70ba\u5176\u5e36\u4f86\u76f8\u7576\u5927\u7684\u7cfb\u7d71\u8ca0\u64d4\u3002\u6839\u64daRed Hat \u9ad8\u7d1a\u8edf\u9ad4\u5de5\u7a0b\u5e2b Arnaldo Carvalho de Melo \u7684\u6548\u80fd\u6e2c\u8a66\uff0c\u4f7f\u7528 strace \u8ffd\u8e64\u6642\uff0c\u7a0b\u5e8f\u57f7\u884c\u901f\u5ea6\u8b8a\u6162\u7d04173\u500d\uff0c\u5c0d\u751f\u7522\u74b0\u5883\u53ef\u80fd\u6709\u707d\u96e3\u6027\u5f71\u97ff\u3002</p>"},{"location":"level102/system_design/conclusion/","title":"Conclusion","text":"<p>\u6211\u5011\u5df2\u7d93\u63a2\u8a0e\u4e86\u5f9e\u982d\u958b\u59cb\u8a2d\u8a08\u4e00\u500b\u7cfb\u7d71\uff0c\u4e26\u5c07\u5176\u5f9e\u55ae\u4e00\u4f3a\u670d\u5668\u64f4\u5c55\u5230\u591a\u500b\u8cc7\u6599\u4e2d\u5fc3\u4ee5\u53ca\u6578\u5341\u842c\u7528\u6236\u7684\u904e\u7a0b\u3002\u7136\u800c\uff0c\u4f60\u53ef\u80fd\uff08\u4e26\u4e14\u5408\u7406\u5730\uff09\u5df2\u7d93\u731c\u5230\uff0c\u7cfb\u7d71\u8a2d\u8a08\u6db5\u84cb\u7684\u7bc4\u570d\u9060\u6bd4\u6211\u5011\u76ee\u524d\u6240\u4ecb\u7d39\u7684\u8981\u591a\u5f97\u591a\u3002\u9019\u9580\u8ab2\u7a0b\u61c9\u8a72\u6703\u8b93\u4f60\u5c0d\u4efb\u4f55\u7cfb\u7d71\u8a2d\u8a08\u904e\u7a0b\u4e2d\u57fa\u672c\u7684\u8981\u7d20\u6709\u4e00\u500b\u5168\u9762\u7684\u4e86\u89e3\u3002\u5177\u9ad4\u5be6\u65bd\u7684\u89e3\u6c7a\u65b9\u6848\u3001\u4f7f\u7528\u7684\u6846\u67b6\u548c\u5354\u8abf\u7cfb\u7d71\u90fd\u5728\u5feb\u901f\u767c\u5c55\uff0c\u4f46\u6307\u5c0e\u539f\u5247\u59cb\u7d42\u5982\u4e00\u3002\u6211\u5011\u5e0c\u671b\u9019\u9580\u8ab2\u7a0b\u80fd\u5e6b\u52a9\u4f60\u671d\u8457\u6b63\u78ba\u7684\u65b9\u5411\u8d77\u6b65\uff0c\u4e26\u4e14\u5e0c\u671b\u4f60\u5728\u8a2d\u8a08\u7cfb\u7d71\u548c\u89e3\u6c7a\u6709\u8da3\u554f\u984c\u7684\u904e\u7a0b\u4e2d\u4eab\u53d7\u6a02\u8da3\u3002</p>"},{"location":"level102/system_design/intro/","title":"\u7cfb\u7d71\u8a2d\u8a08","text":""},{"location":"level102/system_design/intro/#_2","title":"\u5148\u6c7a\u689d\u4ef6","text":"<ul> <li>School of SRE - \u7cfb\u7d71\u8a2d\u8a08 - \u7b2c\u4e00\u968e\u6bb5</li> </ul>"},{"location":"level102/system_design/intro/#_3","title":"\u9019\u9580\u8ab2\u7a0b\u7684\u9810\u671f\u76ee\u6a19","text":"<p>\u672c\u8ab2\u7a0b\u7684\u76ee\u6a19\u662f\u8b93\u8b80\u8005\u80fd\u5920\u7406\u89e3\u826f\u597d\u8a2d\u8a08\u7cfb\u7d71\u7684\u57fa\u672c\u69cb\u4ef6\u3001\u8a55\u4f30\u73fe\u6709\u7cfb\u7d71\u3001\u7406\u89e3\u53d6\u6368\u3001\u63d0\u51fa\u81ea\u5df1\u7684\u8a2d\u8a08\uff0c\u4e26\u63a2\u7d22\u53ef\u7528\u4f86\u5be6\u73fe\u8a72\u7cfb\u7d71\u7684\u5404\u7a2e\u5de5\u5177\u3002\u5728\u672c\u6a21\u7d44\u7684\u7b2c\u4e00\u968e\u6bb5\uff0c\u6211\u5011\u8a0e\u8ad6\u4e86\u7cfb\u7d71\u8a2d\u8a08\u7684\u57fa\u790e\uff0c\u5305\u62ec\u53ef\u64f4\u5c55\u6027\u3001\u53ef\u7528\u6027\u548c\u53ef\u9760\u6027\u7b49\u6982\u5ff5\u3002\u5728\u672c\u968e\u6bb5\u4e2d\uff0c\u6211\u5011\u5c07\u7e7c\u7e8c\u5efa\u7acb\u9019\u4e9b\u57fa\u790e\u3002</p>   \u5728\u6574\u500b\u8ab2\u7a0b\u4e2d\uff0c\u6703\u51fa\u73fe\u50cf\u9019\u6a23\u7684\u63d0\u9192\u5340\u584a\uff0c\u8ac7\u8ad6\u4e00\u4e9b\u8207\u7cfb\u7d71\u8a2d\u8a08\u6d41\u7a0b\u5bc6\u5207\u76f8\u95dc\u4f46\u4e0d\u5c6c\u65bc\u7cfb\u7d71\u672c\u8eab\u7684\u5167\u5bb9\u3002\u5b83\u5011\u4e5f\u6703\u5305\u542b\u4e00\u4e9b\u7cfb\u7d71\u8a2d\u8a08\u4e2d\u5e38\u898b\u554f\u984c\u7684\u76f8\u95dc\u8cc7\u8a0a\uff0c\u8acb\u7279\u5225\u7559\u610f\u9019\u4e9b\u5167\u5bb9\u3002"},{"location":"level102/system_design/intro/#_4","title":"\u672c\u8ab2\u7a0b\u672a\u6db5\u84cb\u7684\u7bc4\u570d","text":"<p>\u96d6\u7136\u672c\u8ab2\u7a0b\u6db5\u84cb\u7cfb\u7d71\u8a2d\u8a08\u7684\u8a31\u591a\u65b9\u9762\uff0c\u4f46\u4e26\u672a\u6db5\u84cb\u6700\u57fa\u672c\u7684\u6982\u5ff5\u3002\u5c0d\u65bc\u90a3\u4e9b\u4e3b\u984c\uff0c\u5efa\u8b70\u5148\u95b1\u8b80\u5148\u6c7a\u689d\u4ef6\u3002</p> <p>\u4e00\u822c\u800c\u8a00\uff0c\u672c\u6a21\u7d44\u4e0d\u6703\u4ecb\u7d39\u5be6\u969b\u7684\u67b6\u69cb\u843d\u5be6\u2014\u2014\u6211\u5011\u4e0d\u6703\u8a0e\u8ad6\u5982\u4f55\u9078\u64c7\u4e3b\u6a5f\uff0f\u96f2\u7aef\u4f9b\u61c9\u5546\u6216\u7de8\u6392\u8a2d\u5b9a\uff0c\u6216\u6301\u7e8c\u6574\u5408\uff0f\u6301\u7e8c\u90e8\u7f72\uff08CI/CD\uff09\u7cfb\u7d71\u3002\u6211\u5011\u5c07\u8457\u91cd\u65bc\u7cfb\u7d71\u8a2d\u8a08\u9808\u8003\u91cf\u7684\u57fa\u672c\u56e0\u7d20\u3002</p>"},{"location":"level102/system_design/intro/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ul> <li>\u4ecb\u7d39</li> <li>\u5927\u578b\u7cfb\u7d71\u8a2d\u8a08</li> <li>\u64f4\u5c55</li> <li>\u8cc7\u6599\u4e2d\u5fc3\u5916\u7684\u64f4\u5c55</li> <li>\u5f48\u6027\u7684\u8a2d\u8a08\u6a21\u5f0f</li> <li>\u7d50\u8a9e</li> </ul>"},{"location":"level102/system_design/intro/#_6","title":"\u4ecb\u7d39","text":"<p>\u5728\u672c\u8ab2\u7a0b\u7684\u524d\u4e00\u968e\u6bb5\uff0c\u6211\u5011\u63a2\u8a0e\u4e86\u5982\u4f55\u5efa\u69cb\u4e00\u500b\u57fa\u790e\u7684\u7167\u7247\u5206\u4eab\u61c9\u7528\u3002\u6211\u5011\u5c0d\u8a72\u61c9\u7528\u7684\u57fa\u672c\u9700\u6c42\u662f\uff1a</p> <ol> <li>\u80fd\u5920\u652f\u63f4\u76f8\u7576\u591a\u7684\u4f7f\u7528\u8005</li> <li>\u5728\u767c\u751f\u554f\u984c\u6642\uff0c\u907f\u514d\u670d\u52d9\u5931\u6548\u6216\u6574\u500b\u53e2\u96c6\u5d29\u6f70</li> </ol> <p>\u63db\u53e5\u8a71\u8aaa\uff0c\u6211\u5011\u5e0c\u671b\u6253\u9020\u4e00\u500b\u53ef\u7528\u3001\u53ef\u64f4\u5c55\u4e14\u5bb9\u932f\u7684\u7cfb\u7d71\u3002\u6211\u5011\u5c07\u6301\u7e8c\u8a2d\u8a08\u8a72\u61c9\u7528\uff0c\u4e26\u5728\u904e\u7a0b\u4e2d\u6db5\u84cb\u66f4\u591a\u6982\u5ff5\u3002</p> <p>\u7167\u7247\u5206\u4eab\u61c9\u7528\u662f\u4e00\u500b\u7db2\u9801\u61c9\u7528\uff0c\u8655\u7406\u7528\u6236\u8a3b\u518a\u3001\u767b\u5165\u3001\u4e0a\u50b3\u3001\u52d5\u614b\u7522\u751f\u3001\u7528\u6236\u4e92\u52d5\u53ca\u4e0a\u50b3\u5167\u5bb9\u4e92\u52d5\u7b49\u6240\u6709\u6d41\u7a0b\uff0c\u540c\u6642\u9700\u8981\u4e00\u500b\u8cc7\u6599\u5eab\u4f86\u5b58\u5132\u9019\u4e9b\u8cc7\u8a0a\u3002\u5728\u6700\u7c21\u55ae\u7684\u8a2d\u8a08\u4e2d\uff0c\u7db2\u9801\u61c9\u7528\u8ddf\u8cc7\u6599\u5eab\u53ef\u4ee5\u57f7\u884c\u65bc\u540c\u4e00\u53f0\u4f3a\u670d\u5668\u3002\u8acb\u56de\u60f3\u7b2c\u4e00\u968e\u6bb5\u4e2d\u7684\u521d\u59cb\u8a2d\u8a08\u3002</p> <p></p> <p>\u57fa\u65bc\u6b64\uff0c\u6211\u5011\u5c07\u8ac7\u8ad6\u7cfb\u7d71\u8a2d\u8a08\u4e2d\u7684\u6548\u80fd\u5143\u7d20\u2014\u2014\u8a2d\u5b9a\u6b63\u78ba\u7684\u6548\u80fd\u8861\u91cf\u6307\u6a19\u4e26\u4ee5\u6b64\u9a45\u52d5\u8a2d\u8a08\u6c7a\u7b56\uff0c\u900f\u904e\u5feb\u53d6\u3001\u5167\u5bb9\u50b3\u905e\u7db2\u8def\uff08CDN\uff09\u7b49\u65b9\u5f0f\u63d0\u5347\u6548\u80fd\u3002\u540c\u6642\uff0c\u6211\u5011\u4e5f\u6703\u63a2\u8a0e\u5982\u4f55\u900f\u904e\u4e00\u4e9b\u7cfb\u7d71\u8a2d\u8a08\u6a21\u5f0f\u4f86\u5f37\u5316\u5f48\u6027\u2014\u2014\u4f8b\u5982\u512a\u96c5\u964d\u7d1a\u3001\u903e\u6642\u8207\u65b7\u8def\u5668\u3002</p> \u6210\u672c \u7cfb\u7d71\u8a2d\u8a08\u4e2d\u50cf\u662f\u53ef\u7528\u6027\u3001\u53ef\u64f4\u5c55\u6027\u7684\u8003\u91cf\u4e0d\u6703\u5b64\u7acb\u5b58\u5728\u3002\u5728\u771f\u5be6\u74b0\u5883\u4e0b\uff0c\u6211\u5011\u6709\u5176\u4ed6\u8003\u616e\u9ede\uff0f\u5df2\u6709\u8003\u616e\u9ede\u53ef\u80fd\u6703\u5448\u73fe\u4e0d\u540c\u7684\u9762\u8c8c\u3002\u5176\u4e2d\u4e00\u9805\u5373\u70ba\u6210\u672c\u3002\u73fe\u5be6\u4e16\u754c\u7684\u7cfb\u7d71\u5e7e\u4e4e\u7e3d\u6709\u9810\u7b97\u9650\u5236\u3002\u7cfb\u7d71\u8a2d\u8a08\u3001\u5be6\u65bd\u8207\u6301\u7e8c\u71df\u904b\u9700\u8981\u6709\u53ef\u9810\u6e2c\u7684\u6bcf\u55ae\u4f4d\u8f38\u51fa\u6210\u672c\uff0c\u800c\u8f38\u51fa\u901a\u5e38\u5c31\u662f\u4f60\u8a66\u5716\u89e3\u6c7a\u7684\u5546\u696d\u554f\u984c\u3002\u5982\u4f55\u5728\u5169\u8005\u9593\u53d6\u5f97\u5e73\u8861\u5341\u5206\u91cd\u8981\u3002  \u7406\u89e3\u7cfb\u7d71\u7684\u80fd\u529b \u4e00\u500b\u826f\u597d\u8a2d\u8a08\u7684\u7cfb\u7d71\u9700\u8981\u6df1\u5165\u7406\u89e3\u69cb\u4ef6\u7684\u80fd\u529b\u3002\u4e0d\u662f\u6240\u6709\u5143\u4ef6\u90fd\u662f\u4e00\u6a23\u7684\uff0c\u4e86\u89e3\u55ae\u4e00\u5143\u4ef6\u7684\u80fd\u529b\u662f\u975e\u5e38\u91cd\u8981\u7684\u2014\u2014\u4f8b\u5982\uff0c\u5728\u7167\u7247\u4e0a\u50b3\u61c9\u7528\u4e2d\uff0c\u4e86\u89e3\u55ae\u4e00\u8cc7\u6599\u5eab\u5be6\u4f8b\u5728\u6bcf\u79d2\u8b80\u53d6\u6216\u5beb\u5165\u4ea4\u6613\u91cf\u65b9\u9762\u7684\u80fd\u529b\uff0c\u4e26\u5408\u7406\u9810\u671f\u6578\u503c\uff0c\u662f\u5fc5\u8981\u7684\u3002\u9019\u80fd\u5e6b\u52a9\u5efa\u7acb\u9069\u7576\u5206\u914d\u8cc7\u6e90\u7684\u7cfb\u7d71\uff0c\u4e26\u6392\u9664\u660e\u986f\u7684\u74f6\u9838\u4f86\u6e90\u3002   \u5728\u8f03\u4f4e\u5c64\u9762\uff0c\u4e86\u89e3\u5e95\u5c64\u786c\u9ad4\uff08\u6216\u96f2\u7aef\u4e0a\u7684\u865b\u64ec\u6a5f\u5be6\u4f8b\uff09\u7684\u80fd\u529b\u4e5f\u5f88\u91cd\u8981\u3002\u4f8b\u5982\uff0c\u4e0d\u662f\u6240\u6709\u78c1\u789f\u7684\u6548\u80fd\u76f8\u540c\uff0c\u4e5f\u4e0d\u662f\u6240\u6709\u78c1\u789f\u7684\u6bcf\u6210\u672c\u6548\u80fd\u76f8\u540c\u3002\u5982\u679c\u9810\u8a08 API \u5728\u6b63\u5e38\u60c5\u6cc1\u4e0b\u56de\u61c9\u6642\u9593\u70ba 100 \u6beb\u79d2\uff0c\u91cd\u8981\u7684\u662f\u8981\u77e5\u9053\u7cfb\u7d71\u4e2d\u5404\u90e8\u5206\u5c07\u82b1\u8cbb\u591a\u5c11\u6642\u9593\u3002\u4ee5\u4e0b\u9023\u7d50\u53ef\u5e6b\u52a9\u60a8\u4e86\u89e3\u5f9e CPU \u5feb\u53d6\u5230\u7db2\u8def\u9023\u7dda\uff0c\u76f4\u81f3\u7d42\u7aef\u7528\u6236\u5404\u74b0\u7bc0\u7684\u6548\u80fd\u6578\u64da\u3002  \u6bcf\u500b\u7a0b\u5f0f\u8a2d\u8a08\u5e2b\u90fd\u8a72\u77e5\u9053\u7684\u6578\u5b57"},{"location":"level102/system_design/large-system-design/","title":"Large System Design","text":"<p>\u8a2d\u8a08\u7cfb\u7d71\u901a\u5e38\u4e00\u958b\u59cb\u6703\u6bd4\u8f03\u62bd\u8c61\u2014\u2014\u6211\u5011\u6703\u6709\u5927\u578b\u7684\u529f\u80fd\u5340\u584a\u9700\u8981\u5f7c\u6b64\u5408\u4f5c\uff0c\u4e26\u88ab\u62bd\u8c61\u5316\u70ba\u524d\u7aef\u3001\u5f8c\u7aef\u53ca\u8cc7\u6599\u5eab\u5c64\u3002\u7136\u800c\uff0c\u7576\u771f\u6b63\u8981\u5be6\u4f5c\u7cfb\u7d71\u6642\uff0c\u5c24\u5176\u662f\u8eab\u70ba SRE\uff0c\u6211\u5011\u5225\u7121\u9078\u64c7\u53ea\u80fd\u4ee5\u5177\u9ad4\u7684\u5c3a\u5ea6\u4f86\u601d\u8003\u3002\u4f3a\u670d\u5668\u64c1\u6709\u56fa\u5b9a\u7684\u8a18\u61b6\u9ad4\u3001\u5132\u5b58\u7a7a\u9593\u548c\u904b\u7b97\u80fd\u529b\u3002\u56e0\u6b64\uff0c\u6211\u5011\u9700\u8981\u601d\u8003\u7cfb\u7d71\u7684\u5be6\u969b\u671f\u671b\uff0c\u8a55\u4f30\u9700\u6c42\uff0c\u4e26\u5c07\u5176\u8f49\u63db\u70ba\u7cfb\u7d71\u4e2d\u6bcf\u500b\u7d44\u4ef6\uff08\u4f8b\u5982\u7db2\u8def\u3001\u5132\u5b58\u8207\u904b\u7b97\uff09\u7684\u5177\u9ad4\u9700\u6c42\u3002\u9019\u57fa\u672c\u4e0a\u662f\u5e7e\u4e4e\u6240\u6709\u5927\u578b\u7cfb\u7d71\u5efa\u69cb\u7684\u65b9\u5f0f\u3002Google \u7684\u540c\u4e8b\u5011\u5c07\u6b64\u8a2d\u8a08\u7cfb\u7d71\u7684\u65b9\u5f0f\u6b63\u5f0f\u5316\u70ba\u300c\u975e\u62bd\u8c61\u5927\u578b\u7cfb\u7d71\u8a2d\u8a08\u300d\uff08Non abstract large system design\uff0c\u7c21\u7a31 NALSD\uff09\u3002\u6839\u64da Google Site Reliability Workbook \u7684\u8aaa\u6cd5\uff0c</p> <p>\u300c\u5be6\u969b\u4e0a\uff0cNALSD \u7d50\u5408\u4e86\u5bb9\u91cf\u898f\u5283\u3001\u7d44\u4ef6\u9694\u96e2\u4ee5\u53ca\u512a\u96c5\u7cfb\u7d71\u964d\u7d1a\u7b49\u5143\u7d20\uff0c\u800c\u9019\u4e9b\u5c0d\u65bc\u9ad8\u53ef\u7528\u7684\u751f\u7522\u7cfb\u7d71\u81f3\u95dc\u91cd\u8981\u3002\u300d</p> <p>\u6211\u5011\u5c07\u63a1\u7528\u985e\u4f3c\u7684\u65b9\u6cd5\u4f86\u5efa\u7acb\u6211\u5011\u7684\u7cfb\u7d71\u3002</p>"},{"location":"level102/system_design/large-system-design/#_1","title":"\u61c9\u7528\u9700\u6c42","text":"<p>\u8b93\u6211\u5011\u4ee5\u66f4\u5177\u9ad4\u7684\u65b9\u5f0f\u5b9a\u7fa9\u61c9\u7528\u9700\u6c42\uff0c\u4e5f\u5c31\u662f\u5177\u9ad4\u7684\u529f\u80fd\uff1a</p> <p>\u6211\u5011\u7684\u7167\u7247\u5206\u4eab\u61c9\u7528\u5fc5\u9808\u8b93\u4f7f\u7528\u8005\u80fd\u5920</p> <ul> <li> <p>\u8a3b\u518a\u6210\u70ba\u6703\u54e1\u4e26\u767b\u5165\u61c9\u7528\u7a0b\u5f0f</p> </li> <li> <p>\u4e0a\u50b3\u7167\u7247\uff0c\u4e26\u53ef\u9078\u64c7\u65b0\u589e\u63cf\u8ff0\u3001\u6a19\u8a3b\u5730\u9ede\u53ca/\u6216\u4eba\u7269</p> </li> <li> <p>\u8ffd\u8e64\u5e73\u53f0\u4e0a\u7684\u5176\u4ed6\u4f7f\u7528\u8005</p> </li> <li> <p>\u67e5\u770b\u5305\u542b\u6240\u8ffd\u8e64\u4f7f\u7528\u8005\u7167\u7247\u7684\u52d5\u614b\u8a0a\u606f\uff08feed\uff09</p> </li> <li> <p>\u67e5\u770b\u500b\u4eba\u9801\u9762\uff0c\u4e26\u7ba1\u7406\u8ffd\u8e64\u6e05\u55ae</p> </li> </ul> <p>\u63a5\u8457\u6211\u5011\u8981\u5b9a\u7fa9\u61c9\u7528\u5728\u6548\u80fd\u4e0a\u7684\u671f\u671b\uff0c\u4ee5\u63d0\u5347\u4f7f\u7528\u8005\u9ad4\u9a57\uff1b\u540c\u6642\u4e5f\u8981\u5b9a\u7fa9\u7cfb\u7d71\u7684\u5065\u5eb7\u72c0\u614b\u3002SLI \u548c SLO \u5c31\u80fd\u9054\u6210\u6b64\u76ee\u7684\u3002</p>"},{"location":"level102/system_design/large-system-design/#sli-slo","title":"SLI \u8207 SLO","text":"<p>Google SRE \u66f8\u4e2d\u5b9a\u7fa9\u670d\u52d9\u7b49\u7d1a\u6307\u6a19\uff08Service Level Indicator\uff0cSLI\uff09\u70ba\u300c\u4e00\u500b\u7d93\u904e\u4ed4\u7d30\u5b9a\u7fa9\u7684\u91cf\u5316\u8861\u91cf\uff0c\u8861\u91cf\u67d0\u500b\u670d\u52d9\u7b49\u7d1a\u5c64\u9762\u7684\u67d0\u4e9b\u65b9\u9762\u300d\u3002\u5c0d\u6211\u5011\u7684\u61c9\u7528\uff0c\u53ef\u4ee5\u5b9a\u7fa9\u591a\u500b SLI\u3002\u8209\u4f8b\u4f86\u8aaa\uff0c\u4e00\u500b\u6307\u6a19\u53ef\u4ee5\u662f\u7167\u7247\u5206\u4eab\u61c9\u7528\u4e2d\u8f09\u5165\u52d5\u614b\u8a0a\u606f\u7684\u56de\u61c9\u6642\u9593\u3002\u9078\u64c7\u5408\u9069\u7684\u4e00\u7d44 SLI \u975e\u5e38\u91cd\u8981\uff0c\u56e0\u70ba\u5b83\u5011\u672c\u8cea\u4e0a\u53ef\u4ee5\u900f\u904e\u5177\u9ad4\u6578\u64da\u5b9a\u7fa9\u7cfb\u7d71\u6574\u9ad4\u7684\u5065\u5eb7\u3002\u61c9\u7528\u7684 SLI \u7531\u670d\u52d9\u64c1\u6709\u8005\u8207 SRE \u5171\u540c\u5354\u5546\u5236\u5b9a\u3002</p> <p>\u670d\u52d9\u7b49\u7d1a\u76ee\u6a19\uff08Service Level Objective\uff0cSLO\uff09\u5b9a\u7fa9\u70ba\u300c\u7531\u4e00\u500b SLI \u8861\u91cf\u7684\u670d\u52d9\u6c34\u6e96\u76ee\u6a19\u503c\u6216\u76ee\u6a19\u7bc4\u570d\u300d\u3002SLO \u662f\u6211\u5011\u7528\u4f86\u85c9\u7531\u5b9a\u7fa9 SLI \u7684\u754c\u7dda\uff0c\u5c07\u81ea\u5df1\u9328\u5b9a\u5728\u6700\u4f73\u4f7f\u7528\u8005\u9ad4\u9a57\u4e0a\u7684\u65b9\u6cd5\u3002\u5982\u679c\u61c9\u7528\u8f09\u5165\u52d5\u614b\u8a0a\u606f\u53cd\u61c9\u5f88\u6162\uff0c\u4f7f\u7528\u8005\u53ef\u80fd\u6703\u4e0d\u5e38\u6253\u958b\uff0c\u8209\u4f8b\u4f86\u8aaa\uff0c\u4e00\u500b SLO \u53ef\u80fd\u662f\uff1a\u81f3\u5c11 99% \u7684\u4f7f\u7528\u8005\u7684\u52d5\u614b\u8a0a\u606f\u9700\u5728 1 \u79d2\u5167\u5b8c\u6210\u8f09\u5165\u3002</p> <p>\u73fe\u5728\u6211\u5011\u5df2\u5b9a\u7fa9\u4e86 SLI \u548c SLO\uff0c\u8b93\u6211\u5011\u7528\u5177\u9ad4\u7684 SLI \u8207 SLO \u6c34\u6e96\u4f86\u5b9a\u7fa9\u61c9\u7528\u7684\u53ef\u64f4\u5145\u6027\u3001\u53ef\u9760\u5ea6\u8207\u6548\u80fd\u7279\u6027\u3002</p>"},{"location":"level102/system_design/large-system-design/#sli-slo_1","title":"\u4ee5 SLI \u8207 SLO \u5b9a\u7fa9\u61c9\u7528\u9700\u6c42","text":"<p>\u4ee5\u4e0b\u662f\u6211\u5011\u61c9\u7528\u7684\u4e00\u4e9b\u671f\u671b\uff1a</p> <ul> <li> <p>\u4f7f\u7528\u8005\u6210\u529f\u4e0a\u50b3\u5716\u7247\u5f8c\uff0c\u9664\u975e\u4f7f\u7528\u8005\u81ea\u884c\u522a\u9664\uff0c\u5716\u7247\u5fc5\u9808 100% \u96a8\u6642\u53ef\u4f9b\u4f7f\u7528\u8005\u53ca\u5176\u8ffd\u8e64\u8005\u89c0\u770b\u3002</p> </li> <li> <p>\u4efb\u4e00\u6642\u523b\u61c9\u80fd\u5bb9\u7d0d\u81f3\u5c11 50,000 \u540d\u7368\u7acb\u8a2a\u5ba2\u9020\u8a2a\u7db2\u7ad9\u4e26\u700f\u89bd\u5176\u52d5\u614b\u8a0a\u606f\u3002</p> </li> <li> <p>99% \u7684\u4f7f\u7528\u8005\u700f\u89bd\u52d5\u614b\u8a0a\u606f\u6642\uff0c\u9801\u9762\u8f09\u5165\u6642\u9593\u61c9\u5c11\u65bc 1 \u79d2\u3002</p> </li> <li> <p>\u65b0\u5716\u7247\u4e0a\u50b3\u5f8c\uff0c\u5fc5\u9808\u5728 15 \u5206\u9418\u5167\u51fa\u73fe\u5728\u4e0a\u50b3\u8005\u8ffd\u8e64\u8005\u7684\u52d5\u614b\u8a0a\u606f\u4e2d\u3002</p> </li> <li> <p>\u4f7f\u7528\u8005\u61c9\u80fd\u4e0a\u50b3\u6578\u5343\u5f35\u5716\u7247\uff08\u524d\u63d0\u662f\u672a\u6feb\u7528\u670d\u52d9\uff09\u3002</p> </li> </ul> <p>\u7531\u65bc\u6211\u5011\u6700\u7d42\u76ee\u6a19\u662f\u5b78\u7fd2\u7cfb\u7d71\u8a2d\u8a08\uff0c\u5c07\u6703\u4efb\u610f\u9650\u5236\u7cfb\u7d71\u529f\u80fd\uff0c\u4ee5\u4fbf\u5c08\u6ce8\u76ee\u6a19\u8207\u6838\u5fc3\u5b78\u7fd2\u5167\u5bb9\u3002</p> <p>\u65e2\u7136\u5df2\u5b9a\u7fa9\u7cfb\u7d71\u529f\u80fd\u8207\u671f\u671b\uff0c\u8b93\u6211\u5011\u5feb\u901f\u7e6a\u88fd\u521d\u6b65\u8a2d\u8a08\u5716\u3002</p> <p></p> <p>\u76ee\u524d\uff0c\u6240\u6709\u529f\u80fd\u90fd\u5728\u55ae\u4e00\u4f3a\u670d\u5668\u5167\uff0c\u8a72\u4f3a\u670d\u5668\u5305\u542b\u6240\u6709\u76f8\u61c9\u7684 API \u7aef\u9ede\u3002\u6211\u5011\u5c07\u5617\u8a66\u5efa\u69cb\u4e00\u5957\u7b26\u5408\u6211\u5011 SLO\u3001\u80fd\u670d\u52d9 5 \u842c\u540d\u4e26\u767c\u7528\u6236\u4ee5\u53ca\u7d04\u767e\u842c\u540d\u7e3d\u7528\u6236\u7684\u7cfb\u7d71\u3002\u5728\u904e\u7a0b\u4e2d\uff0c\u6211\u5011\u6703\u8a0e\u8ad6\u4e00\u9023\u4e32\u6982\u5ff5\uff0c\u5176\u4e2d\u4e00\u4e9b\u5df2\u65bc\u672c\u8ab2\u7a0b\u7b2c\u4e00\u968e\u6bb5\u898b\u904e\u3002</p> \u6ce8\u610f \u8acb\u6ce8\u610f\uff0c\u672c\u7bc0\u6240\u63a1\u7528\u7684\u6240\u6709\u6578\u5b57\u5747\u70ba\u4efb\u610f\u9078\u64c7\u3002\u9019\u4e9b\u6578\u5b57\u88ab\u7528\u4f86\u793a\u7bc4\u4ee5\u975e\u62bd\u8c61\u65b9\u5f0f\u601d\u8003\u7cfb\u7d71\u8a2d\u8a08\uff0c\u4e26\u672a\u7d93\u904e\u6548\u80fd\u57fa\u6e96\u6e2c\u8a66\uff0c\u4e14\u8207\u73fe\u5be6\u4e16\u754c\u7121\u5be6\u969b\u76f8\u7b26\u3002\u8acb\u52ff\u76f4\u63a5\u7528\u65bc\u4efb\u4f55\u771f\u5be6\u7cfb\u7d71\u8a2d\u8a08\u3002\u60a8\u61c9\u4f9d\u64da\u6b64\u8655\u6240\u8ff0\u7684\u6307\u5c0e\u539f\u5247\uff0c\u81ea\u884c\u5236\u8a02\u9069\u5408\u7684\u6578\u5b57\u3002"},{"location":"level102/system_design/large-system-design/#_2","title":"\u8cc7\u6e90\u9700\u6c42\u4f30\u7b97","text":"<p>\u55ae\u53f0\u96fb\u8166</p> <p>\u82e5\u5e0c\u671b\u5728\u55ae\u53f0\u4f3a\u670d\u5668\u4e0a\u57f7\u884c\u8a72\u61c9\u7528\uff0c\u9700\u5728\u6b64\u4f3a\u670d\u5668\u4e0a\u57f7\u884c\u5716\u4e2d\u6240\u6709\u529f\u80fd\u3002\u6211\u5011\u5148\u4f30\u7b97\u9700\u7528\u5230\u54ea\u4e9b\u8cc7\u6e90\u3002</p> <p>\u9996\u5148\uff0c\u8981\u5132\u5b58\u4f7f\u7528\u8005\u8cc7\u6599\u3001\u4e0a\u50b3\u7167\u7247\u8cc7\u6599\u3001\u8ffd\u8e64\u8005\u8cc7\u8a0a\u53ca\u5176\u4ed6\u76f8\u95dc\u7684\u4e2d\u7e7c\u8cc7\u6599\u3002\u6211\u5011\u5c07\u9078\u64c7\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u4f86\u5132\u5b58\u9019\u4e9b\u8cc7\u8a0a\uff0c\u4f8b\u5982 MySQL\u3002\u7576\u7136\u4e5f\u53ef\u4ee5\u9078\u7528 NoSQL \u89e3\u6c7a\u65b9\u6848\uff0c\u7b97\u8cc7\u6e90\u9700\u6c42\u65b9\u5f0f\u76f8\u7576\uff1b\u4ee5\u4e0b\u4ee5\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u793a\u7bc4\u8a2d\u8a08\u8868\u7d50\u69cb\uff1a</p> <p>\u4f7f\u7528\u8005\u8cc7\u6599\uff1a</p> <pre><code>UserID(int)\nUserName(varchar)\nDisplayName(varchar)\nYearOfBirth(year)\nEmail(varchar)\n</code></pre> <p>\u7167\u7247\u8cc7\u6599\uff1a</p> <pre><code>PhotoID(int)\nPhotoHash(varchar)\nUploadtime(datetime)\nLocation(varchar)\nOptionalFlag(varchar)\n</code></pre> <p>\u95dc\u6ce8\u95dc\u4fc2\uff1a</p> <pre><code>Follower(int)\nFollowee(int)\n</code></pre> <p>\u5feb\u901f\u4f30\u7b97\u5b58\u653e 1 \u5104\u540d\u4f7f\u7528\u8005\u6240\u9700\u7684\u5132\u5b58\u7a7a\u9593\u3002\u6bcf\u4f4d\u4f7f\u7528\u8005\u7d04\u9700 4B + 32B + 32B + 4B + 32B = 104 bytes\uff0c1 \u5104\u7528\u6236\u7d04\u9700 10.4 GB \u5132\u5b58\u7a7a\u9593\u3002\u6bcf\u5f35\u7167\u7247\u7d04\u9700 4B + 20B + 4B + 32B + 4B = 64 bytes \u4f86\u5b58\u653e\u5176\u4e2d\u7e7c\u8cc7\u6599\u3002\u5047\u8a2d\u6bcf\u5929\u4e0a\u50b3 100 \u842c\u5f35\u7167\u7247\uff0c\u5149\u662f\u4e2d\u7e7c\u8cc7\u6599\u4e5f\u9700\u8981\u7d04 64MB \u7684\u5132\u5b58\u7a7a\u9593\u3002\u82e5\u4ee5 300KB \u4f86\u8a08\u7b97\u5e73\u5747\u7167\u7247\u5927\u5c0f\uff0c\u7167\u7247\u6a94\u6848\u672c\u8eab\u4e00\u5929\u7d04\u9700 300GB \u5132\u5b58\u7a7a\u9593\u3002</p> <p>\u55ae\u4e00\u8a2a\u5ba2\u767b\u5165\u61c9\u7528\u6642\u6703\u547c\u53eb /get_feed \u7aef\u9ede\u3002\u6211\u5011\u4f86\u4f30\u7b97\u8655\u7406\u8a72\u8acb\u6c42\u6240\u9700\u7684\u8cc7\u6e90\u3002\u5047\u8a2d\u52d5\u614b\u8a0a\u606f\u6700\u521d\u8f09\u5165 5 \u5f35\u7167\u7247\uff08\u6bcf\u5f35\u7d04 300KB\uff09\uff0c\u4e26\u4ee5\u60f0\u6027\u8f09\u5165\u65b9\u5f0f\u7121\u9650\u6efe\u52d5\uff0c\u521d\u59cb\u8f09\u5165\u7d04\u9700\u50b3\u9001 1.5 MB \u7684\u5716\u50cf\u8cc7\u6599\u7d66\u4f7f\u7528\u8005\u3002\u82e5\u4f3a\u670d\u5668\u7db2\u8def\u4ee5 1000 Mbps*\u8a08\u7b97\uff0c \u6700\u591a\u5bb9\u7d0d\u7d04 (1000/8)/1.5 = \u7d04 83 \u4f4d\u4f7f\u7528\u8005\u540c\u6642\u540c\u4e00\u6642\u9593\u8f09\u5165\u52d5\u614b\u8a0a\u606f\uff0c\u5426\u5247\u7db2\u8def\u983b\u5bec\u6703\u98fd\u548c\u3002\u82e5\u6211\u5011\u8981\u4e00\u6b21\u6027\u8655\u7406 5 \u842c\u540d\u4e26\u767c\u7528\u6236\u7684\u52d5\u614b\u8a0a\u606f\u6d41\u91cf\uff0c\u6bcf\u79d2\u9700\u8655\u7406 1.5 * 50,000 * 8 = 600,000 Mbps\uff08600 Gbps\uff09\u7684\u7db2\u8def\u541e\u5410\u91cf\uff08\u5047\u8a2d 5 \u5f35\u5716\u4e00\u6b21\u6027\u5728 1 \u79d2\u5167\u9001\u51fa\uff09\u3002\u800c\u4e14\u5982\u679c\u5168\u90e8\u5f9e\u78c1\u789f\u8b80\u53d6\uff0c\u6211\u5011\u5e7e\u4e4e\u6703\u5148\u9047\u5230\u78c1\u789f\u6548\u80fd\u74f6\u9838\u3002</p> <p>\u56e0\u6b64\uff0c\u8981\u6eff\u8db3\u61c9\u7528\u9700\u6c42\uff0c\u6211\u5011\u9700\u8981\u4e00\u53f0\u7d04 310GB\uff08\u5132\u5b58\u4e00\u5929\u8cc7\u6599\u5eab\u8207\u7167\u7247\uff09\u7684\u4f3a\u670d\u5668\uff0c\u9084\u8981\u6709\u7d04 600 Gbps \u7db2\u8def\u983b\u5bec\u4f86\u670d\u52d9 5 \u842c\u4e26\u767c\u7528\u6236\uff0c\u6b64\u5916\u9084\u8981\u8db3\u5920\u7684 CPU \u4f86\u8655\u7406\u4f5c\u696d\u3002\u986f\u7136\uff0c\u55ae\u53f0\u4f3a\u670d\u5668\u7121\u6cd5\u8ca0\u8377\u3002</p> <p>\u4e14\u9700\u6ce8\u610f\uff0c\u6211\u5011\u5728\u8a2d\u8a08\u8cc7\u6599\u5eab\u6642\uff0c\u5df2\u7d93\u5927\u5e45\u9650\u5236\u8cc7\u6599\u5132\u5b58\u5167\u5bb9\uff0c\u5be6\u969b\u60c5\u6cc1\u901a\u5e38\u9700\u8981\u5132\u5b58\u898f\u6a21\u66f4\u5927\u6578\u91cf\u7d1a\u7684\u8cc7\u8a0a\u3002</p> <p>\u96d6\u7136\u73fe\u5be6\u4e2d\u6c92\u6709\u9019\u9ebc\u5f37\u7684\u55ae\u4e00\u4f3a\u670d\u5668\uff0c\u4f46\u6b64\u4f30\u7b97\u5e6b\u52a9\u6211\u5011\u4e86\u89e3\u8cc7\u6e90\u6210\u672c\u3002\u638c\u63e1\u9019\u4e9b\u8cc7\u8a0a\u5f8c\uff0c\u6211\u5011\u53ef\u4ee5\u900f\u904e\u7cfb\u7d71\u8a2d\u8a08\u4f86\u64f4\u5145\u4e26\u52aa\u529b\u9054\u6210\u61c9\u7528\u76ee\u6a19\u3002</p> <p>* \u73fe\u4ee3\u4f3a\u670d\u5668\u751a\u81f3\u6709\u591a Gigabit \u7db2\u901f\uff0c\u4f46\u9019\u9ebc\u9ad8\u968e\u7684\u4f3a\u670d\u5668\u4e0d\u592a\u53ef\u80fd\u53ea\u670d\u52d9\u6211\u5011\u7684\u61c9\u7528\u3002\u73fe\u4ee3\u96f2\u7aef\u63d0\u4f9b\u5546\u7684 VM \u4e5f\u5177\u5099\u591a Gigabit \u983b\u5bec\uff0c\u4f46\u901a\u5e38\u5728\u9054\u5230\u4e00\u5b9a\u9650\u5236\u5f8c\u5c31\u6703\u88ab\u9650\u901f\u3002</p>"},{"location":"level102/system_design/large-system-design/#_3","title":"\u53c3\u8003\u8cc7\u6599","text":"<ol> <li>SQL \u8207 NoSQL \u8cc7\u6599\u5eab\u6bd4\u8f03 </li> <li>\u4ecb\u7d39\u975e\u62bd\u8c61\u5927\u578b\u7cfb\u7d71\u8a2d\u8a08</li> </ol>"},{"location":"level102/system_design/resiliency/","title":"Resiliency","text":"<p>\u4e00\u500b\u5177\u5099\u5f48\u6027\u7684\u7cfb\u7d71\uff0c\u80fd\u5920\u5728\u9006\u5883\u4e2d\u6301\u7e8c\u904b\u4f5c\u3002\u5c0d\u65bc\u6211\u5011\u7684\u61c9\u7528\u7a0b\u5f0f\u800c\u8a00\uff0c\u53ef\u80fd\u6703\u6709\u8a31\u591a\u5931\u6548\u4e8b\u4ef6\u767c\u751f\u8996\u70ba\u9006\u5883\u3002\u53ef\u80fd\u6703\u6709\u7db2\u8def\u5c64\u7d1a\u7684\u5931\u6548\u5c0e\u81f4\u6574\u500b\u8cc7\u6599\u4e2d\u5fc3\u7671\u7613\uff0c\u4e5f\u53ef\u80fd\u662f\u6a5f\u6ac3\u5c64\u7d1a\u6216\u4f3a\u670d\u5668\u5c64\u7d1a\u7684\u554f\u984c\uff0c\u6216\u8005\u96f2\u7aef\u4f9b\u61c9\u5546\u51fa\u72c0\u6cc1\u3002\u6211\u5011\u4e5f\u53ef\u80fd\u6703\u9047\u5230\u5bb9\u91cf\u4e0d\u8db3\uff0c\u6216\u8005\u56e0\u70ba\u932f\u8aa4\u7684\u7a0b\u5f0f\u78bc\u63a8\u9001\u5c0e\u81f4\u7cfb\u7d71\u6545\u969c\u3002\u6211\u5011\u5c07\u8a0e\u8ad6\u4e00\u4e9b\u6b64\u985e\u554f\u984c\uff0c\u4e26\u4e86\u89e3\u5982\u4f55\u8a2d\u8a08\u7cfb\u7d71\uff0c\u7e5e\u904e\u9019\u4e9b\u554f\u984c\u3002\u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u53ef\u80fd\u7121\u6cd5\u627e\u5230\u8b8a\u901a\u65b9\u6cd5\uff0c\u4f46\u4e86\u89e3\u7cfb\u7d71\u7a69\u5b9a\u6027\u53ef\u80fd\u7684\u8106\u5f31\u9ede\u4ecd\u7136\u5f88\u6709\u50f9\u503c\u3002</p> <p>\u5f48\u6027\u67b6\u69cb\u5229\u7528\u5982\u512a\u96c5\u964d\u7d1a\u3001\u914d\u984d\u9650\u5236\u3001\u903e\u6642\u8207\u65b7\u8def\u5668\u7b49\u7cfb\u7d71\u8a2d\u8a08\u6a21\u5f0f\u3002\u8b93\u6211\u5011\u5728\u6b64\u7ae0\u7bc0\u63a2\u8a0e\u5176\u4e2d\u5e7e\u7a2e\u3002</p>"},{"location":"level102/system_design/resiliency/#_1","title":"\u914d\u984d\u9650\u5236","text":"<p>\u7cfb\u7d71\u53ef\u80fd\u6709\u67d0\u4e9b\u5143\u4ef6\u6216\u7aef\u9ede\u6703\u88ab\u591a\u500b\u5143\u4ef6\u548c\u7aef\u9ede\u4f7f\u7528\u3002\u91cd\u8981\u7684\u662f\u8981\u6709\u6a5f\u5236\u9632\u6b62\u67d0\u500b\u6d88\u8cbb\u8005\u6216\u5ba2\u6236\u7aef\u58d3\u57ae\u7cfb\u7d71\u3002\u914d\u984d\u9650\u5236\u662f\u4e00\u7a2e\u65b9\u6cd5 \u2014 \u6211\u5011\u70ba\u6bcf\u500b\u5143\u4ef6\u5206\u914d\u4e00\u500b\u7279\u5b9a\u914d\u984d\uff0c\u6307\u5b9a\u6bcf\u55ae\u4f4d\u6642\u9593\u53ef\u9001\u51fa\u7684\u8acb\u6c42\u6578\u3002\u9055\u53cd\u914d\u984d\u8005\u6703\u88ab\u8b66\u544a\u6216\u62d2\u7d55\uff0c\u8996\u5be6\u4f5c\u800c\u5b9a\u3002\u9019\u6a23\u6211\u5011\u4efb\u4f55\u4e00\u500b\u7cfb\u7d71\u7576\u6a5f\uff0c\u5c31\u4e0d\u6703\u5c0d\u5176\u4ed6\u7cfb\u7d71\u9020\u6210\u62d2\u7d55\u670d\u52d9\u3002\u914d\u984d\u9650\u5236\u4e5f\u6709\u52a9\u65bc\u907f\u514d\u9023\u9396\u6027\u5931\u6548\u3002</p>"},{"location":"level102/system_design/resiliency/#_2","title":"\u512a\u96c5\u964d\u7d1a","text":"<p>\u7576\u4e00\u500b\u6709\u591a\u500b\u76f8\u4f9d\u5143\u4ef6\u7684\u7cfb\u7d71\u78b0\u5230\u5176\u4e2d\u4e00\u500b\u5143\u4ef6\u5931\u6557\u6642\uff0c\u80fd\u5920\u512a\u96c5\u5730\u964d\u7d1a\u81f3\u6700\u5c0f\u53ef\u7528\u529f\u80fd\uff0c\u6bd4\u5b8c\u5168\u505c\u64fa\u8981\u597d\u5f88\u591a\u3002\u4f8b\u5982\uff0c\u5047\u8a2d\u6211\u5011\u61c9\u7528\u7a0b\u5f0f\u6709\u4e00\u500b\u7aef\u9ede\uff08\u670d\u52d9 URL \u6216\u7279\u5b9a\u529f\u80fd\uff09\uff0c\u8ca0\u8cac\u5f9e\u7528\u6236\u4e0a\u50b3\u7684\u5716\u7247\u5143\u8cc7\u6599\u4e2d\u89e3\u6790\u4f4d\u7f6e\u8cc7\u8a0a\uff0c\u4e26\u5411\u7528\u6236\u63d0\u4f9b\u4f4d\u7f6e\u6a19\u8a18\u5efa\u8b70\u3002\u8207\u5176\u6574\u500b\u4e0a\u50b3\u904e\u7a0b\u5931\u6557\uff0c\u4e0d\u5982\u76f4\u63a5\u8df3\u904e\u6b64\u529f\u80fd\uff0c\u4ecd\u7136\u8b93\u7528\u6236\u53ef\u4ee5\u624b\u52d5\u6a19\u8a18\u4f4d\u7f6e\u3002\u76f8\u8f03\u65bc\u5b8c\u5168\u5931\u6548\uff0c\u512a\u96c5\u964d\u7d1a\u7e3d\u662f\u66f4\u597d\u7684\u9078\u64c7\u3002</p>"},{"location":"level102/system_design/resiliency/#_3","title":"\u903e\u6642\u63a7\u5236","text":"<p>\u6211\u5011\u6709\u6642\u6703\u547c\u53eb\u5176\u4ed6\u670d\u52d9\u6216\u8cc7\u6e90\uff0c\u5982\u8cc7\u6599\u5eab\u6216 API \u7aef\u9ede\u3002\u5f9e\u61c9\u7528\u7a0b\u5f0f\u547c\u53eb\u6b64\u985e\u8cc7\u6e90\u6642\uff0c\u8a2d\u5b9a\u5408\u7406\u7684\u903e\u6642\u5341\u5206\u91cd\u8981\u3002\u8cc7\u6e90\u4e0d\u4e00\u5b9a\u6703\u5168\u90e8\u8acb\u6c42\u90fd\u5931\u6557\uff0c\u53ef\u80fd\u53ea\u662f\u67d0\u4e9b\u8acb\u6c42\u5c6c\u65bc\u9ad8\u5ef6\u9072\u5c3e\u7aef\u3002\u5408\u7406\u7684\u903e\u6642\u8a2d\u5b9a\uff0c\u6709\u52a9\u4fdd\u6301\u4f7f\u7528\u8005\u9ad4\u9a57\u7a69\u5b9a \u2014 \u6709\u6642\u5019\u5931\u6557\u6bd4\u6301\u7e8c\u9577\u6642\u9593\u7b49\u5f85\u66f4\u597d\u3002</p>"},{"location":"level102/system_design/resiliency/#_4","title":"\u6307\u6578\u9000\u907f","text":"<p>\u7576\u670d\u52d9\u7aef\u9ede\u5931\u6557\u6642\uff0c\u91cd\u8a66\u662f\u6aa2\u67e5\u662f\u5426\u66ab\u6642\u6027\u5931\u6557\u7684\u65b9\u6cd5\u4e4b\u4e00\uff0c\u4f46\u5982\u679c\u91cd\u8a66\u4e5f\u6703\u5931\u6557\uff0c\u7121\u9650\u91cd\u8a66\u6beb\u7121\u610f\u7fa9\u3002\u5728\u5927\u898f\u6a21\u7cfb\u7d71\u4e2d\uff0c\u91cd\u8a66\u53ef\u80fd\u8207\u65b0\u8acb\u6c42\u7af6\u722d\u8cc7\u6e90\uff0c\u9020\u6210\u7cfb\u7d71\u98fd\u548c\u3002\u70ba\u907f\u514d\u6b64\u60c5\u6cc1\uff0c\u6211\u5011\u53ef\u4f7f\u7528\u6307\u6578\u9000\u907f\uff0c\u5373\u5728\u9023\u7e8c\u5931\u6557\u7684\u91cd\u8a66\u4e4b\u9593\uff0c\u9010\u6f38\u589e\u52a0\u7b49\u5f85\u6642\u9593\uff0c\u964d\u4f4e\u91cd\u8a66\u983b\u7387\u3002</p>"},{"location":"level102/system_design/resiliency/#_5","title":"\u65b7\u8def\u5668","text":"<p>\u6307\u6578\u9000\u907f\u662f\u4e00\u7a2e\u8655\u7406\u91cd\u8a66\u98a8\u66b4\u7684\u65b9\u6cd5\uff0c\u65b7\u8def\u5668\u5247\u662f\u53e6\u4e00\u7a2e\u3002\u65b7\u8def\u5668\u53ef\u4ee5\u963b\u6b62\u5931\u6557\u64f4\u6563\u81f3\u6574\u500b\u7cfb\u7d71\u3002\u5426\u5247\uff0c\u672a\u88ab\u63a7\u5236\u7684\u5931\u6557\u53ef\u80fd\u9020\u6210\u932f\u8aa4\u8b66\u5831\uff0c\u589e\u52a0\u5075\u6e2c\u5e73\u5747\u6642\u9593\uff08MTTD\uff09\u548c\u4fee\u5fa9\u5e73\u5747\u6642\u9593\uff08MTTR\uff09\u3002\u4f8b\u5982\uff0c\u7576\u4e00\u500b\u8a18\u61b6\u9ad4\u5feb\u53d6\u7bc0\u9ede\u5931\u6548\uff0c\u5c0e\u81f4\u8acb\u6c42\u8d85\u904e\u5feb\u53d6\u7684\u521d\u59cb\u903e\u6642\u5f8c\u8f49\u5411\u8cc7\u6599\u5eab\uff0c\u53ef\u80fd\u6703\u4f7f\u8cc7\u6599\u5eab\u904e\u8f09\u3002\u5982\u679c\u6c92\u6709\u9023\u63a5\u8d77\u5feb\u53d6\u7bc0\u9ede\u5931\u6548\u8207\u8cc7\u6599\u5eab\u7bc0\u9ede\u904e\u8f09\u7684\u95dc\u806f\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4\u771f\u5be6\u539f\u56e0\u7684 MTTD \u589e\u52a0\uff0c\u9023\u5e36\u5f71\u97ff MTTR\u3002</p>"},{"location":"level102/system_design/resiliency/#_6","title":"\u81ea\u6211\u4fee\u5fa9\u7cfb\u7d71","text":"<p>\u50b3\u7d71\u63a1\u7528\u8ca0\u8f09\u5e73\u8861\u3001\u591a\u5be6\u4f8b\u67b6\u69cb\u7684\u61c9\u7528\uff0c\u7576\u8d85\u904e\u4e00\u5b9a\u6578\u91cf\u7684\u5be6\u4f8b\u505c\u6b62\u56de\u61c9\uff08\u53ef\u80fd\u56e0\u6545\u969c\u6216\u7a81\u7136\u6e67\u5165\u5927\u91cf\u8acb\u6c42\uff0c\u5c0e\u81f4\u6548\u80fd\u8870\u9000\uff09\u6642\u6703\u5931\u6548\u3002\u81ea\u6211\u4fee\u5fa9\u7cfb\u7d71\u80fd\u5728\u6b64\u60c5\u6cc1\u4e0b\u589e\u52a0\u66f4\u591a\u5be6\u4f8b\uff0c\u53d6\u4ee3\u5931\u6548\u7684\u5be6\u4f8b\u3002\u81ea\u52d5\u64f4\u5c55\u4e5f\u80fd\u61c9\u4ed8\u7a81\u7136\u7684\u67e5\u8a62\u91cf\u6fc0\u589e\u3002\u5982\u679c\u61c9\u7528\u7a0b\u5f0f\u67b6\u8a2d\u65bc\u516c\u5171\u96f2\u7aef\uff0c\u901a\u5e38\u53ea\u8981\u555f\u52d5\u66f4\u591a\u865b\u64ec\u6a5f\u5668\u5373\u53ef\uff1b\u82e5\u662f\u81ea\u5efa\u8cc7\u6599\u4e2d\u5fc3\uff0c\u5247\u9700\u8981\u66f4\u8b39\u614e\u7684\u5bb9\u91cf\u898f\u5283\u3002\u4e0d\u8ad6\u64f4\u589e\u65b9\u5f0f\u5982\u4f55\uff0c\u55ae\u7d14\u589e\u52a0\u5bb9\u91cf\u53ef\u80fd\u4ecd\u4e0d\u8db3\u5920\uff0c\u9084\u9700\u8003\u616e\u5176\u4ed6\u6f5b\u5728\u7684\u5931\u6548\u6a21\u5f0f\uff0c\u4f8b\u5982\u8ca0\u8f09\u5e73\u8861\u5c64\u672c\u8eab\u4e5f\u53ef\u80fd\u9700\u8981\u64f4\u5145\uff0c\u4ee5\u56e0\u61c9\u5f8c\u7aef\u670d\u52d9\u7684\u589e\u52a0\u3002</p>"},{"location":"level102/system_design/resiliency/#_7","title":"\u6301\u7e8c\u90e8\u7f72\u8207\u6574\u5408","text":"<p>\u8a2d\u8a08\u826f\u597d\u7684\u7cfb\u7d71\uff0c\u9084\u9808\u8003\u616e\u5efa\u7f6e\u4e00\u500b\u80fd\u76e1\u53ef\u80fd\u6a21\u64ec\u751f\u7522\u74b0\u5883\u7684\u6e2c\u8a66\u74b0\u5883\uff08staging\uff09\u3002\u61c9\u8a72\u6709\u65b9\u5f0f\u5728\u6e2c\u8a66\u74b0\u5883\u4e2d\u91cd\u653e\u751f\u7522\u6d41\u91cf\uff0c\u5fb9\u5e95\u6e2c\u8a66\u5c0d\u751f\u7522\u74b0\u5883\u7684\u8b8a\u66f4\u3002</p>"},{"location":"level102/system_design/scaling-beyond-the-datacenter/","title":"Scaling Beyond the Data Center","text":""},{"location":"level102/system_design/scaling-beyond-the-datacenter/#_1","title":"\u5feb\u53d6\u975c\u614b\u8cc7\u6e90","text":"<p>\u7a0d\u5fae\u64f4\u5c55\u73fe\u6709\u7684\u5feb\u53d6\u89e3\u6c7a\u65b9\u6848\uff0c\u6211\u5011\u6703\u63a5\u89f8\u5230\u5167\u5bb9\u50b3\u905e\u7db2\u8def\uff08Content Delivery Networks\uff0cCDNs\uff09\u3002CDN \u662f\u96e2\u4f7f\u7528\u8005\u6700\u8fd1\u7684\u5feb\u53d6\u5c64\u3002\u7db2\u9801\u4e2d\u63d0\u4f9b\u7684\u5927\u91cf\u8cc7\u6e90\uff0c\u53ef\u80fd\u4e26\u4e0d\u6703\u6bcf\u5c0f\u6642\u751a\u81f3\u6bcf\u5929\u8b8a\u52d5\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u6211\u5011\u6703\u5e0c\u671b\u5728 CDN \u5c64\u7d1a\u5feb\u53d6\u9019\u4e9b\u8cc7\u6e90\uff0c\u4ee5\u6e1b\u8f15\u6211\u5011\u7684\u8ca0\u8f09\u3002CDN \u4e0d\u50c5\u900f\u904e\u79fb\u9664\u975c\u614b\uff0f\u983b\u5bec\u5bc6\u96c6\u8cc7\u6e90\u7684\u4f3a\u670d\u5668\u8ca0\u64d4\u4f86\u6e1b\u5c11\u4f3a\u670d\u5668\u7684\u8ca0\u8f09\uff0c\u4e5f\u900f\u904e\u591a\u500b\u7bc0\u9ede\uff08Points of Presence\uff0cPOPs\uff09\u8b93\u6211\u5011\u66f4\u63a5\u8fd1\u4f7f\u7528\u8005\u3002CDN \u9084\u80fd\u5354\u52a9\u5be6\u73fe\u5730\u7406\u8ca0\u8f09\u5e73\u8861\uff0c\u7576\u6211\u5011\u5728\u5168\u7403\u6709\u591a\u500b\u8cc7\u6599\u4e2d\u5fc3\u6642\uff0c\u53ef\u4ee5\u7531\u6700\u8fd1\u7684\u8cc7\u6599\u4e2d\u5fc3\uff08Data Center\uff0cDC\uff09\u63d0\u4f9b\u670d\u52d9\u3002</p> <p>\u66f4\u9032\u4e00\u6b65</p> <p>\u96a8\u8457\u5feb\u53d6\u548c\u5c07\u61c9\u7528\u62c6\u5206\u6210\u66f4\u7c21\u55ae\u670d\u52d9\u7684\u52a0\u5165\uff0c\u6211\u5011\u5df2\u89e3\u6c7a\u4e86\u64f4\u5c55\u5230 5 \u842c\u4f7f\u7528\u8005\u7684\u554f\u984c\u3002\u7136\u800c\uff0c\u4f7f\u7528\u8005\u53ef\u80fd\u5206\u5e03\u65bc\u5168\u7403\u5404\u5730\uff0c\u4e14\u8ddd\u96e2\u8cc7\u6599\u4e2d\u5fc3\u6216\u96f2\u7aef\u5340\u57df\u7684\u9060\u8fd1\u4e0d\u540c\u3002\u4f7f\u7528\u8005\u9ad4\u9a57\u7684\u4e00\u81f4\u6027\u975e\u5e38\u91cd\u8981\uff0c\u5426\u5247\u6211\u5011\u53ef\u80fd\u6703\u6392\u9664\u8ddd\u96e2\u9060\u7684\u4f7f\u7528\u8005\uff0c\u6f5b\u5728\u6d41\u5931\u5927\u91cf\u6f5b\u5728\u7528\u6236\u3002\u4f46\u5728\u5168\u7403\u8a2d\u7acb\u8cc7\u6599\u4e2d\u5fc3\uff0c\u751a\u81f3\u53ea\u8a2d\u7acb\u5169\u500b\u4ee5\u4e0a\u4f4d\u7f6e\u4e26\u4e0d\u5be6\u969b\u3002\u9019\u6642 CDN \u8207 POP \u5c31\u6d3e\u4e0a\u7528\u5834\u4e86\u3002</p>"},{"location":"level102/system_design/scaling-beyond-the-datacenter/#points-of-presence","title":"\u63a5\u5165\u9ede\uff08Points of Presence\uff09","text":"<p>CDN POP \u662f\u5730\u7406\u4e0a\u5206\u6563\u7684\u8cc7\u6599\u4e2d\u5fc3\uff0c\u76ee\u6a19\u662f\u9760\u8fd1\u4f7f\u7528\u8005\u3002POPs \u900f\u904e\u5f9e\u8ddd\u96e2\u4f7f\u7528\u8005\u6700\u8fd1\u7684\u7bc0\u9ede\u63d0\u4f9b\u5167\u5bb9\uff0c\u964d\u4f4e\u5f80\u8fd4\u6642\u9593\u3002POPs \u901a\u5e38\u4e0d\u6703\u4fdd\u5b58\u5168\u90e8\u5167\u5bb9\uff0c\u4f46\u6703\u8a2d\u7f6e\u5feb\u53d6\u4f3a\u670d\u5668\u5feb\u53d6\u975c\u614b\u8cc7\u7522\uff0c\u4e26\u5f9e\u5be6\u969b\u5b58\u653e\u61c9\u7528\u7684 \u539f\u59cb\u4f3a\u670d\u5668 \u53d6\u5f97\u5176\u9918\u5167\u5bb9\u3002POPs \u7684\u4e3b\u8981\u529f\u80fd\u662f\u900f\u904e\u5c07\u5167\u5bb9\u5e36\u5230\u7db2\u7ad9\u8a2a\u5ba2\u9644\u8fd1\u4f86\u964d\u4f4e\u5f80\u8fd4\u6642\u9593\u3002POPs \u4e5f\u53ef\u4ee5\u5c07\u6d41\u91cf\u5c0e\u5411\u591a\u500b\u53ef\u80fd\u7684\u539f\u59cb\u8cc7\u6599\u4e2d\u5fc3\u4e4b\u4e00\u3002\u9019\u6a23\uff0cPOPs \u53ef\u4ee5\u7528\u4f86\u589e\u52a0\u97cc\u6027\u548c\u8ca0\u8f09\u5e73\u8861\u3002</p> <p>\u96a8\u8457\u6211\u5011\u7684\u5716\u7247\u5206\u4eab\u61c9\u7528\u65e5\u76ca\u53d7\u5230\u6b61\u8fce\uff0c\u5047\u8a2d\u5df2\u7a81\u783410\u842c\u540c\u6642\u7dda\u4e0a\u4f7f\u7528\u8005\uff0c\u6211\u5011\u4e5f\u56e0\u61c9\u6d41\u91cf\u589e\u52a0\u5efa\u7acb\u4e86\u53e6\u4e00\u5ea7\u8cc7\u6599\u4e2d\u5fc3\u3002\u73fe\u5728\u6211\u5011\u9700\u8981\u53ef\u9760\u5730\u5c07\u670d\u52d9\u5c0e\u5411\u9019\u5169\u5ea7\u8cc7\u6599\u4e2d\u5fc3\uff0c\u540c\u6642\u4fdd\u7559\u7576\u5169\u500b\u8cc7\u6599\u4e2d\u5fc3\u5176\u4e2d\u4e00\u8655\u51fa\u73fe\u554f\u984c\u6642\uff0c\u53ef\u4ee5\u56de\u9000\u81f3\u55ae\u4e00\u8cc7\u6599\u4e2d\u5fc3\u7684\u80fd\u529b\u3002\u9019\u6642\u5c31\u6703\u7528\u5230\u300c\u9ecf\u6027\u8def\u7531\u300d\uff08Sticky Routing\uff09\u3002</p>"},{"location":"level102/system_design/scaling-beyond-the-datacenter/#sticky-routing","title":"\u9ecf\u6027\u8def\u7531\uff08Sticky Routing\uff09","text":"<p>\u7576\u4f7f\u7528\u8005\u9001\u51fa\u8acb\u6c42\u6642\uff0c\u5728\u591a\u8cc7\u6599\u4e2d\u5fc3\u74b0\u5883\u4e0b\uff0c\u6211\u5011\u53ef\u80fd\u5e0c\u671b\u67d0\u4f7f\u7528\u8005\u7684\u8acb\u6c42\u5f9e\u7279\u5b9a\u8cc7\u6599\u4e2d\u5fc3\u6216\u8cc7\u6599\u4e2d\u5fc3\u5167\u7279\u5b9a\u4f3a\u670d\u5668\u56de\u61c9\uff0c\u4e5f\u53ef\u80fd\u5e0c\u671b\u540c\u4e00 POP \u7684\u6240\u6709\u8acb\u6c42\u7686\u7531\u540c\u4e00\u8cc7\u6599\u4e2d\u5fc3\u670d\u52d9\u3002\u9ecf\u6027\u8def\u7531\u53ef\u5be6\u73fe\u6b64\u76ee\u6a19\u3002\u5b83\u53ef\u80fd\u662f\u5c07\u6240\u6709\u4f7f\u7528\u8005\u56fa\u5b9a\u5728\u67d0\u500b\u8cc7\u6599\u4e2d\u5fc3\uff0c\u6216\u662f\u5c07\u7279\u5b9a\u4f7f\u7528\u8005\u56fa\u5b9a\u5230\u7279\u5b9a\u4f3a\u670d\u5668\u3002\u9019\u901a\u5e38\u5728 POP \u7aef\u5b8c\u6210\uff0c\u8b93\u4f7f\u7528\u8005\u4e00\u62b5\u9054\u6211\u5011\u7684\u4f3a\u670d\u5668\uff0c\u5373\u53ef\u5c07\u4ed6\u5011\u8def\u7531\u5230\u6700\u8fd1\u7684\u8cc7\u6599\u4e2d\u5fc3\u3002</p>"},{"location":"level102/system_design/scaling-beyond-the-datacenter/#dnsgeo-dns","title":"\u5730\u7406 DNS\uff08Geo DNS\uff09","text":"<p>\u7576\u4f7f\u7528\u8005\u958b\u555f\u61c9\u7528\u7a0b\u5f0f\u6642\uff0c\u53ef\u900f\u904e GeoDNS \u5c07\u4f7f\u7528\u8005\u5c0e\u5411\u591a\u500b\u5728\u5168\u7403\u5206\u6563\u7684 POP \u4e4b\u4e00\u3002GeoDNS \u6839\u64da\u4f7f\u7528\u8005 DNS \u8acb\u6c42\u7684\u5730\u7406\u4f4d\u7f6e\u63d0\u4f9b\u4e0d\u540c\u7684 IP \u4f4d\u5740\uff08IP \u4f4d\u5740\u672c\u8eab\u4e5f\u662f\u5730\u7406\u5206\u6563\u7684\uff09\u3002GeoDNS \u662f\u5c07\u4f7f\u7528\u8005\u5206\u6d3e\u81f3\u4e0d\u540c\u5730\u9ede\u7684\u7b2c\u4e00\u6b65\uff0c\u96d6\u7136\u4e0d\u767e\u5206\u4e4b\u767e\u6e96\u78ba\uff0c\u4e14\u901a\u5e38\u57fa\u65bc IP \u4f4d\u5740\u5206\u914d\u8cc7\u8a0a\u4f86\u63a8\u6e2c\u4f7f\u7528\u8005\u4f4d\u7f6e\uff0c\u4f46\u5c0d\u8d85\u904e90%\u7684\u7528\u6236\u4f86\u8aaa\u5df2\u8868\u73fe\u826f\u597d\u3002\u63a5\u8457\uff0c\u6211\u5011\u53ef\u4ee5\u4f7f\u7528\u9ecf\u6027\u8def\u7531\u670d\u52d9\uff0c\u5c07\u6bcf\u4f4d\u4f7f\u7528\u8005\u6307\u6d3e\u7d66\u7279\u5b9a\u8cc7\u6599\u4e2d\u5fc3\uff0c\u4e26\u8a2d\u5b9a Cookie\u3002\u7576\u4f7f\u7528\u8005\u4e0b\u6b21\u62dc\u8a2a\u6642\uff0cPOP \u53ef\u8b80\u53d6 Cookie\uff0c\u4ee5\u6c7a\u5b9a\u8a72\u4f7f\u7528\u8005\u7684\u6d41\u91cf\u8a72\u5c0e\u5411\u54ea\u500b\u8cc7\u6599\u4e2d\u5fc3\u3002</p> <p>\u64c1\u6709\u591a\u500b\u8cc7\u6599\u4e2d\u5fc3\u4e26\u5145\u5206\u5229\u7528\u9ecf\u6027\u8def\u7531\uff0c\u4e0d\u50c5\u63d0\u5347\u64f4\u5c55\u80fd\u529b\uff0c\u4e5f\u589e\u52a0\u670d\u52d9\u97cc\u6027\uff0c\u4f46\u540c\u6642\u5e36\u4f86\u984d\u5916\u7684\u8907\u96dc\u5ea6\u3002</p> <p>\u518d\u8209\u500b\u4f8b\u5b50\uff1a\u82e5\u4f7f\u7528\u8005\u4e0a\u50b3\u65b0\u7684\u982d\u50cf\u5716\u7247\uff0c\u82e5\u591a\u500b\u8cc7\u6599\u4e2d\u5fc3\u6216 POP \u7121\u6cd5\u5373\u6642\u540c\u6b65\uff0c\u4e26\u975e\u6240\u6709\u7bc0\u9ede\u90fd\u6703\u64c1\u6709\u6700\u65b0\u5716\u7247\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\uff0c\u5c07\u4f7f\u7528\u8005\u7d81\u5b9a\u81f3\u7279\u5b9a\u8cc7\u6599\u4e2d\u5fc3\u6216\u5340\u57df\uff0c\u76f4\u5230\u66f4\u65b0\u50b3\u64ad\u5b8c\u6210\u70ba\u6b62\uff0c\u6703\u662f\u5408\u7406\u7684\u505a\u6cd5\u3002\u9ecf\u6027\u8def\u7531\u8b93\u6211\u5011\u6709\u80fd\u529b\u505a\u5230\u9019\u9ede\u3002</p>"},{"location":"level102/system_design/scaling-beyond-the-datacenter/#_2","title":"\u53c3\u8003\u8cc7\u6599","text":"<ol> <li>CDNs</li> <li>LinkedIn \u7684 TrafficShift \u90e8\u843d\u683c \u8ac7\u9ecf\u6027\u8def\u7531</li> </ol>"},{"location":"level102/system_design/scaling/","title":"Scaling","text":"<p>\u5728\u672c\u8ab2\u7a0b\u7684\u7b2c\u4e00\u968e\u6bb5\u4e2d\uff0c\u6211\u5011\u66fe\u770b\u5230 AKF \u7684 scale cube \u4ee5\u53ca\u5b83\u5982\u4f55\u5354\u52a9\u670d\u52d9\u7d30\u5206\u3001\u5b9a\u7fa9\u5fae\u670d\u52d9\u4e26\u64f4\u5c55\u6574\u9ad4\u61c9\u7528\u7a0b\u5f0f\u3002\u6211\u5011\u5c07\u4f7f\u7528\u985e\u4f3c\u7684\u7b56\u7565\u4f86\u64f4\u5c55\u6211\u5011\u7684\u61c9\u7528\u7a0b\u5f0f\uff0c\u540c\u6642\u4f7f\u7528\u524d\u4e00\u7bc0\u7684\u4f30\u7b97\uff0c\u5f9e\u800c\u63a1\u7528\u6578\u64da\u9a45\u52d5\u7684\u8a2d\u8a08\uff0c\u800c\u975e\u4efb\u610f\u9078\u64c7\u64f4\u5c55\u6a21\u5f0f\u3002</p>"},{"location":"level102/system_design/scaling/#_1","title":"\u62c6\u5206\u61c9\u7528\u7a0b\u5f0f","text":"<p>\u8003\u616e\u5230\u6211\u5011\u7684\u61c9\u7528\u7a0b\u5f0f\u53ef\u80fd\u7522\u751f\u7684\u9f90\u5927\u6d41\u91cf\uff0c\u53ca\u5176\u5728\u8a18\u61b6\u9ad4\u548c CPU \u8cc7\u6e90\u4e0a\u7684\u9700\u6c42\uff0c\u8b93\u6211\u5011\u5c07\u61c9\u7528\u7a0b\u5f0f\u62c6\u5206\u6210\u8f03\u5c0f\u7684\u5340\u584a\u3002\u6700\u7c21\u55ae\u7684\u65b9\u5f0f\u4e4b\u4e00\u662f\u6839\u64da\u7aef\u9ede\uff08endpoints\uff09\u5283\u5206\u61c9\u7528\u7a0b\u5f0f\uff0c\u4e26\u5c07\u5176\u4f5c\u70ba\u7368\u7acb\u5be6\u4f8b\u904b\u884c\u3002\u5be6\u969b\u4e0a\uff0c\u9019\u500b\u6c7a\u7b56\u53ef\u80fd\u6703\u8907\u96dc\u4e00\u4e9b\uff0c\u60a8\u6700\u7d42\u53ef\u80fd\u6703\u767c\u73fe\u591a\u500b\u7aef\u9ede\u904b\u884c\u5728\u540c\u4e00\u5be6\u4f8b\u4e2d\u3002</p> <p>\u5716\u7247\u53ef\u4ee5\u5b58\u653e\u5728\u53ef\u7368\u7acb\u64f4\u5c55\u7684 \u7269\u4ef6\u5b58\u5132 \u4e2d\uff0c\u800c\u975e\u653e\u7f6e\u5728\u61c9\u7528\u7a0b\u5f0f\u6216\u8cc7\u6599\u5eab\u6240\u5728\u7684\u4f3a\u670d\u5668\u4e0a\u3002\u9019\u6a23\u53ef\u4ee5\u6e1b\u5c11\u4f3a\u670d\u5668\u7684\u8cc7\u6e90\u9700\u6c42\u3002</p>"},{"location":"level102/system_design/scaling/#stateful-stateless","title":"\u6709\u72c0\u614b (Stateful) \u8207\u7121\u72c0\u614b (Stateless) \u670d\u52d9","text":"\u7121\u72c0\u614b\u7684\u9032\u7a0b\u6216\u670d\u52d9\u4e0d\u4f9d\u8cf4\u65bc\u904e\u53bb\u8abf\u7528\u6240\u5132\u5b58\u7684\u8cc7\u6599\uff1b\u76f8\u53cd\uff0c\u6709\u72c0\u614b\u670d\u52d9\u6703\u5c07\u5176\u72c0\u614b\u5b58\u653e\u5728\u8cc7\u6599\u5b58\u5132\u4e2d\uff0c\u4e14\u901a\u5e38\u5728\u6bcf\u6b21\u8abf\u7528\u6216\u4ea4\u6613\u6642\u4f7f\u7528\u8a72\u72c0\u614b\u3002\u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u6211\u5011\u53ef\u4ee5\u8a2d\u8a08\u670d\u52d9\uff0c\u4f7f\u67d0\u4e9b\u7d44\u4ef6\u6210\u70ba\u7121\u72c0\u614b\uff0c\u9019\u5728\u591a\u65b9\u9762\u90fd\u6709\u52a9\u76ca\u3002\u7121\u72c0\u614b\u7684\u61c9\u7528\u7a0b\u5f0f\u8f03\u5bb9\u6613\u5bb9\u5668\u5316\uff0c\u800c\u5bb9\u5668\u5316\u61c9\u7528\u7a0b\u5f0f\u4e5f\u66f4\u5bb9\u6613\u64f4\u5c55\u3002\u6709\u72c0\u614b\u670d\u52d9\u5247\u9700\u8981\u60a8\u540c\u6642\u64f4\u5c55\u5b58\u653e\u72c0\u614b\u7684\u8cc7\u6599\u5b58\u5132\u3002\u4e0d\u904e\uff0c\u5bb9\u5668\u5316\u8cc7\u6599\u5eab\u6216\u64f4\u5c55\u8cc7\u6599\u5eab\u4e0d\u5728\u672c\u6a21\u7d44\u7bc4\u570d\u5167\u3002  <p>\u5982\u6b64\u5206\u914d\u5de5\u4f5c\u8ca0\u8f09\u5f8c\uff0c\u7522\u751f\u7684\u8a2d\u8a08\u53ef\u80fd\u5982\u5716\u6240\u793a\u3002</p> <p></p> <p>\u60a8\u53ef\u80fd\u6703\u6ce8\u610f\u5230\u5716\u4e2d\u6709\u591a\u500b\u8cc7\u6599\u5eab\uff0c\u6211\u5011\u6703\u5728\u63a5\u4e0b\u4f86\u7684\u5206\u7247\uff08sharding\uff09\u90e8\u5206\u770b\u5230\u66f4\u591a\u76f8\u95dc\u5167\u5bb9\u3002</p> <p>\u65e2\u7136\u6211\u5011\u5df2\u5c07\u61c9\u7528\u7a0b\u5f0f\u62c6\u5206\u70ba\u8f03\u5c0f\u7684\u670d\u52d9\uff0c\u63a5\u8457\u9700\u8981\u63d0\u5347\u6bcf\u500b\u7aef\u9ede\u7684\u5bb9\u91cf\u3002\u8457\u540d\u7684\u67cf\u62c9\u5716\u6cd5\u5247\uff08Pareto Principle\uff09\u6307\u51fa\u300c80% \u7684\u7d50\u679c\u4f86\u81ea 20% \u7684\u539f\u56e0\u300d\uff0c\u7a0d\u4f5c\u8abf\u6574\uff0c\u6211\u5011\u53ef\u8aaa 80% \u7684\u6d41\u91cf\u6703\u96c6\u4e2d\u5728 20% \u7684\u5716\u7247\u4e0a\u3002\u5716\u7247\u4e0a\u50b3\u6578\u548c\u7528\u6236\u89c0\u770b\u6578\u901a\u5e38\u4e5f\u6703\u6709\u985e\u4f3c\u504f\u659c\uff0c\u4f7f\u7528\u8005\u6bcf\u65e5\u700f\u89bd\u5716\u7247\u7684\u53ef\u80fd\u6027\u9060\u9ad8\u65bc\u4ed6\u5011\u4e0a\u50b3\u65b0\u5716\u7247\u7684\u983b\u7387\u3002</p> <p>\u5728\u6211\u5011\u7684\u7c21\u55ae\u8a2d\u8a08\u4e2d\uff0c\u7522\u751f\u5305\u542b 5 \u5f35\u5716\u7247\u7684\u52d5\u614b\u6d88\u606f\uff08feed\uff09\u9801\u9762\uff0c\u5c31\u662f\u5f9e\u8a72\u7528\u6236\u95dc\u6ce8\u7684\u4eba\u6240\u4e0a\u50b3\u7684\u8fd1\u671f 5 \u5f35\u5716\u7247\u4e2d\u6311\u9078\u3002\u96d6\u7136\u53ef\u4ee5\u5728\u7528\u6236\u767b\u5165\u6642\uff0c\u52d5\u614b\u5f9e\u8cc7\u6599\u5eab\u64f7\u53d6\u5716\u7247\u4e26\u7522\u751f\u9801\u9762\uff0c\u4f46\u82e5\u5927\u91cf\u7528\u6236\u540c\u6642\u767b\u5165\u4e26\u8f09\u5165\u6d88\u606f\u9801\uff0c\u5f88\u5feb\u5c31\u6703\u8b93\u8cc7\u6599\u5eab\u8ca0\u64d4\u904e\u91cd\u3002\u6709\u5169\u500b\u89e3\u6c7a\u65b9\u6848\uff1a\u5feb\u53d6\uff08caching\uff09\u4ee5\u53ca\u63d0\u524d\u7522\u751f\u7528\u6236\u7684\u6d88\u606f\u9801\u3002</p> <p>\u4e00\u500b\u64c1\u6709\u767e\u842c\u7c89\u7d72\u7684\u7528\u6236\uff0c\u53ef\u80fd\u6703\u5f15\u767c\u6578\u5341\u842c\u6b21\u8cc7\u6599\u5eab\u547c\u53eb\uff0c\u50c5\u70ba\u64f7\u53d6\u8a72\u7528\u6236\u6700\u65b0\u4e0a\u50b3\u7684\u7167\u7247 ID\u3002\u9019\u6703\u8fc5\u901f\u6df9\u6c92\u8cc7\u6599\u5eab\uff0c\u751a\u81f3\u53ef\u80fd\u5c0e\u81f4\u8cc7\u6599\u5eab\u7576\u6a5f\u3002</p>"},{"location":"level102/system_design/scaling/#sharding","title":"\u5206\u7247 (Sharding)","text":"<p>\u89e3\u6c7a\u8cc7\u6599\u5eab\u9650\u5236\u7684\u4e00\u7a2e\u65b9\u6cd5\u662f\u64f4\u5c55\u8cc7\u6599\u5eab\u7684\u8b80\u5beb\u80fd\u529b\u3002\u5206\u7247\u5373\u70ba\u5c07\u8cc7\u6599\u5eab\u5beb\u5165\u5206\u6563\u81f3\u591a\u500b\u4e0d\u540c\u5be6\u9ad4\u7684\u65b9\u5f0f\uff0c\u9019\u4e9b\u8cc7\u6599\u5eab\u57f7\u884c\u65bc\u4e0d\u540c\u7684\u6a5f\u5668\u4e0a\u3002\u8b80\u53d6\u80fd\u529b\u4e5f\u53ef\u4ee5\u901a\u904e\u6211\u5011\u5728\u672c\u6a21\u7d44\u7b2c\u4e00\u968e\u6bb5\u898b\u904e\u7684\u8b80\u53d6\u526f\u672c\u4f86\u64f4\u5c55\u3002</p> <p>\u8207\u71b1\u9580\u7528\u6236\u4e0a\u50b3\u7684\u5716\u7247\u6578\u76f8\u6bd4\uff0c\u89c0\u770b\u6b21\u6578\u5c07\u662f\u7206\u70b8\u6027\u589e\u9577\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u61c9\u5c0d\u7528\u6236\u4e0a\u50b3\u7684\u7167\u7247 ID \u9032\u884c\u5feb\u53d6\uff0c\u800c\u7121\u9808\u983b\u7e41\u57f7\u884c\u6602\u8cb4\u7684\u8cc7\u6599\u5eab\u67e5\u8a62\u8acb\u6c42\u3002</p> <p>\u518d\u4f86\u8003\u616e\u61c9\u7528\u7a0b\u5f0f\u4e2d\u53e6\u4e00\u500b\u540d\u70ba <code>/get_user_details</code> \u7684\u7aef\u9ede\u3002\u5b83\u6703\u8fd4\u56de\u7528\u6236\u5728\u9ede\u64ca\u5176\u4ed6\u7528\u6236\u540d\u7a31\u6642\u770b\u5230\u7684\u9801\u9762\uff0c\u8a72\u9801\u9762\u5305\u542b\u8a72\u7528\u6236\u6240\u767c\u5e03\u7684\u8cbc\u6587\u6e05\u55ae\u3002\u901a\u5e38\u547c\u53eb\u6b64\u7aef\u9ede\u6642\uff0c\u61c9\u7528\u7a0b\u5f0f\u6703\u8207\u8cc7\u6599\u5eab\u6e9d\u901a\uff0c\u6293\u53d6\u8a72\u7528\u6236\u6240\u6709\u8cbc\u6587\u6e05\u55ae\u4e26\u56de\u50b3\u7d50\u679c\u3002\u82e5\u67d0\u500b\u4eba\u7684\u500b\u4eba\u9801\u9762\u88ab\u6578\u5343\u6b21\u67e5\u770b\uff0c\u4ee3\u8868\u8cc7\u6599\u5eab\u5c07\u627f\u53d7\u6578\u5343\u6b21\u547c\u53eb\uff0c\u9019\u53ef\u80fd\u5c0e\u81f4\u71b1\u9375\uff08hot keys\uff09\u53ca\u71b1\u5206\u5340\uff08hot partitions\uff09\u554f\u984c\u3002\u5c31\u50cf\u5176\u5b83\u7cfb\u7d71\u4e00\u6a23\uff0c\u8ca0\u8f09\u589e\u52a0\u6703\u5c0e\u81f4\u97ff\u61c9\u6642\u9593\u5ef6\u9072\uff0c\u9032\u800c\u7522\u751f\u4e0d\u7a69\u5b9a\u4e14\u53ef\u80fd\u4e0d\u4f73\u7684\u7528\u6236\u9ad4\u9a57\u3002\u6b64\u8655\u7c21\u55ae\u89e3\u6c7a\u65b9\u6848\u662f\u52a0\u4e00\u5c64\u5feb\u53d6 \u2014\u2014 \u56de\u50b3\u7528\u6236\u7684\u500b\u4eba\u8cc7\u6599\u53ca\u8cbc\u6587\uff0c\u800c\u7121\u9700\u6bcf\u6b21\u90fd\u547c\u53eb\u8cc7\u6599\u5eab\u3002</p>"},{"location":"level102/system_design/scaling/#caching","title":"\u5feb\u53d6 (Caching)","text":"<p>\u5feb\u53d6\u7528\u4f86\u66ab\u6642\u5132\u5b58\u5f88\u53ef\u80fd\u518d\u6b21\u88ab\u8a2a\u554f\u3001\u4e14\u5e38\u5e38\u91cd\u8907\u8a2a\u554f\u7684\u8cc7\u6599\u3002\u7576\u88ab\u8acb\u6c42\u7684\u8cc7\u6599\u5b58\u5728\u5feb\u53d6\u4e2d\u6642\uff0c\u7a31\u70ba\u300c\u5feb\u53d6\u547d\u4e2d\uff08cache hit\uff09\u300d\u3002\u53cd\u4e4b\u7a31\u70ba\u300c\u5feb\u53d6\u672a\u547d\u4e2d\uff08cache miss\uff09\u300d\u3002\u5408\u7406\u914d\u7f6e\u7684\u5feb\u53d6\u53ef\u5927\u5e45\u964d\u4f4e\u67e5\u8a62\u97ff\u61c9\u6642\u9593\uff0c\u4e26\u63d0\u5347\u7cfb\u7d71\u53ef\u64f4\u5c55\u6027\u3002\u5feb\u53d6\u53ef\u4ee5\u8a2d\u7f6e\u65bc\u4f7f\u7528\u8005\u8207\u61c9\u7528\u7a0b\u5f0f\u9593\u7684\u591a\u500b\u5c64\u7d1a\u3002\u5728\u7b2c\u4e00\u968e\u6bb5\u4e2d\uff0c\u6211\u5011\u5df2\u770b\u5230\u5982\u4f55\u5229\u7528\u5feb\u53d6/CDN \u670d\u52d9\u975c\u614b\u8cc7\u6e90\uff0c\u5e36\u4f86\u66f4\u5feb\u7684\u97ff\u61c9\u6642\u9593\u53ca\u964d\u4f4e\u61c9\u7528\u4f3a\u670d\u5668\u8ca0\u8f09\u3002\u73fe\u5728\u8b93\u6211\u5011\u770b\u770b\u5feb\u53d6\u5728\u66f4\u591a\u5834\u666f\u4e2d\u7684\u61c9\u7528\u3002</p>"},{"location":"level102/system_design/scaling/#in-memory-caching","title":"\u8a18\u61b6\u9ad4\u5167\u5feb\u53d6 (In-memory caching)","text":"<p>\u8a18\u61b6\u9ad4\u5167\u5feb\u53d6\u6307\u7684\u662f\u5c07\u6b32\u5feb\u53d6\u7684\u8cc7\u8a0a\u4fdd\u5b58\u5728\u4f3a\u670d\u5668\u7684\u4e3b\u8a18\u61b6\u9ad4\u4e2d\uff0c\u53d6\u7528\u901f\u5ea6\u6bd4\u786c\u789f\u4e0a\u7684\u8cc7\u6599\u5eab\u8981\u5feb\u5f97\u591a\u3002\u6211\u5011\u53ef\u4ee5\u5feb\u53d6\u4efb\u610f\u6587\u672c\uff08\u5305\u542b HTML \u7247\u6bb5\u6216 JSON \u7269\u4ef6\uff09\uff0c\u4e26\u5feb\u901f\u8b80\u53d6\u3002\u8a18\u61b6\u9ad4\u5167\u5feb\u53d6\u662f\u52a0\u5165\u5feb\u901f\u5feb\u53d6\u5c64\u7684\u6700\u5feb\u65b9\u5f0f\uff0c\u4e14\u53ef\u9078\u64c7\u5c07\u5176\u6301\u4e45\u5316\u65bc\u78c1\u789f\u3002</p>  \u5feb\u53d6\u96d6\u5c0d\u64f4\u5c55\u53ca\u6548\u80fd\u63d0\u5347\u5927\u6709\u5e6b\u52a9\uff0c\u4f46\u6709\u4e9b\u60c5\u6cc1\u4e0b\u5feb\u53d6\u6703\u7a81\u7136\u5931\u6548\u3002\u4f8b\u5982\u5feb\u53d6\u610f\u5916\u88ab\u6e05\u9664\uff0c\u5c0e\u81f4\u6240\u6709\u67e5\u8a62\u76f4\u63a5\u843d\u5230\u8cc7\u6599\u5eab\u5c64\uff0c\u4e14\u540c\u4e00\u8cc7\u8a0a\u7684\u591a\u6b21\u547c\u53eb\u540c\u6642\u6d8c\u5165\u3002\u6b64\u60c5\u6cc1\u5373\u70ba\u300c\u96f7\u64ca\u554f\u984c\uff08thundering herd\uff09\u300d\uff0c\u8a2d\u8a08\u7cfb\u7d71\u6642\u9700\u7279\u5225\u7559\u610f\u4e26\u8003\u616e\u9632\u7bc4\u3002  <p>\u5feb\u53d6\u4ee3\u7406\u4f3a\u670d\u5668 (Caching proxies)\uff1a</p> <p>\u6709\u4e9b\u60c5\u5883\u4e0b\uff0c\u60a8\u53ef\u80fd\u60f3\u8981\u5feb\u53d6\u6574\u500b\u7db2\u9801\u6216\u4e0a\u6e38\u8cc7\u6e90\u7684\u56de\u61c9\uff0c\u4e5f\u5e0c\u671b\u8b93\u4e0a\u6e38\u544a\u8a34\u4f60\u8a72\u5feb\u53d6\u4ec0\u9ebc\u53ca\u5feb\u53d6\u591a\u4e45\u3002\u6b64\u6642\u4f7f\u7528\u80fd\u7406\u89e3HTTP\u5feb\u53d6\u6a19\u982d\u7684\u5feb\u53d6\u89e3\u6c7a\u65b9\u6848\u6703\u5f88\u6709\u6548\u3002\u4f8b\u5982\uff0c\u6211\u5011\u7684\u61c9\u7528\u4e2d\uff0c\u82e5\u4f7f\u7528\u8005\u983b\u7e41\u641c\u5c0b\u7279\u5b9a\u7528\u6236\u6216\u95dc\u9375\u5b57\uff0c\u5feb\u53d6\u8a72\u56de\u61c9\u4e00\u6bb5\u6642\u9593\uff0c\u53ef\u80fd\u6bd4\u6bcf\u6b21\u91cd\u65b0\u641c\u5c0b\u66f4\u6709\u6548\u7387\u3002</p> <p>\u8b93\u6211\u5011\u56de\u9867\u4e00\u4e0b\u5176\u4e2d\u4e00\u500b\u76ee\u6a19 \u2014\u2014 \u81f3\u5c11 5 \u842c\u540d\u7368\u7acb\u8a2a\u5ba2\u540c\u6642\u700f\u89bd\u7db2\u7ad9\u4e26\u67e5\u770b\u5176\u6d88\u606f\u9801\u3002\u85c9\u7531\u5feb\u53d6\uff0c\u6211\u5011\u79fb\u9664\u4e86\u5176\u4e2d\u4e00\u500b\u53ef\u80fd\u7684\u74f6\u9838 \u2014\u2014 \u8cc7\u6599\u5eab\u3002\u6211\u5011\u4e5f\u5c07\u55ae\u9ad4\u61c9\u7528\u5206\u89e3\u70ba\u66f4\u5c0f\u7684\u670d\u52d9\u3002\u518d\u5411\u76ee\u6a19\u524d\u9032\u4e00\u6b65\uff0c\u5c31\u662f\u6c34\u5e73\u65b9\u5411\u64f4\u5c55\u63d0\u4f9b\u6d88\u606f\u67e5\u770b\u529f\u80fd\u7684\u670d\u52d9\uff0c\u4e26\u653e\u7f6e\u65bc\u8ca0\u8f09\u5e73\u8861\u5668\u5f8c\u3002\u8acb\u56de\u60f3\u672c\u6a21\u7d44\u7b2c\u4e00\u968e\u6bb5\u6240\u8a0e\u8ad6\u7684\u64f4\u5c55\u6982\u5ff5\u3002</p>"},{"location":"level102/system_design/scaling/#_2","title":"\u5feb\u53d6\u7ba1\u7406","text":"\u5118\u7ba1\u5feb\u53d6\u807d\u8d77\u4f86\u662f\u89e3\u6c7a\u56f0\u96e3\u554f\u984c\u7684\u7c21\u55ae\u65b9\u6848\uff0c\u4f46\u66f4\u56f0\u96e3\u7684\u662f\u6709\u6548\u7ba1\u7406\u5feb\u53d6\u3002\u548c\u7cfb\u7d71\u4e2d\u5176\u4ed6\u8cc7\u6e90\u4e00\u6a23\uff0c\u5feb\u53d6\u5c64\u4e26\u975e\u7121\u9650\u5927\u3002\u6709\u6548\u7684\u5feb\u53d6\u7ba1\u7406\u610f\u5473\u8457\u8981\u5728\u9069\u7576\u6642\u9593\u79fb\u9664\u5feb\u53d6\u4e2d\u7684\u8cc7\u6599\uff0c\u4ee5\u7dad\u6301\u9ad8\u7684\u5feb\u53d6\u547d\u4e2d\u7387\u3002\u6709\u8a31\u591a\u7b56\u7565\u53ef\u65bc\u7279\u5b9a\u6642\u9593\u6216\u4f7f\u7528\u983b\u7387\u4e0b\uff0c\u5931\u6548\u5feb\u53d6\u3002\u76e3\u63a7\u5feb\u53d6\u547d\u4e2d\u7387\u4e26\u8abf\u6574\u5feb\u53d6\u7b56\u7565\u662f\u6975\u70ba\u91cd\u8981\u7684\u3002"},{"location":"level102/system_design/scaling/#_3","title":"\u53c3\u8003\u8cc7\u6599","text":"<ol> <li>\u6709\u8a31\u591a\u7269\u4ef6\u5b58\u5132\u89e3\u6c7a\u65b9\u6848\u3002Minio \u662f\u4e00\u6b3e\u81ea\u67b6\u8a2d\u65b9\u6848\uff0c\u96f2\u7aef\u4f9b\u61c9\u5546\u4e5f\u6709\u5c08\u5c6c\u65b9\u6848\uff0c\u5982 Azure Blob storage \u53ca Amazon S3\u3002</li> <li>\u5fae\u670d\u52d9\u67b6\u69cb\u98a8\u683c - Azure \u67b6\u69cb\u6307\u5357</li> <li>\u6709\u591a\u7a2e\u8a18\u61b6\u9ad4\u5feb\u53d6\u65b9\u6848\uff0c\u8f03\u53d7\u6b61\u8fce\u7684\u6709 Redis \u8207 Memcached\u3002\u96f2\u7aef\u5ee0\u5546\u4ea6\u63d0\u4f9b\u7ba1\u7406\u5f0f\u5feb\u53d6\u670d\u52d9\u3002</li> <li>\u5e38\u898b\u5feb\u53d6\u4ee3\u7406\u4f3a\u670d\u5668\u5305\u62ec Squid \u4ee5\u53ca Apache Traffic Server</li> <li>\u96f7\u64ca\u554f\u984c \u2014 Instagram \u5982\u4f55 \u89e3\u6c7a</li> </ol>"},{"location":"level102/system_troubleshooting_and_performance/conclusion/","title":"Conclusion","text":"<p>\u8907\u96dc\u7cfb\u7d71\u6709\u8a31\u591a\u53ef\u80fd\u51fa\u932f\u7684\u56e0\u7d20\u3002\u53ef\u80fd\u662f\u7cdf\u7cd5\u7684\u8a2d\u8a08\u8207\u67b6\u69cb\u3001\u7ba1\u7406\u4e0d\u5584\u7684\u7a0b\u5f0f\u78bc\u3001\u4e0d\u540c\u5feb\u53d6\u7684\u932f\u8aa4\u7b56\u7565\u3001\u7cdf\u7cd5\u7684\u8cc7\u6599\u5eab\u67e5\u8a62\u6216\u67b6\u69cb\u3001\u8cc7\u6e90\u4f7f\u7528\u4e0d\u7576\u3001\u4f5c\u696d\u7cfb\u7d71\u7248\u672c\u554f\u984c\u3001\u76e3\u63a7\u4e0d\u8db3\u7684\u7cfb\u7d71\u3001\u8cc7\u6599\u4e2d\u5fc3\u554f\u984c\u3001\u7db2\u8def\u6545\u969c\u7b49\u7b49\uff0c\u4efb\u4f55\u4e00\u9805\u90fd\u53ef\u80fd\u51fa\u932f\u3002</p> <p>\u4f5c\u70ba\u4e00\u540d SRE\uff0c\u4e86\u89e3\u91cd\u8981\u7684\u5de5\u5177/\u6307\u4ee4\u3001\u6700\u4f73\u5be6\u8e10\u3001\u5206\u6790\u3001\u57fa\u6e96\u6e2c\u8a66\u548c\u64f4\u5c55\u6280\u8853\uff0c\u80fd\u5e6b\u52a9\u60a8\u66f4\u5feb\u9032\u884c\u6545\u969c\u6392\u9664\u548c\u6574\u9ad4\u7cfb\u7d71\u6548\u80fd\u63d0\u5347\u3002</p>"},{"location":"level102/system_troubleshooting_and_performance/conclusion/#_1","title":"\u5ef6\u4f38\u95b1\u8b80","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f86\u81ea LinkedIn \u5de5\u7a0b\u5718\u968a\u7684 LinkedIn \u5de5\u7a0b\u90e8\u843d\u683c\u9023\u7d50\uff0c\u6587\u7ae0\u7531 LinkedIn \u5de5\u7a0b\u5e2b\u64b0\u5beb\uff0c\u95dc\u65bc\u4ed6\u5011\u7684\u6436\u4fee\u7d93\u9a57\uff0c\u4ee5\u53ca\u5982\u4f55\u78ba\u4fdd\u7db2\u7ad9\u5168\u5e74\u7121\u4f11\u904b\u4f5c\u3002</p> <ul> <li>\u4f7f\u7528 Jemalloc \u99d5\u99ad Venice \u7684\u8a18\u61b6\u9ad4\u788e\u7247\u554f\u984c</li> <li>\u5c0e\u8b80\uff1a\u904b\u7dad\u5de5\u4f5c\u7684\u6bcf\u5929\u90fd\u50cf\u9031\u4e00</li> <li>\u4fee\u5fa9 Linux \u6a94\u6848\u7cfb\u7d71\u6548\u80fd\u9000\u5316\u554f\u984c</li> <li>\u6162\u901f NFS \u5c0d\u8cc7\u6599\u7cfb\u7d71\u7684\u5f71\u97ff</li> </ul>"},{"location":"level102/system_troubleshooting_and_performance/important-tools/","title":"Important Tools","text":""},{"location":"level102/system_troubleshooting_and_performance/important-tools/#linux","title":"\u91cd\u8981\u7684 Linux \u6307\u4ee4","text":"<p>\u638c\u63e1\u4ee5\u4e0b\u6307\u4ee4\u5c07\u6709\u52a9\u65bc\u66f4\u5feb\u5730\u627e\u51fa\u554f\u984c\u3002\u8a73\u7d30\u8aaa\u660e\u6bcf\u500b\u6307\u4ee4\u5df2\u8d85\u51fa\u7bc4\u570d\uff0c\u8acb\u67e5\u95b1 man \u9801\u6216\u7dda\u4e0a\u8cc7\u6e90\u4ee5\u7372\u5f97\u66f4\u591a\u8cc7\u8a0a\u8207\u7bc4\u4f8b\u3002</p> <ul> <li>\u7528\u65bc\u89e3\u6790\u65e5\u8a8c\uff1agrep\u3001sed\u3001awk\u3001cut\u3001tail\u3001head</li> <li>\u7528\u65bc\u7db2\u8def\u6aa2\u67e5\uff1anc\u3001netstat\u3001traceroute/6\u3001mtr\u3001ping/6\u3001route\u3001tcpdump\u3001ss\u3001ip</li> <li>\u7528\u65bc DNS\uff1adig\u3001host\u3001nslookup</li> <li>\u7528\u65bc\u8ffd\u8e64\u7cfb\u7d71\u547c\u53eb\uff1astrace</li> <li>\u7528\u65bc\u900f\u904e ssh \u4e26\u884c\u57f7\u884c\uff1agnu parallel\u3001xargs + ssh</li> <li>\u7528\u65bc http/s \u6aa2\u67e5\uff1acurl\u3001wget</li> <li>\u5217\u51fa\u958b\u555f\u6a94\u6848\uff1alsof</li> <li>\u4fee\u6539\u7cfb\u7d71\u6838\u5fc3\u5c6c\u6027\uff1a sysctl</li> </ul> <p>\u82e5\u662f\u5206\u6563\u5f0f\u7cfb\u7d71\uff0c\u67d0\u4e9b\u7b2c\u4e09\u65b9\u5de5\u5177\u80fd\u5354\u52a9\u60a8\u540c\u6642\u5728\u591a\u53f0\u4e3b\u6a5f\u4e0a\u57f7\u884c\u6307\u4ee4\u6216\u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u57fa\u65bc SSH \u7684\u5de5\u5177<ul> <li>ClusterSSH\uff1aCluster SSH \u53ef\u5e6b\u60a8\u540c\u6642\u5728\u591a\u53f0\u4e3b\u6a5f\u57f7\u884c\u6307\u4ee4\u3002</li> <li>Ansible\uff1a\u5141\u8a31\u60a8\u64b0\u5beb Ansible playbooks\uff0c\u80fd\u5728\u6578\u767e\u751a\u81f3\u6578\u5343\u53f0\u4e3b\u6a5f\u540c\u6642\u57f7\u884c\u3002</li> </ul> </li> <li>\u57fa\u65bc Agent \u7684\u5de5\u5177<ul> <li>Saltstack\uff1a\u662f\u4e00\u500b\u914d\u7f6e\u3001\u72c0\u614b\u53ca\u9060\u7aef\u57f7\u884c\u6846\u67b6\uff0c\u70ba\u4f7f\u7528\u8005\u63d0\u4f9b\u5404\u7a2e\u9748\u6d3b\u6027\u4ee5\u540c\u6642\u5728\u5927\u91cf\u4e3b\u6a5f\u57f7\u884c\u6a21\u7d44\u3002</li> <li>Puppet\uff1a\u81ea\u52d5\u5316\u7ba1\u7406\u5f15\u64ce\uff0c\u652f\u63f4 Linux\u3001Unix \u53ca Windows \u7cfb\u7d71\uff0c\u57f7\u884c\u7ba1\u7406\u4efb\u52d9\u3002</li> </ul> </li> </ul>"},{"location":"level102/system_troubleshooting_and_performance/important-tools/#_1","title":"\u65e5\u8a8c\u5206\u6790\u5de5\u5177","text":"<p>\u9019\u4e9b\u5de5\u5177\u53ef\u5354\u52a9\u64b0\u5beb\u985e\u4f3c SQL \u7684\u67e5\u8a62\u4f86\u89e3\u6790\u8207\u5206\u6790\u65e5\u8a8c\uff0c\u4e26\u63d0\u4f9b\u7c21\u6613\u7684 UI \u4ecb\u9762\u4ee5\u5efa\u7acb\u5100\u8868\u677f\uff0c\u80fd\u6839\u64da\u5b9a\u7fa9\u7684\u67e5\u8a62\u5448\u73fe\u5404\u985e\u5716\u8868\u3002</p> <ul> <li>ELK\uff1aElasticsearch\u3001Logstash \u8207 Kibana\uff0c\u63d0\u4f9b\u4e00\u5957\u5de5\u5177\u8207\u670d\u52d9\uff0c\u53ef\u8f15\u9b06\u5feb\u901f\u5730\u89e3\u6790\u65e5\u8a8c\u3001\u5efa\u7acb\u7d22\u5f15\u4e26\u5206\u6790\u65e5\u8a8c\u3002\u4e00\u65e6\u65e5\u8a8c/\u8cc7\u6599\u7d93\u7531 Logstash \u89e3\u6790\u904e\u6ffe\u4e26\u5728 Elasticsearch \u4e2d\u5efa\u7acb\u7d22\u5f15\uff0c\u4fbf\u53ef\u5728 Kibana \u4e2d\u65bc\u6578\u5206\u9418\u5167\u5efa\u7acb\u52d5\u614b\u5100\u8868\u677f\uff0c\u6709\u52a9\u65bc\u8f15\u9b06\u5206\u6790\u8207\u95dc\u806f\u61c9\u7528\u932f\u8aa4/\u4f8b\u5916/\u8b66\u544a\u3002</li> <li>Azure Kusto\uff1aAzure Kusto \u662f\u96f2\u7aef\u670d\u52d9\uff0c\u985e\u4f3c Elasticsearch \u8207 Kibana\uff0c\u5141\u8a31\u8f15\u9b06\u5efa\u7acb\u5927\u91cf\u65e5\u8a8c\u7d22\u5f15\uff0c\u63d0\u4f9b\u985e SQL \u67e5\u8a62\u4ecb\u9762\u53ca\u5275\u5efa\u52d5\u614b\u5100\u8868\u677f\u7684\u529f\u80fd\u3002</li> </ul>"},{"location":"level102/system_troubleshooting_and_performance/introduction/","title":"\u7cfb\u7d71\u6545\u969c\u6392\u9664\u8207\u6548\u80fd\u63d0\u5347","text":""},{"location":"level102/system_troubleshooting_and_performance/introduction/#_2","title":"\u9810\u5099\u77e5\u8b58","text":"<ul> <li>Linux \u57fa\u790e</li> <li>\u7cfb\u7d71\u8a2d\u8a08</li> <li>\u57fa\u790e\u7db2\u8def</li> <li>\u6307\u6a19\u8207\u76e3\u63a7</li> </ul>"},{"location":"level102/system_troubleshooting_and_performance/introduction/#_3","title":"\u8ab2\u7a0b\u671f\u671b","text":"<p>\u672c\u77ed\u8ab2\u7a0b\u8a66\u5716\u63d0\u4f9b\u4e00\u822c\u6027\u7684\u4ecb\u7d39\uff0c\u8aaa\u660e\u5982\u4f55\u6392\u9664\u7cfb\u7d71\u554f\u984c\uff0c\u4f8b\u5982\u5206\u6790 API \u6545\u969c\u3001\u8cc7\u6e90\u4f7f\u7528\u60c5\u6cc1\u3001\u7db2\u8def\u554f\u984c\u3001\u786c\u9ad4\u8207\u4f5c\u696d\u7cfb\u7d71\u554f\u984c\u3002\u8ab2\u7a0b\u4e5f\u7c21\u8981\u4ecb\u7d39\u5206\u6790\u8207\u57fa\u6e96\u6e2c\u8a66\uff0c\u4ee5\u8a55\u4f30\u6574\u9ad4\u7cfb\u7d71\u6027\u80fd\u3002</p>"},{"location":"level102/system_troubleshooting_and_performance/introduction/#_4","title":"\u8ab2\u7a0b\u4e0d\u6db5\u84cb\u5167\u5bb9","text":"<p>\u672c\u8ab2\u7a0b\u4e0d\u5305\u542b\u4ee5\u4e0b\u5167\u5bb9\uff1a</p> <ul> <li>\u7cfb\u7d71\u8a2d\u8a08\u8207\u67b6\u69cb\u3002</li> <li>\u7a0b\u5f0f\u8a2d\u8a08\u5be6\u52d9\u3002</li> <li>\u6307\u6a19\u8207\u76e3\u63a7\u3002</li> <li>\u4f5c\u696d\u7cfb\u7d71\u57fa\u790e\u3002</li> </ul>"},{"location":"level102/system_troubleshooting_and_performance/introduction/#_5","title":"\u8ab2\u7a0b\u5167\u5bb9","text":"<ul> <li>\u4ecb\u7d39</li> <li>\u6545\u969c\u6392\u9664<ul> <li>\u6545\u969c\u6392\u9664\u6d41\u7a0b\u5716</li> <li>\u4e00\u822c\u5be6\u52d9</li> <li>\u4e00\u822c\u4e3b\u6a5f\u554f\u984c</li> </ul> </li> <li>\u91cd\u8981\u5de5\u5177\u4ecb\u7d39<ul> <li>\u91cd\u8981\u7684 Linux \u6307\u4ee4</li> <li>\u65e5\u8a8c\u5206\u6790\u5de5\u5177</li> </ul> </li> <li>\u6548\u80fd\u63d0\u5347<ul> <li>\u6548\u80fd\u5206\u6790\u6307\u4ee4</li> <li>\u5256\u6790\u5de5\u5177</li> <li>\u57fa\u6e96\u6e2c\u8a66</li> <li>\u64f4\u5145</li> </ul> </li> <li>\u6545\u969c\u6392\u9664\u7bc4\u4f8b</li> <li>\u7d50\u8ad6<ul> <li>\u5ef6\u4f38\u95b1\u8b80</li> </ul> </li> </ul>"},{"location":"level102/system_troubleshooting_and_performance/introduction/#_6","title":"\u4ecb\u7d39","text":"<p>\u6545\u969c\u6392\u9664\u662f\u71df\u904b\u8207\u958b\u767c\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u74b0\u3002\u5b83\u4e0d\u662f\u53ea\u9760\u95b1\u8b80\u4e00\u7bc7\u6587\u7ae0\u6216\u5b8c\u6210\u7dda\u4e0a\u8ab2\u7a0b\u5c31\u80fd\u5b78\u6703\u7684\uff0c \u800c\u662f\u4e00\u500b\u6301\u7e8c\u5b78\u7fd2\u7684\u904e\u7a0b\uff0c\u5728\u4ee5\u4e0b\u60c5\u6cc1\u4e2d\u9010\u6f38\u7fd2\u5f97\uff1a</p> <ul> <li>\u65e5\u5e38\u71df\u904b\u8207\u958b\u767c\u3002</li> <li>\u627e\u51fa\u4e26\u4fee\u6b63\u61c9\u7528\u7a0b\u5f0f\u932f\u8aa4\u3002</li> <li>\u627e\u51fa\u4e26\u4fee\u6b63\u7cfb\u7d71\u53ca\u7db2\u8def\u554f\u984c\u3002</li> <li>\u6027\u80fd\u5206\u6790\u8207\u63d0\u5347\u3002</li> <li>\u4ee5\u53ca\u66f4\u591a\u3002</li> </ul> <p>\u5f9e SRE \u7684\u89d2\u5ea6\u4f86\u770b\uff0c\u671f\u671b\u4ed6\u5011\u719f\u6089\u67d0\u4e9b\u9818\u57df\uff0c\u4ee5\u4fbf\u80fd\u5920\u6392\u67e5\u55ae\u4e00\u6216\u5206\u6563\u5f0f\u7cfb\u7d71\u4e2d\u7684\u554f\u984c\u3002</p> <ul> <li>\u719f\u6089\u4f60\u7684\u8cc7\u6e90\uff0c\u4e86\u89e3\u4e3b\u6a5f\u898f\u683c\uff0c\u4f8b\u5982 CPU\u3001\u8a18\u61b6\u9ad4\u3001\u7db2\u8def\u3001\u78c1\u789f\u7b49\u3002</li> <li>\u7406\u89e3\u7cfb\u7d71\u8a2d\u8a08\u8207\u67b6\u69cb\u3002</li> <li>\u78ba\u4fdd\u91cd\u8981\u6307\u6a19\u88ab\u6b63\u78ba\u6536\u96c6\u8207\u5448\u73fe\u3002</li> </ul> <p>HP \u5275\u8fa6\u4eba\u66fe\u6709\u540d\u8a00\uff1a\u300c\u6e2c\u91cf\u5373\u662f\u6539\u5584\u7684\u958b\u59cb\u300d</p> <p>\u5982\u679c\u7cfb\u7d71\u5143\u4ef6\u8207\u6548\u80fd\u6307\u6a19\u88ab\u5fb9\u5e95\u64f7\u53d6\uff0c\u5247\u5728\u554f\u984c\u767c\u751f\u521d\u671f\u6210\u529f\u6392\u9664\u7684\u6a5f\u7387\u5c07\u5927\u5e45\u63d0\u9ad8\u3002</p>"},{"location":"level102/system_troubleshooting_and_performance/introduction/#_7","title":"\u7bc4\u570d","text":"<p>\u91dd\u5c0d\u4e0d\u540c\u985e\u578b\u7684\u61c9\u7528\u6216\u670d\u52d9\u6c92\u6709\u55ae\u4e00\u901a\u7528\u7684\u6545\u969c\u6392\u9664\u65b9\u5f0f\uff0c\u6545\u969c\u53ef\u80fd\u767c\u751f\u5728\u4efb\u4e00\u5c64\u7d1a\u3002\u6211\u5011\u5c07\u672c\u8ab2\u7a0b\u7bc4\u570d\u9650\u5236\u65bc Web API \u670d\u52d9\u985e\u578b\u3002</p> <p>\u6ce8\u610f\uff1a Linux \u751f\u614b\u7cfb\u5ee3\u6cdb\uff0c\u6709\u6578\u767e\u7a2e\u5de5\u5177\u53ca\u5be6\u7528\u7a0b\u5f0f\u53ef\u5354\u52a9\u7cfb\u7d71\u6545\u969c\u6392\u9664\uff0c\u6bcf\u7a2e\u5de5\u5177\u64c1\u6709\u4e0d\u540c\u512a\u9ede\u8207\u529f\u80fd\u3002\u6211\u5011\u5c07\u6db5\u84cb\u90e8\u5206\u77e5\u540d\u5de5\u5177\uff0c\u9019\u4e9b\u5de5\u5177\u5b58\u5728\u65bc Linux \u7cfb\u7d71\u6216\u958b\u6e90\u4e16\u754c\u4e2d\u3002\u672c\u6587\u4e2d\u63d0\u53ca\u5de5\u5177\u7684\u8a73\u7d30\u8aaa\u660e\u4e0d\u5728\u672c\u8ab2\u7a0b\u7bc4\u570d\u5167\uff0c\u8acb\u81ea\u884c\u900f\u904e\u7db2\u8def\u6216 man \u9801\u5c0b\u627e\u66f4\u591a\u7bc4\u4f8b\u8207\u6587\u4ef6\u3002</p>"},{"location":"level102/system_troubleshooting_and_performance/performance-improvements/","title":"Performance Improvements","text":"<p>Performance \u5de5\u5177\u6709\u8457\u9ad8\u5ea6\u91cd\u8981\u6027\uff0c\u662f\u958b\u767c/\u904b\u7dad\u751f\u547d\u5468\u671f\u4e2d\u4e0d\u53ef\u6216\u7f3a\u7684\u4e00\u90e8\u5206\uff0c\u80fd\u5e6b\u52a9\u7406\u89e3\u61c9\u7528\u7a0b\u5f0f\u884c\u70ba\u3002SRE \u901a\u5e38\u6703\u4f7f\u7528\u9019\u4e9b\u5de5\u5177\u4f86\u8a55\u4f30\u670d\u52d9\u7684\u6027\u80fd\u4e26\u76f8\u61c9\u5730\u63d0\u51fa\u6539\u9032\u5efa\u8b70\u3002</p>"},{"location":"level102/system_troubleshooting_and_performance/performance-improvements/#performance","title":"Performance \u5206\u6790\u6307\u4ee4","text":"<p>\u4ee5\u4e0b\u5927\u591a\u6578\u6307\u4ee4\u5c0d\u65bc\u7cfb\u7d71\u6216\u670d\u52d9\u7684\u6027\u80fd\u5206\u6790\u662f\u5fc5\u9808\u8981\u77e5\u9053\u7684\u3002</p> <ul> <li>top -\uff1a\u986f\u793a\u7cfb\u7d71\u3001\u7a0b\u5e8f\u3001\u57f7\u884c\u7dd2\u7b49\u7684\u5373\u6642\u72c0\u6cc1\u3002</li> <li>htop -\uff1a\u8207 top \u547d\u4ee4\u985e\u4f3c\uff0c\u4f46\u64cd\u4f5c\u4ecb\u9762\u66f4\u70ba\u4e92\u52d5\u3002</li> <li>iotop -\uff1a\u4e92\u52d5\u5f0f\u78c1\u789f I/O \u76e3\u63a7\u5de5\u5177\u3002</li> <li>vmstat -\uff1a\u865b\u64ec\u8a18\u61b6\u9ad4\u7d71\u8a08\u8cc7\u6599\u700f\u89bd\u5668\u3002</li> <li>iostat -\uff1a\u88dd\u7f6e\u548c\u5206\u5340\u7684\u8f38\u5165/\u8f38\u51fa\u7d71\u8a08\u76e3\u63a7\u5de5\u5177\u3002</li> <li>free -\uff1a\u986f\u793a\u5be6\u9ad4\u8a18\u61b6\u9ad4\u548c\u4ea4\u63db\u8a18\u61b6\u9ad4\u8cc7\u8a0a\u3002</li> <li>sar -\uff1a\u7cfb\u7d71\u6d3b\u52d5\u5831\u544a\uff0c\u63d0\u4f9b CPU\u3001\u78c1\u789f\u3001\u8a18\u61b6\u9ad4\u3001\u7db2\u8def\u7b49\u591a\u9805\u6307\u6a19\u3002</li> <li>mpstat -\uff1a\u986f\u793a CPU \u5229\u7528\u7387\u53ca\u6027\u80fd\u8cc7\u8a0a\u3002</li> <li>lsof -\uff1a\u5217\u51fa\u958b\u555f\u7684\u6587\u4ef6\u53ca\u5176\u5c0d\u61c9\u7684\u9032\u7a0b\u8cc7\u8a0a\u3002</li> <li>perf -\uff1a\u6027\u80fd\u5206\u6790\u5de5\u5177\u3002</li> </ul>"},{"location":"level102/system_troubleshooting_and_performance/performance-improvements/#profiling","title":"Profiling \u5de5\u5177","text":"<p>Profiling \u662f\u670d\u52d9\u6027\u80fd\u5206\u6790\u4e2d\u7684\u91cd\u8981\u74b0\u7bc0\u3002\u5e02\u9762\u4e0a\u6709\u5404\u5f0f\u5404\u6a23\u7684 profiler \u5de5\u5177\uff0c\u80fd\u5e6b\u52a9\u627e\u51fa\u6700\u5e38\u7528\u7684\u7a0b\u5f0f\u8def\u5f91\u3001\u9664\u932f\u3001\u8a18\u61b6\u9ad4\u5206\u6790\u7b49\uff0c\u4e26\u53ef\u751f\u6210\u71b1\u5ea6\u5716\u4ee5\u4e86\u89e3\u7a0b\u5f0f\u5728\u8ca0\u8f09\u4e0b\u7684\u6548\u80fd\u3002</p> <ul> <li>FlameGraph\uff1aFlame graphs \u662f\u5c0d\u5df2\u5206\u6790\u8edf\u9ad4\u7684\u8996\u89ba\u5316\u5448\u73fe\uff0c\u53ef\u4ee5\u5feb\u901f\u4e14\u7cbe\u78ba\u5730\u8b58\u5225\u6700\u983b\u7e41\u7684\u7a0b\u5f0f\u8def\u5f91\u3002</li> <li>Valgrind\uff1a\u7a0b\u5f0f\u8a2d\u8a08\u5de5\u5177\uff0c\u7528\u65bc\u8a18\u61b6\u9ad4\u9664\u932f\u3001\u8a18\u61b6\u9ad4\u6d29\u6f0f\u6aa2\u6e2c\u53ca\u5206\u6790\u3002</li> <li>Gprof\uff1aGNU \u5206\u6790\u5de5\u5177\uff0c\u63a1\u7528\u63d2\u88dd\u548c\u53d6\u6a23\u6df7\u5408\u6280\u8853\uff0c\u63d2\u88dd\u7528\u65bc\u6536\u96c6\u51fd\u5f0f\u547c\u53eb\u8cc7\u8a0a\uff0c\u53d6\u6a23\u7528\u65bc\u6536\u96c6\u57f7\u884c\u6642\u5206\u6790\u8cc7\u6599\u3002</li> </ul> <p>\u82e5\u60f3\u4e86\u89e3 LinkedIn \u5982\u4f55\u91dd\u5c0d\u5176\u670d\u52d9\u57f7\u884c\u5373\u6642 Profiling\uff0c\u53ef\u53c3\u8003 LinkedIn \u90e8\u843d\u683c\u6587\u7ae0\uff1aODP: An Infrastructure for On-Demand Service Profiling</p>"},{"location":"level102/system_troubleshooting_and_performance/performance-improvements/#benchmarking","title":"\u57fa\u6e96\u6e2c\u8a66\uff08Benchmarking\uff09","text":"<p>\u57fa\u6e96\u6e2c\u8a66\u662f\u6e2c\u91cf\u670d\u52d9\u6700\u4f73\u6027\u80fd\u7684\u904e\u7a0b\uff0c\u4f8b\u5982\u670d\u52d9\u80fd\u627f\u8f09\u591a\u5c11 QPS\u3001\u96a8\u8ca0\u8f09\u589e\u52a0\u7684\u5ef6\u9072\u3001\u4e3b\u6a5f\u8cc7\u6e90\u5229\u7528\u7387\u3001loadavg \u7b49\u7b49\u3002\u56de\u6b78\u6e2c\u8a66\uff08\u5373\u8ca0\u8f09\u6e2c\u8a66\uff09\u662f\u90e8\u7f72\u670d\u52d9\u5230\u751f\u7522\u74b0\u5883\u524d\u7684\u5fc5\u505a\u6b65\u9a5f\u3002</p> <p>\u90e8\u5206\u77e5\u540d\u5de5\u5177 -\uff1a</p> <ul> <li>Apache Benchmark Tool, ab\uff1a\u6a21\u64ec\u5c0d Web \u61c9\u7528\u7684\u9ad8\u8ca0\u8f09\u4e26\u6536\u96c6\u5206\u6790\u8cc7\u6599\u3002</li> <li>Httperf\uff1a\u4ee5\u6307\u5b9a\u983b\u7387\u5c0d Web \u4f3a\u670d\u5668\u767c\u9001\u8acb\u6c42\u4e26\u6536\u96c6\u7d71\u8a08\uff0c\u6301\u7e8c\u589e\u52a0\u8ca0\u8f09\u76f4\u5230\u9054\u98fd\u548c\u9ede\u3002</li> <li>Apache JMeter\uff1a\u71b1\u9580\u958b\u6e90\u5de5\u5177\uff0c\u7528\u65bc\u6e2c\u91cf Web \u61c9\u7528\u6027\u80fd\u3002JMeter \u662f\u57fa\u65bc Java \u7684\u61c9\u7528\u7a0b\u5f0f\uff0c\u4e0d\u50c5\u80fd\u6e2c\u8a66 Web \u4f3a\u670d\u5668\uff0c\u4e5f\u53ef\u7528\u65bc PHP\u3001Java\u3001REST \u7b49\u3002</li> <li>Wrk\uff1a\u73fe\u4ee3\u5316\u6027\u80fd\u6e2c\u8a66\u5de5\u5177\uff0c\u5c0d Web \u4f3a\u670d\u5668\u65bd\u52a0\u8ca0\u8f09\uff0c\u63d0\u4f9b\u5ef6\u9072\u3001\u6bcf\u79d2\u8acb\u6c42\u6578\u3001\u6bcf\u79d2\u50b3\u8f38\u6578\u64da\u7b49\u8cc7\u8a0a\u3002</li> <li>Locust\uff1a\u6613\u7528\u3001\u53ef\u7de8\u5beb\u8173\u672c\u4e14\u53ef\u64f4\u5c55\u7684\u6027\u80fd\u6e2c\u8a66\u5de5\u5177\u3002</li> </ul> <p>\u9650\u5236 -\uff1a</p> <p>\u4e0a\u8ff0\u5de5\u5177\u4e3b\u8981\u7528\u65bc\u5408\u6210\u8ca0\u8f09\u6216\u58d3\u529b\u6e2c\u8a66\uff0c\u7121\u6cd5\u91cf\u6e2c\u5be6\u969b\u7528\u6236\u9ad4\u9a57\u3002\u5b83\u5011\u7121\u6cd5\u5075\u6e2c\u4f7f\u7528\u8005\u7aef\u8cc7\u6e90\u5982\u4f55\u5f71\u97ff\u61c9\u7528\u8868\u73fe\uff0c\u4f8b\u5982\u8a18\u61b6\u9ad4\u4e0d\u8db3\u3001CPU \u9650\u5236\u6216\u7db2\u8def\u4e0d\u4f73\u3002</p> <p>\u82e5\u60f3\u4e86\u89e3 LinkedIn \u5982\u4f55\u5728\u5176\u6574\u9ad4\u7cfb\u7d71\u4e2d\u57f7\u884c\u8ca0\u8f09\u6e2c\u8a66\uff0c\u8acb\u53c3\u8003\uff1aEliminating toil with fully automated load testing</p> <p>\u53e6\u5916\uff0c\u82e5\u60f3\u4e86\u89e3 LinkedIn \u5982\u4f55\u4f7f\u7528\u5373\u6642\u76e3\u63a7\uff08RUM\uff09\u8cc7\u6599\u514b\u670d\u8ca0\u8f09\u6e2c\u8a66\u7684\u9650\u5236\u4e26\u63d0\u5347\u4f7f\u7528\u8005\u6574\u9ad4\u9ad4\u9a57\uff0c\u8acb\u53c3\u8003\uff1aMonitor and Improve Web Performance Using RUM Data Visualization</p>"},{"location":"level102/system_troubleshooting_and_performance/performance-improvements/#scaling","title":"Scaling\uff08\u64f4\u5c55\uff09","text":"<p>\u7cfb\u7d71\u5728\u8cc7\u6e90\u53ef\u7528\u6027\u7bc4\u570d\u5167\u53ea\u80fd\u767c\u63ee\u81f3\u4e00\u5b9a\u6027\u80fd\uff0c\u6301\u7e8c\u512a\u5316\u662f\u4fdd\u969c\u8cc7\u6e90\u6975\u9650\u5145\u5206\u5229\u7528\u7684\u95dc\u9375\u3002\u96a8\u8457 QPS \u589e\u52a0\uff0c\u7cfb\u7d71\u9700\u8981\u64f4\u5c55\uff0c\u53ef\u5206\u70ba\u5782\u76f4\u64f4\u5c55\u8207\u6c34\u5e73\u64f4\u5c55\u3002\u5782\u76f4\u64f4\u5c55\u6709\u9650\u5236\uff08CPU\u3001\u8a18\u61b6\u9ad4\u3001\u786c\u789f\u3001GPU \u7b49\u8cc7\u6e90\u53ea\u80fd\u63d0\u5347\u5230\u4e00\u5b9a\u7a0b\u5ea6\uff09\uff0c\u800c\u6c34\u5e73\u64f4\u5c55\u56e0\u61c9\u7528\u8a2d\u8a08\u8207\u74b0\u5883\u6027\u8cea\u9650\u5236\uff0c\u53ef\u8f03\u5bb9\u6613\u4e14\u7121\u9650\u5730\u64f4\u5145\u3002</p> <p>Web \u61c9\u7528\u64f4\u5c55\u901a\u5e38\u9700\u4e0b\u5217\u4f5c\u6cd5\u4e4b\u4e00\u6216\u591a\u9805\uff1a</p> <ul> <li>\u900f\u904e\u589e\u52a0\u4e3b\u6a5f\u964d\u4f4e\u55ae\u4e00\u4f3a\u670d\u5668\u8ca0\u8f09\u3002</li> <li>\u5229\u7528\u8ca0\u8f09\u5e73\u8861\u5668\u5c07\u6d41\u91cf\u5206\u6563\u5230\u591a\u53f0\u4f3a\u670d\u5668\u3002</li> <li>\u900f\u904e\u8cc7\u6599\u5206\u7247\u4e26\u589e\u52a0\u8b80\u53d6\u526f\u672c\u4f86\u64f4\u5145\u8cc7\u6599\u5eab\u3002</li> </ul> <p>\u9019\u88e1\u6709\u7bc7\u597d\u6587\u4ecb\u7d39 LinkedIn \u5982\u4f55\u64f4\u5c55\u5176\u61c9\u7528\u67b6\u69cb\uff1aA Brief History of Scaling LinkedIn</p>"},{"location":"level102/system_troubleshooting_and_performance/troubleshooting-example/","title":"Troubleshooting Example","text":"<p>\u5728\u672c\u7bc0\u4e2d\uff0c\u6211\u5011\u5c07\u770b\u5230\u4e00\u500b\u554f\u984c\u7bc4\u4f8b\u4e26\u5617\u8a66\u9032\u884c\u6545\u969c\u6392\u9664\uff0c\u6700\u5f8c\u6703\u5206\u4eab\u5e7e\u500b\u7531 LinkedIn \u5de5\u7a0b\u5e2b\u65e9\u5148\u5206\u4eab\u904e\u7684\u8457\u540d\u6545\u969c\u6392\u9664\u6545\u4e8b\u3002</p>"},{"location":"level102/system_troubleshooting_and_performance/troubleshooting-example/#-","title":"\u7bc4\u4f8b - \u8a18\u61b6\u9ad4\u6d29\u6f0f\uff1a","text":"<p>\u8a18\u61b6\u9ad4\u6d29\u6f0f\u554f\u984c\u901a\u5e38\u4e0d\u6613\u88ab\u5bdf\u89ba\uff0c\u76f4\u5230\u670d\u52d9\u904b\u884c\u4e00\u6bb5\u6642\u9593\uff08\u6578\u5929\u3001\u6578\u9031\u751a\u81f3\u6578\u6708\uff09\u5f8c\u8b8a\u5f97\u7121\u97ff\u61c9\uff0c\u5fc5\u9808\u91cd\u65b0\u555f\u52d5\u670d\u52d9\u6216\u4fee\u5fa9\u932f\u8aa4\u3002\u5728\u6b64\u985e\u60c5\u6cc1\u4e0b\uff0c\u670d\u52d9\u7684\u8a18\u61b6\u9ad4\u4f7f\u7528\u91cf\u6703\u5728\u6307\u6a19\u5716\u8868\u4e2d\u5448\u73fe\u6301\u7e8c\u589e\u52a0\u7684\u8da8\u52e2\uff0c\u5927\u81f4\u6703\u662f\u5982\u4e0b\u9762\u7684\u5716\u8868\u3002</p> <p></p> <p>\u8a18\u61b6\u9ad4\u6d29\u6f0f\u662f\u61c9\u7528\u7a0b\u5f0f\u7ba1\u7406\u8a18\u61b6\u9ad4\u914d\u7f6e\u4e0d\u7576\u7684\u60c5\u6cc1\uff0c\u7576\u4e0d\u9700\u8981\u7684\u8a18\u61b6\u9ad4\u672a\u88ab\u91cb\u653e\uff0c\u96a8\u8457\u6642\u9593\u63a8\u79fb\uff0c\u7269\u4ef6\u6703\u4e0d\u65b7\u7d2f\u7a4d\u5728\u8a18\u61b6\u9ad4\u4e2d\uff0c\u5c0e\u81f4\u670d\u52d9\u5d29\u6f70\u3002\u4e00\u822c\u4f86\u8aaa\uff0c\u9019\u4e9b\u672a\u91cb\u653e\u7684\u7269\u4ef6\u6703\u7531\u5783\u573e\u56de\u6536\u5668\u81ea\u52d5\u8655\u7406\uff0c\u4f46\u6709\u6642\u5019\u56e0\u70ba\u932f\u8aa4\u6703\u5931\u6548\u3002\u9664\u932f\u6709\u52a9\u65bc\u627e\u51fa\u5927\u91cf\u61c9\u7528\u7a0b\u5f0f\u8a18\u61b6\u9ad4\u4f7f\u7528\u7684\u5730\u65b9\uff0c\u63a5\u8457\u4f60\u53ef\u4ee5\u958b\u59cb\u8ffd\u8e64\u4e26\u6839\u64da\u4f7f\u7528\u60c5\u6cc1\u9032\u884c\u7be9\u9078\u3002\u5982\u679c\u767c\u73fe\u6709\u4e0d\u518d\u4f7f\u7528\u4f46\u4ecd\u88ab\u5f15\u7528\u7684\u7269\u4ef6\uff0c\u53ef\u4ee5\u900f\u904e\u522a\u9664\u5b83\u5011\u4f86\u907f\u514d\u8a18\u61b6\u9ad4\u6d29\u6f0f\u3002\u4ee5 Python \u61c9\u7528\u7a0b\u5f0f\u70ba\u4f8b\uff0cPython \u5167\u5efa\u6709\u50cf\u662f tracemalloc \u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u5e6b\u52a9\u8ffd\u8e64\u7269\u4ef6\u9996\u6b21\u88ab\u5206\u914d\u7684\u4f4d\u7f6e\u3002\u5e7e\u4e4e\u6bcf\u7a2e\u7a0b\u5f0f\u8a9e\u8a00\u90fd\u6709\u4e00\u5957\uff08\u5167\u5efa\u6216\u5916\u90e8\uff09\u5de5\u5177\u6216\u51fd\u5f0f\u5eab\u4f86\u5354\u52a9\u627e\u51fa\u8a18\u61b6\u9ad4\u554f\u984c\u3002\u4ee5 Java \u70ba\u4f8b\uff0c\u6709\u8457\u540d\u7684\u8a18\u61b6\u9ad4\u6d29\u6f0f\u5075\u6e2c\u5de5\u5177 Java VisualVM\u3002</p> <p>\u63a5\u4e0b\u4f86\uff0c\u6211\u5011\u4f86\u770b\u4e00\u500b\u5e36\u6709\u8a18\u61b6\u9ad4\u6d29\u6f0f\u932f\u8aa4\u7684\u7c21\u55ae Flask Web \u61c9\u7528\u7a0b\u5f0f\uff0c\u96a8\u8457\u6bcf\u6b21\u8acb\u6c42\uff0c\u8a18\u61b6\u9ad4\u4f7f\u7528\u4e0d\u65b7\u589e\u52a0\uff0c\u4e26\u793a\u7bc4\u5982\u4f55\u4f7f\u7528 tracemalloc \u4f86\u6355\u6349\u6d29\u6f0f\u60c5\u6cc1\u3002</p> <p>\u5047\u8a2d\uff1a\u5df2\u5efa\u7acb Python \u865b\u64ec\u74b0\u5883\u4e26\u5b89\u88dd\u4e86 Flask\u3002</p> <p>\u4e00\u500b\u6700\u7c21\u55ae\u7684\u5e36\u932f\u8aa4 Flask \u7a0b\u5f0f\u78bc\uff0c\u8acb\u53c3\u8003\u8a3b\u89e3\u4ee5\u4e86\u89e3\u66f4\u591a\u8cc7\u8a0a </p> <p>\u555f\u52d5 Flask \u61c9\u7528 </p> <p>\u555f\u52d5\u6642\uff0c\u8a18\u61b6\u9ad4\u4f7f\u7528\u7d04\u70ba 26576 KB\uff0c\u7d04 26MB </p> <p>\u96a8\u8457\u6bcf\u6b21\u5f8c\u7e8c\u7684 GET \u8acb\u6c42\uff0c\u53ef\u4ee5\u770b\u5230\u8a18\u61b6\u9ad4\u4f7f\u7528\u91cf\u6162\u6162\u589e\u52a0\u3002 </p> <p>\u73fe\u5728\u5617\u8a66\u767c\u9001 10000 \u6b21\u8acb\u6c42\uff0c\u770b\u770b\u8a18\u61b6\u9ad4\u662f\u5426\u5927\u5e45\u589e\u52a0\u3002 \u70ba\u4e86\u9054\u6210\u5927\u91cf\u8acb\u6c42\uff0c\u6211\u5011\u4f7f\u7528 Apache \u7684\u58d3\u529b\u6e2c\u8a66\u5de5\u5177 \u201cab\u201d\u3002\u767c\u9001 10000 \u6b21\u8acb\u6c42\u5f8c\uff0c\u53ef\u4ee5\u6ce8\u610f\u5230 Flask \u61c9\u7528\u7684\u8a18\u61b6\u9ad4\u4f7f\u7528\u5e7e\u4e4e\u589e\u52a0\u4e86 15 \u500d\uff0c\u5f9e\u521d\u59cb\u7684 26576 KB \u589e\u52a0\u5230 419316 KB\uff0c\u7d04\u5f9e 26 MB \u5230 419 MB\uff0c\u5c0d\u65bc\u9019\u9ebc\u7c21\u55ae\u7684\u7db2\u9801\u61c9\u7528\u4f86\u8aaa\u662f\u5f88\u5927\u7684\u589e\u5e45\u3002 </p> <p>\u63a5\u8457\u4f7f\u7528 Python \u7684 tracemalloc \u6a21\u7d44\u4f86\u7406\u89e3\u61c9\u7528\u7a0b\u5f0f\u7684\u8a18\u61b6\u9ad4\u914d\u7f6e\u60c5\u6cc1\u3002 Tracemalloc \u53ef\u4ee5\u5728\u7279\u5b9a\u6642\u9593\u9ede\u64f7\u53d6\u8a18\u61b6\u9ad4\u5feb\u7167\uff0c\u4e26\u5c0d\u5feb\u7167\u8cc7\u6599\u9032\u884c\u7d71\u8a08\u5206\u6790\u3002</p> <p>\u5728 app.py \u4e2d\u52a0\u5165\u6700\u57fa\u672c\u7684\u7a0b\u5f0f\u78bc\uff0cfetchuserdata.py \u6587\u4ef6\u4e0d\u505a\u4fee\u6539\uff0c\u9019\u6a23\u6211\u5011\u5728\u6bcf\u6b21\u8a2a\u554f /capture \u8def\u5f91\u6642\u90fd\u80fd\u6355\u6349 tracemalloc \u5feb\u7167\u3002 </p> <p>\u91cd\u65b0\u555f\u52d5 app.py\uff08flask run\uff09\u5f8c\uff0c\u64cd\u4f5c\u6d41\u7a0b\u5982\u4e0b\uff1a - \u9996\u5148\u8a2a\u554f http://127.0.0.1:5000/capture - \u63a5\u8457\u767c\u9001 10000 \u6b21\u8a2a\u554f http://127.0.0.1:5000/ \uff0c\u8b93\u8a18\u61b6\u9ad4\u6d29\u6f0f\u7d2f\u7a4d\u3002 - \u6700\u5f8c\u518d\u8a2a\u554f\u4e00\u6b21 http://127.0.0.1:5000/capture\uff0c\u64f7\u53d6\u5feb\u7167\u4ee5\u5224\u65b7\u54ea\u4e00\u884c\u7a0b\u5f0f\u5f0f\u4f7f\u7528\u7684\u8a18\u61b6\u9ad4\u6700\u591a\u3002 </p> <p>\u5728\u6700\u7d42\u5feb\u7167\u4e2d\uff0c\u6211\u5011\u6ce8\u610f\u5230\u5206\u914d\u6700\u591a\u8a18\u61b6\u9ad4\u7684\u6a21\u7d44\u548c\u884c\u865f\uff0c\u5373 fetchuserdata.py \u7b2c 6 \u884c\uff1b\u7d93\u904e 10000 \u6b21\u8acb\u6c42\uff0c\u8a72\u8655\u5360\u7528\u7d04 419 MB \u8a18\u61b6\u9ad4\u3002 </p> <p>\u7e3d\u7d50</p> <p>\u4ee5\u4e0a\u7bc4\u4f8b\u5c55\u793a\u4e86\u4e00\u500b\u932f\u8aa4\u5982\u4f55\u5c0e\u81f4\u8a18\u61b6\u9ad4\u6d29\u6f0f\uff0c\u4ee5\u53ca\u5982\u4f55\u4f7f\u7528 tracemalloc \u4f86\u4e86\u89e3\u554f\u984c\u6e90\u982d\u3002\u5be6\u969b\u61c9\u7528\u7a0b\u5e8f\u9060\u6bd4\u6b64\u793a\u7bc4\u4f8b\u8907\u96dc\uff0c\u4f7f\u7528 tracemalloc \u53ef\u80fd\u6703\u7a0d\u5fae\u5f71\u97ff\u61c9\u7528\u6027\u80fd\uff0c\u56e0\u70ba tracemalloc \u81ea\u8eab\u4e5f\u5b58\u5728\u958b\u92b7\u3002\u8acb\u5728\u751f\u7522\u74b0\u5883\u4e2d\u614e\u91cd\u4f7f\u7528\u3002</p> <p>\u5982\u679c\u4f60\u6709\u8208\u8da3\u6df1\u5165\u63a2\u8a0e Python \u7269\u4ef6\u8a18\u61b6\u9ad4\u5206\u914d\u5167\u90e8\u539f\u7406\u53ca\u8a18\u61b6\u9ad4\u6d29\u6f0f\u7684\u9664\u932f\uff0c\u4e0d\u59a8\u53c3\u8003 Sanket Patel \u5728 PyCon India 2019 \u7684\u7cbe\u5f69\u6f14\u8b1b Debug Memory Leak In Python Flask | Python Object Memory Allocation Internals\uff0cLinkedIn \u9801\u9762\uff1aSanket Patel\u3002</p>"},{"location":"level102/system_troubleshooting_and_performance/troubleshooting/","title":"Troubleshooting","text":"<p>\u6392\u9664\u7cfb\u7d71\u6545\u969c\u6709\u6642\u6703\u5f88\u68d8\u624b\u6216\u7e41\u7463\u3002\u5728\u9019\u500b\u5be6\u52d9\u4e2d\uff0c\u6211\u5011\u9700\u8981\u6aa2\u8996\u670d\u52d9\u7684\u7aef\u5230\u7aef\u6d41\u7a0b\uff0c\u6240\u6709\u7684\u4e0b\u6e38\uff0c\u5206\u6790\u65e5\u8a8c\u3001\u8a18\u61b6\u9ad4\u6d29\u6f0f\u3001CPU \u4f7f\u7528\u7387\u3001\u78c1\u789f IO\u3001\u7db2\u8def\u6545\u969c\u3001\u4e3b\u6a5f\u554f\u984c\u7b49\u7b49\u3002\u4e86\u89e3\u67d0\u4e9b\u5be6\u52d9\u8207\u5de5\u5177\u6709\u52a9\u65bc\u66f4\u5feb\u627e\u51fa\u4e26\u7de9\u89e3\u6545\u969c\u3002\u4ee5\u4e0b\u662f\u9ad8\u968e\u7684\u6392\u932f\u6d41\u7a0b\u5716\uff1a</p>"},{"location":"level102/system_troubleshooting_and_performance/troubleshooting/#_1","title":"\u6392\u932f\u6d41\u7a0b\u5716","text":""},{"location":"level102/system_troubleshooting_and_performance/troubleshooting/#_2","title":"\u4e00\u822c\u5be6\u52d9","text":"<p>\u4e0d\u540c\u7cfb\u7d71\u9700\u63a1\u7528\u4e0d\u540c\u65b9\u5f0f\u5c0b\u627e\u554f\u984c\u3002\u7bc4\u570d\u6709\u9650\uff0c\u4e14\u91dd\u5c0d\u4e0d\u540c\u554f\u984c\uff0c\u9084\u6709\u8a31\u591a\u53ef\u6aa2\u8996\u7684\u65b9\u5411\u3002\u4ee5\u4e0b\u8981\u9ede\u5c07\u4ecb\u7d39\u4e00\u4e9b\u91dd\u5c0d Web \u61c9\u7528\u6545\u969c\u7684\u9ad8\u968e\u5be6\u52d9\uff0c\u4e26\u627e\u51fa\u4fee\u5fa9\u65b9\u6cd5\u3002</p> <p>\u91cd\u73fe\u554f\u984c</p> <ul> <li>\u5617\u8a66\u91cd\u73fe\u5931\u6557\u8acb\u6c42\uff0c\u4f8b\u5982\u91cd\u8907\u767c\u9001\u5931\u6557\u7684 HTTP/s \u8acb\u6c42\u3002</li> <li>\u6aa2\u67e5\u8acb\u6c42\u7684\u7aef\u5230\u7aef\u6d41\u7a0b\uff0c\u67e5\u770b\u56de\u50b3\u78bc\uff0c\u591a\u70ba 3xx\u30014xx \u6216 5xx\u30023xx \u4e3b\u8981\u662f\u91cd\u5c0e\u5411\uff0c4xx \u70ba\u672a\u6388\u6b0a\u3001\u932f\u8aa4\u8acb\u6c42\u3001\u7981\u6b62\u5b58\u53d6\u7b49\uff0c\u800c 5xx \u591a\u5c6c\u4f3a\u670d\u5668\u7aef\u554f\u984c\u3002\u6839\u64da\u56de\u50b3\u78bc\u5224\u65b7\u4e0b\u4e00\u6b65\u3002</li> <li>\u5ba2\u6236\u7aef\u554f\u984c\u591a\u8207\u7f3a\u5931\u6216\u932f\u8aa4\u7684\u975c\u614b\u5167\u5bb9\u6709\u95dc\uff0c\u6bd4\u5982 JavaScript \u932f\u8aa4\u3001\u640d\u58de\u7684\u5716\u7247\u3001\u975e\u540c\u6b65\u547c\u53eb\u8fd4\u56de\u932f\u8aa4\u7684 JSON \u7b49\uff0c\u5c0e\u81f4\u700f\u89bd\u5668\u4e2d\u9801\u9762\u6e32\u67d3\u7570\u5e38\u3002</li> </ul> <p>\u6536\u96c6\u8cc7\u8a0a</p> <ul> <li>\u67e5\u770b\u61c9\u7528\u7a0b\u5f0f\u65e5\u8a8c\u4e2d\u7684\u932f\u8aa4/\u7570\u5e38\uff0c\u4f8b\u5982\u300c\u7121\u6cd5\u5206\u914d\u8a18\u61b6\u9ad4\u300d\u6216 OutOfMemoryError\uff0c\u4ea6\u6216\u662f\u300c\u78c1\u789f I/O \u932f\u8aa4\u300d\u3001DNS \u89e3\u6790\u5931\u6557\u7b49\u3002</li> <li>\u6aa2\u8996\u61c9\u7528\u8207\u4e3b\u6a5f\u6307\u6a19\uff0c\u89c0\u5bdf\u670d\u52d9\u548c\u4e3b\u6a5f\u7684\u7570\u5e38\u5716\u8868\uff0c\u6ce8\u610f CPU \u4f7f\u7528\u7387\u4f55\u6642\u4e0a\u5347\u3001\u8a18\u61b6\u9ad4\u4f55\u6642\u589e\u52a0\u3001\u78c1\u789f\u7a7a\u9593\u4f55\u6642\u6e1b\u5c11\u6216\u78c1\u789f I/O \u4e0a\u5347\u3001\u8ca0\u8f09\u5e73\u5747\u503c\u4f55\u6642\u98c6\u5347\u7b49\u3002\u6b32\u4e86\u89e3\u66f4\u591a\u6307\u6a19\u8207\u76e3\u63a7\u7d30\u7bc0\uff0c\u8acb\u53c3\u8003 School of SRE \u9023\u7d50\uff1ametrics and monitoring\u3002</li> <li>\u6aa2\u67e5\u6700\u8fd1\u7684\u7a0b\u5f0f\u78bc\u6216\u8a2d\u5b9a\u8b8a\u66f4\uff0c\u53ef\u80fd\u5c0e\u81f4\u7cfb\u7d71\u7834\u640d\u3002</li> </ul> <p>\u7406\u89e3\u554f\u984c</p> <ul> <li>\u5617\u8a66\u5c07\u6536\u96c6\u5230\u7684\u8cc7\u6599\u8207\u6700\u8fd1\u64cd\u4f5c\u95dc\u806f\uff0c\u4f8b\u5982\u932f\u8aa4\u7570\u5e38\u662f\u5426\u5728\u90e8\u7f72\u914d\u7f6e/\u7a0b\u5f0f\u78bc\u5f8c\u51fa\u73fe\u3002</li> <li>\u554f\u984c\u662f\u5426\u56e0\u70ba QPS \u589e\u52a0\uff1f\u662f\u5426\u6709\u4e0d\u826f SQL \u67e5\u8a62\uff1f\u6216\u662f\u6700\u8fd1\u7a0b\u5f0f\u78bc\u8b8a\u66f4\u9700\u8981\u66f4\u597d\u7684\u786c\u9ad4\uff1f</li> </ul> <p>\u5c0b\u627e\u89e3\u6c7a\u65b9\u6848\u4e26\u4fee\u6b63</p> <ul> <li>\u6839\u64da\u4e0a\u8ff0\u767c\u73fe\uff0c\u5c0b\u627e\u5feb\u901f\u4fee\u5fa9\u65b9\u6cd5\uff0c\u4f8b\u5982\u5982\u679c\u932f\u8aa4\u7570\u5e38\u8207\u6539\u52d5\u76f8\u95dc\uff0c\u5247\u56de\u6efe\u8b8a\u66f4\u3002</li> <li>\u5617\u8a66\u4fee\u88dc\u6216 \u71b1\u4fee\u6b63\uff08hotfix\uff09 \u7a0b\u5f0f\u78bc\uff0c\u82e5\u60f3\u5411\u524d\u4fee\u5fa9\u53ef\u5148\u5728\u6e2c\u8a66\u74b0\u5883\u9032\u884c\u3002</li> <li>\u82e5\u7cfb\u7d71\u6545\u969c\u56e0\u9ad8 QPS\uff0c\u5247\u5617\u8a66\u64f4\u5145\u7cfb\u7d71\u8cc7\u6e90\uff08\u8a08\u7b97\u3001\u5132\u5b58\u3001\u8a18\u61b6\u9ad4\u7b49\uff09\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u512a\u5316 SQL \u67e5\u8a62\u3002</li> </ul> <p>\u9a57\u8b49\u5b8c\u6574\u8acb\u6c42\u6d41\u7a0b</p> <ul> <li>\u518d\u6b21\u767c\u9001\u8acb\u6c42\uff0c\u78ba\u4fdd\u56de\u50b3\u6210\u529f\uff08\u56de\u50b3\u78bc 2xx\uff09\u3002</li> <li>\u6aa2\u67e5\u65e5\u8a8c\uff0c\u78ba\u4fdd\u4e4b\u524d\u767c\u73fe\u7684\u7570\u5e38/\u932f\u8aa4\u5df2\u6d88\u5931\u3002</li> <li>\u78ba\u4fdd\u6307\u6a19\u56de\u5fa9\u6b63\u5e38\u3002</li> </ul>"},{"location":"level102/system_troubleshooting_and_performance/troubleshooting/#_3","title":"\u4e00\u822c\u4e3b\u6a5f\u554f\u984c","text":"<p>\u8981\u5224\u65b7\u4e3b\u6a5f\u5065\u5eb7\u72c0\u6cc1\u662f\u5426\u6b63\u5e38\uff0c\u6aa2\u8996\u786c\u9ad4\u6545\u969c\u6216\u6027\u80fd\u554f\u984c\uff0c\u53ef\u4ee5\u5617\u8a66\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <ul> <li>dmesg\uff1a\u986f\u793a\u5167\u6838\u6700\u8fd1\u7684\u932f\u8aa4/\u6545\u969c\uff0c\u6709\u52a9\u65bc\u8fa8\u8b58\u786c\u9ad4\u6545\u969c\u3002</li> <li>ls \u6307\u4ee4\u7cfb\u5217\uff1alspci\u3001lsblk\u3001lscpu\u3001lsscsi\uff0c\u9019\u4e9b\u6307\u4ee4\u5217\u51fa PCI\u3001\u78c1\u789f\u3001CPU \u7b49\u8cc7\u8a0a\u3002</li> <li>/var/log/messages\uff1a\u986f\u793a\u7cfb\u7d71\u61c9\u7528/\u670d\u52d9\u76f8\u95dc\u932f\u8aa4\u6216\u8b66\u544a\uff0c\u4e5f\u5305\u62ec\u5167\u6838\u554f\u984c\u3002</li> <li>smartd\uff1a\u6aa2\u67e5\u78c1\u789f\u5065\u5eb7\u72c0\u614b\u3002</li> </ul>"}]}